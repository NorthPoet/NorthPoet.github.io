<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æŠ¥é”™æ‚è°ˆ</title>
      <link href="/posts/4fc13381.html"/>
      <url>/posts/4fc13381.html</url>
      
        <content type="html"><![CDATA[<h2 id="Redis-æŠ¥é”™åˆé›†">Redis æŠ¥é”™åˆé›†</h2><ul class="lvl-0"><li class="lvl-2"><a href="https://www.cnblogs.com/NorthPoet/p/18332613">(error) ERR Unknown subcommand or wrong number of arguments for â€˜CREATEâ€™. Try XGROUP HELP</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™æ‚è°ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰Calloutæ ·å¼</title>
      <link href="/posts/442fdc66.html"/>
      <url>/posts/442fdc66.html</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨æ’ä»¶ï¼š<code>Savor Callout</code></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240630102100-xcvud18.png" alt="image">â€‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Info&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ğŸ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;New Callout&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;bg&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(8, 109, 221, 0.15)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(53, 76, 75, .5)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;box&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(238, 245, 248, .3)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgbaa(53, 76, 75, 1)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hide&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;custom&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240630102033-95ggmba.png" alt="image">â€‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;success&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ğŸƒ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;New Callout&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;bg&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(8, 185, 78, 0.1)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(53, 76, 75, .5)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;box&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(238, 245, 248, .3)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgbaa(53, 76, 75, 1)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hide&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;custom&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240630102115-gje9wuz.png" alt="image">â€‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Example&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ğŸ“Œ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;New Callout&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;bg&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(217, 201, 248, 0.38)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(53, 76, 75, .5)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;box&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(238, 245, 248, .3)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgbaa(53, 76, 75, 1)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hide&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;custom&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240630102144-uvspsd3.png" alt="image">â€‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Danger&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ğŸ–Œ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;New Callout&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;bg&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(255, 235, 236, 80)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(53, 76, 75, .5)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;box&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(238, 245, 248, .3)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgbaa(53, 76, 75, 1)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hide&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;custom&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ€æºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€æºç¬”è®°ç›¸å…³CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly ä¸»é¢˜ç¾åŒ–ä¹‹æ—…ï¼šä»ç»šçƒ‚å›å½’è´¨æœ´</title>
      <link href="/posts/a0708e01.html"/>
      <url>/posts/a0708e01.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨è¿™ä¸ªå……æ»¡å„ç§å¯èƒ½çš„æ—¶ä»£ï¼Œåšå®¢ä¸ä»…æ˜¯ä¸ªäººå±•ç¤ºæ‰åä¸çŸ¥è¯†çš„çª—å£ï¼Œä¹Ÿæ˜¯æŠ€æœ¯çˆ±å¥½è€…åˆ†äº«ç»éªŒã€è®°å½•æˆé•¿çš„å¹³å°ã€‚å¯¹äºè®¸å¤šåšä¸»æ¥è¯´ï¼Œåšå®¢çš„ä¸»é¢˜ä¸ä»…ä»…æ˜¯ç®€å•çš„è§†è§‰å‘ˆç°ï¼Œæ›´æ˜¯ä¸ªæ€§ä¸å“å‘³çš„å±•ç°ã€‚ç„¶è€Œï¼Œåœ¨è¿½æ±‚å®Œç¾çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé™·å…¥ä¸€ä¸ªè¯¯åŒºâ€”â€”è¿‡åº¦ç¾åŒ–åšå®¢ä¸»é¢˜ï¼Œä»¥è‡³äºå¿˜è®°äº†åšå®¢æœ€æ ¸å¿ƒçš„ä»·å€¼æ‰€åœ¨ï¼šå†…å®¹æœ¬èº«ã€‚</p><h2 id="ç¾åŒ–ä¹‹æ—…çš„èµ·ç‚¹">ç¾åŒ–ä¹‹æ—…çš„èµ·ç‚¹</h2><p>è®°å¾—å½“åˆé€‰æ‹©äº†Hexoä½œä¸ºæˆ‘çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œå¹¶å®‰è£…äº†Butterflyä¸»é¢˜æ—¶ï¼Œæˆ‘å¯¹å®ƒçš„ç¬¬ä¸€å°è±¡æ˜¯ç®€æ´è€Œä¼˜é›…ã€‚Butterflyä¸»é¢˜ä»¥å…¶è½»é‡çº§ã€é«˜æ€§èƒ½è€Œè‘—ç§°ï¼Œå®ƒåœ¨å¼€å‘è€…ç¤¾åŒºä¸­æœ‰ç€è‰¯å¥½çš„å£ç¢‘ã€‚èµ·åˆï¼Œæˆ‘å¹¶æ²¡æœ‰è¿‡å¤šåœ°è€ƒè™‘ä¸»é¢˜çš„ä¸ªæ€§åŒ–è®¾ç½®ï¼Œåªæ˜¯ç®€å•åœ°è°ƒæ•´äº†ä¸€äº›åŸºæœ¬çš„é…ç½®é¡¹ï¼Œå¦‚ç½‘ç«™æ ‡é¢˜ã€logoç­‰ã€‚</p><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘å¼€å§‹è§‰å¾—è¿™ä¸ªä¸»é¢˜è¿‡äºæœ´ç´ ï¼Œç¼ºä¹ä¸ªæ€§ã€‚äºæ˜¯ï¼Œæˆ‘è¸ä¸Šäº†ä¸»é¢˜ç¾åŒ–çš„å¾ç¨‹ã€‚æˆ‘å¼€å§‹å­¦ä¹ CSSã€Sassç­‰å‰ç«¯æŠ€æœ¯ï¼Œç ”ç©¶äº†Butterflyä¸»é¢˜çš„æºç ç»“æ„ï¼Œå°è¯•ç€æ”¹å˜èƒŒæ™¯é¢œè‰²ã€å­—ä½“æ ·å¼ã€å¸ƒå±€ç»“æ„â€¦â€¦æ¯ä¸€æ­¥éƒ½è®©æˆ‘æ„Ÿåˆ°å…´å¥‹ï¼Œä¹Ÿè®©æˆ‘æ›´åŠ æ²‰è¿·äºä¸»é¢˜çš„è®¾è®¡ä¹‹ä¸­ã€‚</p><p>æˆ‘èŠ±è´¹äº†å¤§é‡çš„æ—¶é—´åœ¨å¯»æ‰¾åˆé€‚çš„å­—ä½“ã€èƒŒæ™¯å›¾ä»¥åŠåŠ¨ç”»æ•ˆæœä¸Šã€‚æˆ‘è¿˜ä¸ºåšå®¢æ·»åŠ äº†å„ç§æ’ä»¶ï¼Œä¾‹å¦‚ä»£ç é«˜äº®ã€æ–‡ç« ç›®å½•ã€é˜…è¯»è¿›åº¦æ¡ç­‰ç­‰ã€‚è¿™äº›åŠŸèƒ½ä¸ä»…è®©åšå®¢çœ‹èµ·æ¥æ›´åŠ ä¸“ä¸šï¼Œä¹Ÿè®©ç”¨æˆ·ä½“éªŒå¾—åˆ°äº†æå‡ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘å›è¿‡å¤´æ¥çœ‹è‡ªå·±çš„æ–‡ç« æ—¶ï¼Œæˆ‘å‘ç°è¿™æ®µæ—¶é—´é‡Œæˆ‘å‡ ä¹æ²¡æœ‰æ›´æ–°è¿‡ä»»ä½•æœ‰ä»·å€¼çš„å†…å®¹ã€‚æˆ‘å¼€å§‹æ€è€ƒï¼Œè¿™ç§è¿‡åˆ†å…³æ³¨å¤–è§‚çš„è¡Œä¸ºæ˜¯å¦å€¼å¾—ï¼Ÿ</p><h2 id="ä»ç»šçƒ‚åˆ°å›å½’è´¨æœ´">ä»ç»šçƒ‚åˆ°å›å½’è´¨æœ´</h2><p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŠªåŠ›ï¼Œæˆ‘çš„åšå®¢ç»ˆäºå˜å¾—äº”å½©æ–‘æ–“ã€ç‹¬å…·ç‰¹è‰²ã€‚æˆ‘ç”šè‡³å¼€å§‹åœ¨ç¤¾äº¤åª’ä½“ä¸Šåˆ†äº«æˆ‘çš„ä¸»é¢˜ç¾åŒ–å¿ƒå¾—ï¼Œæ”¶åˆ°äº†ä¸å°‘å¥½è¯„ã€‚ç„¶è€Œï¼Œå½“æˆ‘é™ä¸‹å¿ƒæ¥åæ€è¿™æ®µæ—¶é—´çš„ç»å†æ—¶ï¼Œæˆ‘æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘èŠ±äº†å¤ªå¤šçš„æ—¶é—´åœ¨åšå®¢çš„å¤–è§‚ä¸Šï¼Œå´å¿½è§†äº†æœ€é‡è¦çš„éƒ¨åˆ†â€”â€”å†…å®¹åˆ›ä½œã€‚</p><h3 id="ç¾åŒ–çš„å°½å¤´">ç¾åŒ–çš„å°½å¤´</h3><p>éšç€æ€è€ƒçš„æ·±å…¥ï¼Œæˆ‘é€æ¸æ„è¯†åˆ°ï¼Œæ— è®ºä¸»é¢˜å¤šä¹ˆåä¸½ï¼Œå¦‚æœåšå®¢æ²¡æœ‰é«˜è´¨é‡çš„æ–‡ç« æ”¯æ’‘ï¼Œé‚£å®ƒå°±åƒæ˜¯ä¸€åº§ç©ºå£³ã€‚çœŸæ­£çš„ç¾æ„Ÿä¸ä»…ä»…ä½“ç°åœ¨è§†è§‰æ•ˆæœä¸Šï¼Œæ›´åœ¨äºæ–‡å­—æ‰€ä¼ è¾¾çš„æ€æƒ³ä¸æƒ…æ„Ÿã€‚æˆ‘å¼€å§‹é‡æ–°å®¡è§†é‚£äº›èŠ±è´¹æ— æ•°æ—¶é—´ç²¾å¿ƒè®¾è®¡çš„ä¸»é¢˜å…ƒç´ ï¼Œå‘ç°å®ƒä»¬è™½ç„¶èƒ½å¤Ÿå¸å¼•çœ¼çƒï¼Œä½†å´ä¸èƒ½é•¿ä¹…ç•™ä½è¯»è€…çš„å¿ƒã€‚</p><h3 id="å›å½’é»˜è®¤">å›å½’é»˜è®¤</h3><p>æœ€ç»ˆï¼Œæˆ‘å†³å®šå›å½’åˆ°Butterflyä¸»é¢˜çš„é»˜è®¤æ ·å¼ã€‚è¿™å¹¶ä¸æ˜¯è¯´æˆ‘ä¸å†å…³å¿ƒåšå®¢çš„å¤–è§‚ï¼Œè€Œæ˜¯æˆ‘è®¤ä¸ºç®€çº¦è€Œä¸å¤±ä¸ªæ€§çš„è®¾è®¡æ›´é€‚åˆåšå®¢çš„å®šä½ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘å¯ä»¥å°†æ›´å¤šçš„ç²¾åŠ›æŠ•å…¥åˆ°åˆ›ä½œä¼˜è´¨å†…å®¹ä¸Šï¼Œè®©æ–‡å­—æœ¬èº«æˆä¸ºåšå®¢æœ€å¸å¼•äººçš„åœ°æ–¹ã€‚</p><p>å›å½’é»˜è®¤çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘åˆ é™¤äº†è®¸å¤šä¹‹å‰æ·»åŠ çš„æ’ä»¶å’Œç‰¹æ•ˆï¼Œåªä¿ç•™äº†æœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚è¿™æ ·çš„å˜åŒ–ä½¿å¾—é¡µé¢åŠ è½½é€Ÿåº¦æ›´å¿«ï¼Œç”¨æˆ·è®¿é—®ä½“éªŒæ›´å¥½ã€‚æˆ‘ä¹Ÿå¼€å§‹é‡æ–°å®¡è§†è‡ªå·±çš„å†™ä½œè®¡åˆ’ï¼Œè§„åˆ’æœªæ¥è¦å‘è¡¨çš„æ–‡ç« å†…å®¹ï¼Œç¡®ä¿å®ƒä»¬æ—¢æœ‰æ·±åº¦åˆæœ‰è¶£å‘³æ€§ã€‚</p><h2 id="å†™ä½œä¸å®¡ç¾çš„å¹³è¡¡">å†™ä½œä¸å®¡ç¾çš„å¹³è¡¡</h2><p>ç»å†äº†è¿™æ®µæ—…ç¨‹ä¹‹åï¼Œæˆ‘æ„è¯†åˆ°åšå®¢çš„æˆåŠŸä¸ä»…ä»…å–å†³äºç¾è§‚çš„ä¸»é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯å†…å®¹çš„è´¨é‡ã€‚æˆ‘å¼€å§‹æ›´åŠ ä¸“æ³¨äºæé«˜è‡ªå·±çš„å†™ä½œæŠ€å·§ï¼Œå­¦ä¹ å¦‚ä½•æ›´å¥½åœ°ç»„ç»‡è¯­è¨€ï¼Œå¦‚ä½•è®©æ–‡ç« æ›´å…·å¸å¼•åŠ›ã€‚åŒæ—¶ï¼Œæˆ‘ä¹Ÿæ„è¯†åˆ°ï¼Œé€‚åº¦çš„ç¾åŒ–æ˜¯å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒçš„ï¼Œä½†å…³é”®æ˜¯è¦æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚</p><h3 id="æŒç»­æ”¹è¿›">æŒç»­æ”¹è¿›</h3><p>ç°åœ¨ï¼Œæ¯å½“æˆ‘åœ¨é”®ç›˜ä¸Šæ•²ä¸‹ä¸€è¡Œè¡Œæ–‡å­—æ—¶ï¼Œæˆ‘éƒ½æ„Ÿåˆ°æ ¼å¤–çš„æ»¡è¶³ä¸å¹¸ç¦ã€‚å› ä¸ºæˆ‘æ·±çŸ¥ï¼Œè¿™äº›æ–‡å­—å°†ä¼šæ˜¯è¿æ¥æˆ‘å’Œè¯»è€…ä¹‹é—´æœ€åšå›ºçš„æ¡¥æ¢ã€‚æˆ‘ä¹Ÿä¼šå®šæœŸå¯¹åšå®¢è¿›è¡Œå¾®è°ƒï¼Œä¿æŒå…¶æ–°é²œæ„Ÿï¼Œä½†ä¸å†æ²‰è¿·äºæ— ä¼‘æ­¢çš„ç¾åŒ–å·¥ä½œã€‚</p><h3 id="ç»“è¯­">ç»“è¯­</h3><p>ç¾åŒ–åšå®¢ä¸»é¢˜çš„è¿‡ç¨‹æ˜¯ä¸€æ®µå®è´µçš„æ—…ç¨‹ï¼Œå®ƒè®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šæŠ€èƒ½ï¼Œä¹Ÿè®©æˆ‘æ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼šçœŸæ­£çš„ç¾ä¸åœ¨äºå¤–è¡¨çš„åä¸½ï¼Œè€Œåœ¨äºå†…å®¹çš„æ·±åº¦ã€‚æˆ‘é¼“åŠ±æ¯ä¸€ä½åšä¸»éƒ½è¦æ‰¾åˆ°è‡ªå·±çš„å¹³è¡¡ç‚¹ï¼Œè®©åšå®¢æˆä¸ºä¸€ä¸ªæ—¢ç¾è§‚åˆå……æ»¡ä»·å€¼çš„åœ°æ–¹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¹Ÿè®¸ä½ ä¼šå‘ç°ï¼Œæœ€ç¾å¥½çš„çŠ¶æ€å¾€å¾€æ˜¯æœ€ç®€å•ã€æœ€è‡ªç„¶çš„æ ·å­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‹äººå¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¢ç¢å¿µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§’æ€ä¼˜åŒ–-åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°ç§’æ€ä¼˜åŒ–</title>
      <link href="/posts/8fd19ba2.html"/>
      <url>/posts/8fd19ba2.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç§’æ€ä¼˜åŒ–">ç§’æ€ä¼˜åŒ–</h2><p><code>VoucherOrderServiceImpl</code></p><p>ä¿®æ”¹ä¸‹å•åŠ¨ä½œï¼Œç°åœ¨æˆ‘ä»¬å»ä¸‹å•æ—¶ï¼Œæ˜¯é€šè¿‡luaè¡¨è¾¾å¼å»åŸå­æ‰§è¡Œåˆ¤æ–­é€»è¾‘ï¼Œå¦‚æœåˆ¤æ–­æˆ‘å‡ºæ¥ä¸ä¸º0 ï¼Œåˆ™è¦ä¹ˆæ˜¯åº“å­˜ä¸è¶³ï¼Œè¦ä¹ˆæ˜¯é‡å¤ä¸‹å•ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœæ˜¯0ï¼Œåˆ™æŠŠä¸‹å•çš„é€»è¾‘ä¿å­˜åˆ°é˜Ÿåˆ—ä¸­å»ï¼Œç„¶åå¼‚æ­¥æ‰§è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VoucherOrderServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;VoucherOrderMapper, VoucherOrder&gt; <span class="keyword">implements</span> <span class="title class_">IVoucherOrderService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ISeckillVoucherService seckillVoucherService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisIdWorker redisIdWorker;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> DefaultRedisScript&lt;Long&gt; SECKILL_SCRIPT;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        SECKILL_SCRIPT = <span class="keyword">new</span> <span class="title class_">DefaultRedisScript</span>&lt;&gt;();</span><br><span class="line">        SECKILL_SCRIPT.setLocation(<span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;seckill.lua&quot;</span>));</span><br><span class="line">        SECKILL_SCRIPT.setResultType(Long.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;VoucherOrder&gt; orderTasks = <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">1024</span> * <span class="number">1024</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼‚æ­¥å¤„ç†çº¿ç¨‹æ± </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ExecutorService</span> <span class="variable">SECKILL_ORDER_EXECUTOR</span> <span class="operator">=</span> Executors.newSingleThreadExecutor();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IVoucherOrderService proxy;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ç±»åˆå§‹åŒ–ä¹‹åæ‰§è¡Œï¼Œå› ä¸ºå½“è¿™ä¸ªç±»åˆå§‹åŒ–å¥½äº†ä¹‹åï¼Œéšæ—¶éƒ½æ˜¯æœ‰å¯èƒ½è¦æ‰§è¡Œçš„</span></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        SECKILL_ORDER_EXECUTOR.submit(<span class="keyword">new</span> <span class="title class_">VoucherOrderHandler</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨äºçº¿ç¨‹æ± å¤„ç†çš„ä»»åŠ¡</span></span><br><span class="line">    <span class="comment">// å½“åˆå§‹åŒ–å®Œæ¯•åï¼Œå°±ä¼šå»ä»å¯¹åˆ—ä¸­å»æ‹¿ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">VoucherOrderHandler</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// 1.è·å–é˜Ÿåˆ—ä¸­çš„è®¢å•ä¿¡æ¯</span></span><br><span class="line">                    <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> orderTasks.take();</span><br><span class="line">                    <span class="comment">// 2.åˆ›å»ºè®¢å•</span></span><br><span class="line">                    handleVoucherOrder(voucherOrder);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    log.error(<span class="string">&quot;å¤„ç†è®¢å•å¼‚å¸¸&quot;</span>, e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">handleVoucherOrder</span><span class="params">(VoucherOrder voucherOrder)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. è·å–ç”¨æˆ·</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> voucherOrder.getUserId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. åˆ›å»ºé”å¯¹è±¡</span></span><br><span class="line">        <span class="type">RLock</span> <span class="variable">redisLock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock:order:&quot;</span> + userId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. å°è¯•è·å–é”</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å°è¯•è·å–é”ï¼Œè®¾ç½®ç­‰å¾…æ—¶é—´å’Œé”è‡ªåŠ¨é‡Šæ”¾æ—¶é—´</span></span><br><span class="line">            <span class="comment">// å¦‚æœé”ä¸å¯ç”¨ï¼Œåˆ™ç­‰å¾… 1 ç§’é’Ÿï¼›å¦‚æœé”å¯ç”¨ï¼Œåˆ™è·å–é”å¹¶è®¾ç½®é”è‡ªåŠ¨é‡Šæ”¾æ—¶é—´ä¸º 10 ç§’</span></span><br><span class="line">            isLock = redisLock.tryLock(<span class="number">1</span>, <span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. åˆ¤æ–­æ˜¯å¦è·å¾—é”æˆåŠŸ</span></span><br><span class="line">            <span class="keyword">if</span> (!isLock) &#123;</span><br><span class="line">                <span class="comment">// è·å–é”å¤±è´¥ï¼Œç›´æ¥è¿”å›å¤±è´¥æˆ–è€…é‡è¯•</span></span><br><span class="line">                log.error(<span class="string">&quot;ä¸å…è®¸é‡å¤ä¸‹å•ï¼&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šç”±äº Spring çš„äº‹åŠ¡ç®¡ç†æ˜¯æ”¾åœ¨ ThreadLocal ä¸­ï¼Œæ­¤æ—¶æ˜¯å¤šçº¿ç¨‹ç¯å¢ƒï¼Œäº‹åŠ¡å¯èƒ½ä¼šå¤±æ•ˆ</span></span><br><span class="line">            proxy.createVoucherOrder(voucherOrder);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœçº¿ç¨‹è¢«ä¸­æ–­ï¼Œå¤„ç†ä¸­æ–­å¼‚å¸¸</span></span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">            log.error(<span class="string">&quot;çº¿ç¨‹è¢«ä¸­æ–­&quot;</span>, e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">            <span class="keyword">if</span> (isLock) &#123; <span class="comment">// åªæœ‰å½“æˆåŠŸè·å–é”æ—¶æ‰é‡Šæ”¾é”</span></span><br><span class="line">                redisLock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç”¨æˆ·</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        <span class="comment">// 1.æ‰§è¡Œluaè„šæœ¬</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">result</span> <span class="operator">=</span> stringRedisTemplate.execute(</span><br><span class="line">                SECKILL_SCRIPT,</span><br><span class="line">                Collections.emptyList(),</span><br><span class="line">                voucherId.toString(), userId.toString()</span><br><span class="line">        );</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> result.intValue();</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­ç»“æœæ˜¯å¦ä¸º0</span></span><br><span class="line">        <span class="keyword">if</span> (r != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 2.1.ä¸ä¸º0 ï¼Œä»£è¡¨æ²¡æœ‰è´­ä¹°èµ„æ ¼</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(r == <span class="number">1</span> ? <span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span> : <span class="string">&quot;ä¸èƒ½é‡å¤ä¸‹å•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">        <span class="comment">// 2.3.è®¢å•id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        voucherOrder.setId(orderId);</span><br><span class="line">        <span class="comment">// 2.4.ç”¨æˆ·id</span></span><br><span class="line">        voucherOrder.setUserId(userId);</span><br><span class="line">        <span class="comment">// 2.5.ä»£é‡‘åˆ¸id</span></span><br><span class="line">        voucherOrder.setVoucherId(voucherId);</span><br><span class="line">        <span class="comment">// 2.6.æ”¾å…¥é˜»å¡é˜Ÿåˆ—</span></span><br><span class="line">        orderTasks.add(voucherOrder);</span><br><span class="line">        <span class="comment">// 3.è·å–ä»£ç†å¯¹è±¡</span></span><br><span class="line">        proxy = (IVoucherOrderService) AopContext.currentProxy();</span><br><span class="line">        <span class="comment">// 3.è¿”å›è®¢å•id</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*     @Override</span></span><br><span class="line"><span class="comment">    public Result seckillVoucher(Long voucherId) &#123;</span></span><br><span class="line"><span class="comment">        // 1.æŸ¥è¯¢ä¼˜æƒ åˆ¸</span></span><br><span class="line"><span class="comment">        SeckillVoucher voucher = seckillVoucherService.getById(voucherId);</span></span><br><span class="line"><span class="comment">        // 2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line"><span class="comment">        if (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span></span><br><span class="line"><span class="comment">            // å°šæœªå¼€å§‹</span></span><br><span class="line"><span class="comment">            return Result.fail(&quot;ç§’æ€å°šæœªå¼€å§‹ï¼&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        // 3.åˆ¤æ–­ç§’æ€æ˜¯å¦å·²ç»ç»“æŸ</span></span><br><span class="line"><span class="comment">        if (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span></span><br><span class="line"><span class="comment">            // å°šæœªå¼€å§‹</span></span><br><span class="line"><span class="comment">            return Result.fail(&quot;ç§’æ€å·²ç»ç»“æŸï¼&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        // 4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line"><span class="comment">        if (voucher.getStock() &lt; 1) &#123;</span></span><br><span class="line"><span class="comment">            // åº“å­˜ä¸è¶³</span></span><br><span class="line"><span class="comment">            return Result.fail(&quot;åº“å­˜ä¸è¶³ï¼&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        Long userId = UserHolder.getUser().getId();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        // synchronized (userId.toString().intern()) &#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        // å°è¯•åˆ›å»ºé”å¯¹è±¡</span></span><br><span class="line"><span class="comment">        // SimpleRedisLock lock = new SimpleRedisLock(&quot;order:&quot; + userId, stringRedisTemplate);</span></span><br><span class="line"><span class="comment">        RLock lock = redissonClient.getLock(&quot;order:&quot; + userId);</span></span><br><span class="line"><span class="comment">        // è·å–é”</span></span><br><span class="line"><span class="comment">        boolean isLock = lock.tryLock();</span></span><br><span class="line"><span class="comment">        // boolean isLock = lock.tryLock();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        if (!isLock) &#123;</span></span><br><span class="line"><span class="comment">            Result.fail(&quot;ä¸å…è®¸é‡å¤ä¸‹å•&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        // è·å–ä»£ç†å¯¹è±¡ (äº‹åŠ¡)</span></span><br><span class="line"><span class="comment">        try &#123;</span></span><br><span class="line"><span class="comment">            IVoucherOrderService proxy = (IVoucherOrderService) AopContext.currentProxy();</span></span><br><span class="line"><span class="comment">            return proxy.createVoucherOrder(voucherId);</span></span><br><span class="line"><span class="comment">        &#125; finally &#123;</span></span><br><span class="line"><span class="comment">            lock.unlock();</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        // &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &#125; */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createVoucherOrder</span><span class="params">(VoucherOrder voucherOrder)</span> &#123;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> voucherOrder.getUserId();</span><br><span class="line">        <span class="comment">// 5.1.æŸ¥è¯¢è®¢å•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherOrder.getVoucherId()).count();</span><br><span class="line">        <span class="comment">// 5.2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†</span></span><br><span class="line">            log.error(<span class="string">&quot;ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>) <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherOrder.getVoucherId()).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">// where id = ? and stock &gt; 0</span></span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">            <span class="comment">// æ‰£å‡å¤±è´¥</span></span><br><span class="line">            log.error(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        save(voucherOrder);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å°æ€»ç»“ï¼š">å°æ€»ç»“ï¼š</h2><p>ç§’æ€ä¸šåŠ¡çš„ä¼˜åŒ–æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul class="lvl-0"><li class="lvl-2"><p>å…ˆåˆ©ç”¨Rediså®Œæˆåº“å­˜ä½™é‡ã€ä¸€äººä¸€å•åˆ¤æ–­ï¼Œå®ŒæˆæŠ¢å•ä¸šåŠ¡</p></li><li class="lvl-2"><p>å†å°†ä¸‹å•ä¸šåŠ¡æ”¾å…¥é˜»å¡é˜Ÿåˆ—ï¼Œåˆ©ç”¨ç‹¬ç«‹çº¿ç¨‹å¼‚æ­¥ä¸‹å•</p></li><li class="lvl-2"><p>åŸºäºé˜»å¡é˜Ÿåˆ—çš„å¼‚æ­¥ç§’æ€å­˜åœ¨å“ªäº›é—®é¢˜ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å†…å­˜é™åˆ¶é—®é¢˜</li><li class="lvl-4">æ•°æ®å®‰å…¨é—®é¢˜</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redisç§’æ€ä¸šåŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§äº‹ä»¶</title>
      <link href="/posts/5c81b531.html"/>
      <url>/posts/5c81b531.html</url>
      
        <content type="html"><![CDATA[<h1>ä¸€ã€ç¯å¢ƒå‡†å¤‡</h1><h3 id="1-1-åˆ›å»ºvueå·¥ç¨‹-big-event">1.1 åˆ›å»ºvueå·¥ç¨‹(big-event)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init vue@latest</span><br><span class="line"></span><br><span class="line">cd big-event</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h3 id="1-2-å®‰è£…æ’ä»¶">1.2 å®‰è£…æ’ä»¶</h3><ol><li class="lvl-3"><p>å®‰è£…element-plus</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.1</span> æ‰§è¡Œå‘½ä»¤: npm install element-plus --save</span><br><span class="line"><span class="number">1.2</span> åœ¨main.<span class="property">js</span>ä¸­åšå¦‚ä¸‹é…ç½®</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>å®‰è£…axios</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>å®‰è£…sassä¾èµ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass -D</span><br></pre></td></tr></table></figure></li></ol><h3 id="1-3-ç›®å½•è°ƒæ•´">1.3 ç›®å½•è°ƒæ•´</h3><ol><li class="lvl-3"><p>åˆ é™¤componentsç›®å½•ä¸‹çš„å†…å®¹</p></li><li class="lvl-3"><p>åˆ é™¤App.vueä¸­çš„å†…å®¹ï¼Œåªä¿ç•™scriptå’Œtemplateæ ‡ç­¾</p></li><li class="lvl-3"><p>æ–°å»ºå¦‚ä¸‹ç›®å½•ï¼š</p></li></ol><p>â€‹apiï¼šå­˜æ”¾æ¥å£è°ƒç”¨çš„jsæ–‡ä»¶</p><p>â€‹utilsï¼šå­˜æ”¾å·¥å…·jsæ–‡ä»¶</p><p>â€‹  æ‹·è´request.jsåˆ°utilç›®å½•</p><p>â€‹viewsï¼šå­˜æ”¾é¡µé¢çš„.vueæ–‡ä»¶</p><ol start="4"><li class="lvl-3"><p>åˆ é™¤assetsç›®å½•ä¸­çš„å†…å®¹ï¼Œ å°†èµ„æ–™ä¸­çš„é™æ€èµ„æºæ–‡ä»¶å…¨éƒ¨æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹</p></li></ol><h1>äºŒã€æ³¨å†Œ</h1><h3 id="2-1-é¡µé¢æ­å»º">2.1 é¡µé¢æ­å»º</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">User</span>, <span class="title class_">Lock</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//æ§åˆ¶æ³¨å†Œä¸ç™»å½•è¡¨å•çš„æ˜¾ç¤ºï¼Œ é»˜è®¤æ˜¾ç¤ºæ³¨å†Œ</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> isRegister = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">&quot;login-page&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span> <span class="attr">:offset</span>=<span class="string">&quot;3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ³¨å†Œè¡¨å• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isRegister&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;User&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†æ¬¡å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- æ³¨å†ŒæŒ‰é’® --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">auto-insert-space</span>&gt;</span></span><br><span class="line">                        æ³¨å†Œ</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;isRegister = false&quot;</span>&gt;</span></span><br><span class="line">                        â† è¿”å›</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ç™»å½•è¡¨å• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;User&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-checkbox</span>&gt;</span>è®°ä½æˆ‘<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span>&gt;</span>å¿˜è®°å¯†ç ï¼Ÿ<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- ç™»å½•æŒ‰é’® --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">auto-insert-space</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;isRegister = true&quot;</span>&gt;</span></span><br><span class="line">                        æ³¨å†Œ â†’</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/* æ ·å¼ */</span></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.login-page</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bg</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;@/assets/logo2.png&#x27;</span>) no-repeat <span class="number">60%</span> center / <span class="number">240px</span> auto,</span></span><br><span class="line"><span class="language-css">            <span class="built_in">url</span>(<span class="string">&#x27;@/assets/login_bg.jpg&#x27;</span>) no-repeat center / cover;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.form</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">        user-select: none;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.button</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.flex</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š">2.2 é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š</h3><h4 id="2-2-1-æ•°æ®ç»‘å®š">2.2.1 æ•°æ®ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> registerData = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">rePassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2-2-2-è¡¨å•æ ¡éªŒ">2.2.2 è¡¨å•æ ¡éªŒ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰ç¡®è®¤å¯†ç çš„æ ¡éªŒå‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">rePasswordValid</span> = (<span class="params">rule, value, callback</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (value == <span class="literal">null</span> || value === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;è¯·å†æ¬¡ç¡®è®¤å¯†ç &#x27;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (registerData.<span class="property">password</span> !== value) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´&#x27;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„è¡¨å•æ ¡éªŒæ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> registerDataRules = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·å&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">min</span>: <span class="number">5</span>, <span class="attr">max</span>: <span class="number">16</span>, <span class="attr">message</span>: <span class="string">&#x27;ç”¨æˆ·åçš„é•¿åº¦å¿…é¡»ä¸º5~16ä½&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">password</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥å¯†ç &#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">min</span>: <span class="number">5</span>, <span class="attr">max</span>: <span class="number">16</span>, <span class="attr">message</span>: <span class="string">&#x27;å¯†ç é•¿åº¦å¿…é¡»ä¸º5~16ä½&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">rePassword</span>: [</span><br><span class="line">        &#123; <span class="attr">validator</span>: rePasswordValid, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2-2-3-äº‹ä»¶ç»‘å®š">2.2.3 äº‹ä»¶ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ³¨å†Œ...&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-æ¥å£è°ƒç”¨">2.3 æ¥å£è°ƒç”¨</h3><h4 id="2-3-1-åœ¨src-api-user-jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°">2.3.1 åœ¨src/api/user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å†Œ</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">registerService</span> = (<span class="params">registerData</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> registerData) &#123;</span><br><span class="line">        params.<span class="title function_">append</span>(key, registerData[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/user/register&#x27;</span>, params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-åœ¨Login-vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨">2.3.2 åœ¨Login.vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; registerService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//console.log(&#x27;æ³¨å†Œ...&#x27;);</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">registerService</span>(registerData.<span class="property">value</span>);</span><br><span class="line">    <span class="keyword">if</span> (result.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æ³¨å†ŒæˆåŠŸ!&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æ³¨å†Œå¤±è´¥!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-4-å¤„ç†è·¨åŸŸé—®é¢˜">2.4 å¤„ç†è·¨åŸŸé—®é¢˜</h3><p>ç”±äºå‘èµ·ajaxè¯·æ±‚çš„åŸŸä¸º<a href="http://localhost:5173">http://localhost:5173</a>, è€Œåå°æœåŠ¡å™¨çš„åŸŸä¸º <a href="http://localhost:8080">http://localhost:8080</a>, æ‰€ä»¥æµè§ˆå™¨ä¼šé™åˆ¶è¯¥è¯·æ±‚çš„å‘é€, è¿™ç§é—®é¢˜ç§°ä¸ºè·¨åŸŸé—®é¢˜, è·¨åŸŸé—®é¢˜å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è§£å†³,ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ç«¯è§£å†³, å’±ä»¬è¿™ä¸€å—é€šè¿‡é…ç½®ä»£ç†çš„æ–¹å¼è§£å†³</p><p><strong>request.jsä¸­é…ç½®ç»Ÿä¸€å‰ç¼€ /api</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šåˆ¶è¯·æ±‚çš„å®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¼å…¥axios  npm install axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªå˜é‡,è®°å½•å…¬å…±çš„å‰ç¼€  ,  baseURL</span></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&#x27;/api&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;baseURL&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">result</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance;</span><br></pre></td></tr></table></figure><p><strong>vie.config.jsä¸­é…ç½®ä»£ç†</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//é…ç½®ä»£ç†</span></span><br><span class="line">  <span class="attr">server</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8080&#x27;</span>, <span class="comment">// åç«¯æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦æ”¹å˜è¯·æ±‚åŸŸå</span></span><br><span class="line">        <span class="attr">rewrite</span>: <span class="function">(<span class="params">path</span>) =&gt;</span> path.<span class="title function_">replace</span>(<span class="regexp">/^\/api/</span>, <span class="string">&#x27;&#x27;</span>)<span class="comment">//å°†åŸæœ‰è¯·æ±‚è·¯å¾„ä¸­çš„apiæ›¿æ¢ä¸º&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>ä¸‰ã€ç™»å½•</h1><h3 id="3-1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š">3.1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š</h3><h4 id="3-1-1-ç»‘å®šæ•°æ®">3.1.1 ç»‘å®šæ•°æ®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤ç”¨æ³¨å†Œè¡¨å•çš„æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> registerData = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">rePassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="3-1-2-æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®">3.1.2 æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¸…ç©ºæ•°æ®æ¨¡å‹çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">clearRegisterData</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    registerData.<span class="property">value</span> = &#123;</span><br><span class="line">        <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">rePassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-1-3-äº‹ä»¶ç»‘å®š">3.1.3 äº‹ä»¶ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> =  (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-æ¥å£è°ƒç”¨">3.2 æ¥å£è°ƒç”¨</h3><h4 id="3-2-1-åœ¨src-api-user-jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°">3.2.1 åœ¨src/api/user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç™»å½•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginService</span> = (<span class="params">loginData</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">var</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>()</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> loginData)&#123;</span><br><span class="line">        params.<span class="title function_">append</span>(key,loginData[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/user/login&#x27;</span>,params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-2-åœ¨Login-vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨">3.2.2 åœ¨Login.vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; registerService, loginService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç™»å½•çš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">loginService</span>(registerData.<span class="property">value</span>)</span><br><span class="line">    <span class="keyword">if</span>(result.<span class="property">code</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;ç™»å½•å¤±è´¥!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>å››ã€ä¼˜åŒ–axioså“åº”æˆªå™¨</h1><p>åœ¨æ¥å£è°ƒç”¨çš„APIä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹ä¸šåŠ¡å“åº”çš„çŠ¶æ€è¿›è¡Œåˆ¤æ–­ï¼Œä»è€Œç»™ç”¨æˆ·å¯¹åº”çš„æç¤ºï¼Œè¿™ä¸ªå·¥ä½œä¸éš¾ï¼Œä½†æ˜¯æ¯ä¸ªæ¥å£çš„è°ƒç”¨ï¼Œéƒ½è¿™æ ·å†™ä»£ç ï¼Œæ˜¾ç„¶æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨axiosçš„ç›¸åº”æ‹¦æˆªå™¨ä¸­ï¼Œå¦‚æœæœåŠ¡å™¨å“åº”æˆåŠŸäº†ï¼Œç»Ÿä¸€åˆ¤æ–­åå°è¿”å›çš„ä¸šåŠ¡çŠ¶æ€ç codeï¼Œå¦‚æœæˆåŠŸäº†ï¼Œæ­£å¸¸è¿”å›æ•°æ®ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œåˆ™ç»™å‡ºç”¨æˆ·å¯¹åº”çš„æç¤ºå³å¯</p><p><strong>è¯·æ±‚å·¥å…·request.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœä¸šåŠ¡çŠ¶æ€ç ä¸º0ï¼Œä»£è¡¨æœ¬æ¬¡æ“ä½œæˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (result.<span class="property">data</span>.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä»£ç èµ°åˆ°è¿™é‡Œï¼Œä»£è¡¨ä¸šåŠ¡çŠ¶æ€ç ä¸æ˜¯0ï¼Œæœ¬æ¬¡æ“ä½œå¤±è´¥</span></span><br><span class="line">        <span class="title function_">alert</span>(result.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(result.<span class="property">data</span>);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>æ¥å£è°ƒç”¨user.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//console.log(&#x27;æ³¨å†Œ...&#x27;);</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">registerService</span>(registerData.<span class="property">value</span>);</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;æ³¨å†ŒæˆåŠŸ!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç™»å½•çš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">loginService</span>(registerData.<span class="property">value</span>)</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Element-Plusæç¤ºæ¡†çš„ä½¿ç”¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line"><span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br></pre></td></tr></table></figure><h1>äº”ã€ä¸»é¡µé¢å¸ƒå±€</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1697857363429-20240527151832-0gvep3m.png" alt="1697857363429"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Management</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Promotion</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">UserFilled</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">User</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Crop</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">EditPen</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">SwitchButton</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">CaretBottom</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> avatar <span class="keyword">from</span> <span class="string">&#x27;@/assets/default.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-container</span> <span class="attr">class</span>=<span class="string">&quot;layout-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å·¦ä¾§èœå• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;el-aside__logo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">active-text-color</span>=<span class="string">&quot;#ffd04b&quot;</span> <span class="attr">background-color</span>=<span class="string">&quot;#232323&quot;</span>  <span class="attr">text-color</span>=<span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">router</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Management</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« åˆ†ç±»<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Promotion</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« ç®¡ç†<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-sub-menu</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">UserFilled</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">User</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">Crop</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">EditPen</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>é‡ç½®å¯†ç <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å³ä¾§ä¸»åŒºåŸŸ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- å¤´éƒ¨åŒºåŸŸ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span>é»‘é©¬ç¨‹åºå‘˜ï¼š<span class="tag">&lt;<span class="name">strong</span>&gt;</span>ä¸œå“¥<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-dropdown</span> <span class="attr">placement</span>=<span class="string">&quot;bottom-end&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-dropdown__box&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-avatar</span> <span class="attr">:src</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">CaretBottom</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">dropdown</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;profile&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;User&quot;</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Crop&quot;</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;password&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;EditPen&quot;</span>&gt;</span>é‡ç½®å¯†ç <span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;logout&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;SwitchButton&quot;</span>&gt;</span>é€€å‡ºç™»å½•<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-dropdown</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä¸­é—´åŒºåŸŸ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 1290px; height: 570px;border: 1px solid red;&quot;</span>&gt;</span></span><br><span class="line">                    å†…å®¹å±•ç¤ºåŒº</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- åº•éƒ¨åŒºåŸŸ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span>å¤§äº‹ä»¶ Â©2023 Created by é»‘é©¬ç¨‹åºå‘˜<span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.layout-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.el-aside</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#232323</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &amp;__logo &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;@/assets/logo.png&#x27;</span>) no-repeat center / <span class="number">120px</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-menu</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-right</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.el-header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-dropdown__box</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.el-icon</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">color</span>: <span class="number">#999</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            &amp;<span class="selector-pseudo">:active</span>,</span></span><br><span class="line"><span class="language-css">            &amp;<span class="selector-pseudo">:focus</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">outline</span>: none;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.el-footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>å…­ã€è·¯ç”±</h1><p>åœ¨App.vueä¸­ï¼Œä¸èƒ½åŒæ—¶å±•ç¤ºLogin.vueå’ŒLayout.vueï¼Œå®é™…çš„éœ€æ±‚æ˜¯ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®ç¨‹åºï¼Œå…ˆå±•ç¤ºç™»å½•é¡µé¢ï¼Œå½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå†å±•ç¤ºä¸»é¡µé¢ï¼Œå¦‚æœè¦è¾¾æˆè¿™ä¸ªéœ€æ±‚ï¼Œéœ€è¦ç”¨åˆ°vueæä¾›çš„è·¯ç”±ç›¸å…³çš„çŸ¥è¯†</p><p>è·¯ç”±ï¼Œä»èµ·ç‚¹åˆ°ç»ˆç‚¹æ—¶ï¼Œå†³å®šä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„çš„è¿›ç¨‹ï¼Œåœ¨å‰ç«¯å·¥ç¨‹ä¸­ï¼Œè·¯ç”±æŒ‡çš„æ˜¯æ ¹æ®ä¸åŒçš„è®¿é—®è·¯å¾„ï¼Œå±•ç¤ºä¸åŒç»„ä»¶çš„å†…å®¹ã€‚Vue Routeræ˜¯Vue.jsçš„å®˜æ–¹è·¯ç”±ï¼Œå®ƒä¸Vue.jsæ·±åº¦é›†æˆï¼Œè®©Vue.jsæ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ›´åŠ è½»è€Œæ˜“ä¸¾</p><h3 id="6-1å®‰è£…è·¯ç”±">6.1å®‰è£…è·¯ç”±</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@<span class="number">4</span></span><br></pre></td></tr></table></figure><h3 id="6-2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º">6.2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º</h3><p>åœ¨src/routerç›®å½•ä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªjsæ–‡ä»¶ï¼Œèµ·åä¸ºindex.jsã€‚è¿™æ ·åå­—çš„jsæ–‡ä»¶åœ¨å¯¼å…¥æ—¶ï¼Œå¯ä»¥ä¸å†™æ–‡ä»¶åï¼Œåªè¦å®šä½åˆ°æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹å³å¯ï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥vue-router</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¯¼å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LoginVue</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Login.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LayoutVue</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Layout.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰è·¯ç”±å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginVue</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LayoutVue</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>: routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><h3 id="6-3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router">6.3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router</h3><p>åœ¨main.jsä¸­å¯¼å…¥åˆ›å»ºåº”ç”¨å®åŠ›çš„jsæ–‡ä»¶ï¼Œå¹¶è°ƒç”¨å®ä¾‹çš„useæ–¹æ³•ä½¿ç”¨è·¯ç”±å™¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br></pre></td></tr></table></figure><h3 id="6-4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹">6.4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹</h3><p>åœ¨App.vueæ–‡ä»¶çš„templateæ ‡ç­¾ä¸­ï¼Œå®šä¹‰router-viewæ ‡ç­¾</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°†æ¥ä¸ç®¡æ ¹æ®è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å†…å®¹ï¼Œä¼šåœ¨router-viewæ ‡ç­¾å†…è¿›è¡Œå±•ç¤º</p><h3 id="6-5-æµ‹è¯•">6.5 æµ‹è¯•</h3><p>åœ¨æµè§ˆå™¨åœ°å€æ åˆ†åˆ«è®¿é—®ï¼š<a href="http://localhost:5173/">http://localhost:5173/</a>    å’Œ   <a href="http://localhost:5173/login">http://localhost:5173/login</a></p><h3 id="6-6-è·¯ç”±API">6.6 è·¯ç”±API</h3><p>åœ¨ç™»å½•æˆåŠŸåï¼Œéœ€è¦é€šè¿‡ä»£ç çš„æ–¹å¼å°†é¡µé¢åˆ‡æ¢åˆ°é¦–é¡µï¼Œæ­¤æ—¶å°±éœ€è¦è°ƒç”¨è·¯ç”±å™¨ç›¸å…³çš„API</p><p><strong>è·å–è·¯ç”±å™¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span><br></pre></td></tr></table></figure><p><strong>è°ƒç”¨API</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">push</span>(<span class="string">&#x27;/&#x27;</span>)</span><br></pre></td></tr></table></figure><h1>ä¸ƒã€å­è·¯ç”±</h1><p>åœ¨å’±ä»¬çš„ä¸»é¡µé¢ä¸­ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å·¦ä¾§çš„èœå•æ—¶ï¼Œå³ä¾§ä¸»åŒºåŸŸçš„å†…å®¹éœ€è¦å‘ç”Ÿå˜åŒ–ï¼Œå°†æ¥æ¯åˆ‡æ¢ä¸€ä¸ªèœå•ï¼Œå³ä¾§éœ€è¦åŠ è½½å¯¹åº”ç»„ä»¶çš„å†…å®¹è¿›è¡Œå±•ç¤ºï¼Œåƒè¿™æ ·çš„åœºæ™¯å’±ä»¬ä¹Ÿéœ€è¦ä½¿ç”¨è·¯ç”±æ¥å®Œæˆ</p><p>ç”±äºè¿™äº›ç»„ä»¶éƒ½éœ€è¦åœ¨Layout.vueä¸­å±•ç¤ºï¼Œ è€ŒLayout.vueæœ¬èº«å·²ç»å‚ä¸äº†è·¯ç”±ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨Layout.vueä¸­é€šè¿‡å­è·¯ç”±çš„æ–¹å¼æ¥å®Œæˆç»„ä»¶çš„åˆ‡æ¢</p><h3 id="7-1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶">7.1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶</h3><p>å¯ä»¥å¤åˆ¶èµ„æ–™ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ArticleCategory.vue</p></li><li class="lvl-2"><p>ArticleManage.vue</p></li><li class="lvl-2"><p>UserInfo.vue</p></li><li class="lvl-2"><p>UserAvatar.vue</p></li><li class="lvl-2"><p>UserResetPassword.vue</p></li></ul><h3 id="7-2é…ç½®å­è·¯ç”±">7.2é…ç½®å­è·¯ç”±</h3><p>åœ¨src/router/index.jsä¸­é…ç½®å­è·¯ç”±</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰è·¯ç”±å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginVue</span> &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">LayoutVue</span>,</span><br><span class="line">        <span class="comment">//é‡å®šå‘</span></span><br><span class="line">        <span class="attr">redirect</span>: <span class="string">&#x27;/article/manage&#x27;</span>,</span><br><span class="line">        <span class="comment">//å­è·¯ç”±</span></span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/article/category&#x27;</span>, <span class="attr">component</span>: <span class="title class_">ArticleCategoryVue</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/article/manage&#x27;</span>, <span class="attr">component</span>: <span class="title class_">ArticleManageVue</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/user/info&#x27;</span>, <span class="attr">component</span>: <span class="title class_">UserInfoVue</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/user/avatar&#x27;</span>, <span class="attr">component</span>: <span class="title class_">UserAvatarVUe</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/user/password&#x27;</span>, <span class="attr">component</span>: <span class="title class_">UserResetPasswordVue</span> &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="7-3-åœ¨Layout-vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾">7.3 åœ¨Layout.vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸­é—´åŒºåŸŸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 1290px; height: 570px;border: 1px solid red;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-4-èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„">7.4 èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„</h3><p>el-menu-item æ ‡ç­¾çš„indexå±æ€§å¯ä»¥è®¾ç½®ç‚¹å‡»åçš„è·¯ç”±è·¯å¾„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/article/category&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Management</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« åˆ†ç±»<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>å…«ã€æ–‡ç« åˆ†ç±»åˆ—è¡¨</h1><h3 id="8-1-æ–‡ç« åˆ†ç±»ç»„ä»¶">8.1 æ–‡ç« åˆ†ç±»ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Edit</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Delete</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> categorys = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;ç¾é£Ÿ&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;my&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å¨±ä¹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;yl&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å†›äº‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;js&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">])</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« åˆ†ç±»<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;extra&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;categorys&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åºå·&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åç§°&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åˆ«å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryAlias&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> #<span class="attr">empty</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-empty</span> <span class="attr">description</span>=<span class="string">&quot;æ²¡æœ‰æ•°æ®&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.page-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">min-height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-2-åˆ—è¡¨æ¥å£è°ƒç”¨">8.2 åˆ—è¡¨æ¥å£è°ƒç”¨</h3><p>src/api/article.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥è¯·æ±‚å·¥å…·ç±»</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡ç« åˆ†ç±»åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryListService</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/category&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ArticleCategory.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–æ‰€æœ‰æ–‡ç« åˆ†ç±»æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> &#123; articleCategoryListService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/article.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getAllCategory</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryListService</span>();</span><br><span class="line">    categorys.<span class="property">value</span> = result.<span class="property">data</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getAllCategory</span>();</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸Šè¿°çš„ä»£ç å¹¶ä¸èƒ½çœŸæ­£çš„è·å–åˆ°æ‰€æœ‰æ–‡ç« åˆ†ç±»æ•°æ®ï¼ŒæœåŠ¡å™¨å“åº”çŠ¶æ€ç ä¸º401ï¼Œå› ä¸ºç›®å‰è¯·æ±‚å¤´ä¸­å¹¶æ²¡æœ‰æºå¸¦token</p><h1>ä¹ã€PiniaçŠ¶æ€ç®¡ç†åº“</h1><p>Piniaæ˜¯Vueçš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒå…è®¸ä½ è·¨ç»„ä»¶æˆ–é¡µé¢å…±äº«çŠ¶æ€</p><h3 id="9-1å®‰è£…">9.1å®‰è£…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia</span><br></pre></td></tr></table></figure><h3 id="9-2ä½¿ç”¨Pinia">9.2ä½¿ç”¨Pinia</h3><p>åœ¨main.jsä¸­ï¼Œå¼•å…¥piniaï¼Œåˆ›å»ºpiniaå®ä¾‹ï¼Œå¹¶è°ƒç”¨vueåº”ç”¨å®ä¾‹çš„useæ–¹æ³•ä½¿ç”¨pinia</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br></pre></td></tr></table></figure><h3 id="9-3-å®šä¹‰Store">9.3 å®šä¹‰Store</h3><p>åœ¨src/storesç›®å½•ä¸‹å®šä¹‰token.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    defineStoreå‚æ•°æè¿°ï¼š</span></span><br><span class="line"><span class="comment">        ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»™çŠ¶æ€èµ·åï¼Œå…·æœ‰å”¯ä¸€æ€§</span></span><br><span class="line"><span class="comment">        ç¬¬äºŒä¸ªå‚æ•°ï¼šå‡½æ•°ï¼Œå¯ä»¥æŠŠå®šä¹‰è¯¥çŠ¶æ€ä¸­æ‹¥æœ‰çš„å†…å®¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    defineStoreè¿”å›å€¼æè¿°ï¼š</span></span><br><span class="line"><span class="comment">        è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°†æ¥å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¾—åˆ°ç¬¬äºŒä¸ªå‚æ•°ä¸­è¿”å›çš„å†…å®¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTokenStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;token&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰æè¿°token</span></span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å®šä¹‰ä¿®æ”¹tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setToken</span> = (<span class="params">newToken</span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span> = newToken</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.å®šä¹‰ç§»é™¤tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeToken</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        token,setToken,removeToken</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="9-4-ä½¿ç”¨Store">9.4 ä½¿ç”¨Store</h3><p>åœ¨éœ€è¦ä½¿ç”¨çŠ¶æ€çš„åœ°æ–¹ï¼Œå¯¼å…¥@/stores/*.js , ä½¿ç”¨å³å¯</p><p>åœ¨Login.vueä¸­å¯¼å…¥@/stores/token.js, å¹¶ä¸”å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå°†tokenä¿å­˜piniaä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥tokençŠ¶æ€</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨useTokenStoreå¾—åˆ°çŠ¶æ€</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç™»å½•çš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">loginService</span>(registerData.<span class="property">value</span>)</span><br><span class="line">    <span class="comment">//ä¿å­˜token</span></span><br><span class="line">    tokenStore.<span class="title function_">setToken</span>(result.<span class="property">data</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br><span class="line">    router.<span class="title function_">push</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨article.jsä¸­å¯¼å…¥@/stores/token.js, ä»piniaä¸­è·å–åˆ°å­˜å‚¨çš„tokenï¼Œåœ¨å‘èµ·æŸ¥è¯¢æ–‡ç« åˆ†ç±»åˆ—è¡¨çš„æ—¶å€™æŠŠtokené€šè¿‡è¯·æ±‚å¤´çš„å½¢å¼æºå¸¦ç»™æœåŠ¡å™¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥@/stores/token.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;../stores/token&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡ç« åˆ†ç±»åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryListService</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//è·å–tokençŠ¶æ€</span></span><br><span class="line">    <span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line">    <span class="comment">//é€šè¿‡è¯·æ±‚å¤´Authorizationæºå¸¦token</span></span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/category&#x27;</span>, &#123; <span class="attr">headers</span>: &#123; <span class="string">&#x27;Authorization&#x27;</span>: tokenStore.<span class="property">token</span> &#125; &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>åã€axiosè¯·æ±‚æ‹¦æˆªå™¨</h1><p>å½“è¿›å…¥ä¸»é¡µåï¼Œå°†æ¥è¦ä¸åå°äº¤äº’ï¼Œéƒ½éœ€è¦æºå¸¦tokenï¼Œå¦‚æœæ¯æ¬¡è¯·æ±‚éƒ½å†™è¿™æ ·çš„ä»£ç ï¼Œå°†ä¼šæ¯”è¾ƒç¹çï¼Œæ­¤æ—¶å¯ä»¥å°†æºå¸¦tokençš„ä»£ç é€šè¿‡è¯·æ±‚æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†</p><p>åœ¨ src/util/request.jsä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥tokençŠ¶æ€</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span>;</span><br><span class="line"><span class="comment">//æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function">(<span class="params">config</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">let</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line">        <span class="comment">//å¦‚æœtokenä¸­æœ‰å€¼ï¼Œåœ¨æºå¸¦</span></span><br><span class="line">        <span class="keyword">if</span>(tokenStore.<span class="property">token</span>)&#123;</span><br><span class="line">            config.<span class="property">headers</span>.<span class="property">Authorization</span>=tokenStore.<span class="property">token</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœè¯·æ±‚é”™è¯¯åšä»€ä¹ˆ</span></span><br><span class="line">        <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1>åä¸€ã€PiniaæŒä¹…åŒ–æ’ä»¶</h1><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”±äºpiniaæ˜¯å†…å­˜å­˜å‚¨ï¼Œå½“ä½ åˆ·æ–°é¡µé¢çš„æ—¶å€™piniaä¸­çš„æ•°æ®ä¼šä¸¢å¤±ï¼Œå¯ä»¥å€ŸåŠ©äºpersistæ’ä»¶è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œpersistæ’ä»¶æ”¯æŒå°†piniaä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°sessionStorageå’ŒlocalStorageä¸­</p><h3 id="11-1-å®‰è£…persistæ’ä»¶">11.1 å®‰è£…persistæ’ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia-persistedstate-plugin</span><br></pre></td></tr></table></figure><h3 id="11-2-piniaä¸­ä½¿ç”¨persistæ’ä»¶">11.2 piniaä¸­ä½¿ç”¨persistæ’ä»¶</h3><p>åœ¨main.jsä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="comment">//å¯¼å…¥æŒä¹…åŒ–æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;createPersistedState&#125; <span class="keyword">from</span><span class="string">&#x27;pinia-persistedstate-plugin&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"><span class="keyword">const</span> persist = <span class="title function_">createPersistedState</span>()</span><br><span class="line"><span class="comment">//piniaä½¿ç”¨æŒä¹…åŒ–æ’ä»¶</span></span><br><span class="line">pinia.<span class="title function_">use</span>(persist)</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br></pre></td></tr></table></figure><h3 id="11-3-åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–">11.3 åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–</h3><p>åœ¨src/stores/token.jsä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTokenStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;token&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰æè¿°token</span></span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å®šä¹‰ä¿®æ”¹tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setToken</span> = (<span class="params">newToken</span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span> = newToken</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.å®šä¹‰ç§»é™¤tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeToken</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        token,setToken,removeToken</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">,</span><br><span class="line"><span class="comment">//å‚æ•°æŒä¹…åŒ–</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1>åäºŒã€æœªç™»å½•ç»Ÿä¸€å¤„ç†</h1><p>åœ¨åç»­è®¿é—®æ¥å£æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™å‰ç«¯ä¸æºå¸¦tokenï¼Œåå°æœåŠ¡å™¨ä¼šè¿”å›å“åº”çŠ¶æ€ç 401ï¼Œä»£è¡¨æœªç™»å½•ï¼Œæ­¤æ—¶å¯ä»¥åœ¨axiosçš„å“åº”æ‹¦æˆªå™¨ä¸­ï¼Œç»Ÿä¸€å¯¹æœªç™»å½•çš„æƒ…å†µåšå¤„ç†</p><p><strong>request.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœä¸šåŠ¡çŠ¶æ€ç ä¸º0ï¼Œä»£è¡¨æœ¬æ¬¡æ“ä½œæˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (result.<span class="property">data</span>.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä»£ç èµ°åˆ°è¿™é‡Œï¼Œä»£è¡¨ä¸šåŠ¡çŠ¶æ€ç ä¸æ˜¯0ï¼Œæœ¬æ¬¡æ“ä½œå¤±è´¥</span></span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(result.<span class="property">data</span>);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå“åº”çŠ¶æ€ç æ—¶401ï¼Œä»£è¡¨æœªç™»å½•ï¼Œç»™å‡ºå¯¹åº”çš„æç¤ºï¼Œå¹¶è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">        <span class="keyword">if</span>(err.<span class="property">response</span>.<span class="property">status</span>===<span class="number">401</span>)&#123;</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;è¯·å…ˆç™»å½•ï¼&#x27;</span>)</span><br><span class="line">            router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1>åä¸‰ã€æ·»åŠ æ–‡ç« åˆ†ç±»</h1><h3 id="13-1-æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢">13.1 æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ·»åŠ åˆ†ç±»å¼¹çª— --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogVisible&quot;</span> <span class="attr">title</span>=<span class="string">&quot;æ·»åŠ å¼¹å±‚&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;categoryModel&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">style</span>=<span class="string">&quot;padding-right: 30px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åç§°&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryName&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;categoryModel.categoryName&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;1&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åˆ«å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryAlias&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;categoryModel.categoryAlias&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;1&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;15&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span> ç¡®è®¤ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="13-2-æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™">13.2 æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ§åˆ¶æ·»åŠ åˆ†ç±»å¼¹çª—</span></span><br><span class="line"><span class="keyword">const</span> dialogVisible = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ åˆ†ç±»æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> categoryModel = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">categoryName</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">categoryAlias</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//æ·»åŠ åˆ†ç±»è¡¨å•æ ¡éªŒ</span></span><br><span class="line"><span class="keyword">const</span> rules = &#123;</span><br><span class="line">    <span class="attr">categoryName</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥åˆ†ç±»åç§°&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">categoryAlias</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥åˆ†ç±»åˆ«å&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="13-3-æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶">13.3 æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = true&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="13-4-æ¥å£è°ƒç”¨">13.4 æ¥å£è°ƒç”¨</h3><p><strong>åœ¨article.jsä¸­æä¾›æ·»åŠ åˆ†ç±»çš„å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ æ–‡ç« åˆ†ç±»</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryAddService</span> = (<span class="params">categoryModel</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/category&#x27;</span>, categoryModel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åœ¨é¡µé¢ä¸­è°ƒç”¨æ¥å£</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¿é—®åå°ï¼Œæ·»åŠ æ–‡ç« åˆ†ç±»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addCategory</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryAddService</span>(categoryModel.<span class="property">value</span>);</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;æ·»åŠ æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//éšè—å¼¹çª—</span></span><br><span class="line">    dialogVisible.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">    <span class="comment">//å†æ¬¡è®¿é—®åå°æ¥å£ï¼ŒæŸ¥è¯¢æ‰€æœ‰åˆ†ç±»</span></span><br><span class="line">    <span class="title function_">getAllCategory</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addCategory&quot;</span>&gt;</span> ç¡®è®¤ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>åå››ã€ä¿®æ”¹æ–‡ç« åˆ†ç±»</h1><h3 id="14-1-ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢">14.1 ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢</h3><p>ä¿®æ”¹åˆ†ç±»å¼¹çª—å’Œæ–°å¢æ–‡ç« åˆ†ç±»å¼¹çª—é•¿çš„ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥æœç”¨æ·»åŠ åˆ†ç±»çš„å¼¹çª—</p><p><strong>å¼¹çª—æ ‡é¢˜æ˜¾ç¤º</strong><br>å®šä¹‰æ ‡é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼¹çª—æ ‡é¢˜</span></span><br><span class="line"><span class="keyword">const</span> title=<span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨å¼¹çª—ä¸Šç»‘å®šæ ‡é¢˜</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogVisible&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸ºæ·»åŠ åˆ†ç±»æŒ‰é’®ç»‘å®šäº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title=&#x27;æ·»åŠ åˆ†ç±»&#x27;;dialogVisible = true&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸ºä¿®æ”¹åˆ†ç±»æŒ‰é’®ç»‘å®šäº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title=&#x27;ä¿®æ”¹åˆ†ç±»&#x27;;dialogVisible=true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="14-2-æ•°æ®å›æ˜¾">14.2 æ•°æ®å›æ˜¾</h3><p>å½“ç‚¹å‡»ä¿®æ”¹åˆ†ç±»æŒ‰é’®æ—¶ï¼Œéœ€è¦æŠŠå½“å‰è¿™ä¸€æ¡æ•°æ®çš„è¯¦ç»†ä¿¡æ¯æ˜¾ç¤ºåˆ°ä¿®æ”¹åˆ†ç±»çš„å¼¹çª—ä¸Šï¼Œè¿™ä¸ªå«å›æ˜¾</p><p><strong>é€šè¿‡æ’æ§½çš„æ–¹å¼å¾—åˆ°è¢«ç‚¹å‡»æŒ‰é’®æ‰€åœ¨è¡Œçš„æ•°æ®</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateCategoryEcho(row)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å›æ˜¾å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åˆ†ç±»å›æ˜¾</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateCategoryEcho</span> = (<span class="params">row</span>) =&gt; &#123;</span><br><span class="line">    title.<span class="property">value</span> = <span class="string">&#x27;ä¿®æ”¹åˆ†ç±»&#x27;</span></span><br><span class="line">    dialogVisible.<span class="property">value</span> = <span class="literal">true</span></span><br><span class="line">    <span class="comment">//å°†rowä¸­çš„æ•°æ®èµ‹å€¼ç»™categoryModel</span></span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryName</span>=row.<span class="property">categoryName</span></span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryAlias</span>=row.<span class="property">categoryAlias</span></span><br><span class="line">    <span class="comment">//ä¿®æ”¹çš„æ—¶å€™å¿…é¡»ä¼ é€’åˆ†ç±»çš„idï¼Œæ‰€ä»¥æ‰©å±•ä¸€ä¸ªidå±æ€§</span></span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">id</span>=row.<span class="property">id</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14-3-æ¥å£è°ƒç”¨">14.3 æ¥å£è°ƒç”¨</h3><p><strong>article.jsä¸­æä¾›ä¿®æ”¹åˆ†ç±»çš„å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åˆ†ç±»</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryUpdateService</span> = (<span class="params">categoryModel</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&#x27;/category&#x27;</span>,categoryModel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹ç¡®å®šæŒ‰é’®çš„ç»‘å®šäº‹ä»¶</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title===&#x27;æ·»åŠ åˆ†ç±»&#x27;? addCategory():updateCategory()&quot;</span>&gt;</span> ç¡®è®¤ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>è°ƒç”¨æ¥å£å®Œæˆä¿®æ”¹çš„å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åˆ†ç±»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateCategory</span>=<span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryUpdateService</span>(categoryModel.<span class="property">value</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;ä¿®æ”¹æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//éšè—å¼¹çª—</span></span><br><span class="line">    dialogVisible.<span class="property">value</span>=<span class="literal">false</span></span><br><span class="line">    <span class="comment">//å†æ¬¡è®¿é—®åå°æ¥å£ï¼ŒæŸ¥è¯¢æ‰€æœ‰åˆ†ç±»</span></span><br><span class="line">    <span class="title function_">getAllCategory</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºç°åœ¨ä¿®æ”¹å’Œæ–°å¢å…±ç”¨äº†ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œæ‰€ä»¥åœ¨ç‚¹å‡»æ·»åŠ åˆ†ç±»åï¼Œæœ‰æ—¶å€™ä¼šæ˜¾ç¤ºæ•°æ®ï¼Œæ­¤æ—¶å¯ä»¥å°†categoryModelä¸­çš„æ•°æ®æ¸…ç©º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¸…ç©ºæ¨¡å‹æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">clearCategoryModel</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryName</span>=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryAlias</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title = &#x27;æ·»åŠ åˆ†ç±»&#x27;; dialogVisible = true;clearCategoryModel()&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>åäº”ã€åˆ é™¤åˆ†ç±»ï¼ˆåå°éœ€è¦è¡¥é½ï¼‰</h1><h3 id="15-1-ç¡®è®¤æ¡†">15.1 ç¡®è®¤æ¡†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤åˆ†ç±»  ç»™åˆ é™¤æŒ‰é’®ç»‘å®šäº‹ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteCategory</span> = (<span class="params">row</span>) =&gt; &#123;</span><br><span class="line">    <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(</span><br><span class="line">        <span class="string">&#x27;ä½ ç¡®è®¤åˆ é™¤è¯¥åˆ†ç±»ä¿¡æ¯å—ï¼Ÿ&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class="line">            <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span></span><br><span class="line">            <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span></span><br><span class="line">            <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;å–æ¶ˆåˆ é™¤&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="15-2-æ¥å£è°ƒç”¨">15.2 æ¥å£è°ƒç”¨</h3><p><strong>article.jsä¸­æä¾›åˆ é™¤åˆ†ç±»çš„å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤åˆ†ç±»</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryDeleteService</span> = (<span class="params">id</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">delete</span>(<span class="string">&#x27;/category?id=&#x27;</span>+id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å½“ç”¨æˆ·ç‚¹å‡»ç¡®è®¤åï¼Œè°ƒç”¨æ¥å£åˆ é™¤åˆ†ç±»</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤åˆ†ç±»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteCategory</span> = (<span class="params">row</span>) =&gt; &#123;</span><br><span class="line">    <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(</span><br><span class="line">        <span class="string">&#x27;ä½ ç¡®è®¤åˆ é™¤è¯¥åˆ†ç±»ä¿¡æ¯å—ï¼Ÿ&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class="line">            <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">        .<span class="title function_">then</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span></span><br><span class="line">            <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryDeleteService</span>(row.<span class="property">id</span>)</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>?result.<span class="property">message</span>:<span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>)</span><br><span class="line">            <span class="comment">//å†æ¬¡è°ƒç”¨getAllCategoryï¼Œè·å–æ‰€æœ‰æ–‡ç« åˆ†ç±»</span></span><br><span class="line">            <span class="title function_">getAllCategory</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span></span><br><span class="line">            <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;å–æ¶ˆåˆ é™¤&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>åå…­ã€æ–‡ç« åˆ—è¡¨</h1><h3 id="16-1-æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶">16.1 æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Edit</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Delete</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//æ–‡ç« åˆ†ç±»æ•°æ®æ¨¡å‹</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> categorys = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;ç¾é£Ÿ&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;my&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å¨±ä¹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;yl&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å†›äº‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;js&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">])</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç”¨æˆ·æœç´¢æ—¶é€‰ä¸­çš„åˆ†ç±»id</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> categoryId=<span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç”¨æˆ·æœç´¢æ—¶é€‰ä¸­çš„å‘å¸ƒçŠ¶æ€</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> state=<span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//æ–‡ç« åˆ—è¡¨æ•°æ®æ¨¡å‹</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> articles = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é™•è¥¿æ—…æ¸¸æ”»ç•¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å…µé©¬ä¿‘,åæ¸…æ± ,æ³•é—¨å¯º,åå±±...çˆ±å»å“ªå»å“ª...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;coverImg&quot;</span>: <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;state&quot;</span>: <span class="string">&quot;è‰ç¨¿&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryId&quot;</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é™•è¥¿æ—…æ¸¸æ”»ç•¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å…µé©¬ä¿‘,åæ¸…æ± ,æ³•é—¨å¯º,åå±±...çˆ±å»å“ªå»å“ª...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;coverImg&quot;</span>: <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;state&quot;</span>: <span class="string">&quot;è‰ç¨¿&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryId&quot;</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é™•è¥¿æ—…æ¸¸æ”»ç•¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å…µé©¬ä¿‘,åæ¸…æ± ,æ³•é—¨å¯º,åå±±...çˆ±å»å“ªå»å“ª...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;coverImg&quot;</span>: <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;state&quot;</span>: <span class="string">&quot;è‰ç¨¿&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryId&quot;</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">])</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//åˆ†é¡µæ¡æ•°æ®æ¨¡å‹</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> pageNum = <span class="title function_">ref</span>(<span class="number">1</span>)<span class="comment">//å½“å‰é¡µ</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> total = <span class="title function_">ref</span>(<span class="number">20</span>)<span class="comment">//æ€»æ¡æ•°</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> pageSize = <span class="title function_">ref</span>(<span class="number">3</span>)<span class="comment">//æ¯é¡µæ¡æ•°</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//å½“æ¯é¡µæ¡æ•°å‘ç”Ÿäº†å˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onSizeChange</span> = (<span class="params">size</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    pageSize.<span class="property">value</span> = size</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">//å½“å‰é¡µç å‘ç”Ÿå˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onCurrentChange</span> = (<span class="params">num</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    pageNum.<span class="property">value</span> = num</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« ç®¡ç†<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;extra&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æ·»åŠ æ–‡ç« <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æœç´¢è¡¨å• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">inline</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« åˆ†ç±»ï¼š&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;categoryId&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">v-for</span>=<span class="string">&quot;c in categorys&quot;</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">:key</span>=<span class="string">&quot;c.id&quot;</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">:label</span>=<span class="string">&quot;c.categoryName&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">:value</span>=<span class="string">&quot;c.id&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å‘å¸ƒçŠ¶æ€ï¼š&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;state&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;å·²å‘å¸ƒ&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å·²å‘å¸ƒ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;è‰ç¨¿&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è‰ç¨¿&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ–‡ç« åˆ—è¡¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;articles&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;å‘è¡¨æ—¶é—´&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;çŠ¶æ€&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;state&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> #<span class="attr">empty</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-empty</span> <span class="attr">description</span>=<span class="string">&quot;æ²¡æœ‰æ•°æ®&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åˆ†é¡µæ¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">v-model:current-page</span>=<span class="string">&quot;pageNum&quot;</span> <span class="attr">v-model:page-size</span>=<span class="string">&quot;pageSize&quot;</span> <span class="attr">:page-sizes</span>=<span class="string">&quot;[3, 5 ,10, 15]&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">layout</span>=<span class="string">&quot;jumper, total, sizes, prev, pager, next&quot;</span> <span class="attr">background</span> <span class="attr">:total</span>=<span class="string">&quot;total&quot;</span> @<span class="attr">size-change</span>=<span class="string">&quot;onSizeChange&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">current-change</span>=<span class="string">&quot;onCurrentChange&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 20px; justify-content: flex-end&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.page-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">min-height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸­æ–‡è¯­è¨€åŒ…ï¼Œè§£å†³åˆ†é¡µæ¡ä¸­æ–‡é—®é¢˜, åœ¨main.jsä¸­å®Œæˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> locale <span class="keyword">from</span> <span class="string">&#x27;element-plus/dist/locale/zh-cn.js&#x27;</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>,&#123;locale&#125;)</span><br></pre></td></tr></table></figure><h3 id="16-2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾">16.2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾</h3><p><strong>ArticleMange.vue</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">import</span> &#123; articleCategoryListService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/article.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getArticleCategoryList</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//è·å–æ‰€æœ‰åˆ†ç±»</span></span><br><span class="line">    <span class="keyword">let</span> resultC = <span class="keyword">await</span> <span class="title function_">articleCategoryListService</span>();</span><br><span class="line">    categorys.<span class="property">value</span> = resultC.<span class="property">data</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getArticleCategoryList</span>();</span><br></pre></td></tr></table></figure><p>â€</p><h1>åä¸ƒã€ æ–‡ç« åˆ—è¡¨æ¥å£è°ƒç”¨</h1><p><strong>article.jsä¸­æä¾›è·å–æ–‡ç« åˆ—è¡¨æ•°æ®çš„å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleListService</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/article&#x27;</span>, &#123; <span class="attr">params</span>: params &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ArticleManage.vueä¸­ï¼Œè°ƒç”¨æ¥å£è·å–æ•°æ®</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">import</span> &#123; articleListService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/article.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getArticles</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> params = &#123;</span><br><span class="line">        <span class="attr">pageNum</span>: pageNum.<span class="property">value</span>,</span><br><span class="line">        <span class="attr">pageSize</span>: pageSize.<span class="property">value</span>,</span><br><span class="line">        <span class="attr">categoryId</span>: categoryId.<span class="property">value</span> ? categoryId.<span class="property">value</span> : <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">state</span>: state.<span class="property">value</span> ? state.<span class="property">value</span> : <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleListService</span>(params);</span><br><span class="line">    <span class="comment">//æ¸²æŸ“åˆ—è¡¨æ•°æ®</span></span><br><span class="line">    articles.<span class="property">value</span> = result.<span class="property">data</span>.<span class="property">items</span></span><br><span class="line">    <span class="comment">//ä¸ºåˆ—è¡¨ä¸­æ·»åŠ categoryNameå±æ€§</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;articles.<span class="property">value</span>.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">let</span> article = articles.<span class="property">value</span>[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>;j&lt;categorys.<span class="property">value</span>.<span class="property">length</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(article.<span class="property">categoryId</span>===categorys.<span class="property">value</span>[j].<span class="property">id</span>)&#123;</span><br><span class="line">                article.<span class="property">categoryName</span>=categorys.<span class="property">value</span>[j].<span class="property">categoryName</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¸²æŸ“æ€»æ¡æ•°</span></span><br><span class="line">    total.<span class="property">value</span>=result.<span class="property">data</span>.<span class="property">total</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getArticles</span>()</span><br></pre></td></tr></table></figure><p><strong>å½“åˆ†é¡µæ¡çš„å½“å‰é¡µå’Œæ¯é¡µæ¡æ•°å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°å‘é€è¯·æ±‚è·å–æ•°æ®</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å½“æ¯é¡µæ¡æ•°å‘ç”Ÿäº†å˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onSizeChange</span> = (<span class="params">size</span>) =&gt; &#123;</span><br><span class="line">    pageSize.<span class="property">value</span> = size</span><br><span class="line">    <span class="title function_">getArticles</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å½“å‰é¡µç å‘ç”Ÿå˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onCurrentChange</span> = (<span class="params">num</span>) =&gt; &#123;</span><br><span class="line">    pageNum.<span class="property">value</span> = num</span><br><span class="line">    <span class="title function_">getArticles</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>åå…«ã€æœç´¢å’Œé‡ç½®</h1><p>ä¸ºæœç´¢æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶ï¼Œè°ƒç”¨getArticleså‡½æ•°å³å¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;getArticles&quot;</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸ºé‡ç½®æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶ï¼Œæ¸…é™¤categoryIdå’Œstateçš„ä¹‹å³å¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;categoryId=&#x27;&#x27;;state=&#x27;&#x27;&quot;</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>åä¹ã€æ·»åŠ æ–‡ç« </h1><h3 id="19-1-æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶">19.1 æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Plus</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span><br><span class="line"><span class="comment">//æ§åˆ¶æŠ½å±‰æ˜¯å¦æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">const</span> visibleDrawer = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="comment">//æ·»åŠ è¡¨å•æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> articleModel = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">categoryId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">coverImg</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">content</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">state</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŠ½å±‰ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-drawer</span> <span class="attr">v-model</span>=<span class="string">&quot;visibleDrawer&quot;</span> <span class="attr">title</span>=<span class="string">&quot;æ·»åŠ æ–‡ç« &quot;</span> <span class="attr">direction</span>=<span class="string">&quot;rtl&quot;</span> <span class="attr">size</span>=<span class="string">&quot;50%&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ·»åŠ æ–‡ç« è¡¨å• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;articleModel&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;articleModel.title&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥æ ‡é¢˜&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« åˆ†ç±»&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;articleModel.categoryId&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;c in categorys&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;c.id&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;c.categoryName&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;c.id&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« å°é¢&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> <span class="attr">:auto-upload</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">Plus</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« å†…å®¹&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;editor&quot;</span>&gt;</span>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>è‰ç¨¿<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-drawer</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æŠ½å±‰æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.avatar-uploader</span> &#123;</span><br><span class="line">    :<span class="built_in">deep</span>() &#123;</span><br><span class="line">        <span class="selector-class">.avatar</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">display</span>: block;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.el-upload</span> &#123;</span><br><span class="line">            <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">            <span class="attribute">cursor</span>: pointer;</span><br><span class="line">            <span class="attribute">position</span>: relative;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="attribute">transition</span>: <span class="built_in">var</span>(--el-transition-duration-fast);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.el-upload</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">            <span class="attribute">border-color</span>: <span class="built_in">var</span>(--el-color-primary);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.el-icon</span><span class="selector-class">.avatar-uploader-icon</span> &#123;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">28px</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#8c939d</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">text-align</span>: center;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.editor</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  :<span class="built_in">deep</span>(.ql-editor) &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºæ·»åŠ æ–‡ç« æŒ‰é’®æ·»åŠ å•å‡»äº‹ä»¶ï¼Œå±•ç¤ºæŠ½å±‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;visibleDrawer = true&quot;</span>&gt;</span>æ·»åŠ æ–‡ç« <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="19-2-å¯Œæ–‡æœ¬ç¼–è¾‘å™¨">19.2 å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h3><p>æ–‡ç« å†…å®¹éœ€è¦ä½¿ç”¨åˆ°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿™é‡Œå’±ä»¬ä½¿ç”¨ä¸€ä¸ªå¼€æºçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ Quill</p><p>å®˜ç½‘åœ°å€ï¼š <a href="https://vueup.github.io/vue-quill/">https://vueup.github.io/vue-quill/</a></p><p><strong>å®‰è£…ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @vueup/vue-quill@latest --save</span><br></pre></td></tr></table></figure><p><strong>å¯¼å…¥ç»„ä»¶å’Œæ ·å¼ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">QuillEditor</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@vueup/vue-quill&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@vueup/vue-quill/dist/vue-quill.snow.css&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>é¡µé¢é•¿ä½¿ç”¨quillç»„ä»¶ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">quill-editor</span></span></span><br><span class="line"><span class="tag">              <span class="attr">theme</span>=<span class="string">&quot;snow&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">v-model:content</span>=<span class="string">&quot;articleModel.content&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">contentType</span>=<span class="string">&quot;html&quot;</span></span></span><br><span class="line"><span class="tag">              &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">quill-editor</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ ·å¼ç¾åŒ–ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.editor</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  :<span class="built_in">deep</span>(.ql-editor) &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="19-3-æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ ">19.3 æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ </h3><p>å°†æ¥å½“ç‚¹å‡»+å›¾æ ‡ï¼Œé€‰æ‹©æœ¬åœ°å›¾ç‰‡åï¼Œel-uploadè¿™ä¸ªç»„ä»¶ä¼šè‡ªåŠ¨å‘é€è¯·æ±‚ï¼ŒæŠŠå›¾ç‰‡ä¸Šä¼ åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šï¼Œè€Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±ä½¿ç”¨axioså‘é€å¼‚æ­¥è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦ç»™el-uploadæ ‡ç­¾æ·»åŠ ä¸€äº›å±æ€§ï¼Œæ§åˆ¶è¯·æ±‚çš„å‘é€</p><p>auto-upload:æ˜¯å¦è‡ªåŠ¨ä¸Šä¼ </p><p>action: æœåŠ¡å™¨æ¥å£è·¯å¾„</p><p>name: ä¸Šä¼ çš„æ–‡ä»¶å­—æ®µå</p><p>headers: è®¾ç½®ä¸Šä¼ çš„è¯·æ±‚å¤´</p><p>on-success: ä¸Šä¼ æˆåŠŸçš„å›è°ƒå‡½æ•°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123;</span><br><span class="line">    Plus</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« å°é¢&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> </span></span><br><span class="line"><span class="tag">               <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span> </span></span><br><span class="line"><span class="tag">               &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Plus</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ol><li class="lvl-3"><p>ç”±äºè¿™ä¸ªè¯·æ±‚æ—¶el-uploadè‡ªåŠ¨å‘é€çš„å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨å’±ä»¬çš„request.jsè¯·æ±‚å·¥å…·ï¼Œæ‰€ä»¥åœ¨è¯·æ±‚çš„è·¯ingä¸Šï¼Œéœ€è¦åŠ ä¸Š/api, è¿™ä¸ªæ—¶å€™è¯·æ±‚ä»£ç†æ‰èƒ½æ‹¦æˆªåˆ°è¿™ä¸ªè¯·æ±‚ï¼Œè½¬å‘åˆ°åå°æœåŠ¡å™¨ä¸Š</p></li><li class="lvl-3"><p>è¦æºå¸¦è¯·æ±‚å¤´ï¼Œè¿˜éœ€è¦å¯¼å…¥piniaçŠ¶æ€æ‰å¯ä»¥ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>();</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>åœ¨æˆåŠŸçš„å›è°ƒå‡½æ•°ä¸­ï¼Œå¯ä»¥æ‹¿åˆ°æœåŠ¡å™¨å“åº”çš„æ•°æ®ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå±æ€§ä¸ºdataï¼Œå¯¹åº”çš„å°±æ˜¯å›¾ç‰‡åœ¨é˜¿é‡Œäº‘ossä¸Šå­˜å‚¨çš„è®¿é—®åœ°å€ï¼Œéœ€è¦æŠŠå®ƒèµ‹å€¼ç»™articleModelçš„coverImgå±æ€§ï¼Œè¿™æ ·imgæ ‡ç­¾å°±èƒ½æ˜¾ç¤ºè¿™å¼ å›¾ç‰‡äº†ï¼Œå› ä¸ºimgæ ‡ç­¾ä¸Šé€šè¿‡srcå±æ€§ç»‘å®šäº†articleModel.coverImg</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸Šä¼ å›¾ç‰‡æˆåŠŸå›è°ƒ</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">uploadSuccess</span> = (<span class="params">img</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//imgå°±æ˜¯åå°å“åº”çš„æ•°æ®ï¼Œæ ¼å¼ä¸ºï¼š&#123;code:çŠ¶æ€ç ï¼Œmessageï¼šæç¤ºä¿¡æ¯ï¼Œdata: å›¾ç‰‡çš„å­˜å‚¨åœ°å€&#125;</span></span><br><span class="line">    articleModel.<span class="property">value</span>.<span class="property">coverImg</span>=img.<span class="property">data</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="19-4-æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨">19.4 æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨</h3><p><strong>article.jsä¸­æä¾›æ·»åŠ æ–‡ç« å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ æ–‡ç« </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleAddService</span> = (<span class="params">articleModel</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/article&#x27;</span>,articleModel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸ºå·²å‘å¸ƒå’Œè‰ç¨¿æŒ‰é’®ç»‘å®šäº‹ä»¶</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addArticle(&#x27;å·²å‘å¸ƒ&#x27;)&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addArticle(&#x27;è‰ç¨¿&#x27;)&quot;</span>&gt;</span>è‰ç¨¿<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ArticleManage.vueä¸­æä¾›addArticleå‡½æ•°å®Œæˆæ·»åŠ æ–‡ç« æ¥å£çš„è°ƒç”¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ æ–‡ç« </span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addArticle</span>=<span class="keyword">async</span> (<span class="params">state</span>)=&gt;&#123;</span><br><span class="line">    articleModel.<span class="property">value</span>.<span class="property">state</span> = state</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleAddService</span>(articleModel.<span class="property">value</span>);</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;æ·»åŠ æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//å†æ¬¡è°ƒç”¨getArticles,è·å–æ–‡ç« </span></span><br><span class="line">    <span class="title function_">getArticles</span>()</span><br><span class="line">    <span class="comment">//éšè—æŠ½å±‰</span></span><br><span class="line">    visibleDrawer.<span class="property">value</span>=<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>äºŒåã€é¡¶éƒ¨å¯¼èˆªæ ä¸ªäººä¿¡æ¯æ˜¾ç¤º</h1><p>åœ¨Layout.vueä¸­ï¼Œé¡µé¢åŠ è½½å®Œå°±å‘é€è¯·æ±‚ï¼Œè·å–ä¸ªäººä¿¡æ¯å±•ç¤ºï¼Œå¹¶å­˜å‚¨åˆ°piniaä¸­ï¼Œå› ä¸ºå°†æ¥åœ¨ä¸ªäººä¸­å¿ƒä¸­ä¿®æ”¹ä¿¡æ¯çš„æ—¶å€™è¿˜éœ€è¦ä½¿ç”¨</p><p><strong>user.jsä¸­æä¾›è·å–ä¸ªäººä¿¡æ¯çš„å‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–ä¸ªäººä¿¡æ¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userInfoGetService</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/user/userInfo&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>src/stores/user.jsä¸­ï¼Œå®šä¹‰ä¸ªäººä¸­å¿ƒçŠ¶æ€</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useUserInfoStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;userInfo&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">const</span> info = <span class="title function_">ref</span>(&#123;&#125;)</span><br><span class="line">    <span class="comment">//2.å®šä¹‰ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setInfo</span> = (<span class="params">newInfo</span>)=&gt;&#123;</span><br><span class="line">        info.<span class="property">value</span> = newInfo</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3.å®šä¹‰æ¸…ç©ºç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeInfo</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        info.<span class="property">value</span>=&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>&#123;info,setInfo,removeInfo&#125;</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>Layout.vueä¸­è·å–ä¸ªäººä¿¡æ¯ï¼Œå¹¶å­˜å‚¨åˆ°piniaä¸­</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥æ¥å£å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> &#123;userInfoGetService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="comment">//å¯¼å…¥pinia</span></span><br><span class="line"><span class="keyword">import</span> &#123;useUserInfoStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> userInfoStore = <span class="title function_">useUserInfoStore</span>();</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–ä¸ªäººä¿¡æ¯</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getUserInf</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">userInfoGetService</span>();</span><br><span class="line">    <span class="comment">//å­˜å‚¨pinia</span></span><br><span class="line">    userInfoStore.<span class="property">info</span> =result.<span class="property">data</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getUserInf</span>()</span><br></pre></td></tr></table></figure><p><strong>Layout.vueçš„é¡¶éƒ¨å¯¼èˆªæ ä¸­ï¼Œå±•ç¤ºæ˜µç§°å’Œå¤´åƒ</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>é»‘é©¬ç¨‹åºå‘˜ï¼š<span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123; userInfoStore.info.nickname ? userInfoStore.info.nickname : userInfoStore.info.usrename &#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-avatar</span> <span class="attr">:src</span>=<span class="string">&quot;userInfoStore.info.userPic ? userInfoStore.info.userPic : avatar&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1>äºŒåä¸€ã€el-dropdownä¸­åŠŸèƒ½å®ç°</h1><p>åœ¨el-dropdownä¸­æœ‰å››ä¸ªå­æ¡ç›®ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬èµ„æ–™</p></li><li class="lvl-2"><p>æ›´æ¢å¤´åƒ</p></li><li class="lvl-2"><p>é‡ç½®å¯†ç </p></li><li class="lvl-2"><p>é€€å‡ºç™»å½•</p></li></ul><p>å…¶ä¸­å…¶ä¸‰ä¸ªèµ·åˆ°è·¯ç”±åŠŸèƒ½ï¼Œè·Ÿå·¦ä¾§èœå•ä¸­ã€ä¸ªäººä¸­å¿ƒã€‘ä¸‹é¢çš„äºŒçº§èœå•æ˜¯åŒæ ·çš„åŠŸèƒ½ï¼Œé€€å‡ºç™»å½•éœ€è¦åˆ é™¤æœ¬åœ°piniaä¸­å­˜å‚¨çš„tokenä»¥åŠuserInfo</p><p><strong>è·¯ç”±å®ç°ï¼š</strong></p><p>åœ¨el-dropdown-itemæ ‡ç­¾ä¸Šæ·»åŠ commandå±æ€§ï¼Œå±æ€§å€¼å’Œè·¯ç”±è¡¨ä¸­/user/xxxä¿æŒä¸€è‡´</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;User&quot;</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Crop&quot;</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;password&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;EditPen&quot;</span>&gt;</span>é‡ç½®å¯†ç <span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;logout&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;SwitchButton&quot;</span>&gt;</span>é€€å‡ºç™»å½•<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dropdown-menu</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨el-dropdownæ ‡ç­¾ä¸Šç»‘å®šcommandäº‹ä»¶,å½“æœ‰æ¡ç›®è¢«ç‚¹å‡»åï¼Œä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dropdown</span> <span class="attr">placement</span>=<span class="string">&quot;bottom-end&quot;</span> @<span class="attr">command</span>=<span class="string">&quot;handleCommand&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æä¾›handleCommandå‡½æ•°ï¼Œå‚æ•°ä¸ºç‚¹å‡»æ¡ç›®çš„commandå±æ€§å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dropDownæ¡ç›®è¢«ç‚¹å‡»åï¼Œå›è°ƒçš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> &#123;useRouter&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleCommand</span> = (<span class="params">command</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span>(command===<span class="string">&#x27;logout&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">//é€€å‡ºç™»å½•</span></span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;é€€å‡ºç™»å½•&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//è·¯ç”±</span></span><br><span class="line">        router.<span class="title function_">push</span>(<span class="string">&#x27;/user/&#x27;</span>+command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é€€å‡ºç™»å½•å®ç°ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ElMessage</span>,<span class="title class_">ElMessageBox</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleCommand</span> = (<span class="params">command</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (command === <span class="string">&#x27;logout&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">//é€€å‡ºç™»å½•</span></span><br><span class="line">        <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(</span><br><span class="line">            <span class="string">&#x27;ä½ ç¡®è®¤é€€å‡ºç™»å½•ç ï¼Ÿ&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class="line">                <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">                <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span></span><br><span class="line">                <span class="comment">//æ¸…ç©ºpiniaä¸­çš„tokenå’Œä¸ªäººä¿¡æ¯</span></span><br><span class="line">                userInfoStore.<span class="property">info</span>=&#123;&#125;</span><br><span class="line">                tokenStore.<span class="property">token</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="comment">//è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">                router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span></span><br><span class="line">                <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">                    <span class="attr">message</span>: <span class="string">&#x27;å–æ¶ˆé€€å‡º&#x27;</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//è·¯ç”±</span></span><br><span class="line">        router.<span class="title function_">push</span>(<span class="string">&#x27;/user/&#x27;</span> + command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>äºŒåäºŒã€åŸºæœ¬èµ„æ–™ä¿®æ”¹</h1><h3 id="22-1-åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶">22.1 åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> userInfo = <span class="title function_">ref</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">id</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">username</span>: <span class="string">&#x27;zhangsan&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">nickname</span>: <span class="string">&#x27;zs&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">email</span>: <span class="string">&#x27;zs@163.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> rules = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">nickname</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·æ˜µç§°&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">pattern</span>: <span class="regexp">/^\S&#123;2,10&#125;$/</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">message</span>: <span class="string">&#x27;æ˜µç§°å¿…é¡»æ˜¯2-10ä½çš„éç©ºå­—ç¬¦ä¸²&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    ],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">email</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·é‚®ç®±&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">type</span>: <span class="string">&#x27;email&#x27;</span>, <span class="attr">message</span>: <span class="string">&#x27;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">    ]</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;userInfo&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç™»å½•åç§°&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.username&quot;</span> <span class="attr">disabled</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç”¨æˆ·æ˜µç§°&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;nickname&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.nickname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç”¨æˆ·é‚®ç®±&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æäº¤ä¿®æ”¹<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="22-2-è¡¨å•æ•°æ®å›æ˜¾">22.2 è¡¨å•æ•°æ®å›æ˜¾</h3><p>ä¸ªäººä¿¡æ¯ä¹‹å‰å·²ç»å­˜å‚¨åˆ°äº†piniaä¸­ï¼Œåªéœ€è¦ä»piniaä¸­è·å–ä¸ªäººä¿¡æ¯ï¼Œæ›¿æ¢æ¨¡æ¿æ•°æ®å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useUserInfoStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user.js&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> userInfoStore = <span class="title function_">useUserInfoStore</span>()</span><br><span class="line"><span class="keyword">const</span> userInfo = <span class="title function_">ref</span>(&#123;...userInfoStore.<span class="property">info</span>&#125;)</span><br></pre></td></tr></table></figure><h3 id="22-3-æ¥å£è°ƒç”¨">22.3 æ¥å£è°ƒç”¨</h3><p>åœ¨src/api/user.jsä¸­æä¾›ä¿®æ”¹åŸºæœ¬èµ„æ–™çš„å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹ä¸ªäººä¿¡æ¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userInfoUpdateService</span> = (<span class="params">userInfo</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&#x27;/user/update&#x27;</span>,userInfo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºä¿®æ”¹æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateUserInfo&quot;</span>&gt;</span>æäº¤ä¿®æ”¹<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æä¾›updateUserInfoå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">import</span> &#123;userInfoUpdateService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateUserInfo</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">userInfoUpdateService</span>(userInfo.<span class="property">value</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;ä¿®æ”¹æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//æ›´æ–°piniaä¸­çš„æ•°æ®</span></span><br><span class="line">    userInfoStore.<span class="property">info</span>.<span class="property">nickname</span>=userInfo.<span class="property">value</span>.<span class="property">nickname</span></span><br><span class="line">    userInfoStore.<span class="property">info</span>.<span class="property">email</span> = userInfo.<span class="property">value</span>.<span class="property">email</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>äºŒåä¸‰ã€ä¿®æ”¹å¤´åƒ</h1><h3 id="23-1-ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶">23.1 ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">Plus</span>, <span class="title class_">Upload</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> avatar <span class="keyword">from</span> <span class="string">&#x27;@/assets/default.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> uploadRef = <span class="title function_">ref</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç”¨æˆ·å¤´åƒåœ°å€</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> imgUrl= avatar</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-upload</span> </span></span><br><span class="line"><span class="tag">                    <span class="attr">ref</span>=<span class="string">&quot;uploadRef&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> </span></span><br><span class="line"><span class="tag">                    <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                    &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-else</span> <span class="attr">src</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">width</span>=<span class="string">&quot;278&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Plus&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>  @<span class="attr">click</span>=<span class="string">&quot;uploadRef.$el.querySelector(&#x27;input&#x27;).click()&quot;</span>&gt;</span></span><br><span class="line">                    é€‰æ‹©å›¾ç‰‡</span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Upload&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>&gt;</span></span><br><span class="line">                    ä¸Šä¼ å¤´åƒ</span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.avatar-uploader</span> &#123;</span></span><br><span class="line"><span class="language-css">    :<span class="built_in">deep</span>() &#123;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.avatar</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-upload</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: <span class="built_in">var</span>(--el-transition-duration-fast);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-upload</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-color</span>: <span class="built_in">var</span>(--el-color-primary);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-icon</span><span class="selector-class">.avatar-uploader-icon</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#8c939d</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="23-2-å¤´åƒå›æ˜¾">23.2 å¤´åƒå›æ˜¾</h3><p>ä»piniaä¸­è¯»å–ç”¨æˆ·çš„å¤´åƒæ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;useUserInfoStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> userInfoStore = <span class="title function_">useUserInfoStore</span>()</span><br><span class="line"><span class="keyword">const</span> imgUrl=<span class="title function_">ref</span>(userInfoStore.<span class="property">info</span>.<span class="property">userPic</span>)</span><br></pre></td></tr></table></figure><p>imgæ ‡ç­¾ä¸Šç»‘å®šå›¾ç‰‡åœ°å€</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-else</span> <span class="attr">src</span>=<span class="string">&quot;@/assets/avatar.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;278&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="23-3-å¤´åƒä¸Šä¼ ">23.3 å¤´åƒä¸Šä¼ </h3><p>ä¸ºel-uploadæŒ‡å®šå±æ€§å€¼ï¼Œåˆ†åˆ«æœ‰ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>â€‹action: æœåŠ¡å™¨æ¥å£è·¯å¾„</p></li><li class="lvl-2"><p>â€‹headers: è®¾ç½®è¯·æ±‚å¤´ï¼Œéœ€è¦æºå¸¦token</p></li><li class="lvl-2"><p>â€‹on-success: ä¸Šä¼ æˆåŠŸçš„å›è°ƒå‡½æ•°</p></li><li class="lvl-2"><p>â€‹name: ä¸Šä¼ å›¾ç‰‡çš„å­—æ®µåç§°</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:auto-upload</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">action</span>=<span class="string">&quot;/api/upload&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">name</span>=<span class="string">&quot;file&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:headers</span>=<span class="string">&quot;&#123;&#x27;Authorization&#x27;:tokenStore.token&#125;&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:on-success</span>=<span class="string">&quot;uploadSuccess&quot;</span></span></span><br><span class="line"><span class="tag">           &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-else</span> <span class="attr">src</span>=<span class="string">&quot;@/assets/avatar.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;278&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æä¾›ä¸Šä¼ æˆåŠŸçš„å›è°ƒå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–tokenä¿¡æ¯</span></span><br><span class="line"><span class="keyword">import</span> &#123;useTokenStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾ç‰‡ä¸Šä¼ æˆåŠŸçš„å›è°ƒ</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">uploadSuccess</span> = (<span class="params">result</span>)=&gt;&#123;</span><br><span class="line">    <span class="comment">//å›æ˜¾å›¾ç‰‡</span></span><br><span class="line">    imgUrl.<span class="property">value</span> = result.<span class="property">data</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤–éƒ¨è§¦å‘å›¾ç‰‡é€‰æ‹©</p><p>â€‹éœ€è¦è·å–åˆ°el-uploadç»„ä»¶ï¼Œç„¶åå†é€šè¿‡$el.querySelector(â€˜inputâ€™)è·å–åˆ°el-uploadå¯¹åº”çš„å…ƒç´ ï¼Œè§¦å‘clickäº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//è·å–el-uploadå…ƒç´ </span><br><span class="line">const uploadRef = ref()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Plus&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>  @<span class="attr">click</span>=<span class="string">&quot;uploadRef.$el.querySelector(&#x27;input&#x27;).click()&quot;</span>&gt;</span></span><br><span class="line">    é€‰æ‹©å›¾ç‰‡</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="24-4-æ¥å£è°ƒç”¨">24.4 æ¥å£è°ƒç”¨</h3><p>åœ¨user.jsä¸­æä¾›ä¿®æ”¹å¤´åƒçš„å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹å¤´åƒ</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userAvatarUpdateService</span>=(<span class="params">avatarUrl</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>();</span><br><span class="line">    params.<span class="title function_">append</span>(<span class="string">&#x27;avatarUrl&#x27;</span>,avatarUrl)</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">patch</span>(<span class="string">&#x27;/user/updateAvatar&#x27;</span>,params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºã€ä¸Šä¼ å¤´åƒã€‘æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Upload&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateAvatar&quot;</span>&gt;</span></span><br><span class="line">    ä¸Šä¼ å¤´åƒ</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æä¾›updateAvatarå‡½æ•°ï¼Œå®Œæˆå¤´åƒæ›´æ–°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨æ¥å£ï¼Œæ›´æ–°å¤´åƒurl</span></span><br><span class="line"><span class="keyword">import</span> &#123;userAvatarUpdateService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ElMessage</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateAvatar</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">userAvatarUpdateService</span>(imgUrl.<span class="property">value</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;ä¿®æ”¹æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//æ›´æ–°piniaä¸­çš„æ•°æ®</span></span><br><span class="line">    userInfoStore.<span class="property">info</span>.<span class="property">userPic</span>=imgUrl.<span class="property">value</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBooté¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘åœ¨äººé—´å‡‘æ•°çš„æ—¥å­</title>
      <link href="/posts/facab7a2.html"/>
      <url>/posts/facab7a2.html</url>
      
        <content type="html"><![CDATA[<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>ææœˆäº®ã®å°åŒ—</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>é‡Šæ€€çš„å°½å¤´æ˜¯é—å¿˜å—</p></div></div><div class='timeline-item-content'><p>æˆ–è®¸å®ƒæ›´åƒæ˜¯ä¸€åœºå†…å¿ƒçš„èœ•å˜ï¼Œè®©æˆ‘ä»¬åœ¨æ—¶å…‰çš„æ´—ç¤¼ä¸­ï¼Œé€æ¸æ”¾ä¸‹è¿‡å»çš„åŒ…è¢±ï¼Œæ‹¥æŠ±æœªæ¥çš„æ— é™å¯èƒ½ã€‚é—å¿˜å¹¶ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯æˆ‘ä»¬å¿ƒçµå¾—ä»¥è‡ªç”±é£ç¿”çš„èµ·ç‚¹ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å­¤ç‹¬æ‰æ˜¯ç”Ÿå‘½çš„å¸¸æ€å—ï¼Ÿ</p></div></div><div class='timeline-item-content'><p>å­¤ç‹¬ä»ä¸æ¥è‡ªé™Œç”Ÿäººï¼ŒåŸå¸‚ä¸­äº’ä¸ç›¸è¯†çš„äººä»¬ä¼¼ä¹æˆ´ç€ç½©å­ï¼Œå„è‡ªç©¿æ¢­ï¼Œæ¼«å¤©é›¨æ°´æ•²å‡»ä¸åˆ°å¿ƒçµã€‚å­¤ç‹¬æ¥è‡ªç”Ÿå‘½ä¸­é‚£äº›é‡è¦çš„äººï¼Œä»–ä»¬çš„å½±å­æ‰æ ¹åœ¨æ—§æ—¶å…‰ï¼Œç¬‘å®¹ä¸çŸ¥é“å»äº†ä½•æ–¹ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>æˆå¹´äººçš„ä¸–ç•Œæœ‰çˆ±æƒ…å—ï¼Ÿ</p></div></div><div class='timeline-item-content'><p>å¤§æµ·æ°¸è¿œä¼šæ˜ ç…§ç€å¤©ä¸Šçš„æ˜Ÿè¾°ï¼Œå¤©ä¸Šçš„æ˜Ÿè¾°æ°¸è¿œä¸ä¼šå­¤å•ï¼Œå¹¸è¿çš„æµ·é£ä¹Ÿä¼šä¸€ç›´å¹æ‹‚ç€ä½ çš„è„¸åºï¼Œè€Œä½ ï¼æˆ‘çš„æœ‹å‹ï¼Œä½ çš„çˆ±æƒ…ä¹Ÿä¸ä¼šå¤ªè¿Ÿ</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>éº»ç»³ä¸“æŒ‘ç»†å¤„æ–­ ï¼Œå„è¿ä¸“æŒ‘è‹¦å‘½äºº</p></div></div><div class='timeline-item-content'><p>æˆ‘å‡è£…ç”Ÿç—…ä¸ä¸Šè¯¾ ï¼Œçˆ¶äº²å‡è£…å¥åº·å»ä¸Šç­</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>ä¸ºä»€ä¹ˆäººä¸äººå†³å®šè¦åˆ†å¼€çš„æ—¶å€™ ï¼Œæ€»ä¼šè¯´ä¸€äº›éš¾å¬çš„è¯</p></div></div><div class='timeline-item-content'><p>æ¬²ä¸äººç»ï¼Œè¨€ä¸­æ¶è¯­ï¼Œéæ— æƒ…ï¼Œæƒ§æ‚”ä¹Ÿã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å…³äºè¿·èŒ«</p></div></div><div class='timeline-item-content'><p>å½“ä½ è¿·èŒ«ï¼Œä¸ç¡®å®šè„šä¸‹çš„è·¯å¦‚ä½•èµ°çš„æ—¶å€™ï¼Œå°±çœ‹ä¸€çœ‹å²é“ç”Ÿçš„è¿™ä¸€å¥è¯ï¼š   â€œè¦ç´§çš„æ˜¯æœæ•¢åœ°è¿ˆå‡ºç¬¬ä¸€æ­¥ï¼Œå¯¹ä¸é”™å…ˆéƒ½ä¸ç®¡è‡ªå¤å°±æ²¡æœ‰æŠŠä¸€åˆ‡éƒ½è®¾è®¡å¥½å†å¼€æ­¥çš„äº‹ã€‚åˆ«æƒ³æŠŠä¸€åˆ‡éƒ½å¼„æ¸…æ¥šï¼Œå†å»èµ°è·¯ã€‚é²è½è€…è¦å­¦ä¼šæ€è€ƒï¼Œå–„æ€è€…è¦å…‹æœçš„æ˜¯çŠ¹è±«ã€‚â€</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å¦‚ä½•åšåˆ°å–œæ¬¢å´ä¸è”ç³»çš„</p></div></div><div class='timeline-item-content'><p>çˆ±åˆ°æè‡´ä¸çº ç¼ ï¼Œæ€åˆ°æè‡´ä¸æƒ³è§ã€‚  é‚£æ—¶å€™å¤ªå–œæ¬¢äº†ï¼Œä»¥è‡³äºé‚£ç¢—å¤¹ç”Ÿé¥­ï¼Œå’½äº†åˆå’½ï¼Œä¹Ÿæ¯«æ— æ€¨è¨€ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å…³äºå¯¹å®¶åº­çš„è®¨åŒ</p></div></div><div class='timeline-item-content'><p>ä½ è®¨åŒå¦ˆå¦ˆçš„å¸‚ä¾©åœ†æ»‘ï¼Œå´ä¸çŸ¥é“å¥¹æ›¾ç»è·Ÿä½ ä¸€æ ·æ†§æ†¬è¿‡æœªæ¥ï¼Œä½ è®¨åŒçˆ¶äº²çš„å¹³åº¸ï¼Œå´ä¸çŸ¥é“ä»–æ›¾ç»ä¹Ÿæ˜¯ä¸ªæ€€æ£æ¢¦æƒ³çš„ç”·å­©</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>æ˜æ˜å·²ç»å¤±å»äº†ï¼Œé‚£ä¸ºä½•è¿˜ä¼šæ—¶é•¿æƒ³èµ·</p></div></div><div class='timeline-item-content'><p>å®«å´éªè¯´è¿‡ï¼šå…¶å®æˆ‘å¾ˆæ—©å°±çŸ¥é“ï¼Œæˆ‘ä»¬ä¸åˆé€‚ï¼Œä½†æˆ‘è¿˜æ˜¯æ‹’ç»äº†æ‰€æœ‰äººï¼Œé™ªä½ èµ°äº†ä¸€æ®µæ²¡æœ‰ç»“æœçš„è·¯ï¼Œè™½ç„¶æ—¶é—´ä¸é•¿ï¼Œä½†æ¯•ç”Ÿéš¾å¿˜ã€‚æˆ‘å–œæ¬¢ä½ ï¼Œä»¥ä¸ºä½ ä¹Ÿå–œæ¬¢æˆ‘ï¼Œä½†æ˜¯ï¼Œæ¹–æ˜¯æ¹–ï¼Œæµ·æ˜¯æµ·ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>æ”¯æ”¯å¾å¾ä¹Ÿå¾ˆæµªæ¼« å™æ„ä¸æ¸…ä¹Ÿä»£è¡¨å–œæ¬¢</p></div></div><div class='timeline-item-content'><p>æˆ‘è¯ä¸è¾¾æ„çš„è¡¨ç™½ï¼Œé¥±å«çœŸè¯šå–œæ„Ÿï¼Œå¿«é¤å¼çš„æ‹çˆ±å¹´ä»£ã€‚å¤ªå¤šäººéº»æœ¨çˆ±ä¸ªå¤§æ¦‚ï¼Œè°éƒ½ä¸æ˜ç™½ã€‚ç«ç‘°åœ¨æ²™æ¼ ç››å¼€ï¼Œå¤§é›¨åˆ«ç¦»ä¼šåœä¸‹æ¥ã€‚è®©æµ·é£å¹èµ°å–§åš£è…çƒ‚çš„çˆ±ï¼Œæ»¡æ€€çœŸå¿ƒè€Œæ¥ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å½“ä½ å®ç°è´¢å¯Œè‡ªç”±äº†ï¼Œä½ æœ€æƒ³åšçš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿ</p></div></div><div class='timeline-item-content'><p>æŠ¹å»æ¯äº²ç¾¡æ…•çš„çœ¼ç¥ ï¼Œæ‰¶æ­£çˆ¶äº²å¼¯ä¸‹çš„è…°æ†</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>è‡ªç”±äºŒå­—æœ¬å°±æ¡æ¡æ¡†æ¡† ï¼Œç‰¢ç¬¼äºŒå­—åå€’æ˜¯å››é¢é€é£</p></div></div><div class='timeline-item-content'><p>è‡ªç”±çœ‹ä¼¼æ¡æ¡æ¡†æ¡†ä½†æ˜¯æ€»æœ‰ä¸€ç¬”å‡ºå¤´ï¼Œç‰¢ç¬¼çœ‹ç€é€é£å´è¢«ç½©ä½äº†å¤´</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>æ‰€ä»¥çœŸçˆ±è¿˜æ˜¯æ— æ•Œå—ï¼Ÿ</p></div></div><div class='timeline-item-content'><p>ç†æƒ³ä¸»ä¹‰çš„èŠ±ï¼Œä¸ä¼šå¼€åœ¨æµªæ¼«ä¸»ä¹‰çš„åœŸåœ°é‡Œï¼Œç»ˆæœ‰ä¸€å¤©ï¼Œä½ ä¼šæ”¾å¼ƒç†æƒ³ï¼Œå¯¹æµªæ¼«ä¸å†æœŸå¾…ï¼Œå°±åƒæŠŠè‡ªå·±çš„çµé­‚æµ¸å…¥é‚£è‡­ä¸å¯é—»çš„ä¸‹æ°´é“æ·¤æ³¥é‡Œï¼Œæ—¢ä¸æ­»ä¹Ÿä¸æ´»</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å…³äºå»ºè®®</p></div></div><div class='timeline-item-content'><p>å…¶å®äººä¸€è¾ˆå­æ˜¯éœ€è¦ä¸€äº›å»ºè®®çš„ï¼Œå¯»æ±‚ç­”æ¡ˆï¼Œå°±æ˜¯å½“è‡ªå·±å¯»æ‰¾ä¸å‡ºç­”æ¡ˆåšä¸å‡ºæ­£ç¡®çš„é€‰æ‹©æ—¶ï¼Œéœ€è¦å€Ÿé‰´åˆ«äººçš„å»ºè®®ï¼Œä¾›è‡ªå·±åšå‡ºé€‰æ‹©ï¼Œä»–äººçš„é«˜åº¦ç¡®å®å¯èƒ½é™åˆ¶äº†ä½ çš„è§†é‡ï¼Œä½†å¦‚æœå½“è‡ªå·±æ²¡æœ‰åˆ«äººçš„é«˜åº¦æ—¶ï¼Œæ˜¯å¯ä»¥å€Ÿé‰´åˆ«äººçš„è§†é‡æ¥ï¼Œçœ‹æ¸…è‡ªå·±ï¼Œç­”æ¡ˆæ°¸è¿œæ˜¯è‡ªå·±è®¤åŒï¼Œå¹¶ä¸éœ€è¦è¿½æ±‚åˆ«äººçš„è®¤åŒï¼Œè¿™æ ·æ‰ä¸èƒ½è¢«ä¸–äººçš„é«˜å¢™å›´ä½ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>å…³äºç¦»å¼€</p></div></div><div class='timeline-item-content'><p>èµ°è¿›ä¸€ä¸ªäººçš„æ—¶å€™ ï¼Œè¦æ…¢ä¸€ç‚¹ ï¼Œä»¥å…çœ‹ä¸æ¸… ã€‚ç¦»å¼€ä¸€ä¸ªäººçš„æ—¶å€™è¦å¿«ä¸€ç‚¹ ï¼Œä»¥å…èˆä¸å¾—.<br>äººæµ·èŒ«èŒ« ï¼Œå…ˆæœ‰ä¸ç”˜ ï¼Œåæœ‰å¿ƒå®‰ ï¼Œä¹çŸ¥å¤©å‘½ ï¼Œæ•…ä¸å¿§ !</p></div></div></div>]]></content>
      
      
      <categories>
          
          <category> å‹äººå¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆ‘åœ¨äººé—´å‡‘æ•°çš„æ—¥å­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥èº«æ—¥è®°</title>
      <link href="/posts/5413be0e.html"/>
      <url>/posts/5413be0e.html</url>
      
        <content type="html"><![CDATA[<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>TimeLine</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-29 18:41:33</p></div></div><div class='timeline-item-content'><p>ä»Šå¤©ç»ƒèƒŒ + ä¸‰å¤´</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-25 16:40:33</p></div></div><div class='timeline-item-content'><p>ä»Šå¤©ç»ƒèƒ¸ ï¼Œå¸Œæœ›æ˜å¤©ä¹Ÿèƒ½åšæŒä¸‹å»</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-25 10:37:30</p></div></div><div class='timeline-item-content'><p>å¥èº«æ—¥è®°çœŸçš„æ˜¯å¥èº«æ—¥å¯„ ï¼Œå¥½ä¹…æ²¡æ€ä¹ˆé”»ç‚¼äº†</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-20 16:43:20</p></div></div><div class='timeline-item-content'><p>ä»Šå¤©æœ‰äº‹è€½æäº† ï¼Œæ²¡æœ‰é”»ç‚¼ ï¼Œæ»¡æ»¡çš„ç½ªæ¶æ„Ÿ</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-18 17:43:20</p></div></div><div class='timeline-item-content'><p>ä»Šæ—¥ç»ƒèƒ¸å’ŒäºŒå¤´</p></div></div></div>]]></content>
      
      
      <categories>
          
          <category> å‹äººå¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆ‘åœ¨äººé—´å‡‘æ•°çš„æ—¥å­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rediså®æˆ˜ç¯‡</title>
      <link href="/posts/a6b15897.html"/>
      <url>/posts/a6b15897.html</url>
      
        <content type="html"><![CDATA[<h2 id="å¼€ç¯‡å¯¼è¯»">å¼€ç¯‡å¯¼è¯»</h2><p>äº²çˆ±çš„å°ä¼™ä¼´ä»¬å¤§å®¶å¥½ï¼Œé©¬ä¸Šå’±ä»¬å°±å¼€å§‹å®æˆ˜ç¯‡çš„å†…å®¹äº†ï¼Œç›¸ä¿¡é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œå°ä¼™ä¼´ä»¬å°±èƒ½ç†è§£å„ç§redisçš„ä½¿ç”¨å•¦ï¼Œæ¥ä¸‹æ¥å’±ä»¬æ¥ä¸€èµ·çœ‹çœ‹å®æˆ˜ç¯‡æˆ‘ä»¬è¦å­¦ä¹ ä¸€äº›ä»€ä¹ˆæ ·çš„å†…å®¹</p><ul class="lvl-0"><li class="lvl-2"><p>çŸ­ä¿¡ç™»å½•</p></li></ul><p>è¿™ä¸€å—æˆ‘ä»¬ä¼šä½¿ç”¨rediså…±äº«sessionæ¥å®ç°</p><ul class="lvl-0"><li class="lvl-2"><p>å•†æˆ·æŸ¥è¯¢ç¼“å­˜</p></li></ul><p>é€šè¿‡æœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬ä¼šç†è§£ç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€ï¼Œç¼“å­˜é›ªå´©ç­‰é—®é¢˜ï¼Œè®©å°ä¼™ä¼´çš„å¯¹äºè¿™äº›æ¦‚å¿µçš„ç†è§£ä¸ä»…ä»…æ˜¯åœç•™åœ¨æ¦‚å¿µä¸Šï¼Œæ›´æ˜¯èƒ½åœ¨ä»£ç ä¸­çœ‹åˆ°å¯¹åº”çš„å†…å®¹</p><ul class="lvl-0"><li class="lvl-2"><p>ä¼˜æƒ å·ç§’æ€</p></li></ul><p>é€šè¿‡æœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¼šRedisçš„è®¡æ•°å™¨åŠŸèƒ½ï¼Œ ç»“åˆLuaå®Œæˆé«˜æ€§èƒ½çš„redisæ“ä½œï¼ŒåŒæ—¶å­¦ä¼šRedisåˆ†å¸ƒå¼é”çš„åŸç†ï¼ŒåŒ…æ‹¬Redisçš„ä¸‰ç§æ¶ˆæ¯é˜Ÿåˆ—</p><ul class="lvl-0"><li class="lvl-2"><p>é™„è¿‘çš„å•†æˆ·</p></li></ul><p>æˆ‘ä»¬åˆ©ç”¨Redisçš„GEOHashæ¥å®Œæˆå¯¹äºåœ°ç†åæ ‡çš„æ“ä½œ</p><ul class="lvl-0"><li class="lvl-2"><p>UVç»Ÿè®¡</p></li></ul><p>ä¸»è¦æ˜¯ä½¿ç”¨Redisæ¥å®Œæˆç»Ÿè®¡åŠŸèƒ½</p><ul class="lvl-0"><li class="lvl-2"><p>ç”¨æˆ·ç­¾åˆ°</p></li></ul><p>ä½¿ç”¨Redisçš„BitMapæ•°æ®ç»Ÿè®¡åŠŸèƒ½</p><ul class="lvl-0"><li class="lvl-2"><p>å¥½å‹å…³æ³¨</p></li></ul><p>åŸºäºSeté›†åˆçš„å…³æ³¨ã€å–æ¶ˆå…³æ³¨ï¼Œå…±åŒå…³æ³¨ç­‰ç­‰åŠŸèƒ½ï¼Œè¿™ä¸€å—çŸ¥è¯†å’±ä»¬ä¹‹å‰å°±è®²è¿‡ï¼Œè¿™æ¬¡æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­æ¥ä½¿ç”¨ä¸€ä¸‹</p><ul class="lvl-0"><li class="lvl-2"><p>æ‰“äººæ¢åº—</p></li></ul><p>åŸºäºListæ¥å®Œæˆç‚¹èµåˆ—è¡¨çš„æ“ä½œï¼ŒåŒæ—¶åŸºäºSortedSetæ¥å®Œæˆç‚¹èµçš„æ’è¡Œæ¦œåŠŸèƒ½</p><p>ä»¥ä¸Šè¿™äº›å†…å®¹å’±ä»¬ç»Ÿç»Ÿéƒ½ä¼šç»™å°ä¼™ä¼´ä»¬è®²è§£æ¸…æ¥šï¼Œè®©å¤§å®¶å……åˆ†ç†è§£å¦‚ä½•ä½¿ç”¨Redis</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653056228879-20240615212954-gpzld2n.png" alt="1653056228879">â€‹</p><h2 id="1ã€çŸ­ä¿¡ç™»å½•">1ã€çŸ­ä¿¡ç™»å½•</h2><h3 id="1-1ã€å¯¼å…¥é»‘é©¬ç‚¹è¯„é¡¹ç›®">1.1ã€å¯¼å…¥é»‘é©¬ç‚¹è¯„é¡¹ç›®</h3><h4 id="1-1-1-ã€å¯¼å…¥SQL">1.1.1 ã€å¯¼å…¥SQL</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653057872536-20240615212954-0efpw2e.png" alt="1653057872536">â€‹</p><p>â€</p><h4 id="1-1-2ã€æœ‰å…³å½“å‰æ¨¡å‹">1.1.2ã€æœ‰å…³å½“å‰æ¨¡å‹</h4><p>â€</p><p>æ‰‹æœºæˆ–è€…appç«¯å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚æˆ‘ä»¬çš„nginxæœåŠ¡å™¨ï¼ŒnginxåŸºäºä¸ƒå±‚æ¨¡å‹èµ°çš„äº‹HTTPåè®®ï¼Œå¯ä»¥å®ç°åŸºäºLuaç›´æ¥ç»•å¼€tomcatè®¿é—®redisï¼Œä¹Ÿå¯ä»¥ä½œä¸ºé™æ€èµ„æºæœåŠ¡å™¨ï¼Œè½»æ¾æ‰›ä¸‹ä¸Šä¸‡å¹¶å‘ï¼Œ è´Ÿè½½å‡è¡¡åˆ°ä¸‹æ¸¸tomcatæœåŠ¡å™¨ï¼Œæ‰“æ•£æµé‡ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä¸€å°4æ ¸8Gçš„tomcatï¼Œåœ¨ä¼˜åŒ–å’Œå¤„ç†ç®€å•ä¸šåŠ¡çš„åŠ æŒä¸‹ï¼Œå¤§ä¸äº†å°±å¤„ç†1000å·¦å³çš„å¹¶å‘ï¼Œ ç»è¿‡nginxçš„è´Ÿè½½å‡è¡¡åˆ†æµåï¼Œåˆ©ç”¨é›†ç¾¤æ”¯æ’‘èµ·æ•´ä¸ªé¡¹ç›®ï¼ŒåŒæ—¶nginxåœ¨éƒ¨ç½²äº†å‰ç«¯é¡¹ç›®åï¼Œæ›´æ˜¯å¯ä»¥åšåˆ°åŠ¨é™åˆ†ç¦»ï¼Œè¿›ä¸€æ­¥é™ä½tomcatæœåŠ¡çš„å‹åŠ›ï¼Œè¿™äº›åŠŸèƒ½éƒ½å¾—é nginxèµ·ä½œç”¨ï¼Œæ‰€ä»¥nginxæ˜¯æ•´ä¸ªé¡¹ç›®ä¸­é‡è¦çš„ä¸€ç¯ã€‚</p><p>â€</p><p>åœ¨tomcatæ”¯æ’‘èµ·å¹¶å‘æµé‡åï¼Œæˆ‘ä»¬å¦‚æœè®©tomcatç›´æ¥å»è®¿é—®Mysqlï¼Œæ ¹æ®ç»éªŒMysqlä¼ä¸šçº§æœåŠ¡å™¨åªè¦ä¸Šç‚¹å¹¶å‘ï¼Œä¸€èˆ¬æ˜¯16æˆ–32 æ ¸å¿ƒcpuï¼Œ32 æˆ–64Gå†…å­˜ï¼Œåƒä¼ä¸šçº§mysqlåŠ ä¸Šå›ºæ€ç¡¬ç›˜èƒ½å¤Ÿæ”¯æ’‘çš„å¹¶å‘ï¼Œå¤§æ¦‚å°±æ˜¯4000èµ·~7000å·¦å³ï¼Œä¸Šä¸‡å¹¶å‘ï¼Œ ç¬é—´å°±ä¼šè®©MysqlæœåŠ¡å™¨çš„cpuï¼Œç¡¬ç›˜å…¨éƒ¨æ‰“æ»¡ï¼Œå®¹æ˜“å´©æºƒï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¼šé€‰æ‹©ä½¿ç”¨mysqlé›†ç¾¤ï¼ŒåŒæ—¶ä¸ºäº†è¿›ä¸€æ­¥é™ä½Mysqlçš„å‹åŠ›ï¼ŒåŒæ—¶å¢åŠ è®¿é—®çš„æ€§èƒ½ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåŠ å…¥Redisï¼ŒåŒæ—¶ä½¿ç”¨Redisé›†ç¾¤ä½¿å¾—Rediså¯¹å¤–æä¾›æ›´å¥½çš„æœåŠ¡ã€‚</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653059409865-20240615212954-l7wb0t6.png" alt="1653059409865">â€‹</p><h4 id="1-1-3ã€å¯¼å…¥åç«¯é¡¹ç›®">1.1.3ã€å¯¼å…¥åç«¯é¡¹ç›®</h4><p>åœ¨èµ„æ–™ä¸­æä¾›äº†ä¸€ä¸ªé¡¹ç›®æºç ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653060237073-20240615212954-5tzx6i3.png" alt="1653060237073">â€‹</p><h4 id="1-1-4ã€å¯¼å…¥å‰ç«¯å·¥ç¨‹">1.1.4ã€å¯¼å…¥å‰ç«¯å·¥ç¨‹</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653060337562-20240615212954-uadevkf.png" alt="1653060337562">â€‹</p><h4 id="1-1-5-è¿è¡Œå‰ç«¯é¡¹ç›®">1.1.5 è¿è¡Œå‰ç«¯é¡¹ç›®</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653060588190-20240615212954-haxvzyp.png" alt="1653060588190">â€‹</p><h3 id="1-2-ã€åŸºäºSessionå®ç°ç™»å½•æµç¨‹">1.2 ã€åŸºäºSessionå®ç°ç™»å½•æµç¨‹</h3><p><strong>å‘é€éªŒè¯ç ï¼š</strong></p><p>ç”¨æˆ·åœ¨æäº¤æ‰‹æœºå·åï¼Œä¼šæ ¡éªŒæ‰‹æœºå·æ˜¯å¦åˆæ³•ï¼Œå¦‚æœä¸åˆæ³•ï¼Œåˆ™è¦æ±‚ç”¨æˆ·é‡æ–°è¾“å…¥æ‰‹æœºå·</p><p>å¦‚æœæ‰‹æœºå·åˆæ³•ï¼Œåå°æ­¤æ—¶ç”Ÿæˆå¯¹åº”çš„éªŒè¯ç ï¼ŒåŒæ—¶å°†éªŒè¯ç è¿›è¡Œä¿å­˜ï¼Œç„¶åå†é€šè¿‡çŸ­ä¿¡çš„æ–¹å¼å°†éªŒè¯ç å‘é€ç»™ç”¨æˆ·</p><p><strong>çŸ­ä¿¡éªŒè¯ç ç™»å½•ã€æ³¨å†Œï¼š</strong></p><p>ç”¨æˆ·å°†éªŒè¯ç å’Œæ‰‹æœºå·è¿›è¡Œè¾“å…¥ï¼Œåå°ä»sessionä¸­æ‹¿åˆ°å½“å‰éªŒè¯ç ï¼Œç„¶åå’Œç”¨æˆ·è¾“å…¥çš„éªŒè¯ç è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåˆ™æ— æ³•é€šè¿‡æ ¡éªŒï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™åå°æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ·ï¼Œå¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œåˆ™ä¸ºç”¨æˆ·åˆ›å»ºè´¦å·ä¿¡æ¯ï¼Œä¿å­˜åˆ°æ•°æ®åº“ï¼Œæ— è®ºæ˜¯å¦å­˜åœ¨ï¼Œéƒ½ä¼šå°†ç”¨æˆ·ä¿¡æ¯ä¿å­˜åˆ°sessionä¸­ï¼Œæ–¹ä¾¿åç»­è·å¾—å½“å‰ç™»å½•ä¿¡æ¯</p><p><strong>æ ¡éªŒç™»å½•çŠ¶æ€:</strong></p><p>ç”¨æˆ·åœ¨è¯·æ±‚æ—¶å€™ï¼Œä¼šä»cookieä¸­æºå¸¦è€…JsessionIdåˆ°åå°ï¼Œåå°é€šè¿‡JsessionIdä»sessionä¸­æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰sessionä¿¡æ¯ï¼Œåˆ™è¿›è¡Œæ‹¦æˆªï¼Œå¦‚æœæœ‰sessionä¿¡æ¯ï¼Œåˆ™å°†ç”¨æˆ·ä¿¡æ¯ä¿å­˜åˆ°threadLocalä¸­ï¼Œå¹¶ä¸”æ”¾è¡Œ</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653066208144-20240615212954-u87bbkh.png" alt="1653066208144">â€‹</p><h3 id="1-3-ã€å®ç°å‘é€çŸ­ä¿¡éªŒè¯ç åŠŸèƒ½">1.3 ã€å®ç°å‘é€çŸ­ä¿¡éªŒè¯ç åŠŸèƒ½</h3><p><strong>é¡µé¢æµç¨‹</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653067054461-20240615212954-f720sny.png" alt="1653067054461">â€‹</p><p><strong>å…·ä½“ä»£ç å¦‚ä¸‹</strong></p><p><strong>è´´å¿ƒå°æç¤ºï¼š</strong></p><p>å…·ä½“é€»è¾‘ä¸Šæ–‡å·²ç»åˆ†æï¼Œæˆ‘ä»¬ä»…ä»…åªéœ€è¦æŒ‰ç…§æç¤ºçš„é€»è¾‘å†™å‡ºä»£ç å³å¯ã€‚</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>å‘é€éªŒè¯ç </p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">sendCode</span><span class="params">(String phone, HttpSession session)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ ¡éªŒæ‰‹æœºå·</span></span><br><span class="line">    <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">        <span class="comment">// 2.å¦‚æœä¸ç¬¦åˆï¼Œè¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.ç¬¦åˆï¼Œç”ŸæˆéªŒè¯ç </span></span><br><span class="line">    <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> RandomUtil.randomNumbers(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4.ä¿å­˜éªŒè¯ç åˆ° session</span></span><br><span class="line">    session.setAttribute(<span class="string">&quot;code&quot;</span>,code);</span><br><span class="line">    <span class="comment">// 5.å‘é€éªŒè¯ç </span></span><br><span class="line">    log.debug(<span class="string">&quot;å‘é€çŸ­ä¿¡éªŒè¯ç æˆåŠŸï¼ŒéªŒè¯ç ï¼š&#123;&#125;&quot;</span>, code);</span><br><span class="line">    <span class="comment">// è¿”å›ok</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>ç™»å½•</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(LoginFormDTO loginForm, HttpSession session)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ ¡éªŒæ‰‹æœºå·</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> loginForm.getPhone();</span><br><span class="line">    <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">        <span class="comment">// 2.å¦‚æœä¸ç¬¦åˆï¼Œè¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.æ ¡éªŒéªŒè¯ç </span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">cacheCode</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;code&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> loginForm.getCode();</span><br><span class="line">    <span class="keyword">if</span>(cacheCode == <span class="literal">null</span> || !cacheCode.toString().equals(code))&#123;</span><br><span class="line">         <span class="comment">//3.ä¸ä¸€è‡´ï¼ŒæŠ¥é”™</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;éªŒè¯ç é”™è¯¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸€è‡´ï¼Œæ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> query().eq(<span class="string">&quot;phone&quot;</span>, phone).one();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">        user =  createUserWithPhone(phone);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//7.ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°sessionä¸­</span></span><br><span class="line">    session.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-4ã€å®ç°ç™»å½•æ‹¦æˆªåŠŸèƒ½">1.4ã€å®ç°ç™»å½•æ‹¦æˆªåŠŸèƒ½</h3><p><strong>æ¸©é¦¨å°è´´å£«ï¼štomcatçš„è¿è¡ŒåŸç†</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653068196656-20240615212954-7q8gh25.png" alt="1653068196656">â€‹</p><p>å½“ç”¨æˆ·å‘èµ·è¯·æ±‚æ—¶ï¼Œä¼šè®¿é—®æˆ‘ä»¬åƒtomcatæ³¨å†Œçš„ç«¯å£ï¼Œä»»ä½•ç¨‹åºæƒ³è¦è¿è¡Œï¼Œéƒ½éœ€è¦æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹å½“å‰ç«¯å£å·è¿›è¡Œç›‘å¬ï¼Œtomcatä¹Ÿä¸ä¾‹å¤–ï¼Œå½“ç›‘å¬çº¿ç¨‹çŸ¥é“ç”¨æˆ·æƒ³è¦å’Œtomcatè¿æ¥è¿æ¥æ—¶ï¼Œé‚£ä¼šç”±ç›‘å¬çº¿ç¨‹åˆ›å»ºsocketè¿æ¥ï¼Œsocketéƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œç”¨æˆ·é€šè¿‡socketåƒäº’ç›¸ä¼ é€’æ•°æ®ï¼Œå½“tomcatç«¯çš„socketæ¥å—åˆ°æ•°æ®åï¼Œæ­¤æ—¶ç›‘å¬çº¿ç¨‹ä¼šä»tomcatçš„çº¿ç¨‹æ± ä¸­å–å‡ºä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç”¨æˆ·è¯·æ±‚ï¼Œåœ¨æˆ‘ä»¬çš„æœåŠ¡éƒ¨ç½²åˆ°tomcatåï¼Œçº¿ç¨‹ä¼šæ‰¾åˆ°ç”¨æˆ·æƒ³è¦è®¿é—®çš„å·¥ç¨‹ï¼Œç„¶åç”¨è¿™ä¸ªçº¿ç¨‹è½¬å‘åˆ°å·¥ç¨‹ä¸­çš„controllerï¼Œserviceï¼Œdaoä¸­ï¼Œå¹¶ä¸”è®¿é—®å¯¹åº”çš„DBï¼Œåœ¨ç”¨æˆ·æ‰§è¡Œå®Œè¯·æ±‚åï¼Œå†ç»Ÿä¸€è¿”å›ï¼Œå†æ‰¾åˆ°tomcatç«¯çš„socketï¼Œå†å°†æ•°æ®å†™å›åˆ°ç”¨æˆ·ç«¯çš„socketï¼Œå®Œæˆè¯·æ±‚å’Œå“åº”</p><p>é€šè¿‡ä»¥ä¸Šè®²è§£ï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥ æ¯ä¸ªç”¨æˆ·å…¶å®å¯¹åº”éƒ½æ˜¯å»æ‰¾tomcatçº¿ç¨‹æ± ä¸­çš„ä¸€ä¸ªçº¿ç¨‹æ¥å®Œæˆå·¥ä½œçš„ï¼Œ ä½¿ç”¨å®Œæˆåå†è¿›è¡Œå›æ”¶ï¼Œæ—¢ç„¶æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥åœ¨æ¯ä¸ªç”¨æˆ·å»è®¿é—®æˆ‘ä»¬çš„å·¥ç¨‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨threadlocalæ¥åšåˆ°çº¿ç¨‹éš”ç¦»ï¼Œæ¯ä¸ªçº¿ç¨‹æ“ä½œè‡ªå·±çš„ä¸€ä»½æ•°æ®</p><p><strong>æ¸©é¦¨å°è´´å£«ï¼šå…³äºthreadlocal</strong></p><p>å¦‚æœå°ä¼™ä¼´ä»¬çœ‹è¿‡threadLocalçš„æºç ï¼Œä½ ä¼šå‘ç°åœ¨threadLocalä¸­ï¼Œæ— è®ºæ˜¯ä»–çš„putæ–¹æ³•å’Œä»–çš„getæ–¹æ³•ï¼Œ éƒ½æ˜¯å…ˆä»è·å¾—å½“å‰ç”¨æˆ·çš„çº¿ç¨‹ï¼Œç„¶åä»çº¿ç¨‹ä¸­å–å‡ºçº¿ç¨‹çš„æˆå‘˜å˜é‡mapï¼Œåªè¦çº¿ç¨‹ä¸ä¸€æ ·ï¼Œmapå°±ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥åšåˆ°çº¿ç¨‹éš”ç¦»</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653068874258-20240615212954-cs10jwn.png" alt="1653068874258">â€‹</p><p>æ‹¦æˆªå™¨ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">//1.è·å–session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">        <span class="comment">//2.è·å–sessionä¸­çš„ç”¨æˆ·</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">user</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="comment">//3.åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">              <span class="comment">//4.ä¸å­˜åœ¨ï¼Œæ‹¦æˆªï¼Œè¿”å›401çŠ¶æ€ç </span></span><br><span class="line">              response.setStatus(<span class="number">401</span>);</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//5.å­˜åœ¨ï¼Œä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°Threadlocal</span></span><br><span class="line">        UserHolder.saveUser((User)user);</span><br><span class="line">        <span class="comment">//6.æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®©æ‹¦æˆªå™¨ç”Ÿæ•ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MvcConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">// ç™»å½•æ‹¦æˆªå™¨</span></span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>())</span><br><span class="line">                .excludePathPatterns(</span><br><span class="line">                        <span class="string">&quot;/shop/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/voucher/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/shop-type/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/upload/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/blog/hot&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/user/code&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/user/login&quot;</span></span><br><span class="line">                ).order(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// tokenåˆ·æ–°çš„æ‹¦æˆªå™¨</span></span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">RefreshTokenInterceptor</span>(stringRedisTemplate)).addPathPatterns(<span class="string">&quot;/**&quot;</span>).order(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-5ã€éšè—ç”¨æˆ·æ•æ„Ÿä¿¡æ¯">1.5ã€éšè—ç”¨æˆ·æ•æ„Ÿä¿¡æ¯</h3><p>æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨è§‚å¯Ÿåˆ°æ­¤æ—¶ç”¨æˆ·çš„å…¨éƒ¨ä¿¡æ¯éƒ½åœ¨ï¼Œè¿™æ ·æä¸ºä¸é è°±ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”å½“åœ¨è¿”å›ç”¨æˆ·ä¿¡æ¯ä¹‹å‰ï¼Œå°†ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯è¿›è¡Œéšè—ï¼Œé‡‡ç”¨çš„æ ¸å¿ƒæ€è·¯å°±æ˜¯ä¹¦å†™ä¸€ä¸ªUserDtoå¯¹è±¡ï¼Œè¿™ä¸ªUserDtoå¯¹è±¡å°±æ²¡æœ‰æ•æ„Ÿä¿¡æ¯äº†ï¼Œæˆ‘ä»¬åœ¨è¿”å›å‰ï¼Œå°†æœ‰ç”¨æˆ·æ•æ„Ÿä¿¡æ¯çš„Userå¯¹è±¡è½¬åŒ–æˆæ²¡æœ‰æ•æ„Ÿä¿¡æ¯çš„UserDtoå¯¹è±¡ï¼Œé‚£ä¹ˆå°±èƒ½å¤Ÿé¿å…è¿™ä¸ªå°´å°¬çš„é—®é¢˜äº†</p><p><strong>åœ¨ç™»å½•æ–¹æ³•å¤„ä¿®æ”¹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//7.ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°sessionä¸­</span></span><br><span class="line">session.setAttribute(<span class="string">&quot;user&quot;</span>, BeanUtils.copyProperties(user,UserDTO.class));</span><br></pre></td></tr></table></figure><p><strong>åœ¨æ‹¦æˆªå™¨å¤„ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5.å­˜åœ¨ï¼Œä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°Threadlocal</span></span><br><span class="line">UserHolder.saveUser((UserDTO) user);</span><br></pre></td></tr></table></figure><p><strong>åœ¨UserHolderå¤„ï¼šå°†userå¯¹è±¡æ¢æˆUserDTO</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserHolder</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;UserDTO&gt; tl = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveUser</span><span class="params">(UserDTO user)</span>&#123;</span><br><span class="line">        tl.set(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> UserDTO <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> tl.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">removeUser</span><span class="params">()</span>&#123;</span><br><span class="line">        tl.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-6ã€sessionå…±äº«é—®é¢˜">1.6ã€sessionå…±äº«é—®é¢˜</h3><p><strong>æ ¸å¿ƒæ€è·¯åˆ†æï¼š</strong></p><p>æ¯ä¸ªtomcatä¸­éƒ½æœ‰ä¸€ä»½å±äºè‡ªå·±çš„session,å‡è®¾ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®ç¬¬ä¸€å°tomcatï¼Œå¹¶ä¸”æŠŠè‡ªå·±çš„ä¿¡æ¯å­˜æ”¾åˆ°ç¬¬ä¸€å°æœåŠ¡å™¨çš„sessionä¸­ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡è¿™ä¸ªç”¨æˆ·è®¿é—®åˆ°äº†ç¬¬äºŒå°tomcatï¼Œé‚£ä¹ˆåœ¨ç¬¬äºŒå°æœåŠ¡å™¨ä¸Šï¼Œè‚¯å®šæ²¡æœ‰ç¬¬ä¸€å°æœåŠ¡å™¨å­˜æ”¾çš„sessionï¼Œæ‰€ä»¥æ­¤æ—¶ æ•´ä¸ªç™»å½•æ‹¦æˆªåŠŸèƒ½å°±ä¼šå‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬èƒ½å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæ—©æœŸçš„æ–¹æ¡ˆæ˜¯sessionæ‹·è´ï¼Œå°±æ˜¯è¯´è™½ç„¶æ¯ä¸ªtomcatä¸Šéƒ½æœ‰ä¸åŒçš„sessionï¼Œä½†æ˜¯æ¯å½“ä»»æ„ä¸€å°æœåŠ¡å™¨çš„sessionä¿®æ”¹æ—¶ï¼Œéƒ½ä¼šåŒæ­¥ç»™å…¶ä»–çš„TomcatæœåŠ¡å™¨çš„sessionï¼Œè¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥å®ç°sessionçš„å…±äº«äº†</p><p>ä½†æ˜¯è¿™ç§æ–¹æ¡ˆå…·æœ‰ä¸¤ä¸ªå¤§é—®é¢˜</p><p>1ã€æ¯å°æœåŠ¡å™¨ä¸­éƒ½æœ‰å®Œæ•´çš„ä¸€ä»½sessionæ•°æ®ï¼ŒæœåŠ¡å™¨å‹åŠ›è¿‡å¤§ã€‚</p><p>2ã€sessionæ‹·è´æ•°æ®æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å»¶è¿Ÿ</p><p>æ‰€ä»¥å’±ä»¬åæ¥é‡‡ç”¨çš„æ–¹æ¡ˆéƒ½æ˜¯åŸºäºredisæ¥å®Œæˆï¼Œæˆ‘ä»¬<span data-type="text" style="color: var(--b3-font-color3);">æŠŠsessionæ¢æˆredisï¼Œredisæ•°æ®æœ¬èº«å°±æ˜¯å…±äº«çš„ï¼Œå°±å¯ä»¥é¿å…sessionå…±äº«çš„é—®é¢˜äº†</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653069893050-20240615212954-gk7zqfv.png" alt="1653069893050">â€‹</p><h3 id="1-7-Redisä»£æ›¿sessionçš„ä¸šåŠ¡æµç¨‹">1.7 Redisä»£æ›¿sessionçš„ä¸šåŠ¡æµç¨‹</h3><h4 id="1-7-1ã€è®¾è®¡keyçš„ç»“æ„">1.7.1ã€è®¾è®¡keyçš„ç»“æ„</h4><p>é¦–å…ˆæˆ‘ä»¬è¦æ€è€ƒä¸€ä¸‹åˆ©ç”¨redisæ¥å­˜å‚¨æ•°æ®ï¼Œé‚£ä¹ˆåˆ°åº•ä½¿ç”¨å“ªç§ç»“æ„å‘¢ï¼Ÿç”±äºå­˜å…¥çš„æ•°æ®æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨Stringï¼Œæˆ–è€…æ˜¯ä½¿ç”¨å“ˆå¸Œï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœä½¿ç”¨Stringï¼ŒåŒå­¦ä»¬æ³¨æ„ä»–çš„valueï¼Œç”¨å¤šå ç”¨ä¸€ç‚¹ç©ºé—´ï¼Œå¦‚æœä½¿ç”¨å“ˆå¸Œï¼Œåˆ™ä»–çš„valueä¸­åªä¼šå­˜å‚¨ä»–æ•°æ®æœ¬èº«ï¼Œ<span data-type="text" style="color: var(--b3-font-color7);">å¦‚æœä¸æ˜¯ç‰¹åˆ«åœ¨æ„å†…å­˜ï¼Œå…¶å®ä½¿ç”¨Stringå°±å¯ä»¥å•¦ã€‚</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653319261433-20240615212954-00wgg6n.png" alt="1653319261433">â€‹</p><h4 id="1-7-2ã€è®¾è®¡keyçš„å…·ä½“ç»†èŠ‚">1.7.2ã€è®¾è®¡keyçš„å…·ä½“ç»†èŠ‚</h4><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Stringç»“æ„ï¼Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„keyï¼Œvalueé”®å€¼å¯¹çš„æ–¹å¼ï¼Œä½†æ˜¯å…³äºkeyçš„å¤„ç†ï¼Œsessionä»–æ˜¯æ¯ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„sessionï¼Œä½†æ˜¯redisçš„keyæ˜¯å…±äº«çš„ï¼Œå’±ä»¬å°±ä¸èƒ½ä½¿ç”¨codeäº†</p><p>åœ¨è®¾è®¡è¿™ä¸ªkeyçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹‹å‰è®²è¿‡éœ€è¦æ»¡è¶³ä¸¤ç‚¹</p><ol><li class="lvl-3"><p>keyè¦å…·æœ‰å”¯ä¸€æ€§</p></li><li class="lvl-3"><p>keyè¦æ–¹ä¾¿æºå¸¦</p></li></ol><p><span data-type="text" style="color: var(--b3-font-color3);">å¦‚æœæˆ‘ä»¬é‡‡ç”¨phoneï¼šæ‰‹æœºå·è¿™ä¸ªçš„æ•°æ®æ¥å­˜å‚¨å½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¦‚æœæŠŠè¿™æ ·çš„æ•æ„Ÿæ•°æ®å­˜å‚¨åˆ°redisä¸­å¹¶ä¸”ä»é¡µé¢ä¸­å¸¦è¿‡æ¥æ¯•ç«Ÿä¸å¤ªåˆé€‚</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åå°ç”Ÿæˆä¸€ä¸ªéšæœºä¸²tokenï¼Œç„¶åè®©å‰ç«¯å¸¦æ¥è¿™ä¸ªtokenå°±èƒ½å®Œæˆæˆ‘ä»¬çš„æ•´ä½“é€»è¾‘äº†</p><h4 id="1-7-3ã€æ•´ä½“è®¿é—®æµç¨‹">1.7.3ã€æ•´ä½“è®¿é—®æµç¨‹</h4><p>å½“æ³¨å†Œå®Œæˆåï¼Œç”¨æˆ·å»ç™»å½•ä¼šå»æ ¡éªŒç”¨æˆ·æäº¤çš„æ‰‹æœºå·å’ŒéªŒè¯ç ï¼Œæ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œä¸å­˜åœ¨åˆ™æ–°å»ºï¼Œæœ€åå°†ç”¨æˆ·æ•°æ®ä¿å­˜åˆ°redisï¼Œå¹¶ä¸”ç”Ÿæˆtokenä½œä¸ºredisçš„keyï¼Œ<span data-type="text" style="background-color: var(--b3-font-background13);">å½“æˆ‘ä»¬æ ¡éªŒç”¨æˆ·æ˜¯å¦ç™»å½•æ—¶ï¼Œä¼šå»æºå¸¦ç€tokenè¿›è¡Œè®¿é—®ï¼Œä»redisä¸­å–å‡ºtokenå¯¹åº”çš„valueï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨è¿™ä¸ªæ•°æ®ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ‹¦æˆªï¼Œå¦‚æœå­˜åœ¨åˆ™å°†å…¶ä¿å­˜åˆ°threadLocalä¸­ï¼Œå¹¶ä¸”æ”¾è¡Œã€‚</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653319474181-20240615212954-9kw6x80.png" alt="1653319474181">â€‹</p><h3 id="1-8-åŸºäºRediså®ç°çŸ­ä¿¡ç™»å½•">1.8 åŸºäºRediså®ç°çŸ­ä¿¡ç™»å½•</h3><p>è¿™é‡Œå…·ä½“é€»è¾‘å°±ä¸åˆ†æäº†ï¼Œä¹‹å‰å’±ä»¬å·²ç»é‡ç‚¹åˆ†æè¿‡è¿™ä¸ªé€»è¾‘å•¦ã€‚</p><p><strong>UserServiceImplä»£ç </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(LoginFormDTO loginForm, HttpSession session)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ ¡éªŒæ‰‹æœºå·</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> loginForm.getPhone();</span><br><span class="line">    <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">        <span class="comment">// 2.å¦‚æœä¸ç¬¦åˆï¼Œè¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.ä»redisè·å–éªŒè¯ç å¹¶æ ¡éªŒ</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">cacheCode</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(LOGIN_CODE_KEY + phone);</span><br><span class="line">    <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> loginForm.getCode();</span><br><span class="line">    <span class="keyword">if</span> (cacheCode == <span class="literal">null</span> || !cacheCode.equals(code)) &#123;</span><br><span class="line">        <span class="comment">// ä¸ä¸€è‡´ï¼ŒæŠ¥é”™</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;éªŒè¯ç é”™è¯¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4.ä¸€è‡´ï¼Œæ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ· select * from tb_user where phone = ?</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> query().eq(<span class="string">&quot;phone&quot;</span>, phone).one();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5.åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 6.ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°ç”¨æˆ·å¹¶ä¿å­˜</span></span><br><span class="line">        user = createUserWithPhone(phone);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 7.ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ° redisä¸­</span></span><br><span class="line">    <span class="comment">// 7.1.éšæœºç”Ÿæˆtokenï¼Œä½œä¸ºç™»å½•ä»¤ç‰Œ</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> UUID.randomUUID().toString(<span class="literal">true</span>);</span><br><span class="line">    <span class="comment">// 7.2.å°†Userå¯¹è±¡è½¬ä¸ºHashMapå­˜å‚¨</span></span><br><span class="line">    <span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> BeanUtil.copyProperties(user, UserDTO.class);</span><br><span class="line">    Map&lt;String, Object&gt; userMap = BeanUtil.beanToMap(userDTO, <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(),</span><br><span class="line">            CopyOptions.create()</span><br><span class="line">                    .setIgnoreNullValue(<span class="literal">true</span>)</span><br><span class="line">                    .setFieldValueEditor((fieldName, fieldValue) -&gt; fieldValue.toString()));</span><br><span class="line">    <span class="comment">// 7.3.å­˜å‚¨</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">tokenKey</span> <span class="operator">=</span> LOGIN_USER_KEY + token;</span><br><span class="line">    stringRedisTemplate.opsForHash().putAll(tokenKey, userMap);</span><br><span class="line">    <span class="comment">// 7.4.è®¾ç½®tokenæœ‰æ•ˆæœŸ</span></span><br><span class="line">    stringRedisTemplate.expire(tokenKey, LOGIN_USER_TTL, TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8.è¿”å›token</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(token);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-9-è§£å†³çŠ¶æ€ç™»å½•åˆ·æ–°é—®é¢˜">1.9 è§£å†³çŠ¶æ€ç™»å½•åˆ·æ–°é—®é¢˜</h3><h4 id="1-9-1-åˆå§‹æ–¹æ¡ˆæ€è·¯æ€»ç»“ï¼š">1.9.1 åˆå§‹æ–¹æ¡ˆæ€è·¯æ€»ç»“ï¼š</h4><p>åœ¨è¿™ä¸ªæ–¹æ¡ˆä¸­ï¼Œä»–ç¡®å®å¯ä»¥ä½¿ç”¨å¯¹åº”è·¯å¾„çš„æ‹¦æˆªï¼ŒåŒæ—¶åˆ·æ–°ç™»å½•tokenä»¤ç‰Œçš„å­˜æ´»æ—¶é—´ï¼Œä½†æ˜¯ç°åœ¨è¿™ä¸ªæ‹¦æˆªå™¨ä»–åªæ˜¯æ‹¦æˆªéœ€è¦è¢«æ‹¦æˆªçš„è·¯å¾„ï¼Œå‡è®¾å½“å‰ç”¨æˆ·è®¿é—®äº†ä¸€äº›ä¸éœ€è¦æ‹¦æˆªçš„è·¯å¾„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ‹¦æˆªå™¨å°±ä¸ä¼šç”Ÿæ•ˆï¼Œæ‰€ä»¥æ­¤æ—¶ä»¤ç‰Œåˆ·æ–°çš„åŠ¨ä½œå®é™…ä¸Šå°±ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆä»–æ˜¯å­˜åœ¨é—®é¢˜çš„</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653320822964-20240615212954-baanw89.png" alt="1653320822964">â€‹</p><h4 id="1-9-2-ä¼˜åŒ–æ–¹æ¡ˆ">1.9.2 ä¼˜åŒ–æ–¹æ¡ˆ</h4><p>â€</p><p>æ—¢ç„¶ä¹‹å‰çš„æ‹¦æˆªå™¨æ— æ³•å¯¹ä¸éœ€è¦æ‹¦æˆªçš„è·¯å¾„ç”Ÿæ•ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œåœ¨ç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨ä¸­æ‹¦æˆªæ‰€æœ‰çš„è·¯å¾„ï¼ŒæŠŠç¬¬äºŒä¸ªæ‹¦æˆªå™¨åšçš„äº‹æƒ…æ”¾å…¥åˆ°ç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨ä¸­ï¼ŒåŒæ—¶åˆ·æ–°ä»¤ç‰Œï¼Œå› ä¸ºç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨æœ‰äº†threadLocalçš„æ•°æ®ï¼Œæ‰€ä»¥æ­¤æ—¶ç¬¬äºŒä¸ªæ‹¦æˆªå™¨åªéœ€è¦åˆ¤æ–­æ‹¦æˆªå™¨ä¸­çš„userå¯¹è±¡æ˜¯å¦å­˜åœ¨å³å¯ï¼Œå®Œæˆæ•´ä½“åˆ·æ–°åŠŸèƒ½ã€‚</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653320764547-20240615212954-xd1abfh.png" alt="1653320764547">â€‹</p><h4 id="1-9-3-ä»£ç ">1.9.3 ä»£ç </h4><p><strong>RefreshTokenInterceptor</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RefreshTokenInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RefreshTokenInterceptor</span><span class="params">(StringRedisTemplate stringRedisTemplate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stringRedisTemplate = stringRedisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1.è·å–è¯·æ±‚å¤´ä¸­çš„token</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;authorization&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isBlank(token)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2.åŸºäºTOKENè·å–redisä¸­çš„ç”¨æˆ·</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span>  <span class="operator">=</span> LOGIN_USER_KEY + token;</span><br><span class="line">        Map&lt;Object, Object&gt; userMap = stringRedisTemplate.opsForHash().entries(key);</span><br><span class="line">        <span class="comment">// 3.åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (userMap.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 5.å°†æŸ¥è¯¢åˆ°çš„hashæ•°æ®è½¬ä¸ºUserDTO</span></span><br><span class="line">        <span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> BeanUtil.fillBeanWithMap(userMap, <span class="keyword">new</span> <span class="title class_">UserDTO</span>(), <span class="literal">false</span>);</span><br><span class="line">        <span class="comment">// 6.å­˜åœ¨ï¼Œä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ° ThreadLocal</span></span><br><span class="line">        UserHolder.saveUser(userDTO);</span><br><span class="line">        <span class="comment">// 7.åˆ·æ–°tokenæœ‰æ•ˆæœŸ</span></span><br><span class="line">        stringRedisTemplate.expire(key, LOGIN_USER_TTL, TimeUnit.MINUTES);</span><br><span class="line">        <span class="comment">// 8.æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// ç§»é™¤ç”¨æˆ·</span></span><br><span class="line">        UserHolder.removeUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>LoginInterceptor</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1.åˆ¤æ–­æ˜¯å¦éœ€è¦æ‹¦æˆªï¼ˆThreadLocalä¸­æ˜¯å¦æœ‰ç”¨æˆ·ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> (UserHolder.getUser() == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ï¼Œéœ€è¦æ‹¦æˆªï¼Œè®¾ç½®çŠ¶æ€ç </span></span><br><span class="line">            response.setStatus(<span class="number">401</span>);</span><br><span class="line">            <span class="comment">// æ‹¦æˆª</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æœ‰ç”¨æˆ·ï¼Œåˆ™æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2ã€å•†æˆ·æŸ¥è¯¢ç¼“å­˜">2ã€å•†æˆ·æŸ¥è¯¢ç¼“å­˜</h2><h3 id="2-1-ä»€ä¹ˆæ˜¯ç¼“å­˜">2.1 ä»€ä¹ˆæ˜¯ç¼“å­˜?</h3><p><strong>å‰è¨€</strong>:<strong>ä»€ä¹ˆæ˜¯ç¼“å­˜?</strong></p><p>å°±åƒè‡ªè¡Œè½¦,è¶Šé‡è½¦çš„é¿éœ‡å™¨<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/%E9%81%BF%E9%9C%87%E5%99%A8-20240615212954-5wa9oif.gif" alt="">â€‹</p><p>ä¸¾ä¸ªä¾‹å­:è¶Šé‡è½¦,å±±åœ°è‡ªè¡Œè½¦,éƒ½æ‹¥æœ‰&quot;é¿éœ‡å™¨&quot;,<strong>é˜²æ­¢</strong>è½¦ä½“åŠ é€Ÿåå› æƒ¯æ€§,åœ¨é…·ä¼¼&quot;U&quot;å­—æ¯çš„åœ°å½¢ä¸Šé£è·ƒ,ç¡¬ç€é™†å¯¼è‡´çš„<strong>æŸå®³</strong>,åƒä¸ªå¼¹ç°§ä¸€æ ·;</p><p>åŒæ ·,å®é™…å¼€å‘ä¸­,ç³»ç»Ÿä¹Ÿéœ€è¦&quot;é¿éœ‡å™¨&quot;,é˜²æ­¢è¿‡é«˜çš„æ•°æ®è®¿é—®çŒ›å†²ç³»ç»Ÿ,å¯¼è‡´å…¶æ“ä½œçº¿ç¨‹æ— æ³•åŠæ—¶å¤„ç†ä¿¡æ¯è€Œç˜«ç—ª;</p><p>è¿™åœ¨å®é™…å¼€å‘ä¸­å¯¹ä¼ä¸šè®²,å¯¹äº§å“å£ç¢‘,ç”¨æˆ·è¯„ä»·éƒ½æ˜¯è‡´å‘½çš„;æ‰€ä»¥ä¼ä¸šéå¸¸é‡è§†ç¼“å­˜æŠ€æœ¯;</p><p><strong>ç¼“å­˜(<strong>â€‹<strong><strong>Cache),å°±æ˜¯æ•°æ®äº¤æ¢çš„</strong></strong>â€‹</strong>ç¼“å†²åŒº</strong>,ä¿—ç§°çš„ç¼“å­˜å°±æ˜¯<strong>ç¼“å†²åŒºå†…çš„æ•°æ®</strong>,ä¸€èˆ¬ä»æ•°æ®åº“ä¸­è·å–,å­˜å‚¨äºæœ¬åœ°ä»£ç (ä¾‹å¦‚:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹<span class="number">1</span>:Static <span class="keyword">final</span> ConcurrentHashMap&lt;K,V&gt; map = <span class="keyword">new</span> <span class="title class_">ConcurrentHashMap</span>&lt;&gt;(); æœ¬åœ°ç”¨äºé«˜å¹¶å‘</span><br><span class="line"></span><br><span class="line">ä¾‹<span class="number">2</span>:<span class="keyword">static</span> <span class="keyword">final</span> Cache&lt;K,V&gt; USER_CACHE = CacheBuilder.newBuilder().build(); ç”¨äºredisç­‰ç¼“å­˜</span><br><span class="line"></span><br><span class="line">ä¾‹<span class="number">3</span>:Static <span class="keyword">final</span> Map&lt;K,V&gt; map =  <span class="keyword">new</span> <span class="title class_">HashMap</span>(); æœ¬åœ°ç¼“å­˜</span><br></pre></td></tr></table></figure><p>ç”±äºå…¶è¢«<strong>Static</strong>ä¿®é¥°,æ‰€ä»¥éšç€ç±»çš„åŠ è½½è€Œè¢«åŠ è½½åˆ°<strong>å†…å­˜ä¹‹ä¸­</strong>,ä½œä¸ºæœ¬åœ°ç¼“å­˜,ç”±äºå…¶åˆè¢«<strong>final</strong>ä¿®é¥°,æ‰€ä»¥å…¶å¼•ç”¨(ä¾‹3:map)å’Œå¯¹è±¡(ä¾‹3:new HashMap())ä¹‹é—´çš„å…³ç³»æ˜¯å›ºå®šçš„,ä¸èƒ½æ”¹å˜,å› æ­¤ä¸ç”¨æ‹…å¿ƒèµ‹å€¼(=)å¯¼è‡´ç¼“å­˜å¤±æ•ˆ;</p><h4 id="2-1-1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜">2.1.1 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å­˜</h4><p>ä¸€å¥è¯:å› ä¸º<strong>é€Ÿåº¦å¿«,å¥½ç”¨</strong></p><p>ç¼“å­˜æ•°æ®å­˜å‚¨äºä»£ç ä¸­,è€Œä»£ç è¿è¡Œåœ¨å†…å­˜ä¸­,å†…å­˜çš„è¯»å†™æ€§èƒ½è¿œé«˜äºç£ç›˜,ç¼“å­˜å¯ä»¥å¤§å¤§é™ä½<strong>ç”¨æˆ·è®¿é—®å¹¶å‘é‡å¸¦æ¥çš„</strong>æœåŠ¡å™¨è¯»å†™å‹åŠ›</p><p>å®é™…å¼€å‘è¿‡ç¨‹ä¸­,ä¼ä¸šçš„æ•°æ®é‡,å°‘åˆ™å‡ åä¸‡,å¤šåˆ™å‡ åƒä¸‡,è¿™ä¹ˆå¤§æ•°æ®é‡,å¦‚æœæ²¡æœ‰ç¼“å­˜æ¥ä½œä¸º&quot;é¿éœ‡å™¨&quot;,ç³»ç»Ÿæ˜¯å‡ ä¹æ’‘ä¸ä½çš„,æ‰€ä»¥ä¼ä¸šä¼šå¤§é‡è¿ç”¨åˆ°ç¼“å­˜æŠ€æœ¯;</p><p>ä½†æ˜¯ç¼“å­˜ä¹Ÿä¼šå¢åŠ ä»£ç å¤æ‚åº¦å’Œè¿è¥çš„æˆæœ¬:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20220523214414123-20240615212954-hk5mjo8.png" alt=""></p><h4 id="2-1-2-å¦‚ä½•ä½¿ç”¨ç¼“å­˜">2.1.2 å¦‚ä½•ä½¿ç”¨ç¼“å­˜</h4><p>å®é™…å¼€å‘ä¸­,ä¼šæ„ç­‘å¤šçº§ç¼“å­˜æ¥ä½¿ç³»ç»Ÿè¿è¡Œé€Ÿåº¦è¿›ä¸€æ­¥æå‡,ä¾‹å¦‚:æœ¬åœ°ç¼“å­˜ä¸redisä¸­çš„ç¼“å­˜å¹¶å‘ä½¿ç”¨</p><p><strong>æµè§ˆå™¨ç¼“å­˜</strong>ï¼šä¸»è¦æ˜¯å­˜åœ¨äºæµè§ˆå™¨ç«¯çš„ç¼“å­˜</p><p><strong>åº”ç”¨å±‚ç¼“å­˜ï¼š</strong> å¯ä»¥åˆ†ä¸ºtomcatæœ¬åœ°ç¼“å­˜ï¼Œæ¯”å¦‚ä¹‹å‰æåˆ°çš„mapï¼Œæˆ–è€…æ˜¯ä½¿ç”¨redisä½œä¸ºç¼“å­˜</p><p><strong>æ•°æ®åº“ç¼“å­˜ï¼š</strong> åœ¨æ•°æ®åº“ä¸­æœ‰ä¸€ç‰‡ç©ºé—´æ˜¯ buffer poolï¼Œå¢æ”¹æŸ¥æ•°æ®éƒ½ä¼šå…ˆåŠ è½½åˆ°mysqlçš„ç¼“å­˜ä¸­</p><p><strong>CPUç¼“å­˜ï¼š</strong> å½“ä»£è®¡ç®—æœºæœ€å¤§çš„é—®é¢˜æ˜¯ cpuæ€§èƒ½æå‡äº†ï¼Œä½†å†…å­˜è¯»å†™é€Ÿåº¦æ²¡æœ‰è·Ÿä¸Šï¼Œæ‰€ä»¥ä¸ºäº†é€‚åº”å½“ä¸‹çš„æƒ…å†µï¼Œå¢åŠ äº†cpuçš„L1ï¼ŒL2ï¼ŒL3çº§çš„ç¼“å­˜</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20220523212915666-20240615212954-kxipyy8.png" alt="">â€‹</p><h3 id="2-2-æ·»åŠ å•†æˆ·ç¼“å­˜">2.2 æ·»åŠ å•†æˆ·ç¼“å­˜</h3><p>åœ¨æˆ‘ä»¬æŸ¥è¯¢å•†æˆ·ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬æ˜¯ç›´æ¥æ“ä½œä»æ•°æ®åº“ä¸­å»è¿›è¡ŒæŸ¥è¯¢çš„ï¼Œå¤§è‡´é€»è¾‘æ˜¯è¿™æ ·ï¼Œç›´æ¥æŸ¥è¯¢æ•°æ®åº“é‚£è‚¯å®šæ…¢å’¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¢åŠ ç¼“å­˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryShopById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span> &#123;</span><br><span class="line">    <span class="comment">//è¿™é‡Œæ˜¯ç›´æ¥æŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">return</span> shopService.queryById(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-1-ã€ç¼“å­˜æ¨¡å‹å’Œæ€è·¯">2.2.1 ã€ç¼“å­˜æ¨¡å‹å’Œæ€è·¯</h4><p>æ ‡å‡†çš„æ“ä½œæ–¹å¼å°±æ˜¯æŸ¥è¯¢æ•°æ®åº“ä¹‹å‰å…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜æ•°æ®å­˜åœ¨ï¼Œåˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è¿”å›ï¼Œå¦‚æœç¼“å­˜æ•°æ®ä¸å­˜åœ¨ï¼Œå†æŸ¥è¯¢æ•°æ®åº“ï¼Œç„¶åå°†æ•°æ®å­˜å…¥redisã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653322097736-20240615212954-bkora1v.png" alt="1653322097736"></p><h4 id="2-1-2ã€ä»£ç å¦‚ä¸‹">2.1.2ã€ä»£ç å¦‚ä¸‹</h4><p>ä»£ç æ€è·¯ï¼šå¦‚æœç¼“å­˜æœ‰ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœç¼“å­˜ä¸å­˜åœ¨ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“ï¼Œç„¶åå­˜å…¥redisã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653322190155-20240615212954-9pwey9w.png" alt="1653322190155">â€‹</p><h3 id="2-3-ç¼“å­˜æ›´æ–°ç­–ç•¥">2.3 ç¼“å­˜æ›´æ–°ç­–ç•¥</h3><p>ç¼“å­˜æ›´æ–°æ˜¯redisä¸ºäº†èŠ‚çº¦å†…å­˜è€Œè®¾è®¡å‡ºæ¥çš„ä¸€ä¸ªä¸œè¥¿ï¼Œä¸»è¦æ˜¯å› ä¸ºå†…å­˜æ•°æ®å®è´µï¼Œå½“æˆ‘ä»¬å‘redisæ’å…¥å¤ªå¤šæ•°æ®ï¼Œæ­¤æ—¶å°±å¯èƒ½ä¼šå¯¼è‡´ç¼“å­˜ä¸­çš„æ•°æ®è¿‡å¤šï¼Œæ‰€ä»¥redisä¼šå¯¹éƒ¨åˆ†æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œæˆ–è€…æŠŠä»–å«ä¸ºæ·˜æ±°æ›´åˆé€‚ã€‚</p><p>â€</p><p><strong>å†…å­˜æ·˜æ±°ï¼š</strong> redisè‡ªåŠ¨è¿›è¡Œï¼Œå½“rediså†…å­˜è¾¾åˆ°å’±ä»¬è®¾å®šçš„max-memeryçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è§¦å‘æ·˜æ±°æœºåˆ¶ï¼Œæ·˜æ±°æ‰ä¸€äº›ä¸é‡è¦çš„æ•°æ®(å¯ä»¥è‡ªå·±è®¾ç½®ç­–ç•¥æ–¹å¼)</p><p><strong>è¶…æ—¶å‰”é™¤ï¼š</strong> å½“æˆ‘ä»¬ç»™redisè®¾ç½®äº†è¿‡æœŸæ—¶é—´ttlä¹‹åï¼Œredisä¼šå°†è¶…æ—¶çš„æ•°æ®è¿›è¡Œåˆ é™¤ï¼Œæ–¹ä¾¿å’±ä»¬ç»§ç»­ä½¿ç”¨ç¼“å­˜</p><p><strong>ä¸»åŠ¨æ›´æ–°ï¼š</strong> æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è°ƒç”¨æ–¹æ³•æŠŠç¼“å­˜åˆ æ‰ï¼Œé€šå¸¸ç”¨äºè§£å†³ç¼“å­˜å’Œæ•°æ®åº“ä¸ä¸€è‡´é—®é¢˜</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653322506393-20240615212954-64blqxk.png" alt="1653322506393">â€‹</p><h4 id="2-3-1-ã€æ•°æ®åº“ç¼“å­˜ä¸ä¸€è‡´è§£å†³æ–¹æ¡ˆï¼š">2.3.1 ã€æ•°æ®åº“ç¼“å­˜ä¸ä¸€è‡´è§£å†³æ–¹æ¡ˆï¼š</h4><p>ç”±äºæˆ‘ä»¬çš„<strong>ç¼“å­˜çš„æ•°æ®æºæ¥è‡ªäºæ•°æ®åº“</strong>,è€Œæ•°æ®åº“çš„<strong>æ•°æ®æ˜¯ä¼šå‘ç”Ÿå˜åŒ–çš„</strong>,å› æ­¤,å¦‚æœå½“æ•°æ®åº“ä¸­<strong>æ•°æ®å‘ç”Ÿå˜åŒ–,è€Œç¼“å­˜å´æ²¡æœ‰åŒæ­¥</strong>,æ­¤æ—¶å°±ä¼šæœ‰<strong>ä¸€è‡´æ€§é—®é¢˜å­˜åœ¨</strong>,å…¶åæœæ˜¯:</p><p>ç”¨æˆ·ä½¿ç”¨ç¼“å­˜ä¸­çš„è¿‡æ—¶æ•°æ®,å°±ä¼šäº§ç”Ÿç±»ä¼¼å¤šçº¿ç¨‹æ•°æ®å®‰å…¨é—®é¢˜,ä»è€Œå½±å“ä¸šåŠ¡,äº§å“å£ç¢‘ç­‰;æ€ä¹ˆè§£å†³å‘¢ï¼Ÿæœ‰å¦‚ä¸‹å‡ ç§æ–¹æ¡ˆ</p><ol><li class="lvl-3"><p>Cache Aside Pattern äººå·¥ç¼–ç æ–¹å¼ï¼šç¼“å­˜è°ƒç”¨è€…åœ¨æ›´æ–°å®Œæ•°æ®åº“åå†å»æ›´æ–°ç¼“å­˜ï¼Œä¹Ÿç§°ä¹‹ä¸ºåŒå†™æ–¹æ¡ˆ</p></li><li class="lvl-3"><p>Read/Write Through Pattern : ç”±ç³»ç»Ÿæœ¬èº«å®Œæˆï¼Œæ•°æ®åº“ä¸ç¼“å­˜çš„é—®é¢˜äº¤ç”±ç³»ç»Ÿæœ¬èº«å»å¤„ç†</p></li><li class="lvl-3"><p>Write Behind Caching Pattern ï¼šè°ƒç”¨è€…åªæ“ä½œç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹å»å¼‚æ­¥å¤„ç†æ•°æ®åº“ï¼Œå®ç°æœ€ç»ˆä¸€è‡´</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653322857620-20240615212954-l58zprj.png" alt="1653322857620">â€‹</p><h4 id="2-3-2-ã€æ•°æ®åº“å’Œç¼“å­˜ä¸ä¸€è‡´é‡‡ç”¨ä»€ä¹ˆæ–¹æ¡ˆ">2.3.2 ã€æ•°æ®åº“å’Œç¼“å­˜ä¸ä¸€è‡´é‡‡ç”¨ä»€ä¹ˆæ–¹æ¡ˆ</h4><p>ç»¼åˆè€ƒè™‘ä½¿ç”¨æ–¹æ¡ˆä¸€ï¼Œä½†æ˜¯æ–¹æ¡ˆä¸€è°ƒç”¨è€…å¦‚ä½•å¤„ç†å‘¢ï¼Ÿè¿™é‡Œæœ‰å‡ ä¸ªé—®é¢˜</p><p>æ“ä½œç¼“å­˜å’Œæ•°æ®åº“æ—¶æœ‰ä¸‰ä¸ªé—®é¢˜éœ€è¦è€ƒè™‘ï¼š</p><p>å¦‚æœé‡‡ç”¨ç¬¬ä¸€ä¸ªæ–¹æ¡ˆï¼Œé‚£ä¹ˆå‡è®¾æˆ‘ä»¬æ¯æ¬¡æ“ä½œæ•°æ®åº“åï¼Œéƒ½æ“ä½œç¼“å­˜ï¼Œä½†æ˜¯ä¸­é—´å¦‚æœæ²¡æœ‰äººæŸ¥è¯¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ›´æ–°åŠ¨ä½œå®é™…ä¸Šåªæœ‰æœ€åä¸€æ¬¡ç”Ÿæ•ˆï¼Œä¸­é—´çš„æ›´æ–°åŠ¨ä½œæ„ä¹‰å¹¶ä¸å¤§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¼“å­˜åˆ é™¤ï¼Œç­‰å¾…å†æ¬¡æŸ¥è¯¢æ—¶ï¼Œå°†ç¼“å­˜ä¸­çš„æ•°æ®åŠ è½½å‡ºæ¥</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ é™¤ç¼“å­˜è¿˜æ˜¯æ›´æ–°ç¼“å­˜ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">æ›´æ–°ç¼“å­˜ï¼šæ¯æ¬¡æ›´æ–°æ•°æ®åº“éƒ½æ›´æ–°ç¼“å­˜ï¼Œæ— æ•ˆå†™æ“ä½œè¾ƒå¤š</li><li class="lvl-4"><span data-type="text" style="background-color: var(--b3-card-success-background); color: var(--b3-card-success-color);">åˆ é™¤ç¼“å­˜ï¼šæ›´æ–°æ•°æ®åº“æ—¶è®©ç¼“å­˜å¤±æ•ˆï¼ŒæŸ¥è¯¢æ—¶å†æ›´æ–°ç¼“å­˜</span></li></ul></li><li class="lvl-2"><p>å¦‚ä½•ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„æ“ä½œçš„åŒæ—¶æˆåŠŸæˆ–å¤±è´¥ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å•ä½“ç³»ç»Ÿï¼Œå°†ç¼“å­˜ä¸æ•°æ®åº“æ“ä½œæ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡</li><li class="lvl-4">åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œåˆ©ç”¨TCCç­‰åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆ</li></ul></li></ul><p>åº”è¯¥å…·ä½“æ“ä½œç¼“å­˜è¿˜æ˜¯æ“ä½œæ•°æ®åº“ï¼Œæˆ‘ä»¬åº”å½“æ˜¯å…ˆæ“ä½œæ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜ï¼ŒåŸå› åœ¨äºï¼Œå¦‚æœä½ é€‰æ‹©ç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œåœ¨ä¸¤ä¸ªçº¿ç¨‹å¹¶å‘æ¥è®¿é—®æ—¶ï¼Œå‡è®¾çº¿ç¨‹1å…ˆæ¥ï¼Œä»–å…ˆæŠŠç¼“å­˜åˆ äº†ï¼Œæ­¤æ—¶çº¿ç¨‹2è¿‡æ¥ï¼Œä»–æŸ¥è¯¢ç¼“å­˜æ•°æ®å¹¶ä¸å­˜åœ¨ï¼Œæ­¤æ—¶ä»–å†™å…¥ç¼“å­˜ï¼Œå½“ä»–å†™å…¥ç¼“å­˜åï¼Œçº¿ç¨‹1å†æ‰§è¡Œæ›´æ–°åŠ¨ä½œæ—¶ï¼Œå®é™…ä¸Šå†™å…¥çš„å°±æ˜¯æ—§çš„æ•°æ®ï¼Œæ–°çš„æ•°æ®è¢«æ—§æ•°æ®è¦†ç›–äº†ã€‚</p><ul class="lvl-0"><li class="lvl-2"><p>å…ˆæ“ä½œç¼“å­˜è¿˜æ˜¯å…ˆæ“ä½œæ•°æ®åº“ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å…ˆåˆ é™¤ç¼“å­˜ï¼Œå†æ“ä½œæ•°æ®åº“</li><li class="lvl-4"><span data-type="text" style="background-color: var(--b3-card-success-background); color: var(--b3-card-success-color);">å…ˆæ“ä½œæ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜</span> (è¯¥æ–¹æ¡ˆèƒœå‡º ï¼Œå‡ºç°çº¿ç¨‹é—®é¢˜çŠ¶å†µè¾ƒå°ï¼)</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653323595206-20240615212954-h6uqa03.png" alt="1653323595206">â€‹</p><h4 id="2-3-3-span-data-type-text-ç¼“å­˜æ›´æ–°ç­–ç•¥çš„æœ€ä½³æ–¹æ¡ˆ-span">2.3.3 <span data-type="text">ç¼“å­˜æ›´æ–°ç­–ç•¥çš„æœ€ä½³æ–¹æ¡ˆ</span></h4><h3 id="2-4-å®ç°å•†é“ºå’Œç¼“å­˜ä¸æ•°æ®åº“åŒå†™ä¸€è‡´">2.4 å®ç°å•†é“ºå’Œç¼“å­˜ä¸æ•°æ®åº“åŒå†™ä¸€è‡´</h3><p>æ ¸å¿ƒæ€è·¯å¦‚ä¸‹ï¼š</p><p>ä¿®æ”¹ShopControllerä¸­çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ»¡è¶³ä¸‹é¢çš„éœ€æ±‚ï¼š</p><p>æ ¹æ®idæŸ¥è¯¢åº—é“ºæ—¶ï¼Œå¦‚æœç¼“å­˜æœªå‘½ä¸­ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†æ•°æ®åº“ç»“æœå†™å…¥ç¼“å­˜ï¼Œå¹¶è®¾ç½®è¶…æ—¶æ—¶é—´</p><p>æ ¹æ®idä¿®æ”¹åº—é“ºæ—¶ï¼Œå…ˆä¿®æ”¹æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜</p><p><strong>ä¿®æ”¹é‡ç‚¹ä»£ç 1</strong>ï¼šä¿®æ”¹<strong>ShopServiceImpl</strong>çš„queryByIdæ–¹æ³•</p><p><strong>è®¾ç½®redisç¼“å­˜æ—¶æ·»åŠ è¿‡æœŸæ—¶é—´</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653325871232-20240615212954-2mywpsv.png" alt="1653325871232"></p><p><strong>ä¿®æ”¹é‡ç‚¹ä»£ç 2</strong></p><p>ä»£ç åˆ†æï¼šé€šè¿‡ä¹‹å‰çš„æ·˜æ±°ï¼Œæˆ‘ä»¬ç¡®å®šäº†é‡‡ç”¨åˆ é™¤ç­–ç•¥ï¼Œæ¥è§£å†³åŒå†™é—®é¢˜ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†æ•°æ®ä¹‹åï¼Œç„¶åæŠŠç¼“å­˜ä¸­çš„æ•°æ®è¿›è¡Œåˆ é™¤ï¼ŒæŸ¥è¯¢æ—¶å‘ç°ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼Œåˆ™ä¼šä»mysqlä¸­åŠ è½½æœ€æ–°çš„æ•°æ®ï¼Œä»è€Œé¿å…æ•°æ®åº“å’Œç¼“å­˜ä¸ä¸€è‡´çš„é—®é¢˜</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653325929549-20240615212954-odohn55.png" alt="1653325929549"></p><h3 id="2-5-ç¼“å­˜ç©¿é€é—®é¢˜çš„è§£å†³æ€è·¯">2.5 ç¼“å­˜ç©¿é€é—®é¢˜çš„è§£å†³æ€è·¯</h3><p>ç¼“å­˜ç©¿é€ ï¼šç¼“å­˜ç©¿é€æ˜¯æŒ‡å®¢æˆ·ç«¯è¯·æ±‚çš„æ•°æ®åœ¨ç¼“å­˜ä¸­å’Œæ•°æ®åº“ä¸­éƒ½ä¸å­˜åœ¨ï¼Œè¿™æ ·ç¼“å­˜æ°¸è¿œä¸ä¼šç”Ÿæ•ˆï¼Œè¿™äº›è¯·æ±‚éƒ½ä¼šæ‰“åˆ°æ•°æ®åº“ã€‚</p><p>å¸¸è§çš„è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ç¼“å­˜ç©ºå¯¹è±¡</p><ul class="lvl-2"><li class="lvl-4">ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œç»´æŠ¤æ–¹ä¾¿</li><li class="lvl-4">ç¼ºç‚¹ï¼š<ul class="lvl-4"><li class="lvl-6">é¢å¤–çš„å†…å­˜æ¶ˆè€—</li><li class="lvl-6">å¯èƒ½é€ æˆçŸ­æœŸçš„ä¸ä¸€è‡´</li></ul></li></ul></li><li class="lvl-2"><p>å¸ƒéš†è¿‡æ»¤</p><ul class="lvl-2"><li class="lvl-4">ä¼˜ç‚¹ï¼šå†…å­˜å ç”¨è¾ƒå°‘ï¼Œæ²¡æœ‰å¤šä½™key</li><li class="lvl-4">ç¼ºç‚¹ï¼š<ul class="lvl-4"><li class="lvl-6">å®ç°å¤æ‚</li><li class="lvl-6">å­˜åœ¨è¯¯åˆ¤å¯èƒ½</li></ul></li></ul></li></ul><p><strong>ç¼“å­˜ç©ºå¯¹è±¡æ€è·¯åˆ†æï¼š</strong> å½“æˆ‘ä»¬å®¢æˆ·ç«¯è®¿é—®ä¸å­˜åœ¨çš„æ•°æ®æ—¶ï¼Œå…ˆè¯·æ±‚redisï¼Œä½†æ˜¯æ­¤æ—¶redisä¸­æ²¡æœ‰æ•°æ®ï¼Œæ­¤æ—¶ä¼šè®¿é—®åˆ°æ•°æ®åº“ï¼Œä½†æ˜¯æ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ç©¿é€äº†ç¼“å­˜ï¼Œç›´å‡»æ•°æ®åº“ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“èƒ½å¤Ÿæ‰¿è½½çš„å¹¶å‘ä¸å¦‚redisè¿™ä¹ˆé«˜ï¼Œå¦‚æœå¤§é‡çš„è¯·æ±‚åŒæ—¶è¿‡æ¥è®¿é—®è¿™ç§ä¸å­˜åœ¨çš„æ•°æ®ï¼Œè¿™äº›è¯·æ±‚å°±éƒ½ä¼šè®¿é—®åˆ°æ•°æ®åº“ï¼Œç®€å•çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯å“ªæ€•è¿™ä¸ªæ•°æ®åœ¨æ•°æ®åº“ä¸­ä¹Ÿä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä¹ŸæŠŠè¿™ä¸ªæ•°æ®å­˜å…¥åˆ°redisä¸­å»ï¼Œè¿™æ ·ï¼Œä¸‹æ¬¡ç”¨æˆ·è¿‡æ¥è®¿é—®è¿™ä¸ªä¸å­˜åœ¨çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨redisä¸­ä¹Ÿèƒ½æ‰¾åˆ°è¿™ä¸ªæ•°æ®å°±ä¸ä¼šè¿›å…¥åˆ°ç¼“å­˜äº†</p><p><strong>å¸ƒéš†è¿‡æ»¤ï¼š</strong> å¸ƒéš†è¿‡æ»¤å™¨å…¶å®é‡‡ç”¨çš„æ˜¯å“ˆå¸Œæ€æƒ³æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡ä¸€ä¸ªåºå¤§çš„äºŒè¿›åˆ¶æ•°ç»„ï¼Œèµ°å“ˆå¸Œæ€æƒ³å»åˆ¤æ–­å½“å‰è¿™ä¸ªè¦æŸ¥è¯¢çš„è¿™ä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå¸ƒéš†è¿‡æ»¤å™¨åˆ¤æ–­å­˜åœ¨ï¼Œåˆ™æ”¾è¡Œï¼Œè¿™ä¸ªè¯·æ±‚ä¼šå»è®¿é—®redisï¼Œå“ªæ€•æ­¤æ—¶redisä¸­çš„æ•°æ®è¿‡æœŸäº†ï¼Œä½†æ˜¯æ•°æ®åº“ä¸­ä¸€å®šå­˜åœ¨è¿™ä¸ªæ•°æ®ï¼Œåœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºæ¥è¿™ä¸ªæ•°æ®åï¼Œå†å°†å…¶æ”¾å…¥åˆ°redisä¸­ï¼Œ</p><p>å‡è®¾å¸ƒéš†è¿‡æ»¤å™¨åˆ¤æ–­è¿™ä¸ªæ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›</p><p>è¿™ç§æ–¹å¼ä¼˜ç‚¹åœ¨äºèŠ‚çº¦å†…å­˜ç©ºé—´ï¼Œå­˜åœ¨è¯¯åˆ¤ï¼Œè¯¯åˆ¤åŸå› åœ¨äºï¼šå¸ƒéš†è¿‡æ»¤å™¨èµ°çš„æ˜¯å“ˆå¸Œæ€æƒ³ï¼Œåªè¦å“ˆå¸Œæ€æƒ³ï¼Œå°±å¯èƒ½å­˜åœ¨å“ˆå¸Œå†²çª</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653326156516-20240615212954-4bov2b1.png" alt="1653326156516">â€‹</p><h3 id="2-6-ç¼–ç è§£å†³å•†å“æŸ¥è¯¢çš„ç¼“å­˜ç©¿é€é—®é¢˜ï¼š">2.6 ç¼–ç è§£å†³å•†å“æŸ¥è¯¢çš„ç¼“å­˜ç©¿é€é—®é¢˜ï¼š</h3><p>æ ¸å¿ƒæ€è·¯å¦‚ä¸‹ï¼š</p><p>åœ¨åŸæ¥çš„é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬å¦‚æœå‘ç°è¿™ä¸ªæ•°æ®åœ¨mysqlä¸­ä¸å­˜åœ¨ï¼Œç›´æ¥å°±è¿”å›404äº†ï¼Œè¿™æ ·æ˜¯ä¼šå­˜åœ¨ç¼“å­˜ç©¿é€é—®é¢˜çš„</p><p>ç°åœ¨çš„é€»è¾‘ä¸­ï¼šå¦‚æœè¿™ä¸ªæ•°æ®ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä¸ä¼šè¿”å›404 ï¼Œè¿˜æ˜¯ä¼šæŠŠè¿™ä¸ªæ•°æ®å†™å…¥åˆ°Redisä¸­ï¼Œå¹¶ä¸”å°†valueè®¾ç½®ä¸ºç©ºï¼Œæ¬§å½“å†æ¬¡å‘èµ·æŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬å¦‚æœå‘ç°å‘½ä¸­ä¹‹åï¼Œåˆ¤æ–­è¿™ä¸ªvalueæ˜¯å¦æ˜¯nullï¼Œå¦‚æœæ˜¯nullï¼Œåˆ™æ˜¯ä¹‹å‰å†™å…¥çš„æ•°æ®ï¼Œè¯æ˜æ˜¯ç¼“å­˜ç©¿é€æ•°æ®ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ç›´æ¥è¿”å›æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653327124561-20240615212954-anyhtw5.png" alt="1653327124561">â€‹</p><p><strong>å°æ€»ç»“ï¼š</strong></p><blockquote><p>ç¼“å­˜ç©¿é€äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>ç”¨æˆ·è¯·æ±‚çš„æ•°æ®åœ¨ç¼“å­˜ä¸­å’Œæ•°æ®åº“ä¸­éƒ½ä¸å­˜åœ¨ï¼Œä¸æ–­å‘èµ·è¿™æ ·çš„è¯·æ±‚ï¼Œç»™æ•°æ®åº“å¸¦æ¥å·¨å¤§å‹åŠ›</p></blockquote><p>â€</p><p>ç¼“å­˜ç©¿é€çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ</p><ul class="lvl-0"><li class="lvl-2"><p>ç¼“å­˜nullå€¼</p></li><li class="lvl-2"><p>å¸ƒéš†è¿‡æ»¤</p></li><li class="lvl-2"><p>å¢å¼ºidçš„å¤æ‚åº¦ï¼Œé¿å…è¢«çŒœæµ‹idè§„å¾‹</p></li><li class="lvl-2"><p>åšå¥½æ•°æ®çš„åŸºç¡€æ ¼å¼æ ¡éªŒ</p></li><li class="lvl-2"><p>åŠ å¼ºç”¨æˆ·æƒé™æ ¡éªŒ</p></li><li class="lvl-2"><p>åšå¥½çƒ­ç‚¹å‚æ•°çš„é™æµ</p></li></ul><h3 id="2-7-ç¼“å­˜é›ªå´©é—®é¢˜åŠè§£å†³æ€è·¯">2.7 ç¼“å­˜é›ªå´©é—®é¢˜åŠè§£å†³æ€è·¯</h3><p>â€</p><p>ç¼“å­˜é›ªå´©æ˜¯æŒ‡åœ¨åŒä¸€æ—¶æ®µå¤§é‡çš„ç¼“å­˜keyåŒæ—¶å¤±æ•ˆæˆ–è€…RedisæœåŠ¡å®•æœºï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚åˆ°è¾¾æ•°æ®åº“ï¼Œå¸¦æ¥å·¨å¤§å‹åŠ›ã€‚</p><p>â€</p><blockquote><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul class="lvl-1"><li class="lvl-2">ç»™ä¸åŒçš„Keyçš„TTLæ·»åŠ éšæœºå€¼</li><li class="lvl-2">åˆ©ç”¨Redisé›†ç¾¤æé«˜æœåŠ¡çš„å¯ç”¨æ€§</li><li class="lvl-2">ç»™ç¼“å­˜ä¸šåŠ¡æ·»åŠ é™çº§é™æµç­–ç•¥</li><li class="lvl-2">ç»™ä¸šåŠ¡æ·»åŠ å¤šçº§ç¼“å­˜</li></ul></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653327884526-20240615212954-j648yd5.png" alt="1653327884526">â€‹</p><h3 id="2-8-ç¼“å­˜å‡»ç©¿é—®é¢˜åŠè§£å†³æ€è·¯">2.8 ç¼“å­˜å‡»ç©¿é—®é¢˜åŠè§£å†³æ€è·¯</h3><p>ç¼“å­˜å‡»ç©¿é—®é¢˜ä¹Ÿå«çƒ­ç‚¹Keyé—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªè¢«é«˜å¹¶å‘è®¿é—®å¹¶ä¸”ç¼“å­˜é‡å»ºä¸šåŠ¡è¾ƒå¤æ‚çš„keyçªç„¶å¤±æ•ˆäº†ï¼Œæ— æ•°çš„è¯·æ±‚è®¿é—®ä¼šåœ¨ç¬é—´ç»™æ•°æ®åº“å¸¦æ¥å·¨å¤§çš„å†²å‡»ã€‚</p><p>å¸¸è§çš„è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>äº’æ–¥é”</p></li><li class="lvl-2"><p>é€»è¾‘è¿‡æœŸ</p></li></ul><p>é€»è¾‘åˆ†æï¼šå‡è®¾çº¿ç¨‹1åœ¨æŸ¥è¯¢ç¼“å­˜ä¹‹åï¼Œæœ¬æ¥åº”è¯¥å»æŸ¥è¯¢æ•°æ®åº“ï¼Œç„¶åæŠŠè¿™ä¸ªæ•°æ®é‡æ–°åŠ è½½åˆ°ç¼“å­˜çš„ï¼Œæ­¤æ—¶åªè¦çº¿ç¨‹1èµ°å®Œè¿™ä¸ªé€»è¾‘ï¼Œå…¶ä»–çº¿ç¨‹å°±éƒ½èƒ½ä»ç¼“å­˜ä¸­åŠ è½½è¿™äº›æ•°æ®äº†ï¼Œä½†æ˜¯å‡è®¾åœ¨çº¿ç¨‹1æ²¡æœ‰èµ°å®Œçš„æ—¶å€™ï¼Œåç»­çš„çº¿ç¨‹2ï¼Œçº¿ç¨‹3ï¼Œçº¿ç¨‹4åŒæ—¶è¿‡æ¥è®¿é—®å½“å‰è¿™ä¸ªæ–¹æ³•ï¼Œ é‚£ä¹ˆè¿™äº›çº¿ç¨‹éƒ½ä¸èƒ½ä»ç¼“å­˜ä¸­æŸ¥è¯¢åˆ°æ•°æ®ï¼Œé‚£ä¹ˆä»–ä»¬å°±ä¼šåŒä¸€æ—¶åˆ»æ¥è®¿é—®æŸ¥è¯¢ç¼“å­˜ï¼Œéƒ½æ²¡æŸ¥åˆ°ï¼Œæ¥ç€åŒä¸€æ—¶é—´å»è®¿é—®æ•°æ®åº“ï¼ŒåŒæ—¶çš„å»æ‰§è¡Œæ•°æ®åº“ä»£ç ï¼Œå¯¹æ•°æ®åº“è®¿é—®å‹åŠ›è¿‡å¤§</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653328022622-20240615212954-v1rc8xv.png" alt="1653328022622">â€‹</p><p>è§£å†³æ–¹æ¡ˆä¸€ã€ä½¿ç”¨é”æ¥è§£å†³ï¼š</p><p>å› ä¸ºé”èƒ½å®ç°äº’æ–¥æ€§ã€‚å‡è®¾çº¿ç¨‹è¿‡æ¥ï¼Œåªèƒ½ä¸€ä¸ªäººä¸€ä¸ªäººçš„æ¥è®¿é—®æ•°æ®åº“ï¼Œä»è€Œé¿å…å¯¹äºæ•°æ®åº“è®¿é—®å‹åŠ›è¿‡å¤§ï¼Œä½†è¿™ä¹Ÿä¼šå½±å“æŸ¥è¯¢çš„æ€§èƒ½ï¼Œå› ä¸ºæ­¤æ—¶ä¼šè®©æŸ¥è¯¢çš„æ€§èƒ½ä»å¹¶è¡Œå˜æˆäº†ä¸²è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨tryLockæ–¹æ³• + double checkæ¥è§£å†³è¿™æ ·çš„é—®é¢˜ã€‚</p><p>å‡è®¾ç°åœ¨çº¿ç¨‹1è¿‡æ¥è®¿é—®ï¼Œä»–æŸ¥è¯¢ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œä½†æ˜¯æ­¤æ—¶ä»–è·å¾—åˆ°äº†é”çš„èµ„æºï¼Œé‚£ä¹ˆçº¿ç¨‹1å°±ä¼šä¸€ä¸ªäººå»æ‰§è¡Œé€»è¾‘ï¼Œå‡è®¾ç°åœ¨çº¿ç¨‹2è¿‡æ¥ï¼Œçº¿ç¨‹2åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰è·å¾—åˆ°é”ï¼Œé‚£ä¹ˆçº¿ç¨‹2å°±å¯ä»¥è¿›è¡Œåˆ°ä¼‘çœ ï¼Œç›´åˆ°çº¿ç¨‹1æŠŠé”é‡Šæ”¾åï¼Œçº¿ç¨‹2è·å¾—åˆ°é”ï¼Œç„¶åå†æ¥æ‰§è¡Œé€»è¾‘ï¼Œæ­¤æ—¶å°±èƒ½å¤Ÿä»ç¼“å­˜ä¸­æ‹¿åˆ°æ•°æ®äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653328288627-20240615212954-egt32tj.png" alt="1653328288627"></p><p>è§£å†³æ–¹æ¡ˆäºŒã€é€»è¾‘è¿‡æœŸæ–¹æ¡ˆ</p><p>æ–¹æ¡ˆåˆ†æï¼šæˆ‘ä»¬ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™ä¸ªç¼“å­˜å‡»ç©¿é—®é¢˜ï¼Œä¸»è¦åŸå› æ˜¯åœ¨äºæˆ‘ä»¬å¯¹keyè®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œå‡è®¾æˆ‘ä»¬ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå…¶å®å°±ä¸ä¼šæœ‰ç¼“å­˜å‡»ç©¿çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿™æ ·æ•°æ®ä¸å°±ä¸€ç›´å ç”¨æˆ‘ä»¬å†…å­˜äº†å—ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨é€»è¾‘è¿‡æœŸæ–¹æ¡ˆã€‚</p><p>æˆ‘ä»¬æŠŠè¿‡æœŸæ—¶é—´è®¾ç½®åœ¨ redisçš„valueä¸­ï¼Œæ³¨æ„ï¼šè¿™ä¸ªè¿‡æœŸæ—¶é—´å¹¶ä¸ä¼šç›´æ¥ä½œç”¨äºredisï¼Œè€Œæ˜¯æˆ‘ä»¬åç»­é€šè¿‡é€»è¾‘å»å¤„ç†ã€‚å‡è®¾çº¿ç¨‹1å»æŸ¥è¯¢ç¼“å­˜ï¼Œç„¶åä»valueä¸­åˆ¤æ–­å‡ºæ¥å½“å‰çš„æ•°æ®å·²ç»è¿‡æœŸäº†ï¼Œæ­¤æ—¶çº¿ç¨‹1å»è·å¾—äº’æ–¥é”ï¼Œé‚£ä¹ˆå…¶ä»–çº¿ç¨‹ä¼šè¿›è¡Œé˜»å¡ï¼Œè·å¾—äº†é”çš„çº¿ç¨‹ä»–ä¼šå¼€å¯ä¸€ä¸ª çº¿ç¨‹å»è¿›è¡Œ ä»¥å‰çš„é‡æ„æ•°æ®çš„é€»è¾‘ï¼Œç›´åˆ°æ–°å¼€çš„çº¿ç¨‹å®Œæˆè¿™ä¸ªé€»è¾‘åï¼Œæ‰é‡Šæ”¾é”ï¼Œ è€Œçº¿ç¨‹1ç›´æ¥è¿›è¡Œè¿”å›ï¼Œå‡è®¾ç°åœ¨çº¿ç¨‹3è¿‡æ¥è®¿é—®ï¼Œç”±äºçº¿ç¨‹çº¿ç¨‹2æŒæœ‰ç€é”ï¼Œæ‰€ä»¥çº¿ç¨‹3æ— æ³•è·å¾—é”ï¼Œçº¿ç¨‹3ä¹Ÿç›´æ¥è¿”å›æ•°æ®ï¼Œåªæœ‰ç­‰åˆ°æ–°å¼€çš„çº¿ç¨‹2æŠŠé‡å»ºæ•°æ®æ„å»ºå®Œåï¼Œå…¶ä»–çº¿ç¨‹æ‰èƒ½èµ°è¿”å›æ­£ç¡®çš„æ•°æ®ã€‚</p><p>è¿™ç§æ–¹æ¡ˆå·§å¦™åœ¨äºï¼Œå¼‚æ­¥çš„æ„å»ºç¼“å­˜ï¼Œç¼ºç‚¹åœ¨äºåœ¨æ„å»ºå®Œç¼“å­˜ä¹‹å‰ï¼Œè¿”å›çš„éƒ½æ˜¯è„æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653328663897-20240615212954-5cgytb8.png" alt="1653328663897">â€‹</p><p>è¿›è¡Œå¯¹æ¯”</p><p><strong>äº’æ–¥é”æ–¹æ¡ˆï¼š</strong> ç”±äºä¿è¯äº†äº’æ–¥æ€§ï¼Œæ‰€ä»¥æ•°æ®ä¸€è‡´ï¼Œä¸”å®ç°ç®€å•ï¼Œå› ä¸ºä»…ä»…åªéœ€è¦åŠ ä¸€æŠŠé”è€Œå·²ï¼Œä¹Ÿæ²¡å…¶ä»–çš„äº‹æƒ…éœ€è¦æ“å¿ƒï¼Œæ‰€ä»¥æ²¡æœ‰é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼Œç¼ºç‚¹åœ¨äºæœ‰é”å°±æœ‰æ­»é”é—®é¢˜çš„å‘ç”Ÿï¼Œä¸”åªèƒ½ä¸²è¡Œæ‰§è¡Œæ€§èƒ½è‚¯å®šå—åˆ°å½±å“</p><p>â€</p><p><strong>é€»è¾‘è¿‡æœŸæ–¹æ¡ˆï¼š</strong>  çº¿ç¨‹è¯»å–è¿‡ç¨‹ä¸­ä¸éœ€è¦ç­‰å¾…ï¼Œæ€§èƒ½å¥½ï¼Œæœ‰ä¸€ä¸ªé¢å¤–çš„çº¿ç¨‹æŒæœ‰é”å»è¿›è¡Œé‡æ„æ•°æ®ï¼Œä½†æ˜¯åœ¨é‡æ„æ•°æ®å®Œæˆå‰ï¼Œå…¶ä»–çš„çº¿ç¨‹åªèƒ½è¿”å›ä¹‹å‰çš„æ•°æ®ï¼Œä¸”å®ç°èµ·æ¥éº»çƒ¦</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653357522914-20240615212954-yqv5j25.png" alt="1653357522914"></p><h3 id="2-9-åˆ©ç”¨äº’æ–¥é”è§£å†³ç¼“å­˜å‡»ç©¿é—®é¢˜">2.9 åˆ©ç”¨äº’æ–¥é”è§£å†³ç¼“å­˜å‡»ç©¿é—®é¢˜</h3><p>æ ¸å¿ƒæ€è·¯ï¼šç›¸è¾ƒäºåŸæ¥ä»ç¼“å­˜ä¸­æŸ¥è¯¢ä¸åˆ°æ•°æ®åç›´æ¥æŸ¥è¯¢æ•°æ®åº“è€Œè¨€ï¼Œç°åœ¨çš„æ–¹æ¡ˆæ˜¯ è¿›è¡ŒæŸ¥è¯¢ä¹‹åï¼Œå¦‚æœä»ç¼“å­˜æ²¡æœ‰æŸ¥è¯¢åˆ°æ•°æ®ï¼Œåˆ™è¿›è¡Œäº’æ–¥é”çš„è·å–ï¼Œè·å–äº’æ–¥é”åï¼Œåˆ¤æ–­æ˜¯å¦è·å¾—åˆ°äº†é”ï¼Œå¦‚æœæ²¡æœ‰è·å¾—åˆ°ï¼Œåˆ™ä¼‘çœ ï¼Œè¿‡ä¸€ä¼šå†è¿›è¡Œå°è¯•ï¼Œç›´åˆ°è·å–åˆ°é”ä¸ºæ­¢ï¼Œæ‰èƒ½è¿›è¡ŒæŸ¥è¯¢</p><p>å¦‚æœè·å–åˆ°äº†é”çš„çº¿ç¨‹ï¼Œå†å»è¿›è¡ŒæŸ¥è¯¢ï¼ŒæŸ¥è¯¢åå°†æ•°æ®å†™å…¥redisï¼Œå†é‡Šæ”¾é”ï¼Œè¿”å›æ•°æ®ï¼Œåˆ©ç”¨äº’æ–¥é”å°±èƒ½ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œæ“ä½œæ•°æ®åº“çš„é€»è¾‘ï¼Œé˜²æ­¢ç¼“å­˜å‡»ç©¿</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653357860001-20240615212954-ijj1lm3.png" alt="1653357860001">â€‹</p><p><strong>æ“ä½œé”çš„ä»£ç ï¼š</strong></p><p>æ ¸å¿ƒæ€è·¯å°±æ˜¯åˆ©ç”¨redisçš„setnxæ–¹æ³•æ¥è¡¨ç¤ºè·å–é”ï¼Œè¯¥æ–¹æ³•å«ä¹‰æ˜¯redisä¸­å¦‚æœæ²¡æœ‰è¿™ä¸ªkeyï¼Œåˆ™æ’å…¥æˆåŠŸï¼Œè¿”å›1ï¼Œåœ¨stringRedisTemplateä¸­è¿”å›trueï¼Œ  å¦‚æœæœ‰è¿™ä¸ªkeyåˆ™æ’å…¥å¤±è´¥ï¼Œåˆ™è¿”å›0ï¼Œåœ¨stringRedisTemplateè¿”å›falseï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡trueï¼Œæˆ–è€…æ˜¯falseï¼Œæ¥è¡¨ç¤ºæ˜¯å¦æœ‰çº¿ç¨‹æˆåŠŸæ’å…¥keyï¼ŒæˆåŠŸæ’å…¥çš„keyçš„çº¿ç¨‹æˆ‘ä»¬è®¤ä¸ºä»–å°±æ˜¯è·å¾—åˆ°é”çš„çº¿ç¨‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(String key)</span> &#123;</span><br><span class="line">    <span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().setIfAbsent(key, <span class="string">&quot;1&quot;</span>, <span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line">    <span class="keyword">return</span> BooleanUtil.isTrue(flag);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">(String key)</span> &#123;</span><br><span class="line">    stringRedisTemplate.delete(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ“ä½œä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Shop <span class="title function_">queryWithMutex</span><span class="params">(Long id)</span>  &#123;</span><br><span class="line">       <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> CACHE_SHOP_KEY + id;</span><br><span class="line">       <span class="comment">// 1ã€ä»redisä¸­æŸ¥è¯¢å•†é“ºç¼“å­˜</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">       <span class="comment">// 2ã€åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">       <span class="keyword">if</span> (StrUtil.isNotBlank(shopJson)) &#123;</span><br><span class="line">           <span class="comment">// å­˜åœ¨,ç›´æ¥è¿”å›</span></span><br><span class="line">           <span class="keyword">return</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//åˆ¤æ–­å‘½ä¸­çš„å€¼æ˜¯å¦æ˜¯ç©ºå€¼</span></span><br><span class="line">       <span class="keyword">if</span> (shopJson != <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="comment">//è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯</span></span><br><span class="line">           <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// 4.å®ç°ç¼“å­˜é‡æ„</span></span><br><span class="line">       <span class="comment">//4.1 è·å–äº’æ–¥é”</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">lockKey</span> <span class="operator">=</span> <span class="string">&quot;lock:shop:&quot;</span> + id;</span><br><span class="line">       <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> tryLock(lockKey);</span><br><span class="line">           <span class="comment">// 4.2 åˆ¤æ–­å¦è·å–æˆåŠŸ</span></span><br><span class="line">           <span class="keyword">if</span>(!isLock)&#123;</span><br><span class="line">               <span class="comment">//4.3 å¤±è´¥ï¼Œåˆ™ä¼‘çœ é‡è¯•</span></span><br><span class="line">               Thread.sleep(<span class="number">50</span>);</span><br><span class="line">               <span class="keyword">return</span> queryWithMutex(id);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">//4.4 æˆåŠŸï¼Œæ ¹æ®idæŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">            shop = getById(id);</span><br><span class="line">           <span class="comment">// 5.ä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line">           <span class="keyword">if</span>(shop == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="comment">//å°†ç©ºå€¼å†™å…¥redis</span></span><br><span class="line">               stringRedisTemplate.opsForValue().set(key,<span class="string">&quot;&quot;</span>,CACHE_NULL_TTL,TimeUnit.MINUTES);</span><br><span class="line">               <span class="comment">//è¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">               <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">//6.å†™å…¥redis</span></span><br><span class="line">           stringRedisTemplate.opsForValue().set(key,JSONUtil.toJsonStr(shop),CACHE_NULL_TTL,TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="comment">//7.é‡Šæ”¾äº’æ–¥é”</span></span><br><span class="line">           unlock(lockKey);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> shop;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="3-0-ã€åˆ©ç”¨é€»è¾‘è¿‡æœŸè§£å†³ç¼“å­˜å‡»ç©¿é—®é¢˜">3.0 ã€åˆ©ç”¨é€»è¾‘è¿‡æœŸè§£å†³ç¼“å­˜å‡»ç©¿é—®é¢˜</h3><p><strong>éœ€æ±‚ï¼šä¿®æ”¹æ ¹æ®idæŸ¥è¯¢å•†é“ºçš„ä¸šåŠ¡ï¼ŒåŸºäºé€»è¾‘è¿‡æœŸæ–¹å¼æ¥è§£å†³ç¼“å­˜å‡»ç©¿é—®é¢˜</strong></p><p>æ€è·¯åˆ†æï¼šå½“ç”¨æˆ·å¼€å§‹æŸ¥è¯¢redisæ—¶ï¼Œåˆ¤æ–­æ˜¯å¦å‘½ä¸­ï¼Œå¦‚æœæ²¡æœ‰å‘½ä¸­åˆ™ç›´æ¥è¿”å›ç©ºæ•°æ®ï¼Œä¸æŸ¥è¯¢æ•°æ®åº“ï¼Œè€Œä¸€æ—¦å‘½ä¸­åï¼Œå°†valueå–å‡ºï¼Œåˆ¤æ–­valueä¸­çš„è¿‡æœŸæ—¶é—´æ˜¯å¦æ»¡è¶³ï¼Œå¦‚æœæ²¡æœ‰è¿‡æœŸï¼Œåˆ™ç›´æ¥è¿”å›redisä¸­çš„æ•°æ®ï¼Œå¦‚æœè¿‡æœŸï¼Œåˆ™åœ¨å¼€å¯ç‹¬ç«‹çº¿ç¨‹åç›´æ¥è¿”å›ä¹‹å‰çš„æ•°æ®ï¼Œç‹¬ç«‹çº¿ç¨‹å»é‡æ„æ•°æ®ï¼Œé‡æ„å®Œæˆåé‡Šæ”¾äº’æ–¥é”ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653360308731-20240615212954-zbqnygz.png" alt="1653360308731">â€‹</p><p>å¦‚æœå°è£…æ•°æ®ï¼šå› ä¸ºç°åœ¨redisä¸­å­˜å‚¨çš„æ•°æ®çš„valueéœ€è¦å¸¦ä¸Šè¿‡æœŸæ—¶é—´ï¼Œæ­¤æ—¶è¦ä¹ˆä½ å»ä¿®æ”¹åŸæ¥çš„å®ä½“ç±»ï¼Œè¦ä¹ˆä½ </p><p><strong>æ­¥éª¤ä¸€ã€</strong></p><p>æ–°å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œæˆ‘ä»¬é‡‡ç”¨ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆï¼Œå¯¹åŸæ¥ä»£ç æ²¡æœ‰ä¾µå…¥æ€§ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisData</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> LocalDateTime expireTime;</span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ­¥éª¤äºŒã€</strong></p><p>åœ¨<strong>ShopServiceImpl</strong> æ–°å¢æ­¤æ–¹æ³•ï¼Œåˆ©ç”¨å•å…ƒæµ‹è¯•è¿›è¡Œç¼“å­˜é¢„çƒ­</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653360807133-20240615212954-fttq5qf.png" alt="1653360807133"></p><p><strong>åœ¨æµ‹è¯•ç±»ä¸­</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653360864839-20240615212954-vz7ytqn.png" alt="1653360864839"></p><p>æ­¥éª¤ä¸‰ï¼šæ­£å¼ä»£ç </p><p><strong>ShopServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ExecutorService</span> <span class="variable">CACHE_REBUILD_EXECUTOR</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">public</span> Shop <span class="title function_">queryWithLogicalExpire</span><span class="params">( Long id )</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> CACHE_SHOP_KEY + id;</span><br><span class="line">    <span class="comment">// 1.ä»redisæŸ¥è¯¢å•†é“ºç¼“å­˜</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">    <span class="comment">// 2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> (StrUtil.isBlank(json)) &#123;</span><br><span class="line">        <span class="comment">// 3.å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.å‘½ä¸­ï¼Œéœ€è¦å…ˆæŠŠjsonååºåˆ—åŒ–ä¸ºå¯¹è±¡</span></span><br><span class="line">    <span class="type">RedisData</span> <span class="variable">redisData</span> <span class="operator">=</span> JSONUtil.toBean(json, RedisData.class);</span><br><span class="line">    <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> JSONUtil.toBean((JSONObject) redisData.getData(), Shop.class);</span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">expireTime</span> <span class="operator">=</span> redisData.getExpireTime();</span><br><span class="line">    <span class="comment">// 5.åˆ¤æ–­æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="keyword">if</span>(expireTime.isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">        <span class="comment">// 5.1.æœªè¿‡æœŸï¼Œç›´æ¥è¿”å›åº—é“ºä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> shop;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5.2.å·²è¿‡æœŸï¼Œéœ€è¦ç¼“å­˜é‡å»º</span></span><br><span class="line">    <span class="comment">// 6.ç¼“å­˜é‡å»º</span></span><br><span class="line">    <span class="comment">// 6.1.è·å–äº’æ–¥é”</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">lockKey</span> <span class="operator">=</span> LOCK_SHOP_KEY + id;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> tryLock(lockKey);</span><br><span class="line">    <span class="comment">// 6.2.åˆ¤æ–­æ˜¯å¦è·å–é”æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> (isLock)&#123;</span><br><span class="line">        CACHE_REBUILD_EXECUTOR.submit( ()-&gt;&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                <span class="comment">//é‡å»ºç¼“å­˜</span></span><br><span class="line">                <span class="built_in">this</span>.saveShop2Redis(id,<span class="number">20L</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                unlock(lockKey);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 6.4.è¿”å›è¿‡æœŸçš„å•†é“ºä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">return</span> shop;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-1ã€å°è£…Rediså·¥å…·ç±»">3.1ã€å°è£…Rediså·¥å…·ç±»</h3><p>åŸºäºStringRedisTemplateå°è£…ä¸€ä¸ªç¼“å­˜å·¥å…·ç±»ï¼Œæ»¡è¶³ä¸‹åˆ—éœ€æ±‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ–¹æ³•1ï¼šå°†ä»»æ„Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºjsonå¹¶å­˜å‚¨åœ¨stringç±»å‹çš„keyä¸­ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®TTLè¿‡æœŸæ—¶é—´</p></li><li class="lvl-2"><p>æ–¹æ³•2ï¼šå°†ä»»æ„Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºjsonå¹¶å­˜å‚¨åœ¨stringç±»å‹çš„keyä¸­ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®é€»è¾‘è¿‡æœŸæ—¶é—´ï¼Œç”¨äºå¤„ç†ç¼“</p></li></ul><p>å­˜å‡»ç©¿é—®é¢˜</p><ul class="lvl-0"><li class="lvl-2"><p>æ–¹æ³•3ï¼šæ ¹æ®æŒ‡å®šçš„keyæŸ¥è¯¢ç¼“å­˜ï¼Œå¹¶ååºåˆ—åŒ–ä¸ºæŒ‡å®šç±»å‹ï¼Œåˆ©ç”¨ç¼“å­˜ç©ºå€¼çš„æ–¹å¼è§£å†³ç¼“å­˜ç©¿é€é—®é¢˜</p></li><li class="lvl-2"><p>æ–¹æ³•4ï¼šæ ¹æ®æŒ‡å®šçš„keyæŸ¥è¯¢ç¼“å­˜ï¼Œå¹¶ååºåˆ—åŒ–ä¸ºæŒ‡å®šç±»å‹ï¼Œéœ€è¦åˆ©ç”¨é€»è¾‘è¿‡æœŸè§£å†³ç¼“å­˜å‡»ç©¿é—®é¢˜</p></li></ul><p>å°†é€»è¾‘è¿›è¡Œå°è£…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CacheClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ExecutorService</span> <span class="variable">CACHE_REBUILD_EXECUTOR</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CacheClient</span><span class="params">(StringRedisTemplate stringRedisTemplate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stringRedisTemplate = stringRedisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String key, Object value, Long time, TimeUnit unit)</span> &#123;</span><br><span class="line">        stringRedisTemplate.opsForValue().set(key, JSONUtil.toJsonStr(value), time, unit);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWithLogicalExpire</span><span class="params">(String key, Object value, Long time, TimeUnit unit)</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®é€»è¾‘è¿‡æœŸ</span></span><br><span class="line">        <span class="type">RedisData</span> <span class="variable">redisData</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedisData</span>();</span><br><span class="line">        redisData.setData(value);</span><br><span class="line">        redisData.setExpireTime(LocalDateTime.now().plusSeconds(unit.toSeconds(time)));</span><br><span class="line">        <span class="comment">// å†™å…¥Redis</span></span><br><span class="line">        stringRedisTemplate.opsForValue().set(key, JSONUtil.toJsonStr(redisData));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;R,ID&gt; R <span class="title function_">queryWithPassThrough</span><span class="params">(</span></span><br><span class="line"><span class="params">            String keyPrefix, ID id, Class&lt;R&gt; type, Function&lt;ID, R&gt; dbFallback, Long time, TimeUnit unit)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> keyPrefix + id;</span><br><span class="line">        <span class="comment">// 1.ä»redisæŸ¥è¯¢å•†é“ºç¼“å­˜</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isNotBlank(json)) &#123;</span><br><span class="line">            <span class="comment">// 3.å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">return</span> JSONUtil.toBean(json, type);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å‘½ä¸­çš„æ˜¯å¦æ˜¯ç©ºå€¼</span></span><br><span class="line">        <span class="keyword">if</span> (json != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.ä¸å­˜åœ¨ï¼Œæ ¹æ®idæŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> dbFallback.apply(id);</span><br><span class="line">        <span class="comment">// 5.ä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line">        <span class="keyword">if</span> (r == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å°†ç©ºå€¼å†™å…¥redis</span></span><br><span class="line">            stringRedisTemplate.opsForValue().set(key, <span class="string">&quot;&quot;</span>, CACHE_NULL_TTL, TimeUnit.MINUTES);</span><br><span class="line">            <span class="comment">// è¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 6.å­˜åœ¨ï¼Œå†™å…¥redis</span></span><br><span class="line">        <span class="built_in">this</span>.set(key, r, time, unit);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;R, ID&gt; R <span class="title function_">queryWithLogicalExpire</span><span class="params">(</span></span><br><span class="line"><span class="params">            String keyPrefix, ID id, Class&lt;R&gt; type, Function&lt;ID, R&gt; dbFallback, Long time, TimeUnit unit)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> keyPrefix + id;</span><br><span class="line">        <span class="comment">// 1.ä»redisæŸ¥è¯¢å•†é“ºç¼“å­˜</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isBlank(json)) &#123;</span><br><span class="line">            <span class="comment">// 3.å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4.å‘½ä¸­ï¼Œéœ€è¦å…ˆæŠŠjsonååºåˆ—åŒ–ä¸ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">RedisData</span> <span class="variable">redisData</span> <span class="operator">=</span> JSONUtil.toBean(json, RedisData.class);</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> JSONUtil.toBean((JSONObject) redisData.getData(), type);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">expireTime</span> <span class="operator">=</span> redisData.getExpireTime();</span><br><span class="line">        <span class="comment">// 5.åˆ¤æ–­æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">        <span class="keyword">if</span>(expireTime.isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="comment">// 5.1.æœªè¿‡æœŸï¼Œç›´æ¥è¿”å›åº—é“ºä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">return</span> r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 5.2.å·²è¿‡æœŸï¼Œéœ€è¦ç¼“å­˜é‡å»º</span></span><br><span class="line">        <span class="comment">// 6.ç¼“å­˜é‡å»º</span></span><br><span class="line">        <span class="comment">// 6.1.è·å–äº’æ–¥é”</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">lockKey</span> <span class="operator">=</span> LOCK_SHOP_KEY + id;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> tryLock(lockKey);</span><br><span class="line">        <span class="comment">// 6.2.åˆ¤æ–­æ˜¯å¦è·å–é”æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (isLock)&#123;</span><br><span class="line">            <span class="comment">// 6.3.æˆåŠŸï¼Œå¼€å¯ç‹¬ç«‹çº¿ç¨‹ï¼Œå®ç°ç¼“å­˜é‡å»º</span></span><br><span class="line">            CACHE_REBUILD_EXECUTOR.submit(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// æŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">                    <span class="type">R</span> <span class="variable">newR</span> <span class="operator">=</span> dbFallback.apply(id);</span><br><span class="line">                    <span class="comment">// é‡å»ºç¼“å­˜</span></span><br><span class="line">                    <span class="built_in">this</span>.setWithLogicalExpire(key, newR, time, unit);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                    <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">                    unlock(lockKey);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 6.4.è¿”å›è¿‡æœŸçš„å•†é“ºä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;R, ID&gt; R <span class="title function_">queryWithMutex</span><span class="params">(</span></span><br><span class="line"><span class="params">            String keyPrefix, ID id, Class&lt;R&gt; type, Function&lt;ID, R&gt; dbFallback, Long time, TimeUnit unit)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> keyPrefix + id;</span><br><span class="line">        <span class="comment">// 1.ä»redisæŸ¥è¯¢å•†é“ºç¼“å­˜</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isNotBlank(shopJson)) &#123;</span><br><span class="line">            <span class="comment">// 3.å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">return</span> JSONUtil.toBean(shopJson, type);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å‘½ä¸­çš„æ˜¯å¦æ˜¯ç©ºå€¼</span></span><br><span class="line">        <span class="keyword">if</span> (shopJson != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.å®ç°ç¼“å­˜é‡å»º</span></span><br><span class="line">        <span class="comment">// 4.1.è·å–äº’æ–¥é”</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">lockKey</span> <span class="operator">=</span> LOCK_SHOP_KEY + id;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> tryLock(lockKey);</span><br><span class="line">            <span class="comment">// 4.2.åˆ¤æ–­æ˜¯å¦è·å–æˆåŠŸ</span></span><br><span class="line">            <span class="keyword">if</span> (!isLock) &#123;</span><br><span class="line">                <span class="comment">// 4.3.è·å–é”å¤±è´¥ï¼Œä¼‘çœ å¹¶é‡è¯•</span></span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                <span class="keyword">return</span> queryWithMutex(keyPrefix, id, type, dbFallback, time, unit);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 4.4.è·å–é”æˆåŠŸï¼Œæ ¹æ®idæŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">            r = dbFallback.apply(id);</span><br><span class="line">            <span class="comment">// 5.ä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line">            <span class="keyword">if</span> (r == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// å°†ç©ºå€¼å†™å…¥redis</span></span><br><span class="line">                stringRedisTemplate.opsForValue().set(key, <span class="string">&quot;&quot;</span>, CACHE_NULL_TTL, TimeUnit.MINUTES);</span><br><span class="line">                <span class="comment">// è¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 6.å­˜åœ¨ï¼Œå†™å…¥redis</span></span><br><span class="line">            <span class="built_in">this</span>.set(key, r, time, unit);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// 7.é‡Šæ”¾é”</span></span><br><span class="line">            unlock(lockKey);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 8.è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().setIfAbsent(key, <span class="string">&quot;1&quot;</span>, <span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line">        <span class="keyword">return</span> BooleanUtil.isTrue(flag);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        stringRedisTemplate.delete(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ShopServiceImpl ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> CacheClient cacheClient;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="comment">// è§£å†³ç¼“å­˜ç©¿é€</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> cacheClient</span><br><span class="line">                .queryWithPassThrough(CACHE_SHOP_KEY, id, Shop.class, <span class="built_in">this</span>::getById, CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// äº’æ–¥é”è§£å†³ç¼“å­˜å‡»ç©¿</span></span><br><span class="line">        <span class="comment">// Shop shop = cacheClient</span></span><br><span class="line">        <span class="comment">//         .queryWithMutex(CACHE_SHOP_KEY, id, Shop.class, this::getById, CACHE_SHOP_TTL, TimeUnit.MINUTES);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€»è¾‘è¿‡æœŸè§£å†³ç¼“å­˜å‡»ç©¿</span></span><br><span class="line">        <span class="comment">// Shop shop = cacheClient</span></span><br><span class="line">        <span class="comment">//         .queryWithLogicalExpire(CACHE_SHOP_KEY, id, Shop.class, this::getById, 20L, TimeUnit.SECONDS);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shop == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº—é“ºä¸å­˜åœ¨ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 7.è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€ä¼˜æƒ å·ç§’æ€">3ã€ä¼˜æƒ å·ç§’æ€</h2><h3 id="3-1-å…¨å±€å”¯ä¸€ID">3.1 -å…¨å±€å”¯ä¸€ID</h3><p>æ¯ä¸ªåº—é“ºéƒ½å¯ä»¥å‘å¸ƒä¼˜æƒ åˆ¸ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653362612286-20240615212954-c7xixvi.png" alt="1653362612286">â€‹</p><p>â€</p><blockquote><p>å½“ç”¨æˆ·æŠ¢è´­æ—¶ï¼Œå°±ä¼šç”Ÿæˆè®¢å•å¹¶ä¿å­˜åˆ°tb_voucher_orderè¿™å¼ è¡¨ä¸­ï¼Œè€Œè®¢å•è¡¨å¦‚æœä½¿ç”¨æ•°æ®åº“è‡ªå¢IDå°±å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p><ul class="lvl-1"><li class="lvl-2">idçš„è§„å¾‹æ€§å¤ªæ˜æ˜¾</li><li class="lvl-2">å—å•è¡¨æ•°æ®é‡çš„é™åˆ¶</li></ul></blockquote><p>â€</p><p>åœºæ™¯åˆ†æï¼šå¦‚æœæˆ‘ä»¬çš„idå…·æœ‰å¤ªæ˜æ˜¾çš„è§„åˆ™ï¼Œç”¨æˆ·æˆ–è€…è¯´å•†ä¸šå¯¹æ‰‹å¾ˆå®¹æ˜“çŒœæµ‹å‡ºæ¥æˆ‘ä»¬çš„ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚å•†åŸåœ¨ä¸€å¤©æ—¶é—´å†…ï¼Œå–å‡ºäº†å¤šå°‘å•ï¼Œè¿™æ˜æ˜¾ä¸åˆé€‚ã€‚</p><p>â€</p><p>åœºæ™¯åˆ†æäºŒï¼šéšç€æˆ‘ä»¬å•†åŸè§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œmysqlçš„å•è¡¨çš„å®¹é‡ä¸å®œè¶…è¿‡500Wï¼Œæ•°æ®é‡è¿‡å¤§ä¹‹åï¼Œæˆ‘ä»¬è¦è¿›è¡Œæ‹†åº“æ‹†è¡¨ï¼Œä½†æ‹†åˆ†è¡¨äº†ä¹‹åï¼Œä»–ä»¬ä»é€»è¾‘ä¸Šè®²ä»–ä»¬æ˜¯åŒä¸€å¼ è¡¨ï¼Œæ‰€ä»¥ä»–ä»¬çš„idæ˜¯ä¸èƒ½ä¸€æ ·çš„ï¼Œ äºæ˜¯ä¹æˆ‘ä»¬éœ€è¦ä¿è¯idçš„å”¯ä¸€æ€§ã€‚</p><p><strong>å…¨å±€IDç”Ÿæˆå™¨</strong>ï¼Œæ˜¯ä¸€ç§åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹ç”¨æ¥ç”Ÿæˆå…¨å±€å”¯ä¸€IDçš„å·¥å…·ï¼Œä¸€èˆ¬è¦æ»¡è¶³ä¸‹åˆ—ç‰¹æ€§ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653363100502-20240615212954-eaf486h.png" alt="1653363100502"></p><p>ä¸ºäº†å¢åŠ IDçš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç›´æ¥ä½¿ç”¨Redisè‡ªå¢çš„æ•°å€¼ï¼Œè€Œæ˜¯æ‹¼æ¥ä¸€äº›å…¶å®ƒä¿¡æ¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653363172079-20240615212954-dsotoa8.png" alt="1653363172079">â€‹</p><p>â€</p><p>IDçš„ç»„æˆéƒ¨åˆ†ï¼š</p><p>ç¬¦å·ä½ï¼š1bitï¼Œæ°¸è¿œä¸º0</p><p>æ—¶é—´æˆ³ï¼š31bitï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œå¯ä»¥ä½¿ç”¨69å¹´</p><p>åºåˆ—å·ï¼š32bitï¼Œç§’å†…çš„è®¡æ•°å™¨ï¼Œæ”¯æŒæ¯ç§’äº§ç”Ÿ2^32ä¸ªä¸åŒID</p><h3 id="3-2-Rediså®ç°å…¨å±€å”¯ä¸€Id">3.2 -Rediså®ç°å…¨å±€å”¯ä¸€Id</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisIdWorker</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¼€å§‹æ—¶é—´æˆ³</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">BEGIN_TIMESTAMP</span> <span class="operator">=</span> <span class="number">1640995200L</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åºåˆ—å·çš„ä½æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">COUNT_BITS</span> <span class="operator">=</span> <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RedisIdWorker</span><span class="params">(StringRedisTemplate stringRedisTemplate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stringRedisTemplate = stringRedisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">nextId</span><span class="params">(String keyPrefix)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.ç”Ÿæˆæ—¶é—´æˆ³</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        <span class="type">long</span> <span class="variable">nowSecond</span> <span class="operator">=</span> now.toEpochSecond(ZoneOffset.UTC);</span><br><span class="line">        <span class="type">long</span> <span class="variable">timestamp</span> <span class="operator">=</span> nowSecond - BEGIN_TIMESTAMP;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.ç”Ÿæˆåºåˆ—å·</span></span><br><span class="line">        <span class="comment">// 2.1.è·å–å½“å‰æ—¥æœŸï¼Œç²¾ç¡®åˆ°å¤©</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">date</span> <span class="operator">=</span> now.format(DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy:MM:dd&quot;</span>));</span><br><span class="line">        <span class="comment">// 2.2.è‡ªå¢é•¿</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().increment(<span class="string">&quot;icr:&quot;</span> + keyPrefix + <span class="string">&quot;:&quot;</span> + date);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.æ‹¼æ¥å¹¶è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> timestamp &lt;&lt; COUNT_BITS | count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><p>çŸ¥è¯†å°è´´å£«ï¼šå…³äºcountdownlatch</p><p>countdownlatchåä¸ºä¿¡å·æªï¼šä¸»è¦çš„ä½œç”¨æ˜¯åŒæ­¥åè°ƒåœ¨å¤šçº¿ç¨‹çš„ç­‰å¾…äºå”¤é†’é—®é¢˜</p><p>æˆ‘ä»¬å¦‚æœæ²¡æœ‰CountDownLatch ï¼Œé‚£ä¹ˆç”±äºç¨‹åºæ˜¯å¼‚æ­¥çš„ï¼Œå½“å¼‚æ­¥ç¨‹åºæ²¡æœ‰æ‰§è¡Œå®Œæ—¶ï¼Œä¸»çº¿ç¨‹å°±å·²ç»æ‰§è¡Œå®Œäº†ï¼Œç„¶åæˆ‘ä»¬æœŸæœ›çš„æ˜¯åˆ†çº¿ç¨‹å…¨éƒ¨èµ°å®Œä¹‹åï¼Œä¸»çº¿ç¨‹å†èµ°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ­¤æ—¶éœ€è¦ä½¿ç”¨åˆ°CountDownLatch</p><p>CountDownLatch ä¸­æœ‰ä¸¤ä¸ªæœ€é‡è¦çš„æ–¹æ³•</p><p>1ã€countDown</p><p>2ã€await</p><p>await æ–¹æ³• æ˜¯é˜»å¡æ–¹æ³•ï¼Œæˆ‘ä»¬æ‹…å¿ƒåˆ†çº¿ç¨‹æ²¡æœ‰æ‰§è¡Œå®Œæ—¶ï¼Œmainçº¿ç¨‹å°±å…ˆæ‰§è¡Œï¼Œæ‰€ä»¥ä½¿ç”¨awaitå¯ä»¥è®©mainçº¿ç¨‹é˜»å¡ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™mainçº¿ç¨‹ä¸å†é˜»å¡å‘¢ï¼Ÿå½“CountDownLatch  å†…éƒ¨ç»´æŠ¤çš„ å˜é‡å˜ä¸º0æ—¶ï¼Œå°±ä¸å†é˜»å¡ï¼Œç›´æ¥æ”¾è¡Œï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™CountDownLatch   ç»´æŠ¤çš„å˜é‡å˜ä¸º0 å‘¢ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨ä¸€æ¬¡countDown ï¼Œå†…éƒ¨å˜é‡å°±å‡å°‘1ï¼Œæˆ‘ä»¬è®©åˆ†çº¿ç¨‹å’Œå˜é‡ç»‘å®šï¼Œ æ‰§è¡Œå®Œä¸€ä¸ªåˆ†çº¿ç¨‹å°±å‡å°‘ä¸€ä¸ªå˜é‡ï¼Œå½“åˆ†çº¿ç¨‹å…¨éƒ¨èµ°å®Œï¼ŒCountDownLatch ç»´æŠ¤çš„å˜é‡å°±æ˜¯0ï¼Œæ­¤æ—¶awaitå°±ä¸å†é˜»å¡ï¼Œç»Ÿè®¡å‡ºæ¥çš„æ—¶é—´ä¹Ÿå°±æ˜¯æ‰€æœ‰åˆ†çº¿ç¨‹æ‰§è¡Œå®Œåçš„æ—¶é—´ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testIdWorker</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">CountDownLatch</span> <span class="variable">latch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span> () -&gt; &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">id</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;id = &quot;</span> + id);</span><br><span class="line">        &#125;</span><br><span class="line">        latch.countDown();</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">long</span> <span class="variable">begin</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">300</span>; i++) &#123;</span><br><span class="line">        es.submit(task);</span><br><span class="line">    &#125;</span><br><span class="line">    latch.await();</span><br><span class="line">    <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">&quot;time = &quot;</span> + (end - begin));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240626152849-2cxizut.png" alt="image">â€‹</p><h3 id="3-3-æ·»åŠ ä¼˜æƒ å·">3.3 æ·»åŠ ä¼˜æƒ å·</h3><p>æ¯ä¸ªåº—é“ºéƒ½å¯ä»¥å‘å¸ƒä¼˜æƒ åˆ¸ï¼Œåˆ†ä¸ºå¹³ä»·åˆ¸å’Œç‰¹ä»·åˆ¸ã€‚å¹³ä»·åˆ¸å¯ä»¥ä»»æ„è´­ä¹°ï¼Œè€Œç‰¹ä»·åˆ¸éœ€è¦ç§’æ€æŠ¢è´­ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653365145124-20240615212954-mfzg3jm.png" alt="1653365145124"></p><p>tb_voucherï¼šä¼˜æƒ åˆ¸çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¼˜æƒ é‡‘é¢ã€ä½¿ç”¨è§„åˆ™ç­‰<br>tb_seckill_voucherï¼šä¼˜æƒ åˆ¸çš„åº“å­˜ã€å¼€å§‹æŠ¢è´­æ—¶é—´ï¼Œç»“æŸæŠ¢è´­æ—¶é—´ã€‚ç‰¹ä»·ä¼˜æƒ åˆ¸æ‰éœ€è¦å¡«å†™è¿™äº›ä¿¡æ¯</p><p>å¹³ä»·å·ç”±äºä¼˜æƒ åŠ›åº¦å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ä»»æ„é¢†å–</p><p>è€Œä»£é‡‘åˆ¸ç”±äºä¼˜æƒ åŠ›åº¦å¤§ï¼Œæ‰€ä»¥åƒç¬¬äºŒç§å·ï¼Œå°±å¾—é™åˆ¶æ•°é‡ï¼Œä»è¡¨ç»“æ„ä¸Šä¹Ÿèƒ½çœ‹å‡ºï¼Œç‰¹ä»·å·é™¤äº†å…·æœ‰ä¼˜æƒ å·çš„åŸºæœ¬ä¿¡æ¯ä»¥å¤–ï¼Œè¿˜å…·æœ‰åº“å­˜ï¼ŒæŠ¢è´­æ—¶é—´ï¼Œç»“æŸæ—¶é—´ç­‰ç­‰å­—æ®µ</p><p><strong>æ–°å¢æ™®é€šå·ä»£ç ï¼š</strong> VoucherController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">addVoucher</span><span class="params">(<span class="meta">@RequestBody</span> Voucher voucher)</span> &#123;</span><br><span class="line">    voucherService.save(voucher);</span><br><span class="line">    <span class="keyword">return</span> Result.ok(voucher.getId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–°å¢ç§’æ€å·ä»£ç ï¼š</strong></p><p><strong>VoucherController</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;seckill&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">addSeckillVoucher</span><span class="params">(<span class="meta">@RequestBody</span> Voucher voucher)</span> &#123;</span><br><span class="line">    voucherService.addSeckillVoucher(voucher);</span><br><span class="line">    <span class="keyword">return</span> Result.ok(voucher.getId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>VoucherServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addSeckillVoucher</span><span class="params">(Voucher voucher)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜ä¼˜æƒ åˆ¸</span></span><br><span class="line">    save(voucher);</span><br><span class="line">    <span class="comment">// ä¿å­˜ç§’æ€ä¿¡æ¯</span></span><br><span class="line">    <span class="type">SeckillVoucher</span> <span class="variable">seckillVoucher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SeckillVoucher</span>();</span><br><span class="line">    seckillVoucher.setVoucherId(voucher.getId());</span><br><span class="line">    seckillVoucher.setStock(voucher.getStock());</span><br><span class="line">    seckillVoucher.setBeginTime(voucher.getBeginTime());</span><br><span class="line">    seckillVoucher.setEndTime(voucher.getEndTime());</span><br><span class="line">    seckillVoucherService.save(seckillVoucher);</span><br><span class="line">    <span class="comment">// ä¿å­˜ç§’æ€åº“å­˜åˆ°Redisä¸­</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(SECKILL_STOCK_KEY + voucher.getId(), voucher.getStock().toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-4-å®ç°ç§’æ€ä¸‹å•">3.4 å®ç°ç§’æ€ä¸‹å•</h3><p>ä¸‹å•æ ¸å¿ƒæ€è·¯ï¼šå½“æˆ‘ä»¬ç‚¹å‡»æŠ¢è´­æ—¶ï¼Œä¼šè§¦å‘å³ä¾§çš„è¯·æ±‚ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™å¯¹åº”çš„controllerå³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653365839526-20240615212954-fgrqndl.png" alt="1653365839526">â€‹</p><p>ç§’æ€ä¸‹å•åº”è¯¥æ€è€ƒçš„å†…å®¹ï¼š</p><p>ä¸‹å•æ—¶éœ€è¦åˆ¤æ–­ä¸¤ç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ç§’æ€æ˜¯å¦å¼€å§‹æˆ–ç»“æŸï¼Œå¦‚æœå°šæœªå¼€å§‹æˆ–å·²ç»ç»“æŸåˆ™æ— æ³•ä¸‹å•</p></li><li class="lvl-2"><p>åº“å­˜æ˜¯å¦å……è¶³ï¼Œä¸è¶³åˆ™æ— æ³•ä¸‹å•</p></li></ul><p>ä¸‹å•æ ¸å¿ƒé€»è¾‘åˆ†æï¼š</p><p>å½“ç”¨æˆ·å¼€å§‹è¿›è¡Œä¸‹å•ï¼Œæˆ‘ä»¬åº”å½“å»æŸ¥è¯¢ä¼˜æƒ å·ä¿¡æ¯ï¼ŒæŸ¥è¯¢åˆ°ä¼˜æƒ å·ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³ç§’æ€æ¡ä»¶</p><p>æ¯”å¦‚æ—¶é—´æ˜¯å¦å……è¶³ï¼Œå¦‚æœæ—¶é—´å……è¶³ï¼Œåˆ™è¿›ä¸€æ­¥åˆ¤æ–­åº“å­˜æ˜¯å¦è¶³å¤Ÿï¼Œå¦‚æœä¸¤è€…éƒ½æ»¡è¶³ï¼Œåˆ™æ‰£å‡åº“å­˜ï¼Œåˆ›å»ºè®¢å•ï¼Œç„¶åè¿”å›è®¢å•idï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³åˆ™ç›´æ¥ç»“æŸã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653366238564-20240615212954-57m7u18.png" alt="1653366238564"></p><p>VoucherOrderServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æŸ¥è¯¢ä¼˜æƒ åˆ¸</span></span><br><span class="line">    <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line">    <span class="comment">// 2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">    <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">        <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.åˆ¤æ–­ç§’æ€æ˜¯å¦å·²ç»ç»“æŸ</span></span><br><span class="line">    <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">        <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">    <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// åº“å­˜ä¸è¶³</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//5ï¼Œæ‰£å‡åº“å­˜</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">            .setSql(<span class="string">&quot;stock= stock -1&quot;</span>)</span><br><span class="line">            .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).update();</span><br><span class="line">    <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">        <span class="comment">//æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//6.åˆ›å»ºè®¢å•</span></span><br><span class="line">    <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">    <span class="comment">// 6.1.è®¢å•id</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">    voucherOrder.setId(orderId);</span><br><span class="line">    <span class="comment">// 6.2.ç”¨æˆ·id</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    voucherOrder.setUserId(userId);</span><br><span class="line">    <span class="comment">// 6.3.ä»£é‡‘åˆ¸id</span></span><br><span class="line">    voucherOrder.setVoucherId(voucherId);</span><br><span class="line">    save(voucherOrder);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-5-åº“å­˜è¶…å–é—®é¢˜åˆ†æ">3.5 åº“å­˜è¶…å–é—®é¢˜åˆ†æ</h3><p>æœ‰å…³è¶…å–é—®é¢˜åˆ†æï¼šåœ¨æˆ‘ä»¬åŸæœ‰ä»£ç ä¸­æ˜¯è¿™ä¹ˆå†™çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">       <span class="comment">// åº“å­˜ä¸è¶³</span></span><br><span class="line">       <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//5ï¼Œæ‰£å‡åº“å­˜</span></span><br><span class="line">   <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">           .setSql(<span class="string">&quot;stock= stock -1&quot;</span>)</span><br><span class="line">           .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).update();</span><br><span class="line">   <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">       <span class="comment">//æ‰£å‡åº“å­˜</span></span><br><span class="line">       <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>å‡è®¾çº¿ç¨‹1è¿‡æ¥æŸ¥è¯¢åº“å­˜ï¼Œåˆ¤æ–­å‡ºæ¥åº“å­˜å¤§äº1ï¼Œæ­£å‡†å¤‡å»æ‰£å‡åº“å­˜ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æ¥å¾—åŠå»æ‰£å‡ï¼Œæ­¤æ—¶çº¿ç¨‹2è¿‡æ¥ï¼Œçº¿ç¨‹2ä¹Ÿå»æŸ¥è¯¢åº“å­˜ï¼Œå‘ç°è¿™ä¸ªæ•°é‡ä¸€å®šä¹Ÿå¤§äº1ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šå»æ‰£å‡åº“å­˜ï¼Œæœ€ç»ˆå¤šä¸ªçº¿ç¨‹ç›¸å½“äºä¸€èµ·å»æ‰£å‡åº“å­˜ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°åº“å­˜çš„è¶…å–é—®é¢˜ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653368335155-20240615212954-awx32vl.png" alt="1653368335155">â€‹</p><p>è¶…å–é—®é¢˜æ˜¯å…¸å‹çš„å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œé’ˆå¯¹è¿™ä¸€é—®é¢˜çš„å¸¸è§è§£å†³æ–¹æ¡ˆå°±æ˜¯åŠ é”ï¼šè€Œå¯¹äºåŠ é”ï¼Œæˆ‘ä»¬é€šå¸¸æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šè§ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653368562591-20240615212954-kyv65we.png" alt="1653368562591">â€‹</p><p><strong>æ‚²è§‚é”ï¼š</strong></p><blockquote><p>æ‚²è§‚é”å¯ä»¥å®ç°å¯¹äºæ•°æ®çš„ä¸²è¡ŒåŒ–æ‰§è¡Œï¼Œæ¯”å¦‚synï¼Œå’Œlockéƒ½æ˜¯æ‚²è§‚é”çš„ä»£è¡¨ï¼ŒåŒæ—¶ï¼Œæ‚²è§‚é”ä¸­åˆå¯ä»¥å†ç»†åˆ†ä¸ºå…¬å¹³é”ï¼Œéå…¬å¹³é”ï¼Œå¯é‡å…¥é”ï¼Œç­‰ç­‰</p></blockquote><p><strong>ä¹è§‚é”ï¼š</strong></p><blockquote><p>ä¹è§‚é”ï¼šä¼šæœ‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæ¯æ¬¡æ“ä½œæ•°æ®ä¼šå¯¹ç‰ˆæœ¬å·+1ï¼Œå†æäº¤å›æ•°æ®æ—¶ï¼Œä¼šå»æ ¡éªŒæ˜¯å¦æ¯”ä¹‹å‰çš„ç‰ˆæœ¬å¤§1 ï¼Œå¦‚æœå¤§1 ï¼Œåˆ™è¿›è¡Œæ“ä½œæˆåŠŸï¼Œè¿™å¥—æœºåˆ¶çš„æ ¸å¿ƒé€»è¾‘åœ¨äºï¼Œå¦‚æœåœ¨æ“ä½œè¿‡ç¨‹ä¸­ï¼Œç‰ˆæœ¬å·åªæ¯”åŸæ¥å¤§1 ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€æ“ä½œè¿‡ç¨‹ä¸­æ²¡æœ‰äººå¯¹ä»–è¿›è¡Œè¿‡ä¿®æ”¹ï¼Œä»–çš„æ“ä½œå°±æ˜¯å®‰å…¨çš„ï¼Œå¦‚æœä¸å¤§1ï¼Œåˆ™æ•°æ®è¢«ä¿®æ”¹è¿‡ï¼Œå½“ç„¶ä¹è§‚é”è¿˜æœ‰ä¸€äº›å˜ç§çš„å¤„ç†æ–¹å¼æ¯”å¦‚cas</p></blockquote><p>â€</p><p>ä¹è§‚é”çš„å…¸å‹ä»£è¡¨ï¼šå°±æ˜¯casï¼Œåˆ©ç”¨casè¿›è¡Œæ— é”åŒ–æœºåˆ¶åŠ é”ï¼Œvar5 æ˜¯æ“ä½œå‰è¯»å–çš„å†…å­˜å€¼ï¼Œwhileä¸­çš„var1+var2 æ˜¯é¢„ä¼°å€¼ï¼Œå¦‚æœé¢„ä¼°å€¼ == å†…å­˜å€¼ï¼Œåˆ™ä»£è¡¨ä¸­é—´æ²¡æœ‰è¢«äººä¿®æ”¹è¿‡ï¼Œæ­¤æ—¶å°±å°†æ–°å€¼å»æ›¿æ¢ å†…å­˜å€¼</p><p>â€</p><p>å…¶ä¸­do while æ˜¯ä¸ºäº†åœ¨æ“ä½œå¤±è´¥æ—¶ï¼Œå†æ¬¡è¿›è¡Œè‡ªæ—‹æ“ä½œï¼Œå³æŠŠä¹‹å‰çš„é€»è¾‘å†æ“ä½œä¸€æ¬¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> var5;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    var5 = <span class="built_in">this</span>.getIntVolatile(var1, var2);</span><br><span class="line">&#125; <span class="keyword">while</span>(!<span class="built_in">this</span>.compareAndSwapInt(var1, var2, var5, var5 + var4));</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> var5;</span><br></pre></td></tr></table></figure><p><strong>è¯¾ç¨‹ä¸­çš„ä½¿ç”¨æ–¹å¼ï¼š</strong></p><p>è¯¾ç¨‹ä¸­çš„ä½¿ç”¨æ–¹å¼æ˜¯æ²¡æœ‰åƒcasä¸€æ ·å¸¦è‡ªæ—‹çš„æ“ä½œï¼Œä¹Ÿæ²¡æœ‰å¯¹versionçš„ç‰ˆæœ¬å·+1 ï¼Œä»–çš„æ“ä½œé€»è¾‘æ˜¯åœ¨æ“ä½œæ—¶ï¼Œå¯¹ç‰ˆæœ¬å·è¿›è¡Œ+1 æ“ä½œï¼Œç„¶åè¦æ±‚version å¦‚æœæ˜¯1 çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½æ“ä½œï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œåï¼Œæ•°æ®åº“ä¸­çš„versionå˜æˆäº†2ï¼Œä½†æ˜¯ä»–è‡ªå·±æ»¡è¶³version=1 ï¼Œæ‰€ä»¥æ²¡æœ‰é—®é¢˜ï¼Œæ­¤æ—¶çº¿ç¨‹2æ‰§è¡Œï¼Œçº¿ç¨‹2 æœ€åä¹Ÿéœ€è¦åŠ ä¸Šæ¡ä»¶version =1 ï¼Œä½†æ˜¯ç°åœ¨ç”±äºçº¿ç¨‹1å·²ç»æ“ä½œè¿‡äº†ï¼Œæ‰€ä»¥çº¿ç¨‹2ï¼Œæ“ä½œæ—¶å°±ä¸æ»¡è¶³version=1 çš„æ¡ä»¶äº†ï¼Œæ‰€ä»¥çº¿ç¨‹2æ— æ³•æ‰§è¡ŒæˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653369268550-20240615212954-kgu1bq5.png" alt="1653369268550">â€‹</p><h3 id="3-6-ä¹è§‚é”è§£å†³è¶…å–é—®é¢˜">3.6 ä¹è§‚é”è§£å†³è¶…å–é—®é¢˜</h3><p><strong>ä¿®æ”¹ä»£ç æ–¹æ¡ˆä¸€ã€</strong></p><p>VoucherOrderServiceImpl åœ¨æ‰£å‡åº“å­˜æ—¶ï¼Œæ”¹ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">            .setSql(<span class="string">&quot;stock= stock -1&quot;</span>) <span class="comment">//set stock = stock -1</span></span><br><span class="line">            .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).eq(<span class="string">&quot;stock&quot;</span>,voucher.getStock()).update(); <span class="comment">//where id = ï¼Ÿ and stock = ?</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»£ç é€»è¾‘</p><p>ä»¥ä¸Šé€»è¾‘çš„æ ¸å¿ƒå«ä¹‰æ˜¯ï¼šåªè¦æˆ‘æ‰£å‡åº“å­˜æ—¶çš„åº“å­˜å’Œä¹‹å‰æˆ‘æŸ¥è¯¢åˆ°çš„åº“å­˜æ˜¯ä¸€æ ·çš„ï¼Œå°±æ„å‘³ç€æ²¡æœ‰äººåœ¨ä¸­é—´ä¿®æ”¹è¿‡åº“å­˜ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ä»¥ä¸Šè¿™ç§æ–¹å¼é€šè¿‡æµ‹è¯•å‘ç°ä¼šæœ‰å¾ˆå¤šå¤±è´¥çš„æƒ…å†µï¼Œå¤±è´¥çš„åŸå› åœ¨äºï¼šåœ¨ä½¿ç”¨ä¹è§‚é”è¿‡ç¨‹ä¸­å‡è®¾100ä¸ªçº¿ç¨‹åŒæ—¶éƒ½æ‹¿åˆ°äº†100çš„åº“å­˜ï¼Œç„¶åå¤§å®¶ä¸€èµ·å»è¿›è¡Œæ‰£å‡ï¼Œä½†æ˜¯100ä¸ªäººä¸­åªæœ‰1ä¸ªäººèƒ½æ‰£å‡æˆåŠŸï¼Œå…¶ä»–çš„äººåœ¨å¤„ç†æ—¶ï¼Œä»–ä»¬åœ¨æ‰£å‡æ—¶ï¼Œåº“å­˜å·²ç»è¢«ä¿®æ”¹è¿‡äº†ï¼Œæ‰€ä»¥æ­¤æ—¶å…¶ä»–çº¿ç¨‹éƒ½ä¼šå¤±è´¥</p></blockquote><p><strong>ä¿®æ”¹ä»£ç æ–¹æ¡ˆäºŒã€</strong></p><p>ä¹‹å‰çš„æ–¹å¼è¦ä¿®æ”¹å‰åéƒ½ä¿æŒä¸€è‡´ï¼Œä½†æ˜¯è¿™æ ·æˆ‘ä»¬åˆ†æè¿‡ï¼ŒæˆåŠŸçš„æ¦‚ç‡å¤ªä½ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä¹è§‚é”éœ€è¦å˜ä¸€ä¸‹ï¼Œæ”¹æˆstockå¤§äº0 å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">            .setSql(<span class="string">&quot;stock= stock -1&quot;</span>)</span><br><span class="line">            .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).update().gt(<span class="string">&quot;stock&quot;</span>,<span class="number">0</span>); <span class="comment">//where id = ? and stock &gt; 0</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240630145052-3spu0ws.png" alt="image">â€‹</p><p><strong>çŸ¥è¯†å°æ‰©å±•ï¼š</strong></p><p>é’ˆå¯¹casä¸­çš„è‡ªæ—‹å‹åŠ›è¿‡å¤§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Longaddrè¿™ä¸ªç±»å»è§£å†³</p><p>Java8 æä¾›çš„ä¸€ä¸ªå¯¹AtomicLongæ”¹è¿›åçš„ä¸€ä¸ªç±»ï¼ŒLongAdder</p><p>å¤§é‡çº¿ç¨‹å¹¶å‘æ›´æ–°ä¸€ä¸ªåŸå­æ€§çš„æ—¶å€™ï¼Œå¤©ç„¶çš„é—®é¢˜å°±æ˜¯è‡ªæ—‹ï¼Œä¼šå¯¼è‡´å¹¶å‘æ€§é—®é¢˜ï¼Œå½“ç„¶è¿™ä¹Ÿæ¯”æˆ‘ä»¬ç›´æ¥ä½¿ç”¨synæ¥çš„å¥½</p><p>æ‰€ä»¥åˆ©ç”¨è¿™ä¹ˆä¸€ä¸ªç±»ï¼ŒLongAdderæ¥è¿›è¡Œä¼˜åŒ–</p><p>å¦‚æœè·å–æŸä¸ªå€¼ï¼Œåˆ™ä¼šå¯¹cellå’Œbaseçš„å€¼è¿›è¡Œé€’å¢ï¼Œæœ€åè¿”å›ä¸€ä¸ªå®Œæ•´çš„å€¼</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653370271627-20240615212954-sq4pw37.png" alt="1653370271627"></p><h3 id="3-6-ä¼˜æƒ åˆ¸ç§’æ€-ä¸€äººä¸€å•">3.6 ä¼˜æƒ åˆ¸ç§’æ€-ä¸€äººä¸€å•</h3><p>éœ€æ±‚ï¼šä¿®æ”¹ç§’æ€ä¸šåŠ¡ï¼Œè¦æ±‚åŒä¸€ä¸ªä¼˜æƒ åˆ¸ï¼Œä¸€ä¸ªç”¨æˆ·åªèƒ½ä¸‹ä¸€å•</p><p><strong>ç°åœ¨çš„é—®é¢˜åœ¨äºï¼š</strong></p><p>ä¼˜æƒ å·æ˜¯ä¸ºäº†å¼•æµï¼Œä½†æ˜¯ç›®å‰çš„æƒ…å†µæ˜¯ï¼Œä¸€ä¸ªäººå¯ä»¥æ— é™åˆ¶çš„æŠ¢è¿™ä¸ªä¼˜æƒ å·ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”å½“å¢åŠ ä¸€å±‚é€»è¾‘ï¼Œè®©ä¸€ä¸ªç”¨æˆ·åªèƒ½ä¸‹ä¸€ä¸ªå•ï¼Œè€Œä¸æ˜¯è®©ä¸€ä¸ªç”¨æˆ·ä¸‹å¤šä¸ªå•</p><p>å…·ä½“æ“ä½œé€»è¾‘å¦‚ä¸‹ï¼šæ¯”å¦‚æ—¶é—´æ˜¯å¦å……è¶³ï¼Œå¦‚æœæ—¶é—´å……è¶³ï¼Œåˆ™è¿›ä¸€æ­¥åˆ¤æ–­åº“å­˜æ˜¯å¦è¶³å¤Ÿï¼Œç„¶åå†æ ¹æ®ä¼˜æƒ å·idå’Œç”¨æˆ·idæŸ¥è¯¢æ˜¯å¦å·²ç»ä¸‹è¿‡è¿™ä¸ªè®¢å•ï¼Œå¦‚æœä¸‹è¿‡è¿™ä¸ªè®¢å•ï¼Œåˆ™ä¸å†ä¸‹å•ï¼Œå¦åˆ™è¿›è¡Œä¸‹å•</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653371854389-20240615212954-elh3wl1.png" alt="1653371854389">â€‹</p><p>VoucherOrderServiceImpl</p><p><strong>åˆæ­¥ä»£ç ï¼šå¢åŠ ä¸€äººä¸€å•é€»è¾‘</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æŸ¥è¯¢ä¼˜æƒ åˆ¸</span></span><br><span class="line">    <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line">    <span class="comment">// 2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">    <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">        <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.åˆ¤æ–­ç§’æ€æ˜¯å¦å·²ç»ç»“æŸ</span></span><br><span class="line">    <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">        <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">    <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// åº“å­˜ä¸è¶³</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5.ä¸€äººä¸€å•é€»è¾‘</span></span><br><span class="line">    <span class="comment">// 5.1.ç”¨æˆ·id</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).count();</span><br><span class="line">    <span class="comment">// 5.2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç”¨æˆ·å·²ç»è´­ä¹°è¿‡ä¸€æ¬¡ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6ï¼Œæ‰£å‡åº“å­˜</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">            .setSql(<span class="string">&quot;stock= stock -1&quot;</span>)</span><br><span class="line">            .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).update();</span><br><span class="line">    <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">        <span class="comment">//æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//7.åˆ›å»ºè®¢å•</span></span><br><span class="line">    <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">    <span class="comment">// 7.1.è®¢å•id</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">    voucherOrder.setId(orderId);</span><br><span class="line"></span><br><span class="line">    voucherOrder.setUserId(userId);</span><br><span class="line">    <span class="comment">// 7.3.ä»£é‡‘åˆ¸id</span></span><br><span class="line">    voucherOrder.setVoucherId(voucherId);</span><br><span class="line">    save(voucherOrder);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å­˜åœ¨é—®é¢˜ï¼š</strong> ç°åœ¨çš„é—®é¢˜è¿˜æ˜¯å’Œä¹‹å‰ä¸€æ ·ï¼Œå¹¶å‘è¿‡æ¥ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œéƒ½ä¸å­˜åœ¨è®¢å•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯éœ€è¦åŠ é”ï¼Œä½†æ˜¯ä¹è§‚é”æ¯”è¾ƒé€‚åˆæ›´æ–°æ•°æ®ï¼Œè€Œç°åœ¨æ˜¯æ’å…¥æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ‚²è§‚é”æ“ä½œ</p><p><strong>æ³¨æ„ï¼š</strong> åœ¨è¿™é‡Œæåˆ°äº†éå¸¸å¤šçš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ…¢æ…¢çš„æ¥æ€è€ƒï¼Œé¦–å…ˆæˆ‘ä»¬çš„åˆå§‹æ–¹æ¡ˆæ˜¯å°è£…äº†ä¸€ä¸ªcreateVoucherOrderæ–¹æ³•ï¼ŒåŒæ—¶ä¸ºäº†ç¡®ä¿ä»–çº¿ç¨‹å®‰å…¨ï¼Œåœ¨æ–¹æ³•ä¸Šæ·»åŠ äº†ä¸€æŠŠsynchronized é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> Result <span class="title function_">createVoucherOrder</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">         <span class="comment">// 5.1.æŸ¥è¯¢è®¢å•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).count();</span><br><span class="line">        <span class="comment">// 5.2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç”¨æˆ·å·²ç»è´­ä¹°è¿‡ä¸€æ¬¡ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>) <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">// where id = ? and stock &gt; 0</span></span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">            <span class="comment">// æ‰£å‡å¤±è´¥</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7.åˆ›å»ºè®¢å•</span></span><br><span class="line">        <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">        <span class="comment">// 7.1.è®¢å•id</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        voucherOrder.setId(orderId);</span><br><span class="line">        <span class="comment">// 7.2.ç”¨æˆ·id</span></span><br><span class="line">        voucherOrder.setUserId(userId);</span><br><span class="line">        <span class="comment">// 7.3.ä»£é‡‘åˆ¸id</span></span><br><span class="line">        voucherOrder.setVoucherId(voucherId);</span><br><span class="line">        save(voucherOrder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7.è¿”å›è®¢å•id</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ·æ·»åŠ é”ï¼Œé”çš„ç²’åº¦å¤ªç²—äº†ï¼Œåœ¨ä½¿ç”¨é”è¿‡ç¨‹ä¸­ï¼Œæ§åˆ¶<strong>é”ç²’åº¦</strong> æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„äº‹æƒ…ï¼Œå› ä¸ºå¦‚æœé”çš„ç²’åº¦å¤ªå¤§ï¼Œä¼šå¯¼è‡´æ¯ä¸ªçº¿ç¨‹è¿›æ¥éƒ½ä¼šé”ä½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å»æ§åˆ¶é”çš„ç²’åº¦ï¼Œä»¥ä¸‹è¿™æ®µä»£ç éœ€è¦ä¿®æ”¹ä¸ºï¼š<br>intern() è¿™ä¸ªæ–¹æ³•æ˜¯ä»å¸¸é‡æ± ä¸­æ‹¿åˆ°æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨userId.toString() ä»–æ‹¿åˆ°çš„å¯¹è±¡å®é™…ä¸Šæ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œnewå‡ºæ¥çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ä½¿ç”¨é”å¿…é¡»ä¿è¯é”å¿…é¡»æ˜¯åŒä¸€æŠŠï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨intern()æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span>  Result <span class="title function_">createVoucherOrder</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line"><span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line"><span class="keyword">synchronized</span>(userId.toString().intern())&#123;</span><br><span class="line">         <span class="comment">// 5.1.æŸ¥è¯¢è®¢å•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).count();</span><br><span class="line">        <span class="comment">// 5.2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç”¨æˆ·å·²ç»è´­ä¹°è¿‡ä¸€æ¬¡ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>) <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">// where id = ? and stock &gt; 0</span></span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">            <span class="comment">// æ‰£å‡å¤±è´¥</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7.åˆ›å»ºè®¢å•</span></span><br><span class="line">        <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">        <span class="comment">// 7.1.è®¢å•id</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        voucherOrder.setId(orderId);</span><br><span class="line">        <span class="comment">// 7.2.ç”¨æˆ·id</span></span><br><span class="line">        voucherOrder.setUserId(userId);</span><br><span class="line">        <span class="comment">// 7.3.ä»£é‡‘åˆ¸id</span></span><br><span class="line">        voucherOrder.setVoucherId(voucherId);</span><br><span class="line">        save(voucherOrder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7.è¿”å›è®¢å•id</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä»¥ä¸Šä»£ç è¿˜æ˜¯å­˜åœ¨é—®é¢˜ï¼Œé—®é¢˜çš„åŸå› åœ¨äºå½“å‰æ–¹æ³•è¢«springçš„äº‹åŠ¡æ§åˆ¶ï¼Œå¦‚æœä½ åœ¨æ–¹æ³•å†…éƒ¨åŠ é”ï¼Œå¯èƒ½ä¼šå¯¼è‡´å½“å‰æ–¹æ³•äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤ï¼Œä½†æ˜¯é”å·²ç»é‡Šæ”¾ä¹Ÿä¼šå¯¼è‡´é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©å°†å½“å‰æ–¹æ³•æ•´ä½“åŒ…è£¹èµ·æ¥ï¼Œç¡®ä¿äº‹åŠ¡ä¸ä¼šå‡ºç°é—®é¢˜ï¼šå¦‚ä¸‹ï¼š</p><p>åœ¨seckillVoucher æ–¹æ³•ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹é€»è¾‘ï¼Œè¿™æ ·å°±èƒ½ä¿è¯äº‹åŠ¡çš„ç‰¹æ€§ï¼ŒåŒæ—¶ä¹Ÿæ§åˆ¶äº†é”çš„ç²’åº¦</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653373434815-20240615212954-xthc0ph.png" alt="1653373434815"></p><p>ä½†æ˜¯ä»¥ä¸Šåšæ³•ä¾ç„¶æœ‰é—®é¢˜ï¼Œå› ä¸ºä½ è°ƒç”¨çš„æ–¹æ³•ï¼Œå…¶å®æ˜¯this.çš„æ–¹å¼è°ƒç”¨çš„ï¼Œäº‹åŠ¡æƒ³è¦ç”Ÿæ•ˆï¼Œè¿˜å¾—åˆ©ç”¨ä»£ç†æ¥ç”Ÿæ•ˆï¼Œæ‰€ä»¥è¿™ä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬éœ€è¦è·å¾—åŸå§‹çš„äº‹åŠ¡å¯¹è±¡ï¼Œ æ¥æ“ä½œäº‹åŠ¡</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653383810643-20240615212954-ehvdwkp.png" alt="1653383810643"></p><h3 id="3-7-é›†ç¾¤ç¯å¢ƒä¸‹çš„å¹¶å‘é—®é¢˜">3.7 é›†ç¾¤ç¯å¢ƒä¸‹çš„å¹¶å‘é—®é¢˜</h3><p>é€šè¿‡åŠ é”å¯ä»¥è§£å†³åœ¨å•æœºæƒ…å†µä¸‹çš„ä¸€äººä¸€å•å®‰å…¨é—®é¢˜ï¼Œä½†æ˜¯åœ¨é›†ç¾¤æ¨¡å¼ä¸‹å°±ä¸è¡Œäº†ã€‚</p><p>1ã€æˆ‘ä»¬å°†æœåŠ¡å¯åŠ¨ä¸¤ä»½ï¼Œç«¯å£åˆ†åˆ«ä¸º8081å’Œ8082ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653373887844-20240615212954-lth3u1n.png" alt="1653373887844"></p><p>2ã€ç„¶åä¿®æ”¹nginxçš„confç›®å½•ä¸‹çš„nginx.confæ–‡ä»¶ï¼Œé…ç½®åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653373908620-20240615212954-1lg2g5b.png" alt="1653373908620">â€‹</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240707092924-yujlg2x.png" alt="image">â€‹</p><p><strong>å…·ä½“æ“ä½œ(ç•¥)</strong></p><p><strong>æœ‰å…³é”å¤±æ•ˆåŸå› åˆ†æ</strong></p><p>ç”±äºç°åœ¨æˆ‘ä»¬éƒ¨ç½²äº†å¤šä¸ªtomcatï¼Œæ¯ä¸ªtomcatéƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„jvmï¼Œé‚£ä¹ˆå‡è®¾åœ¨æœåŠ¡å™¨Açš„tomcatå†…éƒ¨ï¼Œæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹ç”±äºä½¿ç”¨çš„æ˜¯åŒä¸€ä»½ä»£ç ï¼Œé‚£ä¹ˆä»–ä»¬çš„é”å¯¹è±¡æ˜¯åŒä¸€ä¸ªï¼Œæ˜¯å¯ä»¥å®ç°äº’æ–¥çš„ï¼Œä½†æ˜¯å¦‚æœç°åœ¨æ˜¯æœåŠ¡å™¨Bçš„tomcatå†…éƒ¨ï¼Œåˆæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯ä»–ä»¬çš„é”å¯¹è±¡å†™çš„è™½ç„¶å’ŒæœåŠ¡å™¨Aä¸€æ ·ï¼Œä½†æ˜¯é”å¯¹è±¡å´ä¸æ˜¯åŒä¸€ä¸ªï¼Œæ‰€ä»¥çº¿ç¨‹3å’Œçº¿ç¨‹4å¯ä»¥å®ç°äº’æ–¥ï¼Œä½†æ˜¯å´æ— æ³•å’Œçº¿ç¨‹1å’Œçº¿ç¨‹2å®ç°äº’æ–¥ï¼Œè¿™å°±æ˜¯ é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œsyné”å¤±æ•ˆçš„åŸå› ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼é”æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653374044740-20240615212954-ujf15af.png" alt="1653374044740"></p><h2 id="4ã€åˆ†å¸ƒå¼é”">4ã€åˆ†å¸ƒå¼é”</h2><h3 id="4-1-ã€åŸºæœ¬åŸç†å’Œå®ç°æ–¹å¼å¯¹æ¯”">4.1 ã€åŸºæœ¬åŸç†å’Œå®ç°æ–¹å¼å¯¹æ¯”</h3><p>åˆ†å¸ƒå¼é”ï¼šæ»¡è¶³åˆ†å¸ƒå¼ç³»ç»Ÿæˆ–é›†ç¾¤æ¨¡å¼ä¸‹å¤šè¿›ç¨‹å¯è§å¹¶ä¸”äº’æ–¥çš„é”ã€‚</p><p>åˆ†å¸ƒå¼é”çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯è®©å¤§å®¶éƒ½ä½¿ç”¨åŒä¸€æŠŠé”ï¼Œåªè¦å¤§å®¶ä½¿ç”¨çš„æ˜¯åŒä¸€æŠŠé”ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½é”ä½çº¿ç¨‹ï¼Œä¸è®©çº¿ç¨‹è¿›è¡Œï¼Œè®©ç¨‹åºä¸²è¡Œæ‰§è¡Œï¼Œè¿™å°±æ˜¯åˆ†å¸ƒå¼é”çš„æ ¸å¿ƒæ€è·¯</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653374296906-20240615212954-x5j18zb.png" alt="1653374296906">â€‹</p><p>é‚£ä¹ˆåˆ†å¸ƒå¼é”ä»–åº”è¯¥æ»¡è¶³ä¸€äº›ä»€ä¹ˆæ ·çš„æ¡ä»¶å‘¢ï¼Ÿ</p><p>å¯è§æ€§ï¼šå¤šä¸ªçº¿ç¨‹éƒ½èƒ½çœ‹åˆ°ç›¸åŒçš„ç»“æœï¼Œæ³¨æ„ï¼šè¿™ä¸ªåœ°æ–¹è¯´çš„å¯è§æ€§å¹¶ä¸æ˜¯å¹¶å‘ç¼–ç¨‹ä¸­æŒ‡çš„å†…å­˜å¯è§æ€§ï¼Œåªæ˜¯è¯´å¤šä¸ªè¿›ç¨‹ä¹‹é—´éƒ½èƒ½æ„ŸçŸ¥åˆ°å˜åŒ–çš„æ„æ€</p><p>äº’æ–¥ï¼šäº’æ–¥æ˜¯åˆ†å¸ƒå¼é”çš„æœ€åŸºæœ¬çš„æ¡ä»¶ï¼Œä½¿å¾—ç¨‹åºä¸²è¡Œæ‰§è¡Œ</p><p>é«˜å¯ç”¨ï¼šç¨‹åºä¸æ˜“å´©æºƒï¼Œæ—¶æ—¶åˆ»åˆ»éƒ½ä¿è¯è¾ƒé«˜çš„å¯ç”¨æ€§</p><p>é«˜æ€§èƒ½ï¼šç”±äºåŠ é”æœ¬èº«å°±è®©æ€§èƒ½é™ä½ï¼Œæ‰€æœ‰å¯¹äºåˆ†å¸ƒå¼é”æœ¬èº«éœ€è¦ä»–å°±è¾ƒé«˜çš„åŠ é”æ€§èƒ½å’Œé‡Šæ”¾é”æ€§èƒ½</p><p>å®‰å…¨æ€§ï¼šå®‰å…¨ä¹Ÿæ˜¯ç¨‹åºä¸­å¿…ä¸å¯å°‘çš„ä¸€ç¯</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653381992018-20240615212954-e1isl3y.png" alt="1653381992018">â€‹</p><p>å¸¸è§çš„åˆ†å¸ƒå¼é”æœ‰ä¸‰ç§</p><ul class="lvl-0"><li class="lvl-2"><p>Mysqlï¼šmysqlæœ¬èº«å°±å¸¦æœ‰é”æœºåˆ¶ï¼Œä½†æ˜¯ç”±äºmysqlæ€§èƒ½æœ¬èº«ä¸€èˆ¬ï¼Œæ‰€ä»¥é‡‡ç”¨åˆ†å¸ƒå¼é”çš„æƒ…å†µä¸‹ï¼Œå…¶å®ä½¿ç”¨mysqlä½œä¸ºåˆ†å¸ƒå¼é”æ¯”è¾ƒå°‘è§</p></li><li class="lvl-2"><p>Redisï¼šredisä½œä¸ºåˆ†å¸ƒå¼é”æ˜¯éå¸¸å¸¸è§çš„ä¸€ç§ä½¿ç”¨æ–¹å¼ï¼Œç°åœ¨ä¼ä¸šçº§å¼€å‘ä¸­åŸºæœ¬éƒ½ä½¿ç”¨redisæˆ–è€…zookeeperä½œä¸ºåˆ†å¸ƒå¼é”ï¼Œåˆ©ç”¨setnxè¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœæ’å…¥keyæˆåŠŸï¼Œåˆ™è¡¨ç¤ºè·å¾—åˆ°äº†é”ï¼Œå¦‚æœæœ‰äººæ’å…¥æˆåŠŸï¼Œå…¶ä»–äººæ’å…¥å¤±è´¥åˆ™è¡¨ç¤ºæ— æ³•è·å¾—åˆ°é”ï¼Œåˆ©ç”¨è¿™å¥—é€»è¾‘æ¥å®ç°åˆ†å¸ƒå¼é”</p></li><li class="lvl-2"><p>Zookeeperï¼šzookeeperä¹Ÿæ˜¯ä¼ä¸šçº§å¼€å‘ä¸­è¾ƒå¥½çš„ä¸€ä¸ªå®ç°åˆ†å¸ƒå¼é”çš„æ–¹æ¡ˆï¼Œç”±äºæœ¬å¥—è§†é¢‘å¹¶ä¸è®²è§£zookeeperçš„åŸç†å’Œåˆ†å¸ƒå¼é”çš„å®ç°ï¼Œæ‰€ä»¥ä¸è¿‡å¤šé˜è¿°</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653382219377-20240615212954-zmktly8.png" alt="1653382219377">â€‹</p><h3 id="4-2-ã€Redisåˆ†å¸ƒå¼é”çš„å®ç°æ ¸å¿ƒæ€è·¯">4.2 ã€Redisåˆ†å¸ƒå¼é”çš„å®ç°æ ¸å¿ƒæ€è·¯</h3><p>å®ç°åˆ†å¸ƒå¼é”æ—¶éœ€è¦å®ç°çš„ä¸¤ä¸ªåŸºæœ¬æ–¹æ³•ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>è·å–é”ï¼š</p><ul class="lvl-2"><li class="lvl-4">äº’æ–¥ï¼šç¡®ä¿åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–é”</li><li class="lvl-4">éé˜»å¡ï¼šå°è¯•ä¸€æ¬¡ï¼ŒæˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›false</li></ul></li><li class="lvl-2"><p>é‡Šæ”¾é”ï¼š</p><ul class="lvl-2"><li class="lvl-4">æ‰‹åŠ¨é‡Šæ”¾</li><li class="lvl-4">è¶…æ—¶é‡Šæ”¾ï¼šè·å–é”æ—¶æ·»åŠ ä¸€ä¸ªè¶…æ—¶æ—¶é—´</li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653382669900-20240615212954-shad4of.png" alt="1653382669900"></p></li></ul><p>æ ¸å¿ƒæ€è·¯ï¼š</p><p>æˆ‘ä»¬åˆ©ç”¨redis çš„setNx æ–¹æ³•ï¼Œå½“æœ‰å¤šä¸ªçº¿ç¨‹è¿›å…¥æ—¶ï¼Œæˆ‘ä»¬å°±åˆ©ç”¨è¯¥æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹è¿›å…¥æ—¶ï¼Œredis ä¸­å°±æœ‰è¿™ä¸ªkey äº†ï¼Œè¿”å›äº†1ï¼Œå¦‚æœç»“æœæ˜¯1ï¼Œåˆ™è¡¨ç¤ºä»–æŠ¢åˆ°äº†é”ï¼Œé‚£ä¹ˆä»–å»æ‰§è¡Œä¸šåŠ¡ï¼Œç„¶åå†åˆ é™¤é”ï¼Œé€€å‡ºé”é€»è¾‘ï¼Œæ²¡æœ‰æŠ¢åˆ°é”çš„å“¥ä»¬ï¼Œç­‰å¾…ä¸€å®šæ—¶é—´åé‡è¯•å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653382830810-20240615212954-8br6c9s.png" alt="1653382830810"></p><h3 id="4-3-å®ç°åˆ†å¸ƒå¼é”ç‰ˆæœ¬ä¸€">4.3 å®ç°åˆ†å¸ƒå¼é”ç‰ˆæœ¬ä¸€</h3><ul class="lvl-0"><li class="lvl-2"><p>åŠ é”é€»è¾‘</p></li></ul><p><strong>é”çš„åŸºæœ¬æ¥å£</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1656079017728-20240615212954-pntp8o7.png" alt="1656079017728"></p><p><strong>SimpleRedisLock</strong></p><p>åˆ©ç”¨setnxæ–¹æ³•è¿›è¡ŒåŠ é”ï¼ŒåŒæ—¶å¢åŠ è¿‡æœŸæ—¶é—´ï¼Œé˜²æ­¢æ­»é”ï¼Œæ­¤æ–¹æ³•å¯ä»¥ä¿è¯åŠ é”å’Œå¢åŠ è¿‡æœŸæ—¶é—´å…·æœ‰åŸå­æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String KEY_PREFIX=<span class="string">&quot;lock:&quot;</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(<span class="type">long</span> timeoutSec)</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–çº¿ç¨‹æ ‡ç¤º</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">threadId</span> <span class="operator">=</span> Thread.currentThread().getId()</span><br><span class="line">    <span class="comment">// è·å–é”</span></span><br><span class="line">    <span class="type">Boolean</span> <span class="variable">success</span> <span class="operator">=</span> stringRedisTemplate.opsForValue()</span><br><span class="line">            .setIfAbsent(KEY_PREFIX + name, threadId + <span class="string">&quot;&quot;</span>, timeoutSec, TimeUnit.SECONDS);</span><br><span class="line">    <span class="keyword">return</span> Boolean.TRUE.equals(success);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>é‡Šæ”¾é”é€»è¾‘</p></li></ul><p>SimpleRedisLock</p><p>é‡Šæ”¾é”ï¼Œé˜²æ­¢åˆ é™¤åˆ«äººçš„é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡delåˆ é™¤é”</span></span><br><span class="line">    stringRedisTemplate.delete(KEY_PREFIX + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>ä¿®æ”¹ä¸šåŠ¡ä»£ç </p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">      <span class="comment">// 1.æŸ¥è¯¢ä¼˜æƒ åˆ¸</span></span><br><span class="line">      <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line">      <span class="comment">// 2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">      <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">          <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">          <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹ï¼&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 3.åˆ¤æ–­ç§’æ€æ˜¯å¦å·²ç»ç»“æŸ</span></span><br><span class="line">      <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">          <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">          <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸï¼&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">      <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">// åº“å­˜ä¸è¶³</span></span><br><span class="line">          <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">      <span class="comment">//åˆ›å»ºé”å¯¹è±¡(æ–°å¢ä»£ç )</span></span><br><span class="line">      <span class="type">SimpleRedisLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleRedisLock</span>(<span class="string">&quot;order:&quot;</span> + userId, stringRedisTemplate);</span><br><span class="line">      <span class="comment">//è·å–é”å¯¹è±¡</span></span><br><span class="line">      <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock(<span class="number">1200</span>);</span><br><span class="line"><span class="comment">//åŠ é”å¤±è´¥</span></span><br><span class="line">      <span class="keyword">if</span> (!isLock) &#123;</span><br><span class="line">          <span class="keyword">return</span> Result.fail(<span class="string">&quot;ä¸å…è®¸é‡å¤ä¸‹å•&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">//è·å–ä»£ç†å¯¹è±¡(äº‹åŠ¡)</span></span><br><span class="line">          <span class="type">IVoucherOrderService</span> <span class="variable">proxy</span> <span class="operator">=</span> (IVoucherOrderService) AopContext.currentProxy();</span><br><span class="line">          <span class="keyword">return</span> proxy.createVoucherOrder(voucherId);</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">          lock.unlock();</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="4-4-Redisåˆ†å¸ƒå¼é”è¯¯åˆ æƒ…å†µè¯´æ˜">4.4 Redisåˆ†å¸ƒå¼é”è¯¯åˆ æƒ…å†µè¯´æ˜</h3><p>é€»è¾‘è¯´æ˜ï¼š</p><p>æŒæœ‰é”çš„çº¿ç¨‹åœ¨é”çš„å†…éƒ¨å‡ºç°äº†é˜»å¡ï¼Œå¯¼è‡´ä»–çš„é”è‡ªåŠ¨é‡Šæ”¾ï¼Œè¿™æ—¶å…¶ä»–çº¿ç¨‹ï¼Œçº¿ç¨‹2æ¥å°è¯•è·å¾—é”ï¼Œå°±æ‹¿åˆ°äº†è¿™æŠŠé”ï¼Œç„¶åçº¿ç¨‹2åœ¨æŒæœ‰é”æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹1ååº”è¿‡æ¥ï¼Œç»§ç»­æ‰§è¡Œï¼Œè€Œçº¿ç¨‹1æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œèµ°åˆ°äº†åˆ é™¤é”é€»è¾‘ï¼Œæ­¤æ—¶å°±ä¼šæŠŠæœ¬åº”è¯¥å±äºçº¿ç¨‹2çš„é”è¿›è¡Œåˆ é™¤ï¼Œè¿™å°±æ˜¯è¯¯åˆ åˆ«äººé”çš„æƒ…å†µè¯´æ˜</p><p>è§£å†³æ–¹æ¡ˆï¼šè§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨æ¯ä¸ªçº¿ç¨‹é‡Šæ”¾é”çš„æ—¶å€™ï¼Œå»åˆ¤æ–­ä¸€ä¸‹å½“å‰è¿™æŠŠé”æ˜¯å¦å±äºè‡ªå·±ï¼Œå¦‚æœå±äºè‡ªå·±ï¼Œåˆ™ä¸è¿›è¡Œé”çš„åˆ é™¤ï¼Œå‡è®¾è¿˜æ˜¯ä¸Šè¾¹çš„æƒ…å†µï¼Œçº¿ç¨‹1å¡é¡¿ï¼Œé”è‡ªåŠ¨é‡Šæ”¾ï¼Œçº¿ç¨‹2è¿›å…¥åˆ°é”çš„å†…éƒ¨æ‰§è¡Œé€»è¾‘ï¼Œæ­¤æ—¶çº¿ç¨‹1ååº”è¿‡æ¥ï¼Œç„¶ååˆ é™¤é”ï¼Œä½†æ˜¯çº¿ç¨‹1ï¼Œä¸€çœ‹å½“å‰è¿™æŠŠé”ä¸æ˜¯å±äºè‡ªå·±ï¼Œäºæ˜¯ä¸è¿›è¡Œåˆ é™¤é”é€»è¾‘ï¼Œå½“çº¿ç¨‹2èµ°åˆ°åˆ é™¤é”é€»è¾‘æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¡è¿‡è‡ªåŠ¨é‡Šæ”¾é”çš„æ—¶é—´ç‚¹ï¼Œåˆ™åˆ¤æ–­å½“å‰è¿™æŠŠé”æ˜¯å±äºè‡ªå·±çš„ï¼Œäºæ˜¯åˆ é™¤è¿™æŠŠé”ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653385920025-20240615212954-a8ws35n.png" alt="1653385920025"></p><h3 id="4-5-è§£å†³Redisåˆ†å¸ƒå¼é”è¯¯åˆ é—®é¢˜">4.5 è§£å†³Redisåˆ†å¸ƒå¼é”è¯¯åˆ é—®é¢˜</h3><p>éœ€æ±‚ï¼šä¿®æ”¹ä¹‹å‰çš„åˆ†å¸ƒå¼é”å®ç°ï¼Œæ»¡è¶³ï¼šåœ¨è·å–é”æ—¶å­˜å…¥çº¿ç¨‹æ ‡ç¤ºï¼ˆå¯ä»¥ç”¨UUIDè¡¨ç¤ºï¼‰åœ¨é‡Šæ”¾é”æ—¶å…ˆè·å–é”ä¸­çš„çº¿ç¨‹æ ‡ç¤ºï¼Œåˆ¤æ–­æ˜¯å¦ä¸å½“å‰çº¿ç¨‹æ ‡ç¤ºä¸€è‡´</p><ul class="lvl-0"><li class="lvl-2"><p>å¦‚æœä¸€è‡´åˆ™é‡Šæ”¾é”</p></li><li class="lvl-2"><p>å¦‚æœä¸ä¸€è‡´åˆ™ä¸é‡Šæ”¾é”</p></li></ul><p>æ ¸å¿ƒé€»è¾‘ï¼šåœ¨å­˜å…¥é”æ—¶ï¼Œæ”¾å…¥è‡ªå·±çº¿ç¨‹çš„æ ‡è¯†ï¼Œåœ¨åˆ é™¤é”æ—¶ï¼Œåˆ¤æ–­å½“å‰è¿™æŠŠé”çš„æ ‡è¯†æ˜¯ä¸æ˜¯è‡ªå·±å­˜å…¥çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿›è¡Œåˆ é™¤ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¸è¿›è¡Œåˆ é™¤ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653387398820-20240615212954-ln6nojk.png" alt="1653387398820"></p><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼šåŠ é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ID_PREFIX</span> <span class="operator">=</span> UUID.randomUUID().toString(<span class="literal">true</span>) + <span class="string">&quot;-&quot;</span>;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(<span class="type">long</span> timeoutSec)</span> &#123;</span><br><span class="line">   <span class="comment">// è·å–çº¿ç¨‹æ ‡ç¤º</span></span><br><span class="line">   <span class="type">String</span> <span class="variable">threadId</span> <span class="operator">=</span> ID_PREFIX + Thread.currentThread().getId();</span><br><span class="line">   <span class="comment">// è·å–é”</span></span><br><span class="line">   <span class="type">Boolean</span> <span class="variable">success</span> <span class="operator">=</span> stringRedisTemplate.opsForValue()</span><br><span class="line">                .setIfAbsent(KEY_PREFIX + name, threadId, timeoutSec, TimeUnit.SECONDS);</span><br><span class="line">   <span class="keyword">return</span> Boolean.TRUE.equals(success);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡Šæ”¾é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–çº¿ç¨‹æ ‡ç¤º</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">threadId</span> <span class="operator">=</span> ID_PREFIX + Thread.currentThread().getId();</span><br><span class="line">    <span class="comment">// è·å–é”ä¸­çš„æ ‡ç¤º</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(KEY_PREFIX + name);</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ ‡ç¤ºæ˜¯å¦ä¸€è‡´</span></span><br><span class="line">    <span class="keyword">if</span>(threadId.equals(id)) &#123;</span><br><span class="line">        <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">        stringRedisTemplate.delete(KEY_PREFIX + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æœ‰å…³ä»£ç å®æ“è¯´æ˜ï¼š</strong></p><p>åœ¨æˆ‘ä»¬ä¿®æ”¹å®Œæ­¤å¤„ä»£ç åï¼Œæˆ‘ä»¬é‡å¯å·¥ç¨‹ï¼Œç„¶åå¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”åï¼Œæ‰‹åŠ¨é‡Šæ”¾é”ï¼Œç¬¬äºŒä¸ªçº¿ç¨‹ æ­¤æ—¶è¿›å…¥åˆ°é”å†…éƒ¨ï¼Œå†æ”¾è¡Œç¬¬ä¸€ä¸ªçº¿ç¨‹ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªçº¿ç¨‹ç”±äºé”çš„valueå€¼å¹¶éæ˜¯è‡ªå·±ï¼Œæ‰€ä»¥ä¸èƒ½é‡Šæ”¾é”ï¼Œä¹Ÿå°±æ— æ³•åˆ é™¤åˆ«äººçš„é”ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ªçº¿ç¨‹èƒ½å¤Ÿæ­£ç¡®é‡Šæ”¾é”ï¼Œé€šè¿‡è¿™ä¸ªæ¡ˆä¾‹åˆæ­¥è¯´æ˜æˆ‘ä»¬è§£å†³äº†é”è¯¯åˆ çš„é—®é¢˜ã€‚</p><h3 id="4-6-åˆ†å¸ƒå¼é”çš„åŸå­æ€§é—®é¢˜">4.6 åˆ†å¸ƒå¼é”çš„åŸå­æ€§é—®é¢˜</h3><p>æ›´ä¸ºæç«¯çš„è¯¯åˆ é€»è¾‘è¯´æ˜ï¼š</p><p>çº¿ç¨‹1ç°åœ¨æŒæœ‰é”ä¹‹åï¼Œåœ¨æ‰§è¡Œä¸šåŠ¡é€»è¾‘è¿‡ç¨‹ä¸­ï¼Œä»–æ­£å‡†å¤‡åˆ é™¤é”ï¼Œè€Œä¸”å·²ç»èµ°åˆ°äº†æ¡ä»¶åˆ¤æ–­çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚ä»–å·²ç»æ‹¿åˆ°äº†å½“å‰è¿™æŠŠé”ç¡®å®æ˜¯å±äºä»–è‡ªå·±çš„ï¼Œæ­£å‡†å¤‡åˆ é™¤é”ï¼Œä½†æ˜¯æ­¤æ—¶ä»–çš„é”åˆ°æœŸäº†ï¼Œé‚£ä¹ˆæ­¤æ—¶çº¿ç¨‹2è¿›æ¥ï¼Œä½†æ˜¯çº¿ç¨‹1ä»–ä¼šæ¥ç€å¾€åæ‰§è¡Œï¼Œå½“ä»–å¡é¡¿ç»“æŸåï¼Œä»–ç›´æ¥å°±ä¼šæ‰§è¡Œåˆ é™¤é”é‚£è¡Œä»£ç ï¼Œç›¸å½“äºæ¡ä»¶åˆ¤æ–­å¹¶æ²¡æœ‰èµ·åˆ°ä½œç”¨ï¼Œè¿™å°±æ˜¯åˆ é”æ—¶çš„åŸå­æ€§é—®é¢˜ï¼Œä¹‹æ‰€ä»¥æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºçº¿ç¨‹1çš„æ‹¿é”ï¼Œæ¯”é”ï¼Œåˆ é”ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯åŸå­æ€§çš„ï¼Œæˆ‘ä»¬è¦é˜²æ­¢åˆšæ‰çš„æƒ…å†µå‘ç”Ÿï¼Œ</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653387764938-20240615212954-rxdt0ad.png" alt="1653387764938"></p><h3 id="4-7-Luaè„šæœ¬è§£å†³å¤šæ¡å‘½ä»¤åŸå­æ€§é—®é¢˜">4.7 Luaè„šæœ¬è§£å†³å¤šæ¡å‘½ä»¤åŸå­æ€§é—®é¢˜</h3><p>Redisæä¾›äº†Luaè„šæœ¬åŠŸèƒ½ï¼Œåœ¨ä¸€ä¸ªè„šæœ¬ä¸­ç¼–å†™å¤šæ¡Rediså‘½ä»¤ï¼Œç¡®ä¿å¤šæ¡å‘½ä»¤æ‰§è¡Œæ—¶çš„åŸå­æ€§ã€‚Luaæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒçš„åŸºæœ¬è¯­æ³•å¤§å®¶å¯ä»¥å‚è€ƒç½‘ç«™ï¼š<a href="https://www.runoob.com/lua/lua-tutorial.html%EF%BC%8C%E8%BF%99%E9%87%8C%E9%87%8D%E7%82%B9%E4%BB%8B%E7%BB%8DRedis%E6%8F%90%E4%BE%9B%E7%9A%84%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8lua%E5%8E%BB%E6%93%8D%E4%BD%9Credis%EF%BC%8C%E5%8F%88%E8%83%BD%E4%BF%9D%E8%AF%81%E4%BB%96%E7%9A%84%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E6%8B%BF%E9%94%81%E6%AF%94%E9%94%81%E5%88%A0%E9%94%81%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8E%9F%E5%AD%90%E6%80%A7%E5%8A%A8%E4%BD%9C%E4%BA%86%EF%BC%8C%E4%BD%9C%E4%B8%BAJava%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%99%E4%B8%80%E5%9D%97%E5%B9%B6%E4%B8%8D%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E8%A6%81%E6%B1%82%EF%BC%8C%E5%B9%B6%E4%B8%8D%E9%9C%80%E8%A6%81%E5%A4%A7%E5%AE%B6%E8%BF%87%E4%BA%8E%E7%B2%BE%E9%80%9A%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E4%BB%96%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%E5%8D%B3%E5%8F%AF%E3%80%82">https://www.runoob.com/lua/lua-tutorial.htmlï¼Œè¿™é‡Œé‡ç‚¹ä»‹ç»Redisæä¾›çš„è°ƒç”¨å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨luaå»æ“ä½œredisï¼Œåˆèƒ½ä¿è¯ä»–çš„åŸå­æ€§ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°æ‹¿é”æ¯”é”åˆ é”æ˜¯ä¸€ä¸ªåŸå­æ€§åŠ¨ä½œäº†ï¼Œä½œä¸ºJavaç¨‹åºå‘˜è¿™ä¸€å—å¹¶ä¸ä½œä¸€ä¸ªç®€å•è¦æ±‚ï¼Œå¹¶ä¸éœ€è¦å¤§å®¶è¿‡äºç²¾é€šï¼Œåªéœ€è¦çŸ¥é“ä»–æœ‰ä»€ä¹ˆä½œç”¨å³å¯ã€‚</a></p><p>è¿™é‡Œé‡ç‚¹ä»‹ç»Redisæä¾›çš„è°ƒç”¨å‡½æ•°ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;å‘½ä»¤åç§°&#x27;</span>, <span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;å…¶å®ƒå‚æ•°&#x27;</span>, ...)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦æ‰§è¡Œset name jackï¼Œåˆ™è„šæœ¬æ˜¯è¿™æ ·ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ‰§è¡Œ set name jack</span><br><span class="line">redis.call(<span class="string">&#x27;set&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;jack&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦å…ˆæ‰§è¡Œset name Roseï¼Œå†æ‰§è¡Œget nameï¼Œåˆ™è„šæœ¬å¦‚ä¸‹ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># å…ˆæ‰§è¡Œ set name jack</span><br><span class="line">redis.call(<span class="string">&#x27;set&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>)</span><br><span class="line"># å†æ‰§è¡Œ get name</span><br><span class="line"><span class="keyword">local</span> name = redis.call(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"># è¿”å›</span><br><span class="line"><span class="keyword">return</span> name</span><br></pre></td></tr></table></figure><p>å†™å¥½è„šæœ¬ä»¥åï¼Œéœ€è¦ç”¨Rediså‘½ä»¤æ¥è°ƒç”¨è„šæœ¬ï¼Œè°ƒç”¨è„šæœ¬çš„å¸¸è§å‘½ä»¤å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653392181413-20240615212954-9roya64.png" alt="1653392181413"></p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦æ‰§è¡Œ redis.call(â€˜setâ€™, â€˜nameâ€™, â€˜jackâ€™) è¿™ä¸ªè„šæœ¬ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653392218531-20240615212954-ogz21zq.png" alt="1653392218531"></p><p>å¦‚æœè„šæœ¬ä¸­çš„keyã€valueä¸æƒ³å†™æ­»ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ã€‚keyç±»å‹å‚æ•°ä¼šæ”¾å…¥KEYSæ•°ç»„ï¼Œå…¶å®ƒå‚æ•°ä¼šæ”¾å…¥ARGVæ•°ç»„ï¼Œåœ¨è„šæœ¬ä¸­å¯ä»¥ä»KEYSå’ŒARGVæ•°ç»„è·å–è¿™äº›å‚æ•°ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653392438917-20240615212954-eu7otzr.png" alt="1653392438917"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å›ä¸€ä¸‹æˆ‘ä»¬é‡Šæ”¾é”çš„é€»è¾‘ï¼š</p><p>é‡Šæ”¾é”çš„ä¸šåŠ¡æµç¨‹æ˜¯è¿™æ ·çš„</p><p>â€‹1ã€è·å–é”ä¸­çš„çº¿ç¨‹æ ‡ç¤º</p><p>â€‹2ã€åˆ¤æ–­æ˜¯å¦ä¸æŒ‡å®šçš„æ ‡ç¤ºï¼ˆå½“å‰çº¿ç¨‹æ ‡ç¤ºï¼‰ä¸€è‡´</p><p>â€‹3ã€å¦‚æœä¸€è‡´åˆ™é‡Šæ”¾é”ï¼ˆåˆ é™¤ï¼‰</p><p>â€‹4ã€å¦‚æœä¸ä¸€è‡´åˆ™ä»€ä¹ˆéƒ½ä¸åš</p><p>å¦‚æœç”¨Luaè„šæœ¬æ¥è¡¨ç¤ºåˆ™æ˜¯è¿™æ ·çš„ï¼š</p><p>æœ€ç»ˆæˆ‘ä»¬æ“ä½œredisçš„æ‹¿é”æ¯”é”åˆ é”çš„luaè„šæœ¬å°±ä¼šå˜æˆè¿™æ ·</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- è¿™é‡Œçš„ KEYS[1] å°±æ˜¯é”çš„keyï¼Œè¿™é‡Œçš„ARGV[1] å°±æ˜¯å½“å‰çº¿ç¨‹æ ‡ç¤º</span></span><br><span class="line"><span class="comment">-- è·å–é”ä¸­çš„æ ‡ç¤ºï¼Œåˆ¤æ–­æ˜¯å¦ä¸å½“å‰çº¿ç¨‹æ ‡ç¤ºä¸€è‡´</span></span><br><span class="line"><span class="keyword">if</span> (redis.call(<span class="string">&#x27;GET&#x27;</span>, KEYS[<span class="number">1</span>]) == ARGV[<span class="number">1</span>]) <span class="keyword">then</span></span><br><span class="line">  <span class="comment">-- ä¸€è‡´ï¼Œåˆ™åˆ é™¤é”</span></span><br><span class="line">  <span class="keyword">return</span> redis.call(<span class="string">&#x27;DEL&#x27;</span>, KEYS[<span class="number">1</span>])</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h3 id="4-8-åˆ©ç”¨Javaä»£ç è°ƒç”¨Luaè„šæœ¬æ”¹é€ åˆ†å¸ƒå¼é”">4.8 åˆ©ç”¨Javaä»£ç è°ƒç”¨Luaè„šæœ¬æ”¹é€ åˆ†å¸ƒå¼é”</h3><p>luaè„šæœ¬æœ¬èº«å¹¶ä¸éœ€è¦å¤§å®¶èŠ±è´¹å¤ªå¤šæ—¶é—´å»ç ”ç©¶ï¼Œåªéœ€è¦çŸ¥é“å¦‚ä½•è°ƒç”¨ï¼Œå¤§è‡´æ˜¯ä»€ä¹ˆæ„æ€å³å¯ï¼Œæ‰€ä»¥åœ¨ç¬”è®°ä¸­å¹¶ä¸ä¼šè¯¦ç»†çš„å»è§£é‡Šè¿™äº›luaè¡¨è¾¾å¼çš„å«ä¹‰ã€‚</p><p>æˆ‘ä»¬çš„RedisTemplateä¸­ï¼Œå¯ä»¥åˆ©ç”¨executeæ–¹æ³•å»æ‰§è¡Œluaè„šæœ¬ï¼Œå‚æ•°å¯¹åº”å…³ç³»å°±å¦‚ä¸‹å›¾è‚¡</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653393304844-20240615212954-xt5ojl7.png" alt="1653393304844">â€‹</p><p><strong>Javaä»£ç </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> DefaultRedisScript&lt;Long&gt; UNLOCK_SCRIPT;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        UNLOCK_SCRIPT = <span class="keyword">new</span> <span class="title class_">DefaultRedisScript</span>&lt;&gt;();</span><br><span class="line">        UNLOCK_SCRIPT.setLocation(<span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;unlock.lua&quot;</span>));</span><br><span class="line">        UNLOCK_SCRIPT.setResultType(Long.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨luaè„šæœ¬</span></span><br><span class="line">    stringRedisTemplate.execute(</span><br><span class="line">            UNLOCK_SCRIPT,</span><br><span class="line">            Collections.singletonList(KEY_PREFIX + name),</span><br><span class="line">            ID_PREFIX + Thread.currentThread().getId());</span><br><span class="line">&#125;</span><br><span class="line">ç»è¿‡ä»¥ä¸Šä»£ç æ”¹é€ åï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿå®ç° æ‹¿é”æ¯”é”åˆ é”çš„åŸå­æ€§åŠ¨ä½œäº†~</span><br></pre></td></tr></table></figure><p>å°æ€»ç»“ï¼š</p><p>åŸºäºRedisçš„åˆ†å¸ƒå¼é”å®ç°æ€è·¯ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ©ç”¨set nx exè·å–é”ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä¿å­˜çº¿ç¨‹æ ‡ç¤º</p></li><li class="lvl-2"><p>é‡Šæ”¾é”æ—¶å…ˆåˆ¤æ–­çº¿ç¨‹æ ‡ç¤ºæ˜¯å¦ä¸è‡ªå·±ä¸€è‡´ï¼Œä¸€è‡´åˆ™åˆ é™¤é”</p><ul class="lvl-2"><li class="lvl-4"><p>ç‰¹æ€§ï¼š</p><ul class="lvl-4"><li class="lvl-6">åˆ©ç”¨set nxæ»¡è¶³äº’æ–¥æ€§</li><li class="lvl-6">åˆ©ç”¨set exä¿è¯æ•…éšœæ—¶é”ä¾ç„¶èƒ½é‡Šæ”¾ï¼Œé¿å…æ­»é”ï¼Œæé«˜å®‰å…¨æ€§</li><li class="lvl-6">åˆ©ç”¨Redisé›†ç¾¤ä¿è¯é«˜å¯ç”¨å’Œé«˜å¹¶å‘ç‰¹æ€§</li></ul></li></ul></li></ul><p>ç¬”è€…æ€»ç»“ï¼šæˆ‘ä»¬ä¸€è·¯èµ°æ¥ï¼Œåˆ©ç”¨æ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œé˜²æ­¢æ­»é”é—®é¢˜çš„å‘ç”Ÿï¼Œä½†æ˜¯æœ‰äº†è¿‡æœŸæ—¶é—´ä¹‹åï¼Œå¯èƒ½å‡ºç°è¯¯åˆ åˆ«äººé”çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä»¬å¼€å§‹æ˜¯åˆ©ç”¨åˆ ä¹‹å‰ é€šè¿‡æ‹¿é”ï¼Œæ¯”é”ï¼Œåˆ é”è¿™ä¸ªé€»è¾‘æ¥è§£å†³çš„ï¼Œä¹Ÿå°±æ˜¯åˆ ä¹‹å‰åˆ¤æ–­ä¸€ä¸‹å½“å‰è¿™æŠŠé”æ˜¯å¦æ˜¯å±äºè‡ªå·±çš„ï¼Œä½†æ˜¯ç°åœ¨è¿˜æœ‰åŸå­æ€§é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ²¡æ³•ä¿è¯æ‹¿é”æ¯”é”åˆ é”æ˜¯ä¸€ä¸ªåŸå­æ€§çš„åŠ¨ä½œï¼Œæœ€åé€šè¿‡luaè¡¨è¾¾å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p><p>ä½†æ˜¯ç›®å‰è¿˜å‰©ä¸‹ä¸€ä¸ªé—®é¢˜é”ä¸ä½ï¼Œä»€ä¹ˆæ˜¯é”ä¸ä½å‘¢ï¼Œä½ æƒ³ä¸€æƒ³ï¼Œå¦‚æœå½“è¿‡æœŸæ—¶é—´åˆ°äº†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»–ç»­æœŸä¸€ä¸‹ï¼Œæ¯”å¦‚ç»­ä¸ª30sï¼Œå°±å¥½åƒæ˜¯ç½‘å§ä¸Šç½‘ï¼Œ ç½‘è´¹åˆ°äº†ä¹‹åï¼Œç„¶åè¯´ï¼Œæ¥ï¼Œç½‘ç®¡ï¼Œå†ç»™æˆ‘æ¥10å—çš„ï¼Œæ˜¯ä¸æ˜¯åè¾¹çš„é—®é¢˜éƒ½ä¸ä¼šå‘ç”Ÿäº†ï¼Œé‚£ä¹ˆç»­æœŸé—®é¢˜æ€ä¹ˆè§£å†³å‘¢ï¼Œå¯ä»¥ä¾èµ–äºæˆ‘ä»¬æ¥ä¸‹æ¥è¦å­¦ä¹ redissionå•¦</p><p><strong>æµ‹è¯•é€»è¾‘ï¼š</strong></p><p>ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿›æ¥ï¼Œå¾—åˆ°äº†é”ï¼Œæ‰‹åŠ¨åˆ é™¤é”ï¼Œæ¨¡æ‹Ÿé”è¶…æ—¶äº†ï¼Œå…¶ä»–çº¿ç¨‹ä¼šæ‰§è¡Œluaæ¥æŠ¢é”ï¼Œå½“ç¬¬ä¸€å¤©çº¿ç¨‹åˆ©ç”¨luaåˆ é™¤é”æ—¶ï¼Œluaèƒ½ä¿è¯ä»–ä¸èƒ½åˆ é™¤ä»–çš„é”ï¼Œç¬¬äºŒä¸ªçº¿ç¨‹åˆ é™¤é”æ—¶ï¼Œåˆ©ç”¨luaåŒæ ·å¯ä»¥ä¿è¯ä¸ä¼šåˆ é™¤åˆ«äººçš„é”ï¼ŒåŒæ—¶è¿˜èƒ½ä¿è¯åŸå­æ€§ã€‚</p><h2 id="5ã€åˆ†å¸ƒå¼é”-redission">5ã€åˆ†å¸ƒå¼é”-redission</h2><h3 id="5-1-åˆ†å¸ƒå¼é”-redissionåŠŸèƒ½ä»‹ç»">5.1 åˆ†å¸ƒå¼é”-redissionåŠŸèƒ½ä»‹ç»</h3><p>åŸºäºsetnxå®ç°çš„åˆ†å¸ƒå¼é”å­˜åœ¨ä¸‹é¢çš„é—®é¢˜ï¼š</p><p><strong>é‡å…¥é—®é¢˜</strong>ï¼šé‡å…¥é—®é¢˜æ˜¯æŒ‡ è·å¾—é”çš„çº¿ç¨‹å¯ä»¥å†æ¬¡è¿›å…¥åˆ°ç›¸åŒçš„é”çš„ä»£ç å—ä¸­ï¼Œå¯é‡å…¥é”çš„æ„ä¹‰åœ¨äºé˜²æ­¢æ­»é”ï¼Œæ¯”å¦‚HashTableè¿™æ ·çš„ä»£ç ä¸­ï¼Œä»–çš„æ–¹æ³•éƒ½æ˜¯ä½¿ç”¨synchronizedä¿®é¥°çš„ï¼Œå‡å¦‚ä»–åœ¨ä¸€ä¸ªæ–¹æ³•å†…ï¼Œè°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆæ­¤æ—¶å¦‚æœæ˜¯ä¸å¯é‡å…¥çš„ï¼Œä¸å°±æ­»é”äº†å—ï¼Ÿæ‰€ä»¥å¯é‡å…¥é”ä»–çš„ä¸»è¦æ„ä¹‰æ˜¯é˜²æ­¢æ­»é”ï¼Œæˆ‘ä»¬çš„synchronizedå’ŒLocké”éƒ½æ˜¯å¯é‡å…¥çš„ã€‚</p><p><strong>ä¸å¯é‡è¯•</strong>ï¼šæ˜¯æŒ‡ç›®å‰çš„åˆ†å¸ƒå¼åªèƒ½å°è¯•ä¸€æ¬¡ï¼Œæˆ‘ä»¬è®¤ä¸ºåˆç†çš„æƒ…å†µæ˜¯ï¼šå½“çº¿ç¨‹åœ¨è·å¾—é”å¤±è´¥åï¼Œä»–åº”è¯¥èƒ½å†æ¬¡å°è¯•è·å¾—é”ã€‚</p><p><strong>è¶…æ—¶é‡Šæ”¾ï¼š</strong> æˆ‘ä»¬åœ¨åŠ é”æ—¶å¢åŠ äº†è¿‡æœŸæ—¶é—´ï¼Œè¿™æ ·çš„æˆ‘ä»¬å¯ä»¥é˜²æ­¢æ­»é”ï¼Œä½†æ˜¯å¦‚æœå¡é¡¿çš„æ—¶é—´è¶…é•¿ï¼Œè™½ç„¶æˆ‘ä»¬é‡‡ç”¨äº†luaè¡¨è¾¾å¼é˜²æ­¢åˆ é”çš„æ—¶å€™ï¼Œè¯¯åˆ åˆ«äººçš„é”ï¼Œä½†æ˜¯æ¯•ç«Ÿæ²¡æœ‰é”ä½ï¼Œæœ‰å®‰å…¨éšæ‚£</p><p><strong>ä¸»ä»ä¸€è‡´æ€§ï¼š</strong>  å¦‚æœRedisæä¾›äº†ä¸»ä»é›†ç¾¤ï¼Œå½“æˆ‘ä»¬å‘é›†ç¾¤å†™æ•°æ®æ—¶ï¼Œä¸»æœºéœ€è¦å¼‚æ­¥çš„å°†æ•°æ®åŒæ­¥ç»™ä»æœºï¼Œè€Œä¸‡ä¸€åœ¨åŒæ­¥è¿‡å»ä¹‹å‰ï¼Œä¸»æœºå®•æœºäº†ï¼Œå°±ä¼šå‡ºç°æ­»é”é—®é¢˜ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653546070602-20240615212954-eskzh8w.png" alt="1653546070602">â€‹</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯Redissionå‘¢</p><p>Redissonæ˜¯ä¸€ä¸ªåœ¨Redisçš„åŸºç¡€ä¸Šå®ç°çš„Javaé©»å†…å­˜æ•°æ®ç½‘æ ¼ï¼ˆIn-Memory Data Gridï¼‰ã€‚å®ƒä¸ä»…æä¾›äº†ä¸€ç³»åˆ—çš„åˆ†å¸ƒå¼çš„Javaå¸¸ç”¨å¯¹è±¡ï¼Œè¿˜æä¾›äº†è®¸å¤šåˆ†å¸ƒå¼æœåŠ¡ï¼Œå…¶ä¸­å°±åŒ…å«äº†å„ç§åˆ†å¸ƒå¼é”çš„å®ç°ã€‚</p><p>Redissionæä¾›äº†åˆ†å¸ƒå¼é”çš„å¤šç§å¤šæ ·çš„åŠŸèƒ½</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653546736063-20240615212954-icyqj8o.png" alt="1653546736063"></p><h3 id="5-2-åˆ†å¸ƒå¼é”-Redissionå¿«é€Ÿå…¥é—¨">5.2 åˆ†å¸ƒå¼é”-Redissionå¿«é€Ÿå…¥é—¨</h3><p>å¼•å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.redisson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redisson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.13.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®Redissonå®¢æˆ·ç«¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedissonConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedissonClient <span class="title function_">redissonClient</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// é…ç½®</span></span><br><span class="line">        <span class="type">Config</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Config</span>();</span><br><span class="line">        config.useSingleServer().setAddress(<span class="string">&quot;redis://192.168.150.101:6379&quot;</span>)</span><br><span class="line">            .setPassword(<span class="string">&quot;123321&quot;</span>);</span><br><span class="line">        <span class="comment">// åˆ›å»ºRedissonClientå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> Redisson.create(config);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚ä½•ä½¿ç”¨Redissionçš„åˆ†å¸ƒå¼é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RedissionClient redissonClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testRedisson</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    <span class="comment">//è·å–é”(å¯é‡å…¥)ï¼ŒæŒ‡å®šé”çš„åç§°</span></span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;anyLock&quot;</span>);</span><br><span class="line">    <span class="comment">//å°è¯•è·å–é”ï¼Œå‚æ•°åˆ†åˆ«æ˜¯ï¼šè·å–é”çš„æœ€å¤§ç­‰å¾…æ—¶é—´(æœŸé—´ä¼šé‡è¯•)ï¼Œé”è‡ªåŠ¨é‡Šæ”¾æ—¶é—´ï¼Œæ—¶é—´å•ä½</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock(<span class="number">1</span>,<span class="number">10</span>,TimeUnit.SECONDS);</span><br><span class="line">    <span class="comment">//åˆ¤æ–­è·å–é”æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span>(isLock)&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‰§è¡Œä¸šåŠ¡&quot;</span>);          </span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ VoucherOrderServiceImpl</p><p>æ³¨å…¥RedissonClient</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.æŸ¥è¯¢ä¼˜æƒ åˆ¸</span></span><br><span class="line">        <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3.åˆ¤æ–­ç§’æ€æ˜¯å¦å·²ç»ç»“æŸ</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="comment">// å°šæœªå¼€å§‹</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// åº“å­˜ä¸è¶³</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        <span class="comment">//åˆ›å»ºé”å¯¹è±¡ è¿™ä¸ªä»£ç ä¸ç”¨äº†ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨è¦ä½¿ç”¨åˆ†å¸ƒå¼é”</span></span><br><span class="line">        <span class="comment">//SimpleRedisLock lock = new SimpleRedisLock(&quot;order:&quot; + userId, stringRedisTemplate);</span></span><br><span class="line">        <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock:order:&quot;</span> + userId);</span><br><span class="line">        <span class="comment">//è·å–é”å¯¹è±¡</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock();</span><br><span class="line">       </span><br><span class="line"><span class="comment">//åŠ é”å¤±è´¥</span></span><br><span class="line">        <span class="keyword">if</span> (!isLock) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ä¸å…è®¸é‡å¤ä¸‹å•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è·å–ä»£ç†å¯¹è±¡(äº‹åŠ¡)</span></span><br><span class="line">            <span class="type">IVoucherOrderService</span> <span class="variable">proxy</span> <span class="operator">=</span> (IVoucherOrderService) AopContext.currentProxy();</span><br><span class="line">            <span class="keyword">return</span> proxy.createVoucherOrder(voucherId);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="5-3-åˆ†å¸ƒå¼é”-redissionå¯é‡å…¥é”åŸç†">5.3 åˆ†å¸ƒå¼é”-redissionå¯é‡å…¥é”åŸç†</h3><p>åœ¨Locké”ä¸­ï¼Œä»–æ˜¯å€ŸåŠ©äºåº•å±‚çš„ä¸€ä¸ªvoaltileçš„ä¸€ä¸ªstateå˜é‡æ¥è®°å½•é‡å…¥çš„çŠ¶æ€çš„ï¼Œæ¯”å¦‚å½“å‰æ²¡æœ‰äººæŒæœ‰è¿™æŠŠé”ï¼Œé‚£ä¹ˆstate=0ï¼Œå‡å¦‚æœ‰äººæŒæœ‰è¿™æŠŠé”ï¼Œé‚£ä¹ˆstate=1ï¼Œå¦‚æœæŒæœ‰è¿™æŠŠé”çš„äººå†æ¬¡æŒæœ‰è¿™æŠŠé”ï¼Œé‚£ä¹ˆstateå°±ä¼š+1 ï¼Œå¦‚æœæ˜¯å¯¹äºsynchronizedè€Œè¨€ï¼Œä»–åœ¨cè¯­è¨€ä»£ç ä¸­ä¼šæœ‰ä¸€ä¸ªcountï¼ŒåŸç†å’Œstateç±»ä¼¼ï¼Œä¹Ÿæ˜¯é‡å…¥ä¸€æ¬¡å°±åŠ ä¸€ï¼Œé‡Šæ”¾ä¸€æ¬¡å°±-1 ï¼Œç›´åˆ°å‡å°‘æˆ0 æ—¶ï¼Œè¡¨ç¤ºå½“å‰è¿™æŠŠé”æ²¡æœ‰è¢«äººæŒæœ‰ã€‚</p><p>åœ¨redissionä¸­ï¼Œæˆ‘ä»¬çš„ä¹Ÿæ”¯æŒæ”¯æŒå¯é‡å…¥é”</p><p>åœ¨åˆ†å¸ƒå¼é”ä¸­ï¼Œä»–é‡‡ç”¨hashç»“æ„ç”¨æ¥å­˜å‚¨é”ï¼Œå…¶ä¸­å¤§keyè¡¨ç¤ºè¡¨ç¤ºè¿™æŠŠé”æ˜¯å¦å­˜åœ¨ï¼Œç”¨å°keyè¡¨ç¤ºå½“å‰è¿™æŠŠé”è¢«å“ªä¸ªçº¿ç¨‹æŒæœ‰ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·åˆ†æä¸€ä¸‹å½“å‰çš„è¿™ä¸ªluaè¡¨è¾¾å¼</p><p>è¿™ä¸ªåœ°æ–¹ä¸€å…±æœ‰3ä¸ªå‚æ•°</p><p><strong>KEYS[1] ï¼š é”åç§°</strong></p><p><strong>ARGV[1]ï¼š  é”å¤±æ•ˆæ—¶é—´</strong></p><p><strong>ARGV[2]ï¼š  id + &quot;:&quot; + threadId; é”çš„å°key</strong></p><p>exists: åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨  nameï¼šæ˜¯lockæ˜¯å¦å­˜åœ¨,å¦‚æœ==0ï¼Œå°±è¡¨ç¤ºå½“å‰è¿™æŠŠé”ä¸å­˜åœ¨</p><p>redis.call(â€˜hsetâ€™, KEYS[1], ARGV[2], 1);æ­¤æ—¶ä»–å°±å¼€å§‹å¾€redisé‡Œè¾¹å»å†™æ•°æ® ï¼Œå†™æˆä¸€ä¸ªhashç»“æ„</p><p>Lock{</p><p>â€‹    id +  <strong>&quot;:&quot;</strong>  + threadId :  1</p><p>}</p><p>å¦‚æœå½“å‰è¿™æŠŠé”å­˜åœ¨ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³ï¼Œå†åˆ¤æ–­</p><p>redis.call(â€˜hexistsâ€™, KEYS[1], ARGV[2]) == 1</p><p>æ­¤æ—¶éœ€è¦é€šè¿‡å¤§key+å°keyåˆ¤æ–­å½“å‰è¿™æŠŠé”æ˜¯å¦æ˜¯å±äºè‡ªå·±çš„ï¼Œå¦‚æœæ˜¯è‡ªå·±çš„ï¼Œåˆ™è¿›è¡Œ</p><p>redis.call(â€˜hincrbyâ€™, KEYS[1], ARGV[2], 1)</p><p>å°†å½“å‰è¿™ä¸ªé”çš„valueè¿›è¡Œ+1 ï¼Œredis.call(â€˜pexpireâ€™, KEYS[1], ARGV[1]); ç„¶åå†å¯¹å…¶è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå¦‚æœä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™è¡¨ç¤ºå½“å‰è¿™æŠŠé”æŠ¢é”å¤±è´¥ï¼Œæœ€åè¿”å›pttlï¼Œå³ä¸ºå½“å‰è¿™æŠŠé”çš„å¤±æ•ˆæ—¶é—´</p><p>å¦‚æœå°ä¼™å¸®ä»¬çœ‹äº†å‰è¾¹çš„æºç ï¼Œ ä½ ä¼šå‘ç°ä»–ä¼šå»åˆ¤æ–­å½“å‰è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼æ˜¯å¦ä¸ºnullï¼Œå¦‚æœæ˜¯nullï¼Œåˆ™å¯¹åº”åˆ™å‰ä¸¤ä¸ªifå¯¹åº”çš„æ¡ä»¶ï¼Œé€€å‡ºæŠ¢é”é€»è¾‘ï¼Œå¦‚æœè¿”å›çš„ä¸æ˜¯nullï¼Œå³èµ°äº†ç¬¬ä¸‰ä¸ªåˆ†æ”¯ï¼Œåœ¨æºç å¤„ä¼šè¿›è¡Œwhile(true)çš„è‡ªæ—‹æŠ¢é”ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;if (redis.call(&#x27;exists&#x27;, KEYS[1]) == 0) then &quot;</span> +</span><br><span class="line">                  <span class="string">&quot;redis.call(&#x27;hset&#x27;, KEYS[1], ARGV[2], 1); &quot;</span> +</span><br><span class="line">                  <span class="string">&quot;redis.call(&#x27;pexpire&#x27;, KEYS[1], ARGV[1]); &quot;</span> +</span><br><span class="line">                  <span class="string">&quot;return nil; &quot;</span> +</span><br><span class="line">              <span class="string">&quot;end; &quot;</span> +</span><br><span class="line">              <span class="string">&quot;if (redis.call(&#x27;hexists&#x27;, KEYS[1], ARGV[2]) == 1) then &quot;</span> +</span><br><span class="line">                  <span class="string">&quot;redis.call(&#x27;hincrby&#x27;, KEYS[1], ARGV[2], 1); &quot;</span> +</span><br><span class="line">                  <span class="string">&quot;redis.call(&#x27;pexpire&#x27;, KEYS[1], ARGV[1]); &quot;</span> +</span><br><span class="line">                  <span class="string">&quot;return nil; &quot;</span> +</span><br><span class="line">              <span class="string">&quot;end; &quot;</span> +</span><br><span class="line">              <span class="string">&quot;return redis.call(&#x27;pttl&#x27;, KEYS[1]);&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653548087334-20240615212954-oz6dk2l.png" alt="1653548087334"></p><h3 id="5-4-åˆ†å¸ƒå¼é”-redissioné”é‡è¯•å’ŒWatchDogæœºåˆ¶">5.4 åˆ†å¸ƒå¼é”-redissioné”é‡è¯•å’ŒWatchDogæœºåˆ¶</h3><p><strong>è¯´æ˜</strong>ï¼šç”±äºè¯¾ç¨‹ä¸­å·²ç»è¯´æ˜äº†æœ‰å…³tryLockçš„æºç è§£æä»¥åŠå…¶çœ‹é—¨ç‹—åŸç†ï¼Œæ‰€ä»¥ç¬”è€…åœ¨è¿™é‡Œç»™å¤§å®¶åˆ†ælock()æ–¹æ³•çš„æºç è§£æï¼Œå¸Œæœ›å¤§å®¶åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œèƒ½å¤ŸæŒæ¡æ›´å¤šçš„çŸ¥è¯†</p><p>æŠ¢é”è¿‡ç¨‹ä¸­ï¼Œè·å¾—å½“å‰çº¿ç¨‹ï¼Œé€šè¿‡tryAcquireè¿›è¡ŒæŠ¢é”ï¼Œè¯¥æŠ¢é”é€»è¾‘å’Œä¹‹å‰é€»è¾‘ç›¸åŒ</p><p>1ã€å…ˆåˆ¤æ–­å½“å‰è¿™æŠŠé”æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæ’å…¥ä¸€æŠŠé”ï¼Œè¿”å›null</p><p>2ã€åˆ¤æ–­å½“å‰è¿™æŠŠé”æ˜¯å¦æ˜¯å±äºå½“å‰çº¿ç¨‹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›null</p><p>æ‰€ä»¥å¦‚æœè¿”å›æ˜¯nullï¼Œåˆ™ä»£è¡¨ç€å½“å‰è¿™å“¥ä»¬å·²ç»æŠ¢é”å®Œæ¯•ï¼Œæˆ–è€…å¯é‡å…¥å®Œæ¯•ï¼Œä½†æ˜¯å¦‚æœä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™è¿›å…¥åˆ°ç¬¬ä¸‰ä¸ªæ¡ä»¶ï¼Œè¿”å›çš„æ˜¯é”çš„å¤±æ•ˆæ—¶é—´ï¼ŒåŒå­¦ä»¬å¯ä»¥è‡ªè¡Œå¾€ä¸‹ç¿»ä¸€ç‚¹ç‚¹ï¼Œä½ èƒ½å‘ç°æœ‰ä¸ªwhile( true) å†æ¬¡è¿›è¡ŒtryAcquireè¿›è¡ŒæŠ¢é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">threadId</span> <span class="operator">=</span> Thread.currentThread().getId();</span><br><span class="line"><span class="type">Long</span> <span class="variable">ttl</span> <span class="operator">=</span> tryAcquire(-<span class="number">1</span>, leaseTime, unit, threadId);</span><br><span class="line"><span class="comment">// lock acquired</span></span><br><span class="line"><span class="keyword">if</span> (ttl == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä¼šæœ‰ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯ï¼Œå› ä¸ºlockæ–¹æ³•æœ‰é‡è½½æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å¸¦å‚æ•°ï¼Œä¸€ä¸ªæ˜¯ä¸å¸¦å‚æ•°ï¼Œå¦‚æœå¸¦å¸¦å‚æ•°ä¼ å…¥çš„å€¼æ˜¯-1ï¼Œå¦‚æœä¼ å…¥å‚æ•°ï¼Œåˆ™leaseTimeæ˜¯ä»–æœ¬èº«ï¼Œæ‰€ä»¥å¦‚æœä¼ å…¥äº†å‚æ•°ï¼Œæ­¤æ—¶leaseTime != -1 åˆ™ä¼šè¿›å»æŠ¢é”ï¼ŒæŠ¢é”çš„é€»è¾‘å°±æ˜¯ä¹‹å‰è¯´çš„é‚£ä¸‰ä¸ªé€»è¾‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (leaseTime != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tryLockInnerAsync(waitTime, leaseTime, unit, threadId, RedisCommands.EVAL_LONG);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æ²¡æœ‰ä¼ å…¥æ—¶é—´ï¼Œåˆ™æ­¤æ—¶ä¹Ÿä¼šè¿›è¡ŒæŠ¢é”ï¼Œ è€Œä¸”æŠ¢é”æ—¶é—´æ˜¯é»˜è®¤çœ‹é—¨ç‹—æ—¶é—´ commandExecutor.getConnectionManager().getCfg().getLockWatchdogTimeout()</p><p>ttlRemainingFuture.onComplete((ttlRemaining, e) è¿™å¥è¯ç›¸å½“äºå¯¹ä»¥ä¸ŠæŠ¢é”è¿›è¡Œäº†ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä¸Šè¾¹æŠ¢é”å®Œæ¯•åï¼Œæ­¤æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œå…·ä½“è°ƒç”¨çš„é€»è¾‘å°±æ˜¯å»åå°å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿›è¡Œç»­çº¦é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯çœ‹é—¨ç‹—çº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">RFuture&lt;Long&gt; ttlRemainingFuture = tryLockInnerAsync(waitTime,</span><br><span class="line">                                        commandExecutor.getConnectionManager().getCfg().getLockWatchdogTimeout(),</span><br><span class="line">                                        TimeUnit.MILLISECONDS, threadId, RedisCommands.EVAL_LONG);</span><br><span class="line">ttlRemainingFuture.onComplete((ttlRemaining, e) -&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// lock acquired</span></span><br><span class="line">    <span class="keyword">if</span> (ttlRemaining == <span class="literal">null</span>) &#123;</span><br><span class="line">        scheduleExpirationRenewal(threadId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> ttlRemainingFuture;</span><br></pre></td></tr></table></figure><p>æ­¤é€»è¾‘å°±æ˜¯ç»­çº¦é€»è¾‘ï¼Œæ³¨æ„çœ‹commandExecutor.getConnectionManager().newTimeoutï¼ˆï¼‰ æ­¤æ–¹æ³•</p><p>Method(  <strong>new</strong> TimerTask() {},å‚æ•°2 ï¼Œå‚æ•°3  )</p><p>æŒ‡çš„æ˜¯ï¼šé€šè¿‡å‚æ•°2ï¼Œå‚æ•°3 å»æè¿°ä»€ä¹ˆæ—¶å€™å»åšå‚æ•°1çš„äº‹æƒ…ï¼Œç°åœ¨çš„æƒ…å†µæ˜¯ï¼š10sä¹‹åå»åšå‚æ•°ä¸€çš„äº‹æƒ…</p><p>å› ä¸ºé”çš„å¤±æ•ˆæ—¶é—´æ˜¯30sï¼Œå½“10sä¹‹åï¼Œæ­¤æ—¶è¿™ä¸ªtimeTask å°±è§¦å‘äº†ï¼Œä»–å°±å»è¿›è¡Œç»­çº¦ï¼ŒæŠŠå½“å‰è¿™æŠŠé”ç»­çº¦æˆ30sï¼Œå¦‚æœæ“ä½œæˆåŠŸï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ä¼šé€’å½’è°ƒç”¨è‡ªå·±ï¼Œå†é‡æ–°è®¾ç½®ä¸€ä¸ªtimeTask()ï¼Œäºæ˜¯å†è¿‡10sååˆå†è®¾ç½®ä¸€ä¸ªtimerTaskï¼Œå®Œæˆä¸åœçš„ç»­çº¦</p><p>é‚£ä¹ˆå¤§å®¶å¯ä»¥æƒ³ä¸€æƒ³ï¼Œå‡è®¾æˆ‘ä»¬çš„çº¿ç¨‹å‡ºç°äº†å®•æœºä»–è¿˜ä¼šç»­çº¦å—ï¼Ÿå½“ç„¶ä¸ä¼šï¼Œå› ä¸ºæ²¡æœ‰äººå†å»è°ƒç”¨renewExpirationè¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ç­‰åˆ°æ—¶é—´ä¹‹åè‡ªç„¶å°±é‡Šæ”¾äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">renewExpiration</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ExpirationEntry</span> <span class="variable">ee</span> <span class="operator">=</span> EXPIRATION_RENEWAL_MAP.get(getEntryName());</span><br><span class="line">    <span class="keyword">if</span> (ee == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">Timeout</span> <span class="variable">task</span> <span class="operator">=</span> commandExecutor.getConnectionManager().newTimeout(<span class="keyword">new</span> <span class="title class_">TimerTask</span>() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(Timeout timeout)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            <span class="type">ExpirationEntry</span> <span class="variable">ent</span> <span class="operator">=</span> EXPIRATION_RENEWAL_MAP.get(getEntryName());</span><br><span class="line">            <span class="keyword">if</span> (ent == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Long</span> <span class="variable">threadId</span> <span class="operator">=</span> ent.getFirstThreadId();</span><br><span class="line">            <span class="keyword">if</span> (threadId == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            RFuture&lt;Boolean&gt; future = renewExpirationAsync(threadId);</span><br><span class="line">            future.onComplete((res, e) -&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123;</span><br><span class="line">                    log.error(<span class="string">&quot;Can&#x27;t update lock &quot;</span> + getName() + <span class="string">&quot; expiration&quot;</span>, e);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (res) &#123;</span><br><span class="line">                    <span class="comment">// reschedule itself</span></span><br><span class="line">                    renewExpiration();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, internalLockLeaseTime / <span class="number">3</span>, TimeUnit.MILLISECONDS);</span><br><span class="line">    </span><br><span class="line">    ee.setTimeout(task);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-5-åˆ†å¸ƒå¼é”-redissioné”çš„MutiLockåŸç†">5.5 åˆ†å¸ƒå¼é”-redissioné”çš„MutiLockåŸç†</h3><p>ä¸ºäº†æé«˜redisçš„å¯ç”¨æ€§ï¼Œæˆ‘ä»¬ä¼šæ­å»ºé›†ç¾¤æˆ–è€…ä¸»ä»ï¼Œç°åœ¨ä»¥ä¸»ä»ä¸ºä¾‹</p><p>æ­¤æ—¶æˆ‘ä»¬å»å†™å‘½ä»¤ï¼Œå†™åœ¨ä¸»æœºä¸Šï¼Œ ä¸»æœºä¼šå°†æ•°æ®åŒæ­¥ç»™ä»æœºï¼Œä½†æ˜¯å‡è®¾åœ¨ä¸»æœºè¿˜æ²¡æœ‰æ¥å¾—åŠæŠŠæ•°æ®å†™å…¥åˆ°ä»æœºå»çš„æ—¶å€™ï¼Œæ­¤æ—¶ä¸»æœºå®•æœºï¼Œå“¨å…µä¼šå‘ç°ä¸»æœºå®•æœºï¼Œå¹¶ä¸”é€‰ä¸¾ä¸€ä¸ªslaveå˜æˆmasterï¼Œè€Œæ­¤æ—¶æ–°çš„masterä¸­å®é™…ä¸Šå¹¶æ²¡æœ‰é”ä¿¡æ¯ï¼Œæ­¤æ—¶é”ä¿¡æ¯å°±å·²ç»ä¸¢æ‰äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653553998403-20240615212954-qzl8jy8.png" alt="1653553998403"></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œredissionæå‡ºæ¥äº†MutiLocké”ï¼Œä½¿ç”¨è¿™æŠŠé”å’±ä»¬å°±ä¸ä½¿ç”¨ä¸»ä»äº†ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„åœ°ä½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œ è¿™æŠŠé”åŠ é”çš„é€»è¾‘éœ€è¦å†™å…¥åˆ°æ¯ä¸€ä¸ªä¸»ä¸›èŠ‚ç‚¹ä¸Šï¼Œåªæœ‰æ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å†™å…¥æˆåŠŸï¼Œæ­¤æ—¶æ‰æ˜¯åŠ é”æˆåŠŸï¼Œå‡è®¾ç°åœ¨æŸä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œé‚£ä¹ˆä»–å»è·å¾—é”çš„æ—¶å€™ï¼Œåªè¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹æ‹¿ä¸åˆ°ï¼Œéƒ½ä¸èƒ½ç®—æ˜¯åŠ é”æˆåŠŸï¼Œå°±ä¿è¯äº†åŠ é”çš„å¯é æ€§ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653554055048-20240615212954-9s0tixu.png" alt="1653554055048"></p><p>é‚£ä¹ˆMutiLock åŠ é”åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç¬”è€…ç”»äº†ä¸€å¹…å›¾æ¥è¯´æ˜</p><p>å½“æˆ‘ä»¬å»è®¾ç½®äº†å¤šä¸ªé”æ—¶ï¼Œredissionä¼šå°†å¤šä¸ªé”æ·»åŠ åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œç„¶åç”¨whileå¾ªç¯å»ä¸åœå»å°è¯•æ‹¿é”ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªæ€»å…±çš„åŠ é”æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯ç”¨éœ€è¦åŠ é”çš„ä¸ªæ•° * 1500ms ï¼Œå‡è®¾æœ‰3ä¸ªé”ï¼Œé‚£ä¹ˆæ—¶é—´å°±æ˜¯4500msï¼Œå‡è®¾åœ¨è¿™4500mså†…ï¼Œæ‰€æœ‰çš„é”éƒ½åŠ é”æˆåŠŸï¼Œ é‚£ä¹ˆæ­¤æ—¶æ‰ç®—æ˜¯åŠ é”æˆåŠŸï¼Œå¦‚æœåœ¨4500msæœ‰çº¿ç¨‹åŠ é”å¤±è´¥ï¼Œåˆ™ä¼šå†æ¬¡å»è¿›è¡Œé‡è¯•.</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653553093967-20240615212954-lbfjnov.png" alt="1653553093967"></p><h2 id="6ã€ç§’æ€ä¼˜åŒ–">6ã€ç§’æ€ä¼˜åŒ–</h2><h3 id="6-1-ç§’æ€ä¼˜åŒ–-å¼‚æ­¥ç§’æ€æ€è·¯">6.1 ç§’æ€ä¼˜åŒ–-å¼‚æ­¥ç§’æ€æ€è·¯</h3><p>æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä¸‹å•æµç¨‹</p><p>å½“ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼Œæ­¤æ—¶ä¼šè¯·æ±‚nginxï¼Œnginxä¼šè®¿é—®åˆ°tomcatï¼Œè€Œtomcatä¸­çš„ç¨‹åºï¼Œä¼šè¿›è¡Œä¸²è¡Œæ“ä½œï¼Œåˆ†æˆå¦‚ä¸‹å‡ ä¸ªæ­¥éª¤</p><p>1ã€æŸ¥è¯¢ä¼˜æƒ å·</p><p>2ã€åˆ¤æ–­ç§’æ€åº“å­˜æ˜¯å¦è¶³å¤Ÿ</p><p>3ã€æŸ¥è¯¢è®¢å•</p><p>4ã€æ ¡éªŒæ˜¯å¦æ˜¯ä¸€äººä¸€å•</p><p>5ã€æ‰£å‡åº“å­˜</p><p>6ã€åˆ›å»ºè®¢å•</p><p>åœ¨è¿™å…­æ­¥æ“ä½œä¸­ï¼Œåˆæœ‰å¾ˆå¤šæ“ä½œæ˜¯è¦å»æ“ä½œæ•°æ®åº“çš„ï¼Œè€Œä¸”è¿˜æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸²è¡Œæ‰§è¡Œï¼Œ è¿™æ ·å°±ä¼šå¯¼è‡´æˆ‘ä»¬çš„ç¨‹åºæ‰§è¡Œçš„å¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼‚æ­¥ç¨‹åºæ‰§è¡Œï¼Œé‚£ä¹ˆå¦‚ä½•åŠ é€Ÿå‘¢ï¼Ÿ</p><p>åœ¨è¿™é‡Œç¬”è€…æƒ³ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹è¯¾ç¨‹å†…æ²¡æœ‰çš„æ€è·¯ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å°ä¼™ä¼´è¿™ä¹ˆæƒ³ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¯ä»¥ä½¿ç”¨å¼‚æ­¥ç¼–æ’æ¥åšï¼Œæˆ–è€…è¯´æˆ‘å¼€å¯Nå¤šçº¿ç¨‹ï¼ŒNå¤šä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒæŸ¥è¯¢ä¼˜æƒ å·ï¼Œä¸€ä¸ªæ‰§è¡Œåˆ¤æ–­æ‰£å‡åº“å­˜ï¼Œä¸€ä¸ªå»åˆ›å»ºè®¢å•ç­‰ç­‰ï¼Œç„¶åå†ç»Ÿä¸€åšè¿”å›ï¼Œè¿™ç§åšæ³•å’Œè¯¾ç¨‹ä¸­æœ‰å“ªç§å¥½å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è¯¾ç¨‹ä¸­çš„å¥½ï¼Œå› ä¸ºå¦‚æœä½ é‡‡ç”¨æˆ‘åˆšè¯´çš„æ–¹å¼ï¼Œå¦‚æœè®¿é—®çš„äººå¾ˆå¤šï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¯èƒ½ä¸€ä¸‹å­å°±è¢«æ¶ˆè€—å®Œäº†ï¼Œè€Œä¸”ä½ ä½¿ç”¨ä¸Šè¿°æ–¹æ¡ˆï¼Œæœ€å¤§çš„ç‰¹ç‚¹åœ¨äºï¼Œä½ è§‰å¾—æ—¶æ•ˆæ€§ä¼šéå¸¸é‡è¦ï¼Œä½†æ˜¯ä½ æƒ³æƒ³æ˜¯å—ï¼Ÿå¹¶ä¸æ˜¯ï¼Œæ¯”å¦‚æˆ‘åªè¦ç¡®å®šä»–èƒ½åšè¿™ä»¶äº‹ï¼Œç„¶åæˆ‘åè¾¹æ…¢æ…¢åšå°±å¯ä»¥äº†ï¼Œæˆ‘å¹¶ä¸éœ€è¦ä»–ä¸€å£æ°”åšå®Œè¿™ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”å½“é‡‡ç”¨çš„æ˜¯è¯¾ç¨‹ä¸­ï¼Œç±»ä¼¼æ¶ˆæ¯é˜Ÿåˆ—çš„æ–¹å¼æ¥å®Œæˆæˆ‘ä»¬çš„éœ€æ±‚ï¼Œè€Œä¸æ˜¯ä½¿ç”¨çº¿ç¨‹æ± æˆ–è€…æ˜¯å¼‚æ­¥ç¼–æ’çš„æ–¹å¼æ¥å®Œæˆè¿™ä¸ªéœ€æ±‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653560986599-20240615212954-9r5je2p.png" alt="1653560986599"></p><p>ä¼˜åŒ–æ–¹æ¡ˆï¼šæˆ‘ä»¬å°†è€—æ—¶æ¯”è¾ƒçŸ­çš„é€»è¾‘åˆ¤æ–­æ”¾å…¥åˆ°redisä¸­ï¼Œæ¯”å¦‚æ˜¯å¦åº“å­˜è¶³å¤Ÿï¼Œæ¯”å¦‚æ˜¯å¦ä¸€äººä¸€å•ï¼Œè¿™æ ·çš„æ“ä½œï¼Œåªè¦è¿™ç§é€»è¾‘å¯ä»¥å®Œæˆï¼Œå°±æ„å‘³ç€æˆ‘ä»¬æ˜¯ä¸€å®šå¯ä»¥ä¸‹å•å®Œæˆçš„ï¼Œæˆ‘ä»¬åªéœ€è¦è¿›è¡Œå¿«é€Ÿçš„é€»è¾‘åˆ¤æ–­ï¼Œæ ¹æœ¬å°±ä¸ç”¨ç­‰ä¸‹å•é€»è¾‘èµ°å®Œï¼Œæˆ‘ä»¬ç›´æ¥ç»™ç”¨æˆ·è¿”å›æˆåŠŸï¼Œ å†åœ¨åå°å¼€ä¸€ä¸ªçº¿ç¨‹ï¼Œåå°çº¿ç¨‹æ…¢æ…¢çš„å»æ‰§è¡Œqueueé‡Œè¾¹çš„æ¶ˆæ¯ï¼Œè¿™æ ·ç¨‹åºä¸å°±è¶…çº§å¿«äº†å—ï¼Ÿè€Œä¸”ä¹Ÿä¸ç”¨æ‹…å¿ƒçº¿ç¨‹æ± æ¶ˆè€—æ®†å°½çš„é—®é¢˜ï¼Œå› ä¸ºè¿™é‡Œæˆ‘ä»¬çš„ç¨‹åºä¸­å¹¶æ²¡æœ‰æ‰‹åŠ¨ä½¿ç”¨ä»»ä½•çº¿ç¨‹æ± ï¼Œå½“ç„¶è¿™é‡Œè¾¹æœ‰ä¸¤ä¸ªéš¾ç‚¹</p><p>ç¬¬ä¸€ä¸ªéš¾ç‚¹æ˜¯æˆ‘ä»¬æ€ä¹ˆåœ¨redisä¸­å»å¿«é€Ÿæ ¡éªŒä¸€äººä¸€å•ï¼Œè¿˜æœ‰åº“å­˜åˆ¤æ–­</p><p>ç¬¬äºŒä¸ªéš¾ç‚¹æ˜¯ç”±äºæˆ‘ä»¬æ ¡éªŒå’Œtomctä¸‹å•æ˜¯ä¸¤ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çŸ¥é“åˆ°åº•å“ªä¸ªå•ä»–æœ€åæ˜¯å¦æˆåŠŸï¼Œæˆ–è€…æ˜¯ä¸‹å•å®Œæˆï¼Œä¸ºäº†å®Œæˆè¿™ä»¶äº‹æˆ‘ä»¬åœ¨redisæ“ä½œå®Œä¹‹åï¼Œæˆ‘ä»¬ä¼šå°†ä¸€äº›ä¿¡æ¯è¿”å›ç»™å‰ç«¯ï¼ŒåŒæ—¶ä¹Ÿä¼šæŠŠè¿™äº›ä¿¡æ¯ä¸¢åˆ°å¼‚æ­¥queueä¸­å»ï¼Œåç»­æ“ä½œä¸­ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªidæ¥æŸ¥è¯¢æˆ‘ä»¬tomcatä¸­çš„ä¸‹å•é€»è¾‘æ˜¯å¦å®Œæˆäº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653561657295-20240615212954-zmusbb6.png" alt="1653561657295"></p><p>æˆ‘ä»¬ç°åœ¨æ¥çœ‹çœ‹æ•´ä½“æ€è·¯ï¼šå½“ç”¨æˆ·ä¸‹å•ä¹‹åï¼Œåˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³åªéœ€è¦å¯¼redisä¸­å»æ ¹æ®keyæ‰¾å¯¹åº”çš„valueæ˜¯å¦å¤§äº0å³å¯ï¼Œå¦‚æœä¸å……è¶³ï¼Œåˆ™ç›´æ¥ç»“æŸï¼Œå¦‚æœå……è¶³ï¼Œç»§ç»­åœ¨redisä¸­åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¯ä»¥ä¸‹å•ï¼Œå¦‚æœseté›†åˆä¸­æ²¡æœ‰è¿™æ¡æ•°æ®ï¼Œè¯´æ˜ä»–å¯ä»¥ä¸‹å•ï¼Œå¦‚æœseté›†åˆä¸­æ²¡æœ‰è¿™æ¡è®°å½•ï¼Œåˆ™å°†userIdå’Œä¼˜æƒ å·å­˜å…¥åˆ°redisä¸­ï¼Œå¹¶ä¸”è¿”å›0ï¼Œæ•´ä¸ªè¿‡ç¨‹éœ€è¦ä¿è¯æ˜¯åŸå­æ€§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨luaæ¥æ“ä½œ</p><p>å½“ä»¥ä¸Šåˆ¤æ–­é€»è¾‘èµ°å®Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­å½“å‰redisä¸­è¿”å›çš„ç»“æœæ˜¯å¦æ˜¯0 ï¼Œå¦‚æœæ˜¯0ï¼Œåˆ™è¡¨ç¤ºå¯ä»¥ä¸‹å•ï¼Œåˆ™å°†ä¹‹å‰è¯´çš„ä¿¡æ¯å­˜å…¥åˆ°åˆ°queueä¸­å»ï¼Œç„¶åè¿”å›ï¼Œç„¶åå†æ¥ä¸ªçº¿ç¨‹å¼‚æ­¥çš„ä¸‹å•ï¼Œå‰ç«¯å¯ä»¥é€šè¿‡è¿”å›çš„è®¢å•idæ¥åˆ¤æ–­æ˜¯å¦ä¸‹å•æˆåŠŸã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653562234886-20240615212954-dr2z4uk.png" alt="1653562234886"></p><h3 id="6-2-ç§’æ€ä¼˜åŒ–-Rediså®Œæˆç§’æ€èµ„æ ¼åˆ¤æ–­">6.2 ç§’æ€ä¼˜åŒ–-Rediså®Œæˆç§’æ€èµ„æ ¼åˆ¤æ–­</h3><p>éœ€æ±‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ–°å¢ç§’æ€ä¼˜æƒ åˆ¸çš„åŒæ—¶ï¼Œå°†ä¼˜æƒ åˆ¸ä¿¡æ¯ä¿å­˜åˆ°Redisä¸­</p></li><li class="lvl-2"><p>åŸºäºLuaè„šæœ¬ï¼Œåˆ¤æ–­ç§’æ€åº“å­˜ã€ä¸€äººä¸€å•ï¼Œå†³å®šç”¨æˆ·æ˜¯å¦æŠ¢è´­æˆåŠŸ</p></li><li class="lvl-2"><p>å¦‚æœæŠ¢è´­æˆåŠŸï¼Œå°†ä¼˜æƒ åˆ¸idå’Œç”¨æˆ·idå°è£…åå­˜å…¥é˜»å¡é˜Ÿåˆ—</p></li><li class="lvl-2"><p>å¼€å¯çº¿ç¨‹ä»»åŠ¡ï¼Œä¸æ–­ä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–ä¿¡æ¯ï¼Œå®ç°å¼‚æ­¥ä¸‹å•åŠŸèƒ½</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1656080546603-20240615212954-2oeo7fe.png" alt="1656080546603"></p></li></ul><p>VoucherServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addSeckillVoucher</span><span class="params">(Voucher voucher)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜ä¼˜æƒ åˆ¸</span></span><br><span class="line">    save(voucher);</span><br><span class="line">    <span class="comment">// ä¿å­˜ç§’æ€ä¿¡æ¯</span></span><br><span class="line">    <span class="type">SeckillVoucher</span> <span class="variable">seckillVoucher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SeckillVoucher</span>();</span><br><span class="line">    seckillVoucher.setVoucherId(voucher.getId());</span><br><span class="line">    seckillVoucher.setStock(voucher.getStock());</span><br><span class="line">    seckillVoucher.setBeginTime(voucher.getBeginTime());</span><br><span class="line">    seckillVoucher.setEndTime(voucher.getEndTime());</span><br><span class="line">    seckillVoucherService.save(seckillVoucher);</span><br><span class="line">    <span class="comment">// ä¿å­˜ç§’æ€åº“å­˜åˆ°Redisä¸­</span></span><br><span class="line">    <span class="comment">//SECKILL_STOCK_KEY è¿™ä¸ªå˜é‡å®šä¹‰åœ¨RedisConstansä¸­</span></span><br><span class="line">    <span class="comment">//private static final String SECKILL_STOCK_KEY =&quot;seckill:stock:&quot;</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(SECKILL_STOCK_KEY + voucher.getId(), voucher.getStock().toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´luaè¡¨è¾¾å¼</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.å‚æ•°åˆ—è¡¨</span></span><br><span class="line"><span class="comment">-- 1.1.ä¼˜æƒ åˆ¸id</span></span><br><span class="line"><span class="keyword">local</span> voucherId = ARGV[<span class="number">1</span>]</span><br><span class="line"><span class="comment">-- 1.2.ç”¨æˆ·id</span></span><br><span class="line"><span class="keyword">local</span> userId = ARGV[<span class="number">2</span>]</span><br><span class="line"><span class="comment">-- 1.3.è®¢å•id</span></span><br><span class="line"><span class="keyword">local</span> orderId = ARGV[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.æ•°æ®key</span></span><br><span class="line"><span class="comment">-- 2.1.åº“å­˜key</span></span><br><span class="line"><span class="keyword">local</span> stockKey = <span class="string">&#x27;seckill:stock:&#x27;</span> .. voucherId</span><br><span class="line"><span class="comment">-- 2.2.è®¢å•key</span></span><br><span class="line"><span class="keyword">local</span> orderKey = <span class="string">&#x27;seckill:order:&#x27;</span> .. voucherId</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3.è„šæœ¬ä¸šåŠ¡</span></span><br><span class="line"><span class="comment">-- 3.1.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³ get stockKey</span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">tonumber</span>(redis.call(<span class="string">&#x27;get&#x27;</span>, stockKey)) &lt;= <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- 3.2.åº“å­˜ä¸è¶³ï¼Œè¿”å›1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 3.2.åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä¸‹å• SISMEMBER orderKey userId</span></span><br><span class="line"><span class="keyword">if</span>(redis.call(<span class="string">&#x27;sismember&#x27;</span>, orderKey, userId) == <span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- 3.3.å­˜åœ¨ï¼Œè¯´æ˜æ˜¯é‡å¤ä¸‹å•ï¼Œè¿”å›2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 3.4.æ‰£åº“å­˜ incrby stockKey -1</span></span><br><span class="line">redis.call(<span class="string">&#x27;incrby&#x27;</span>, stockKey, <span class="number">-1</span>)</span><br><span class="line"><span class="comment">-- 3.5.ä¸‹å•ï¼ˆä¿å­˜ç”¨æˆ·ï¼‰sadd orderKey userId</span></span><br><span class="line">redis.call(<span class="string">&#x27;sadd&#x27;</span>, orderKey, userId)</span><br><span class="line"><span class="comment">-- 3.6.å‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—ä¸­ï¼Œ XADD stream.orders * k1 v1 k2 v2 ...</span></span><br><span class="line">redis.call(<span class="string">&#x27;xadd&#x27;</span>, <span class="string">&#x27;stream.orders&#x27;</span>, <span class="string">&#x27;*&#x27;</span>, <span class="string">&#x27;userId&#x27;</span>, userId, <span class="string">&#x27;voucherId&#x27;</span>, voucherId, <span class="string">&#x27;id&#x27;</span>, orderId)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>å½“ä»¥ä¸Šluaè¡¨è¾¾å¼æ‰§è¡Œå®Œæ¯•åï¼Œå‰©ä¸‹çš„å°±æ˜¯æ ¹æ®æ­¥éª¤3,4æ¥æ‰§è¡Œæˆ‘ä»¬æ¥ä¸‹æ¥çš„ä»»åŠ¡äº†</p><p>VoucherOrderServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">    <span class="comment">//è·å–ç”¨æˆ·</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">    <span class="comment">// 1.æ‰§è¡Œluaè„šæœ¬</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">result</span> <span class="operator">=</span> stringRedisTemplate.execute(</span><br><span class="line">            SECKILL_SCRIPT,</span><br><span class="line">            Collections.emptyList(),</span><br><span class="line">            voucherId.toString(), userId.toString(), String.valueOf(orderId)</span><br><span class="line">    );</span><br><span class="line">    <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> result.intValue();</span><br><span class="line">    <span class="comment">// 2.åˆ¤æ–­ç»“æœæ˜¯å¦ä¸º0</span></span><br><span class="line">    <span class="keyword">if</span> (r != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 2.1.ä¸ä¸º0 ï¼Œä»£è¡¨æ²¡æœ‰è´­ä¹°èµ„æ ¼</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(r == <span class="number">1</span> ? <span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span> : <span class="string">&quot;ä¸èƒ½é‡å¤ä¸‹å•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//TODO ä¿å­˜é˜»å¡é˜Ÿåˆ—</span></span><br><span class="line">    <span class="comment">// 3.è¿”å›è®¢å•id</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-3-ç§’æ€ä¼˜åŒ–-åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°ç§’æ€ä¼˜åŒ–">6.3 ç§’æ€ä¼˜åŒ–-åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°ç§’æ€ä¼˜åŒ–</h3><p>VoucherOrderServiceImpl</p><p>ä¿®æ”¹ä¸‹å•åŠ¨ä½œï¼Œç°åœ¨æˆ‘ä»¬å»ä¸‹å•æ—¶ï¼Œæ˜¯é€šè¿‡luaè¡¨è¾¾å¼å»åŸå­æ‰§è¡Œåˆ¤æ–­é€»è¾‘ï¼Œå¦‚æœåˆ¤æ–­æˆ‘å‡ºæ¥ä¸ä¸º0 ï¼Œåˆ™è¦ä¹ˆæ˜¯åº“å­˜ä¸è¶³ï¼Œè¦ä¹ˆæ˜¯é‡å¤ä¸‹å•ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœæ˜¯0ï¼Œåˆ™æŠŠä¸‹å•çš„é€»è¾‘ä¿å­˜åˆ°é˜Ÿåˆ—ä¸­å»ï¼Œç„¶åå¼‚æ­¥æ‰§è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼‚æ­¥å¤„ç†çº¿ç¨‹æ± </span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ExecutorService</span> <span class="variable">SECKILL_ORDER_EXECUTOR</span> <span class="operator">=</span> Executors.newSingleThreadExecutor();</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨ç±»åˆå§‹åŒ–ä¹‹åæ‰§è¡Œï¼Œå› ä¸ºå½“è¿™ä¸ªç±»åˆå§‹åŒ–å¥½äº†ä¹‹åï¼Œéšæ—¶éƒ½æ˜¯æœ‰å¯èƒ½è¦æ‰§è¡Œçš„</span></span><br><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">   SECKILL_ORDER_EXECUTOR.submit(<span class="keyword">new</span> <span class="title class_">VoucherOrderHandler</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç”¨äºçº¿ç¨‹æ± å¤„ç†çš„ä»»åŠ¡</span></span><br><span class="line"><span class="comment">// å½“åˆå§‹åŒ–å®Œæ¯•åï¼Œå°±ä¼šå»ä»å¯¹åˆ—ä¸­å»æ‹¿ä¿¡æ¯</span></span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">VoucherOrderHandler</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// 1.è·å–é˜Ÿåˆ—ä¸­çš„è®¢å•ä¿¡æ¯</span></span><br><span class="line">                    <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> orderTasks.take();</span><br><span class="line">                    <span class="comment">// 2.åˆ›å»ºè®¢å•</span></span><br><span class="line">                    handleVoucherOrder(voucherOrder);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    log.error(<span class="string">&quot;å¤„ç†è®¢å•å¼‚å¸¸&quot;</span>, e);</span><br><span class="line">                &#125;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">handleVoucherOrder</span><span class="params">(VoucherOrder voucherOrder)</span> &#123;</span><br><span class="line">            <span class="comment">//1.è·å–ç”¨æˆ·</span></span><br><span class="line">            <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> voucherOrder.getUserId();</span><br><span class="line">            <span class="comment">// 2.åˆ›å»ºé”å¯¹è±¡</span></span><br><span class="line">            <span class="type">RLock</span> <span class="variable">redisLock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock:order:&quot;</span> + userId);</span><br><span class="line">            <span class="comment">// 3.å°è¯•è·å–é”</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> redisLock.lock();</span><br><span class="line">            <span class="comment">// 4.åˆ¤æ–­æ˜¯å¦è·å¾—é”æˆåŠŸ</span></span><br><span class="line">            <span class="keyword">if</span> (!isLock) &#123;</span><br><span class="line">                <span class="comment">// è·å–é”å¤±è´¥ï¼Œç›´æ¥è¿”å›å¤±è´¥æˆ–è€…é‡è¯•</span></span><br><span class="line">                log.error(<span class="string">&quot;ä¸å…è®¸é‡å¤ä¸‹å•ï¼&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šç”±äºæ˜¯springçš„äº‹åŠ¡æ˜¯æ”¾åœ¨threadLocalä¸­ï¼Œæ­¤æ—¶çš„æ˜¯å¤šçº¿ç¨‹ï¼Œäº‹åŠ¡ä¼šå¤±æ•ˆ</span></span><br><span class="line">                proxy.createVoucherOrder(voucherOrder);</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">                redisLock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="comment">//a</span></span><br><span class="line"><span class="keyword">private</span> BlockingQueue&lt;VoucherOrder&gt; orderTasks =<span class="keyword">new</span>  <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">1024</span> * <span class="number">1024</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        <span class="comment">// 1.æ‰§è¡Œluaè„šæœ¬</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">result</span> <span class="operator">=</span> stringRedisTemplate.execute(</span><br><span class="line">                SECKILL_SCRIPT,</span><br><span class="line">                Collections.emptyList(),</span><br><span class="line">                voucherId.toString(), userId.toString(), String.valueOf(orderId)</span><br><span class="line">        );</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> result.intValue();</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­ç»“æœæ˜¯å¦ä¸º0</span></span><br><span class="line">        <span class="keyword">if</span> (r != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 2.1.ä¸ä¸º0 ï¼Œä»£è¡¨æ²¡æœ‰è´­ä¹°èµ„æ ¼</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(r == <span class="number">1</span> ? <span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span> : <span class="string">&quot;ä¸èƒ½é‡å¤ä¸‹å•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">        <span class="comment">// 2.3.è®¢å•id</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        voucherOrder.setId(orderId);</span><br><span class="line">        <span class="comment">// 2.4.ç”¨æˆ·id</span></span><br><span class="line">        voucherOrder.setUserId(userId);</span><br><span class="line">        <span class="comment">// 2.5.ä»£é‡‘åˆ¸id</span></span><br><span class="line">        voucherOrder.setVoucherId(voucherId);</span><br><span class="line">        <span class="comment">// 2.6.æ”¾å…¥é˜»å¡é˜Ÿåˆ—</span></span><br><span class="line">        orderTasks.add(voucherOrder);</span><br><span class="line">        <span class="comment">//3.è·å–ä»£ç†å¯¹è±¡</span></span><br><span class="line">         proxy = (IVoucherOrderService)AopContext.currentProxy();</span><br><span class="line">        <span class="comment">//4.è¿”å›è®¢å•id</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">      <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">createVoucherOrder</span><span class="params">(VoucherOrder voucherOrder)</span> &#123;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> voucherOrder.getUserId();</span><br><span class="line">        <span class="comment">// 5.1.æŸ¥è¯¢è®¢å•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherOrder.getVoucherId()).count();</span><br><span class="line">        <span class="comment">// 5.2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†</span></span><br><span class="line">           log.error(<span class="string">&quot;ç”¨æˆ·å·²ç»è´­ä¹°è¿‡äº†&quot;</span>);</span><br><span class="line">           <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>) <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherOrder.getVoucherId()).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">// where id = ? and stock &gt; 0</span></span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">            <span class="comment">// æ‰£å‡å¤±è´¥</span></span><br><span class="line">            log.error(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        save(voucherOrder);</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>å°æ€»ç»“ï¼š</strong></p><p>ç§’æ€ä¸šåŠ¡çš„ä¼˜åŒ–æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul class="lvl-0"><li class="lvl-2"><p>å…ˆåˆ©ç”¨Rediså®Œæˆåº“å­˜ä½™é‡ã€ä¸€äººä¸€å•åˆ¤æ–­ï¼Œå®ŒæˆæŠ¢å•ä¸šåŠ¡</p></li><li class="lvl-2"><p>å†å°†ä¸‹å•ä¸šåŠ¡æ”¾å…¥é˜»å¡é˜Ÿåˆ—ï¼Œåˆ©ç”¨ç‹¬ç«‹çº¿ç¨‹å¼‚æ­¥ä¸‹å•</p></li><li class="lvl-2"><p>åŸºäºé˜»å¡é˜Ÿåˆ—çš„å¼‚æ­¥ç§’æ€å­˜åœ¨å“ªäº›é—®é¢˜ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å†…å­˜é™åˆ¶é—®é¢˜</li><li class="lvl-4">æ•°æ®å®‰å…¨é—®é¢˜</li></ul></li></ul><h2 id="7ã€Redisæ¶ˆæ¯é˜Ÿåˆ—">7ã€Redisæ¶ˆæ¯é˜Ÿåˆ—</h2><h3 id="7-1-Redisæ¶ˆæ¯é˜Ÿåˆ—-è®¤è¯†æ¶ˆæ¯é˜Ÿåˆ—">7.1 Redisæ¶ˆæ¯é˜Ÿåˆ—-è®¤è¯†æ¶ˆæ¯é˜Ÿåˆ—</h3><p>ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼šå­—é¢æ„æ€å°±æ˜¯å­˜æ”¾æ¶ˆæ¯çš„é˜Ÿåˆ—ã€‚æœ€ç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹åŒ…æ‹¬3ä¸ªè§’è‰²ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ¶ˆæ¯é˜Ÿåˆ—ï¼šå­˜å‚¨å’Œç®¡ç†æ¶ˆæ¯ï¼Œä¹Ÿè¢«ç§°ä¸ºæ¶ˆæ¯ä»£ç†ï¼ˆMessage Brokerï¼‰</p></li><li class="lvl-2"><p>ç”Ÿäº§è€…ï¼šå‘é€æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—</p></li><li class="lvl-2"><p>æ¶ˆè´¹è€…ï¼šä»æ¶ˆæ¯é˜Ÿåˆ—è·å–æ¶ˆæ¯å¹¶å¤„ç†æ¶ˆæ¯</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653574849336-20240615212954-qyfh8wf.png" alt="1653574849336"></p><p>ä½¿ç”¨é˜Ÿåˆ—çš„å¥½å¤„åœ¨äº <strong>è§£è€¦ï¼š</strong> æ‰€è°“è§£è€¦ï¼Œä¸¾ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­å°±æ˜¯ï¼šå¿«é€’å‘˜(ç”Ÿäº§è€…)æŠŠå¿«é€’æ”¾åˆ°å¿«é€’æŸœé‡Œè¾¹(Message Queue)å»ï¼Œæˆ‘ä»¬(æ¶ˆè´¹è€…)ä»å¿«é€’æŸœé‡Œè¾¹å»æ‹¿ä¸œè¥¿ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¼‚æ­¥ï¼Œå¦‚æœè€¦åˆï¼Œé‚£ä¹ˆè¿™ä¸ªå¿«é€’å‘˜ç›¸å½“äºç›´æ¥æŠŠå¿«é€’äº¤ç»™ä½ ï¼Œè¿™äº‹å›ºç„¶å¥½ï¼Œä½†æ˜¯ä¸‡ä¸€ä½ ä¸åœ¨å®¶ï¼Œé‚£ä¹ˆå¿«é€’å‘˜å°±ä¼šä¸€ç›´ç­‰ä½ ï¼Œè¿™å°±æµªè´¹äº†å¿«é€’å‘˜çš„æ—¶é—´ï¼Œæ‰€ä»¥è¿™ç§æ€æƒ³åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>è¿™ç§åœºæ™¯åœ¨æˆ‘ä»¬ç§’æ€ä¸­å°±å˜æˆäº†ï¼šæˆ‘ä»¬ä¸‹å•ä¹‹åï¼Œåˆ©ç”¨rediså»è¿›è¡Œæ ¡éªŒä¸‹å•æ¡ä»¶ï¼Œå†é€šè¿‡é˜Ÿåˆ—æŠŠæ¶ˆæ¯å‘é€å‡ºå»ï¼Œç„¶åå†å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å»æ¶ˆè´¹è¿™ä¸ªæ¶ˆæ¯ï¼Œå®Œæˆè§£è€¦ï¼ŒåŒæ—¶ä¹ŸåŠ å¿«æˆ‘ä»¬çš„å“åº”é€Ÿåº¦ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›ç°æˆçš„mqï¼Œæ¯”å¦‚kafkaï¼Œrabbitmqç­‰ç­‰ï¼Œä½†æ˜¯å‘¢ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…mqï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨redisæä¾›çš„mqæ–¹æ¡ˆï¼Œé™ä½æˆ‘ä»¬çš„éƒ¨ç½²å’Œå­¦ä¹ æˆæœ¬ã€‚</p><h3 id="7-2-Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºListå®ç°æ¶ˆæ¯é˜Ÿåˆ—">7.2 Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºListå®ç°æ¶ˆæ¯é˜Ÿåˆ—</h3><p><strong>åŸºäºListç»“æ„æ¨¡æ‹Ÿæ¶ˆæ¯é˜Ÿåˆ—</strong></p><p>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ï¼Œå­—é¢æ„æ€å°±æ˜¯å­˜æ”¾æ¶ˆæ¯çš„é˜Ÿåˆ—ã€‚è€ŒRedisçš„listæ•°æ®ç»“æ„æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå¾ˆå®¹æ˜“æ¨¡æ‹Ÿå‡ºé˜Ÿåˆ—æ•ˆæœã€‚</p><p>é˜Ÿåˆ—æ˜¯å…¥å£å’Œå‡ºå£ä¸åœ¨ä¸€è¾¹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ï¼šLPUSH ç»“åˆ RPOPã€æˆ–è€… RPUSH ç»“åˆ LPOPæ¥å®ç°ã€‚ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå½“é˜Ÿåˆ—ä¸­æ²¡æœ‰æ¶ˆæ¯æ—¶RPOPæˆ–LPOPæ“ä½œä¼šè¿”å›nullï¼Œå¹¶ä¸åƒJVMçš„é˜»å¡é˜Ÿåˆ—é‚£æ ·ä¼šé˜»å¡å¹¶ç­‰å¾…æ¶ˆæ¯ã€‚å› æ­¤è¿™é‡Œåº”è¯¥ä½¿ç”¨BRPOPæˆ–è€…BLPOPæ¥å®ç°é˜»å¡æ•ˆæœã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653575176451-20240615212954-vni2cyu.png" alt="1653575176451"></p><p>åŸºäºListçš„æ¶ˆæ¯é˜Ÿåˆ—æœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿä¼˜ç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ©ç”¨Rediså­˜å‚¨ï¼Œä¸å—é™äºJVMå†…å­˜ä¸Šé™</p></li><li class="lvl-2"><p>åŸºäºRedisçš„æŒä¹…åŒ–æœºåˆ¶ï¼Œæ•°æ®å®‰å…¨æ€§æœ‰ä¿è¯</p></li><li class="lvl-2"><p>å¯ä»¥æ»¡è¶³æ¶ˆæ¯æœ‰åºæ€§</p></li></ul><p>ç¼ºç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ— æ³•é¿å…æ¶ˆæ¯ä¸¢å¤±</p></li><li class="lvl-2"><p>åªæ”¯æŒå•æ¶ˆè´¹è€…</p></li></ul><h3 id="7-3-Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºPubSubçš„æ¶ˆæ¯é˜Ÿåˆ—">7.3 Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºPubSubçš„æ¶ˆæ¯é˜Ÿåˆ—</h3><p>PubSubï¼ˆå‘å¸ƒè®¢é˜…ï¼‰æ˜¯Redis2.0ç‰ˆæœ¬å¼•å…¥çš„æ¶ˆæ¯ä¼ é€’æ¨¡å‹ã€‚é¡¾åæ€ä¹‰ï¼Œæ¶ˆè´¹è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªchannelï¼Œç”Ÿäº§è€…å‘å¯¹åº”channelå‘é€æ¶ˆæ¯åï¼Œæ‰€æœ‰è®¢é˜…è€…éƒ½èƒ½æ”¶åˆ°ç›¸å…³æ¶ˆæ¯ã€‚</p><p>SUBSCRIBE channel [channel] ï¼šè®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“<br>PUBLISH channel msg ï¼šå‘ä¸€ä¸ªé¢‘é“å‘é€æ¶ˆæ¯<br>PSUBSCRIBE pattern[pattern] ï¼šè®¢é˜…ä¸patternæ ¼å¼åŒ¹é…çš„æ‰€æœ‰é¢‘é“</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653575506373-20240615212954-bt3q3uw.png" alt="1653575506373"></p><p>åŸºäºPubSubçš„æ¶ˆæ¯é˜Ÿåˆ—æœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿä¼˜ç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>é‡‡ç”¨å‘å¸ƒè®¢é˜…æ¨¡å‹ï¼Œæ”¯æŒå¤šç”Ÿäº§ã€å¤šæ¶ˆè´¹</p></li></ul><p>ç¼ºç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ä¸æ”¯æŒæ•°æ®æŒä¹…åŒ–</p></li><li class="lvl-2"><p>æ— æ³•é¿å…æ¶ˆæ¯ä¸¢å¤±</p></li><li class="lvl-2"><p>æ¶ˆæ¯å †ç§¯æœ‰ä¸Šé™ï¼Œè¶…å‡ºæ—¶æ•°æ®ä¸¢å¤±</p></li></ul><h3 id="7-4-Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºStreamçš„æ¶ˆæ¯é˜Ÿåˆ—">7.4 Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºStreamçš„æ¶ˆæ¯é˜Ÿåˆ—</h3><p>Stream æ˜¯ Redis 5.0 å¼•å…¥çš„ä¸€ç§æ–°æ•°æ®ç±»å‹ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªåŠŸèƒ½éå¸¸å®Œå–„çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p><p>å‘é€æ¶ˆæ¯çš„å‘½ä»¤ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577301737-20240615212954-e1al7qy.png" alt="1653577301737"></p><p>ä¾‹å¦‚ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577349691-20240615212954-90t1zdp.png" alt="1653577349691"></p><p>è¯»å–æ¶ˆæ¯çš„æ–¹å¼ä¹‹ä¸€ï¼šXREAD</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577445413-20240615212954-uopvzfu.png" alt="1653577445413"></p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨XREADè¯»å–ç¬¬ä¸€ä¸ªæ¶ˆæ¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577643629-20240615212954-e5w2995.png" alt="1653577643629"></p><p>XREADé˜»å¡æ–¹å¼ï¼Œè¯»å–æœ€æ–°çš„æ¶ˆæ¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577659166-20240615212954-9edgx0r.png" alt="1653577659166"></p><p>åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ªç¯çš„è°ƒç”¨XREADé˜»å¡æ–¹å¼æ¥æŸ¥è¯¢æœ€æ–°æ¶ˆæ¯ï¼Œä»è€Œå®ç°æŒç»­ç›‘å¬é˜Ÿåˆ—çš„æ•ˆæœï¼Œä¼ªä»£ç å¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577689129-20240615212954-wki9b5p.png" alt="1653577689129"></p><p>æ³¨æ„ï¼šå½“æˆ‘ä»¬æŒ‡å®šèµ·å§‹IDä¸º$æ—¶ï¼Œä»£è¡¨è¯»å–æœ€æ–°çš„æ¶ˆæ¯ï¼Œå¦‚æœæˆ‘ä»¬å¤„ç†ä¸€æ¡æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­ï¼Œåˆæœ‰è¶…è¿‡1æ¡ä»¥ä¸Šçš„æ¶ˆæ¯åˆ°è¾¾é˜Ÿåˆ—ï¼Œåˆ™ä¸‹æ¬¡è·å–æ—¶ä¹Ÿåªèƒ½è·å–åˆ°æœ€æ–°çš„ä¸€æ¡ï¼Œä¼šå‡ºç°æ¼è¯»æ¶ˆæ¯çš„é—®é¢˜</p><p>STREAMç±»å‹æ¶ˆæ¯é˜Ÿåˆ—çš„XREADå‘½ä»¤ç‰¹ç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ¶ˆæ¯å¯å›æº¯</p></li><li class="lvl-2"><p>ä¸€ä¸ªæ¶ˆæ¯å¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…è¯»å–</p></li><li class="lvl-2"><p>å¯ä»¥é˜»å¡è¯»å–</p></li><li class="lvl-2"><p>æœ‰æ¶ˆæ¯æ¼è¯»çš„é£é™©</p></li></ul><h3 id="7-5-Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºStreamçš„æ¶ˆæ¯é˜Ÿåˆ—-æ¶ˆè´¹è€…ç»„">7.5 Redisæ¶ˆæ¯é˜Ÿåˆ—-åŸºäºStreamçš„æ¶ˆæ¯é˜Ÿåˆ—-æ¶ˆè´¹è€…ç»„</h3><p>æ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰ï¼šå°†å¤šä¸ªæ¶ˆè´¹è€…åˆ’åˆ†åˆ°ä¸€ä¸ªç»„ä¸­ï¼Œç›‘å¬åŒä¸€ä¸ªé˜Ÿåˆ—ã€‚å…·å¤‡ä¸‹åˆ—ç‰¹ç‚¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577801668-20240615212954-32lkfih.png" alt="1653577801668"></p><p>åˆ›å»ºæ¶ˆè´¹è€…ç»„ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653577984924-20240615212954-0vckvne.png" alt="1653577984924"><br>keyï¼šé˜Ÿåˆ—åç§°<br>groupNameï¼šæ¶ˆè´¹è€…ç»„åç§°<br>IDï¼šèµ·å§‹IDæ ‡ç¤ºï¼Œ$ä»£è¡¨é˜Ÿåˆ—ä¸­æœ€åä¸€ä¸ªæ¶ˆæ¯ï¼Œ0åˆ™ä»£è¡¨é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæ¶ˆæ¯<br>MKSTREAMï¼šé˜Ÿåˆ—ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºé˜Ÿåˆ—å…¶å®ƒå¸¸è§å‘½ä»¤ï¼š</p><p><strong>åˆ é™¤æŒ‡å®šçš„æ¶ˆè´¹è€…ç»„</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XGROUP DESTORY key groupName</span><br></pre></td></tr></table></figure><p><strong>ç»™æŒ‡å®šçš„æ¶ˆè´¹è€…ç»„æ·»åŠ æ¶ˆè´¹è€…</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XGROUP CREATECONSUMER key groupname consumername</span><br></pre></td></tr></table></figure><p><strong>åˆ é™¤æ¶ˆè´¹è€…ç»„ä¸­çš„æŒ‡å®šæ¶ˆè´¹è€…</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XGROUP DELCONSUMER key groupname consumername</span><br></pre></td></tr></table></figure><p>ä»æ¶ˆè´¹è€…ç»„è¯»å–æ¶ˆæ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XREADGROUP GROUP group consumer [COUNT count] [BLOCK milliseconds] [NOACK] STREAMS key [key ...] ID [ID ...]</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>groupï¼šæ¶ˆè´¹ç»„åç§°</p></li><li class="lvl-2"><p>consumerï¼šæ¶ˆè´¹è€…åç§°ï¼Œå¦‚æœæ¶ˆè´¹è€…ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…</p></li><li class="lvl-2"><p>countï¼šæœ¬æ¬¡æŸ¥è¯¢çš„æœ€å¤§æ•°é‡</p></li><li class="lvl-2"><p>BLOCK millisecondsï¼šå½“æ²¡æœ‰æ¶ˆæ¯æ—¶æœ€é•¿ç­‰å¾…æ—¶é—´</p></li><li class="lvl-2"><p>NOACKï¼šæ— éœ€æ‰‹åŠ¨ACKï¼Œè·å–åˆ°æ¶ˆæ¯åè‡ªåŠ¨ç¡®è®¤</p></li><li class="lvl-2"><p>STREAMS keyï¼šæŒ‡å®šé˜Ÿåˆ—åç§°</p></li><li class="lvl-2"><p>IDï¼šè·å–æ¶ˆæ¯çš„èµ·å§‹IDï¼š</p></li></ul><p>â€œ&gt;â€ï¼šä»ä¸‹ä¸€ä¸ªæœªæ¶ˆè´¹çš„æ¶ˆæ¯å¼€å§‹å…¶å®ƒï¼šæ ¹æ®æŒ‡å®šidä»pending-listä¸­è·å–å·²æ¶ˆè´¹ä½†æœªç¡®è®¤çš„æ¶ˆæ¯ï¼Œä¾‹å¦‚0ï¼Œæ˜¯ä»pending-listä¸­çš„ç¬¬ä¸€ä¸ªæ¶ˆæ¯å¼€å§‹</p><p>æ¶ˆè´¹è€…ç›‘å¬æ¶ˆæ¯çš„åŸºæœ¬æ€è·¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653578211854-20240615212954-mk0w3bd.png" alt="1653578211854">STREAMç±»å‹æ¶ˆæ¯é˜Ÿåˆ—çš„XREADGROUPå‘½ä»¤ç‰¹ç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ¶ˆæ¯å¯å›æº¯</p></li><li class="lvl-2"><p>å¯ä»¥å¤šæ¶ˆè´¹è€…äº‰æŠ¢æ¶ˆæ¯ï¼ŒåŠ å¿«æ¶ˆè´¹é€Ÿåº¦</p></li><li class="lvl-2"><p>å¯ä»¥é˜»å¡è¯»å–</p></li><li class="lvl-2"><p>æ²¡æœ‰æ¶ˆæ¯æ¼è¯»çš„é£é™©</p></li><li class="lvl-2"><p>æœ‰æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼Œä¿è¯æ¶ˆæ¯è‡³å°‘è¢«æ¶ˆè´¹ä¸€æ¬¡</p></li></ul><p>æœ€åæˆ‘ä»¬æ¥ä¸ªå°å¯¹æ¯”</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653578560691-20240615212954-39zmqqa.png" alt="1653578560691"></p><h3 id="7-6-åŸºäºRedisçš„Streamç»“æ„ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ç°å¼‚æ­¥ç§’æ€ä¸‹å•">7.6 åŸºäºRedisçš„Streamç»“æ„ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ç°å¼‚æ­¥ç§’æ€ä¸‹å•</h3><p>éœ€æ±‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ›å»ºä¸€ä¸ªStreamç±»å‹çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåä¸ºstream.orders</p></li><li class="lvl-2"><p>ä¿®æ”¹ä¹‹å‰çš„ç§’æ€ä¸‹å•Luaè„šæœ¬ï¼Œåœ¨è®¤å®šæœ‰æŠ¢è´­èµ„æ ¼åï¼Œç›´æ¥å‘stream.ordersä¸­æ·»åŠ æ¶ˆæ¯ï¼Œå†…å®¹åŒ…å«voucherIdã€userIdã€orderId</p></li><li class="lvl-2"><p>é¡¹ç›®å¯åŠ¨æ—¶ï¼Œå¼€å¯ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼Œå°è¯•è·å–stream.ordersä¸­çš„æ¶ˆæ¯ï¼Œå®Œæˆä¸‹å•\</p></li></ul><p>ä¿®æ”¹luaè¡¨è¾¾å¼,æ–°å¢3.6</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1656082824939-20240615212954-6pjcyt0.png" alt="1656082824939"></p><p>VoucherOrderServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">VoucherOrderHandler</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 1.è·å–æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„è®¢å•ä¿¡æ¯ XREADGROUP GROUP g1 c1 COUNT 1 BLOCK 2000 STREAMS s1 &gt;</span></span><br><span class="line">                List&lt;MapRecord&lt;String, Object, Object&gt;&gt; list = stringRedisTemplate.opsForStream().read(</span><br><span class="line">                    Consumer.from(<span class="string">&quot;g1&quot;</span>, <span class="string">&quot;c1&quot;</span>),</span><br><span class="line">                    StreamReadOptions.empty().count(<span class="number">1</span>).block(Duration.ofSeconds(<span class="number">2</span>)),</span><br><span class="line">                    StreamOffset.create(<span class="string">&quot;stream.orders&quot;</span>, ReadOffset.lastConsumed())</span><br><span class="line">                );</span><br><span class="line">                <span class="comment">// 2.åˆ¤æ–­è®¢å•ä¿¡æ¯æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">                <span class="keyword">if</span> (list == <span class="literal">null</span> || list.isEmpty()) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸ºnullï¼Œè¯´æ˜æ²¡æœ‰æ¶ˆæ¯ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// è§£ææ•°æ®</span></span><br><span class="line">                MapRecord&lt;String, Object, Object&gt; record = list.get(<span class="number">0</span>);</span><br><span class="line">                Map&lt;Object, Object&gt; value = record.getValue();</span><br><span class="line">                <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> BeanUtil.fillBeanWithMap(value, <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>(), <span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// 3.åˆ›å»ºè®¢å•</span></span><br><span class="line">                createVoucherOrder(voucherOrder);</span><br><span class="line">                <span class="comment">// 4.ç¡®è®¤æ¶ˆæ¯ XACK</span></span><br><span class="line">                stringRedisTemplate.opsForStream().acknowledge(<span class="string">&quot;s1&quot;</span>, <span class="string">&quot;g1&quot;</span>, record.getId());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;å¤„ç†è®¢å•å¼‚å¸¸&quot;</span>, e);</span><br><span class="line">                <span class="comment">//å¤„ç†å¼‚å¸¸æ¶ˆæ¯</span></span><br><span class="line">                handlePendingList();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">handlePendingList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 1.è·å–pending-listä¸­çš„è®¢å•ä¿¡æ¯ XREADGROUP GROUP g1 c1 COUNT 1 BLOCK 2000 STREAMS s1 0</span></span><br><span class="line">                List&lt;MapRecord&lt;String, Object, Object&gt;&gt; list = stringRedisTemplate.opsForStream().read(</span><br><span class="line">                    Consumer.from(<span class="string">&quot;g1&quot;</span>, <span class="string">&quot;c1&quot;</span>),</span><br><span class="line">                    StreamReadOptions.empty().count(<span class="number">1</span>),</span><br><span class="line">                    StreamOffset.create(<span class="string">&quot;stream.orders&quot;</span>, ReadOffset.from(<span class="string">&quot;0&quot;</span>))</span><br><span class="line">                );</span><br><span class="line">                <span class="comment">// 2.åˆ¤æ–­è®¢å•ä¿¡æ¯æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">                <span class="keyword">if</span> (list == <span class="literal">null</span> || list.isEmpty()) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸ºnullï¼Œè¯´æ˜æ²¡æœ‰å¼‚å¸¸æ¶ˆæ¯ï¼Œç»“æŸå¾ªç¯</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// è§£ææ•°æ®</span></span><br><span class="line">                MapRecord&lt;String, Object, Object&gt; record = list.get(<span class="number">0</span>);</span><br><span class="line">                Map&lt;Object, Object&gt; value = record.getValue();</span><br><span class="line">                <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> BeanUtil.fillBeanWithMap(value, <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>(), <span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// 3.åˆ›å»ºè®¢å•</span></span><br><span class="line">                createVoucherOrder(voucherOrder);</span><br><span class="line">                <span class="comment">// 4.ç¡®è®¤æ¶ˆæ¯ XACK</span></span><br><span class="line">                stringRedisTemplate.opsForStream().acknowledge(<span class="string">&quot;s1&quot;</span>, <span class="string">&quot;g1&quot;</span>, record.getId());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;å¤„ç†penddingè®¢å•å¼‚å¸¸&quot;</span>, e);</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    Thread.sleep(<span class="number">20</span>);</span><br><span class="line">                &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="8ã€è¾¾äººæ¢åº—">8ã€è¾¾äººæ¢åº—</h2><h3 id="8-1ã€è¾¾äººæ¢åº—-å‘å¸ƒæ¢åº—ç¬”è®°">8.1ã€è¾¾äººæ¢åº—-å‘å¸ƒæ¢åº—ç¬”è®°</h3><p>å‘å¸ƒæ¢åº—ç¬”è®°</p><p>æ¢åº—ç¬”è®°ç±»ä¼¼ç‚¹è¯„ç½‘ç«™çš„è¯„ä»·ï¼Œå¾€å¾€æ˜¯å›¾æ–‡ç»“åˆã€‚å¯¹åº”çš„è¡¨æœ‰ä¸¤ä¸ªï¼š<br>tb_blogï¼šæ¢åº—ç¬”è®°è¡¨ï¼ŒåŒ…å«ç¬”è®°ä¸­çš„æ ‡é¢˜ã€æ–‡å­—ã€å›¾ç‰‡ç­‰<br>tb_blog_commentsï¼šå…¶ä»–ç”¨æˆ·å¯¹æ¢åº—ç¬”è®°çš„è¯„ä»·</p><p><strong>å…·ä½“å‘å¸ƒæµç¨‹</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653578992639-20240615212954-3m6mcgb.png" alt="1653578992639"></p><p>ä¸Šä¼ æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;upload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;blog&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">uploadImage</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> MultipartFile image)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// è·å–åŸå§‹æ–‡ä»¶åç§°</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> image.getOriginalFilename();</span><br><span class="line">            <span class="comment">// ç”Ÿæˆæ–°æ–‡ä»¶å</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> createNewFileName(originalFilename);</span><br><span class="line">            <span class="comment">// ä¿å­˜æ–‡ä»¶</span></span><br><span class="line">            image.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(SystemConstants.IMAGE_UPLOAD_DIR, fileName));</span><br><span class="line">            <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">            log.debug(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œ&#123;&#125;&quot;</span>, fileName);</span><br><span class="line">            <span class="keyword">return</span> Result.ok(fileName);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåŒå­¦ä»¬åœ¨æ“ä½œæ—¶ï¼Œéœ€è¦ä¿®æ”¹SystemConstants.IMAGE_UPLOAD_DIR è‡ªå·±å›¾ç‰‡æ‰€åœ¨çš„åœ°å€ï¼Œåœ¨å®é™…å¼€å‘ä¸­å›¾ç‰‡ä¸€èˆ¬ä¼šæ”¾åœ¨nginxä¸Šæˆ–è€…æ˜¯äº‘å­˜å‚¨ä¸Šã€‚</p><p>BlogController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/blog&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BlogController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> IBlogService blogService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">saveBlog</span><span class="params">(<span class="meta">@RequestBody</span> Blog blog)</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">        <span class="type">UserDTO</span> <span class="variable">user</span> <span class="operator">=</span> UserHolder.getUser();</span><br><span class="line">        blog.setUpdateTime(user.getId());</span><br><span class="line">        <span class="comment">//ä¿å­˜æ¢åº—åšæ–‡</span></span><br><span class="line">        blogService.saveBlog(blog);</span><br><span class="line">        <span class="comment">//è¿”å›id</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(blog.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-2-è¾¾äººæ¢åº—-æŸ¥çœ‹æ¢åº—ç¬”è®°">8.2 è¾¾äººæ¢åº—-æŸ¥çœ‹æ¢åº—ç¬”è®°</h3><p>å®ç°æŸ¥çœ‹å‘å¸ƒæ¢åº—ç¬”è®°çš„æ¥å£</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653579931626-20240615212954-07sqyag.png" alt="1653579931626"></p><p>å®ç°ä»£ç ï¼š</p><p>BlogServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æŸ¥è¯¢blog</span></span><br><span class="line">    <span class="type">Blog</span> <span class="variable">blog</span> <span class="operator">=</span> getById(id);</span><br><span class="line">    <span class="keyword">if</span> (blog == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç¬”è®°ä¸å­˜åœ¨ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2.æŸ¥è¯¢blogæœ‰å…³çš„ç”¨æˆ·</span></span><br><span class="line">    queryBlogUser(blog);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> Result.ok(blog);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-3-è¾¾äººæ¢åº—-ç‚¹èµåŠŸèƒ½">8.3 è¾¾äººæ¢åº—-ç‚¹èµåŠŸèƒ½</h3><p>åˆå§‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/likes/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogLikes</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¿®æ”¹ç‚¹èµæ•°é‡</span></span><br><span class="line">    blogService.update().setSql(<span class="string">&quot;liked = liked +1 &quot;</span>).eq(<span class="string">&quot;id&quot;</span>,id).update();</span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—®é¢˜åˆ†æï¼šè¿™ç§æ–¹å¼ä¼šå¯¼è‡´ä¸€ä¸ªç”¨æˆ·æ— é™ç‚¹èµï¼Œæ˜æ˜¾æ˜¯ä¸åˆç†çš„</p><p>é€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨çš„é€»è¾‘ï¼Œå‘èµ·è¯·æ±‚åªæ˜¯ç»™æ•°æ®åº“+1ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653581590453-20240615212954-ga5rems.png" alt="1653581590453"></p><p>å®Œå–„ç‚¹èµåŠŸèƒ½</p><p>éœ€æ±‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åŒä¸€ä¸ªç”¨æˆ·åªèƒ½ç‚¹èµä¸€æ¬¡ï¼Œå†æ¬¡ç‚¹å‡»åˆ™å–æ¶ˆç‚¹èµ</p></li><li class="lvl-2"><p>å¦‚æœå½“å‰ç”¨æˆ·å·²ç»ç‚¹èµï¼Œåˆ™ç‚¹èµæŒ‰é’®é«˜äº®æ˜¾ç¤ºï¼ˆå‰ç«¯å·²å®ç°ï¼Œåˆ¤æ–­å­—æ®µBlogç±»çš„isLikeå±æ€§ï¼‰</p></li></ul><p>å®ç°æ­¥éª¤ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ç»™Blogç±»ä¸­æ·»åŠ ä¸€ä¸ªisLikeå­—æ®µï¼Œæ ‡ç¤ºæ˜¯å¦è¢«å½“å‰ç”¨æˆ·ç‚¹èµ</p></li><li class="lvl-2"><p>ä¿®æ”¹ç‚¹èµåŠŸèƒ½ï¼Œåˆ©ç”¨Redisçš„seté›†åˆåˆ¤æ–­æ˜¯å¦ç‚¹èµè¿‡ï¼Œæœªç‚¹èµè¿‡åˆ™ç‚¹èµæ•°+1ï¼Œå·²ç‚¹èµè¿‡åˆ™ç‚¹èµæ•°-1</p></li><li class="lvl-2"><p>ä¿®æ”¹æ ¹æ®idæŸ¥è¯¢Blogçš„ä¸šåŠ¡ï¼Œåˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦ç‚¹èµè¿‡ï¼Œèµ‹å€¼ç»™isLikeå­—æ®µ</p></li><li class="lvl-2"><p>ä¿®æ”¹åˆ†é¡µæŸ¥è¯¢Blogä¸šåŠ¡ï¼Œåˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦ç‚¹èµè¿‡ï¼Œèµ‹å€¼ç»™isLikeå­—æ®µ</p></li></ul><p>ä¸ºä»€ä¹ˆé‡‡ç”¨seté›†åˆï¼š</p><p>å› ä¸ºæˆ‘ä»¬çš„æ•°æ®æ˜¯ä¸èƒ½é‡å¤çš„ï¼Œå½“ç”¨æˆ·æ“ä½œè¿‡ä¹‹åï¼Œæ— è®ºä»–æ€ä¹ˆæ“ä½œï¼Œéƒ½æ˜¯</p><p>å…·ä½“æ­¥éª¤ï¼š</p><p>1ã€åœ¨Blog æ·»åŠ ä¸€ä¸ªå­—æ®µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(exist = false)</span></span><br><span class="line"><span class="keyword">private</span> Boolean isLike;</span><br></pre></td></tr></table></figure><p>2ã€ä¿®æ”¹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> Result <span class="title function_">likeBlog</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">       <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">       <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">       <span class="comment">// 2.åˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦å·²ç»ç‚¹èµ</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> BLOG_LIKED_KEY + id;</span><br><span class="line">       <span class="type">Boolean</span> <span class="variable">isMember</span> <span class="operator">=</span> stringRedisTemplate.opsForSet().isMember(key, userId.toString());</span><br><span class="line">       <span class="keyword">if</span>(BooleanUtil.isFalse(isMember))&#123;</span><br><span class="line">            <span class="comment">//3.å¦‚æœæœªç‚¹èµï¼Œå¯ä»¥ç‚¹èµ</span></span><br><span class="line">           <span class="comment">//3.1 æ•°æ®åº“ç‚¹èµæ•°+1</span></span><br><span class="line">           <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> update().setSql(<span class="string">&quot;liked = liked + 1&quot;</span>).eq(<span class="string">&quot;id&quot;</span>, id).update();</span><br><span class="line">           <span class="comment">//3.2 ä¿å­˜ç”¨æˆ·åˆ°Redisçš„seté›†åˆ</span></span><br><span class="line">           <span class="keyword">if</span>(isSuccess)&#123;</span><br><span class="line">               stringRedisTemplate.opsForSet().add(key,userId.toString());</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//4.å¦‚æœå·²ç‚¹èµï¼Œå–æ¶ˆç‚¹èµ</span></span><br><span class="line">           <span class="comment">//4.1 æ•°æ®åº“ç‚¹èµæ•°-1</span></span><br><span class="line">           <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> update().setSql(<span class="string">&quot;liked = liked - 1&quot;</span>).eq(<span class="string">&quot;id&quot;</span>, id).update();</span><br><span class="line">           <span class="comment">//4.2 æŠŠç”¨æˆ·ä»Redisçš„seté›†åˆç§»é™¤</span></span><br><span class="line">           <span class="keyword">if</span>(isSuccess)&#123;</span><br><span class="line">               stringRedisTemplate.opsForSet().remove(key,userId.toString());</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="8-4-è¾¾äººæ¢åº—-ç‚¹èµæ’è¡Œæ¦œ">8.4 è¾¾äººæ¢åº—-ç‚¹èµæ’è¡Œæ¦œ</h3><p>åœ¨æ¢åº—ç¬”è®°çš„è¯¦æƒ…é¡µé¢ï¼Œåº”è¯¥æŠŠç»™è¯¥ç¬”è®°ç‚¹èµçš„äººæ˜¾ç¤ºå‡ºæ¥ï¼Œæ¯”å¦‚æœ€æ—©ç‚¹èµçš„TOP5ï¼Œå½¢æˆç‚¹èµæ’è¡Œæ¦œï¼š</p><p>ä¹‹å‰çš„ç‚¹èµæ˜¯æ”¾åˆ°seté›†åˆï¼Œä½†æ˜¯seté›†åˆæ˜¯ä¸èƒ½æ’åºçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œå’±ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªå¯ä»¥æ’åºçš„seté›†åˆï¼Œå°±æ˜¯å’±ä»¬çš„sortedSet</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653805077118-20240615212954-227x03w.png" alt="1653805077118"></p><p>æˆ‘ä»¬æ¥ä¸‹æ¥æ¥å¯¹æ¯”ä¸€ä¸‹è¿™äº›é›†åˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</p><p>æ‰€æœ‰ç‚¹èµçš„äººï¼Œéœ€è¦æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”å½“ä½¿ç”¨setæˆ–è€…æ˜¯sortedSet</p><p>å…¶æ¬¡æˆ‘ä»¬éœ€è¦æ’åºï¼Œå°±å¯ä»¥ç›´æ¥é”å®šä½¿ç”¨sortedSetå•¦</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653805203758-20240615212954-xo1j8j5.png" alt="1653805203758"></p><p>ä¿®æ”¹ä»£ç </p><p>BlogServiceImpl</p><p>ç‚¹èµé€»è¾‘ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> Result <span class="title function_">likeBlog</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">     <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">     <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">     <span class="comment">// 2.åˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦å·²ç»ç‚¹èµ</span></span><br><span class="line">     <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> BLOG_LIKED_KEY + id;</span><br><span class="line">     <span class="type">Double</span> <span class="variable">score</span> <span class="operator">=</span> stringRedisTemplate.opsForZSet().score(key, userId.toString());</span><br><span class="line">     <span class="keyword">if</span> (score == <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="comment">// 3.å¦‚æœæœªç‚¹èµï¼Œå¯ä»¥ç‚¹èµ</span></span><br><span class="line">         <span class="comment">// 3.1.æ•°æ®åº“ç‚¹èµæ•° + 1</span></span><br><span class="line">         <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> update().setSql(<span class="string">&quot;liked = liked + 1&quot;</span>).eq(<span class="string">&quot;id&quot;</span>, id).update();</span><br><span class="line">         <span class="comment">// 3.2.ä¿å­˜ç”¨æˆ·åˆ°Redisçš„seté›†åˆ  zadd key value score</span></span><br><span class="line">         <span class="keyword">if</span> (isSuccess) &#123;</span><br><span class="line">             stringRedisTemplate.opsForZSet().add(key, userId.toString(), System.currentTimeMillis());</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="comment">// 4.å¦‚æœå·²ç‚¹èµï¼Œå–æ¶ˆç‚¹èµ</span></span><br><span class="line">         <span class="comment">// 4.1.æ•°æ®åº“ç‚¹èµæ•° -1</span></span><br><span class="line">         <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> update().setSql(<span class="string">&quot;liked = liked - 1&quot;</span>).eq(<span class="string">&quot;id&quot;</span>, id).update();</span><br><span class="line">         <span class="comment">// 4.2.æŠŠç”¨æˆ·ä»Redisçš„seté›†åˆç§»é™¤</span></span><br><span class="line">         <span class="keyword">if</span> (isSuccess) &#123;</span><br><span class="line">             stringRedisTemplate.opsForZSet().remove(key, userId.toString());</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> Result.ok();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">isBlogLiked</span><span class="params">(Blog blog)</span> &#123;</span><br><span class="line">     <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">     <span class="type">UserDTO</span> <span class="variable">user</span> <span class="operator">=</span> UserHolder.getUser();</span><br><span class="line">     <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="comment">// ç”¨æˆ·æœªç™»å½•ï¼Œæ— éœ€æŸ¥è¯¢æ˜¯å¦ç‚¹èµ</span></span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> user.getId();</span><br><span class="line">     <span class="comment">// 2.åˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦å·²ç»ç‚¹èµ</span></span><br><span class="line">     <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;blog:liked:&quot;</span> + blog.getId();</span><br><span class="line">     <span class="type">Double</span> <span class="variable">score</span> <span class="operator">=</span> stringRedisTemplate.opsForZSet().score(key, userId.toString());</span><br><span class="line">     blog.setIsLike(score != <span class="literal">null</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>ç‚¹èµåˆ—è¡¨æŸ¥è¯¢åˆ—è¡¨</p><p>BlogController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/likes/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogLikes</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> blogService.queryBlogLikes(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BlogService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogLikes</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> BLOG_LIKED_KEY + id;</span><br><span class="line">    <span class="comment">// 1.æŸ¥è¯¢top5çš„ç‚¹èµç”¨æˆ· zrange key 0 4</span></span><br><span class="line">    Set&lt;String&gt; top5 = stringRedisTemplate.opsForZSet().range(key, <span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">if</span> (top5 == <span class="literal">null</span> || top5.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.ok(Collections.emptyList());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2.è§£æå‡ºå…¶ä¸­çš„ç”¨æˆ·id</span></span><br><span class="line">    List&lt;Long&gt; ids = top5.stream().map(Long::valueOf).collect(Collectors.toList());</span><br><span class="line">    <span class="type">String</span> <span class="variable">idStr</span> <span class="operator">=</span> StrUtil.join(<span class="string">&quot;,&quot;</span>, ids);</span><br><span class="line">    <span class="comment">// 3.æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ· WHERE id IN ( 5 , 1 ) ORDER BY FIELD(id, 5, 1)</span></span><br><span class="line">    List&lt;UserDTO&gt; userDTOS = userService.query()</span><br><span class="line">            .in(<span class="string">&quot;id&quot;</span>, ids).last(<span class="string">&quot;ORDER BY FIELD(id,&quot;</span> + idStr + <span class="string">&quot;)&quot;</span>).list()</span><br><span class="line">            .stream()</span><br><span class="line">            .map(user -&gt; BeanUtil.copyProperties(user, UserDTO.class))</span><br><span class="line">            .collect(Collectors.toList());</span><br><span class="line">    <span class="comment">// 4.è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(userDTOS);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9ã€å¥½å‹å…³æ³¨">9ã€å¥½å‹å…³æ³¨</h2><h3 id="9-1-å¥½å‹å…³æ³¨-å…³æ³¨å’Œå–æ¶ˆå…³æ³¨">9.1 å¥½å‹å…³æ³¨-å…³æ³¨å’Œå–æ¶ˆå…³æ³¨</h3><p>é’ˆå¯¹ç”¨æˆ·çš„æ“ä½œï¼šå¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œå…³æ³¨å’Œå–æ¶ˆå…³æ³¨åŠŸèƒ½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653806140822-20240615212954-ln9792v.png" alt="1653806140822"></p><p>å®ç°æ€è·¯ï¼š</p><p>éœ€æ±‚ï¼šåŸºäºè¯¥è¡¨æ•°æ®ç»“æ„ï¼Œå®ç°ä¸¤ä¸ªæ¥å£ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>å…³æ³¨å’Œå–å…³æ¥å£</p></li><li class="lvl-2"><p>åˆ¤æ–­æ˜¯å¦å…³æ³¨çš„æ¥å£</p></li></ul><p>å…³æ³¨æ˜¯Userä¹‹é—´çš„å…³ç³»ï¼Œæ˜¯åšä¸»ä¸ç²‰ä¸çš„å…³ç³»ï¼Œæ•°æ®åº“ä¸­æœ‰ä¸€å¼ tb_followè¡¨æ¥æ ‡ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653806253817-20240615212954-nyef8rq.png" alt="1653806253817"></p><p>æ³¨æ„: è¿™é‡Œéœ€è¦æŠŠä¸»é”®ä¿®æ”¹ä¸ºè‡ªå¢é•¿ï¼Œç®€åŒ–å¼€å‘ã€‚</p><p>FollowController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…³æ³¨</span></span><br><span class="line"><span class="meta">@PutMapping(&quot;/&#123;id&#125;/&#123;isFollow&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">follow</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long followUserId, <span class="meta">@PathVariable(&quot;isFollow&quot;)</span> Boolean isFollow)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> followService.follow(followUserId, isFollow);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å–æ¶ˆå…³æ³¨</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/or/not/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">isFollow</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long followUserId)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> followService.isFollow(followUserId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>FollowService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">å–æ¶ˆå…³æ³¨service</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">isFollow</span><span class="params">(Long followUserId)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        <span class="comment">// 2.æŸ¥è¯¢æ˜¯å¦å…³æ³¨ select count(*) from tb_follow where user_id = ? and follow_user_id = ?</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;follow_user_id&quot;</span>, followUserId).count();</span><br><span class="line">        <span class="comment">// 3.åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(count &gt; <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> å…³æ³¨service</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">follow</span><span class="params">(Long followUserId, Boolean isFollow)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;follows:&quot;</span> + userId;</span><br><span class="line">        <span class="comment">// 1.åˆ¤æ–­åˆ°åº•æ˜¯å…³æ³¨è¿˜æ˜¯å–å…³</span></span><br><span class="line">        <span class="keyword">if</span> (isFollow) &#123;</span><br><span class="line">            <span class="comment">// 2.å…³æ³¨ï¼Œæ–°å¢æ•°æ®</span></span><br><span class="line">            <span class="type">Follow</span> <span class="variable">follow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Follow</span>();</span><br><span class="line">            follow.setUserId(userId);</span><br><span class="line">            follow.setFollowUserId(followUserId);</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> save(follow);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 3.å–å…³ï¼Œåˆ é™¤ delete from tb_follow where user_id = ? and follow_user_id = ?</span></span><br><span class="line">            remove(<span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;Follow&gt;()</span><br><span class="line">                    .eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;follow_user_id&quot;</span>, followUserId));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.ok();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="9-2-å¥½å‹å…³æ³¨-å…±åŒå…³æ³¨">9.2 å¥½å‹å…³æ³¨-å…±åŒå…³æ³¨</h3><p>æƒ³è¦å»çœ‹å…±åŒå…³æ³¨çš„å¥½å‹ï¼Œéœ€è¦é¦–å…ˆè¿›å…¥åˆ°è¿™ä¸ªé¡µé¢ï¼Œè¿™ä¸ªé¡µé¢ä¼šå‘èµ·ä¸¤ä¸ªè¯·æ±‚</p><p>1ã€å»æŸ¥è¯¢ç”¨æˆ·çš„è¯¦æƒ…</p><p>2ã€å»æŸ¥è¯¢ç”¨æˆ·çš„ç¬”è®°</p><p>ä»¥ä¸Šä¸¤ä¸ªåŠŸèƒ½å’Œå…±åŒå…³æ³¨æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå°†ç¬”è®°ä¸­çš„ä»£ç æ‹·è´åˆ°ideaä¸­å°±å¯ä»¥å®ç°è¿™ä¸¤ä¸ªåŠŸèƒ½äº†ï¼Œæˆ‘ä»¬çš„é‡ç‚¹åœ¨äºå…±åŒå…³æ³¨åŠŸèƒ½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653806706296-20240615212954-wticlay.png" alt="1653806706296"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UserController æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryUserById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long userId)</span>&#123;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢è¯¦æƒ…</span></span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(userId);</span><br><span class="line"><span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> BeanUtil.copyProperties(user, UserDTO.class);</span><br><span class="line"><span class="comment">// è¿”å›</span></span><br><span class="line"><span class="keyword">return</span> Result.ok(userDTO);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BlogController  æ ¹æ®idæŸ¥è¯¢åšä¸»çš„æ¢åº—ç¬”è®°</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/of/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogByUserId</span><span class="params">(</span></span><br><span class="line"><span class="params"><span class="meta">@RequestParam(value = &quot;current&quot;, defaultValue = &quot;1&quot;)</span> Integer current,</span></span><br><span class="line"><span class="params"><span class="meta">@RequestParam(&quot;id&quot;)</span> Long id)</span> &#123;</span><br><span class="line"><span class="comment">// æ ¹æ®ç”¨æˆ·æŸ¥è¯¢</span></span><br><span class="line">Page&lt;Blog&gt; page = blogService.query()</span><br><span class="line">.eq(<span class="string">&quot;user_id&quot;</span>, id).page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, SystemConstants.MAX_PAGE_SIZE));</span><br><span class="line"><span class="comment">// è·å–å½“å‰é¡µæ•°æ®</span></span><br><span class="line">List&lt;Blog&gt; records = page.getRecords();</span><br><span class="line"><span class="keyword">return</span> Result.ok(records);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹å…±åŒå…³æ³¨å¦‚ä½•å®ç°ï¼š</p><p>éœ€æ±‚ï¼šåˆ©ç”¨Redisä¸­æ°å½“çš„æ•°æ®ç»“æ„ï¼Œå®ç°å…±åŒå…³æ³¨åŠŸèƒ½ã€‚åœ¨åšä¸»ä¸ªäººé¡µé¢å±•ç¤ºå‡ºå½“å‰ç”¨æˆ·ä¸åšä¸»çš„å…±åŒå…³æ³¨å‘¢ã€‚</p><p>å½“ç„¶æ˜¯ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰å­¦ä¹ è¿‡çš„seté›†åˆå’¯ï¼Œåœ¨seté›†åˆä¸­ï¼Œæœ‰äº¤é›†å¹¶é›†è¡¥é›†çš„apiï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤äººçš„å…³æ³¨çš„äººåˆ†åˆ«æ”¾å…¥åˆ°ä¸€ä¸ªseté›†åˆä¸­ï¼Œç„¶åå†é€šè¿‡apiå»æŸ¥çœ‹è¿™ä¸¤ä¸ªseté›†åˆä¸­çš„äº¤é›†æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653806973212-20240615212954-7ydd4ct.png" alt="1653806973212"></p><p>æˆ‘ä»¬å…ˆæ¥æ”¹é€ å½“å‰çš„å…³æ³¨åˆ—è¡¨</p><p>æ”¹é€ åŸå› æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨ç”¨æˆ·å…³æ³¨äº†æŸä½ç”¨æˆ·åï¼Œéœ€è¦å°†æ•°æ®æ”¾å…¥åˆ°seté›†åˆä¸­ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œå…±åŒå…³æ³¨ï¼ŒåŒæ—¶å½“å–æ¶ˆå…³æ³¨æ—¶ï¼Œä¹Ÿéœ€è¦ä»seté›†åˆä¸­è¿›è¡Œåˆ é™¤</p><p>FollowServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">follow</span><span class="params">(Long followUserId, Boolean isFollow)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;follows:&quot;</span> + userId;</span><br><span class="line">    <span class="comment">// 1.åˆ¤æ–­åˆ°åº•æ˜¯å…³æ³¨è¿˜æ˜¯å–å…³</span></span><br><span class="line">    <span class="keyword">if</span> (isFollow) &#123;</span><br><span class="line">        <span class="comment">// 2.å…³æ³¨ï¼Œæ–°å¢æ•°æ®</span></span><br><span class="line">        <span class="type">Follow</span> <span class="variable">follow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Follow</span>();</span><br><span class="line">        follow.setUserId(userId);</span><br><span class="line">        follow.setFollowUserId(followUserId);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> save(follow);</span><br><span class="line">        <span class="keyword">if</span> (isSuccess) &#123;</span><br><span class="line">            <span class="comment">// æŠŠå…³æ³¨ç”¨æˆ·çš„idï¼Œæ”¾å…¥redisçš„seté›†åˆ sadd userId followerUserId</span></span><br><span class="line">            stringRedisTemplate.opsForSet().add(key, followUserId.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 3.å–å…³ï¼Œåˆ é™¤ delete from tb_follow where user_id = ? and follow_user_id = ?</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> remove(<span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;Follow&gt;()</span><br><span class="line">                .eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;follow_user_id&quot;</span>, followUserId));</span><br><span class="line">        <span class="keyword">if</span> (isSuccess) &#123;</span><br><span class="line">            <span class="comment">// æŠŠå…³æ³¨ç”¨æˆ·çš„idä»Redisé›†åˆä¸­ç§»é™¤</span></span><br><span class="line">            stringRedisTemplate.opsForSet().remove(key, followUserId.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å…·ä½“çš„å…³æ³¨ä»£ç ï¼š</strong></p><p>FollowServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">followCommons</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è·å–å½“å‰ç”¨æˆ·</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;follows:&quot;</span> + userId;</span><br><span class="line">    <span class="comment">// 2.æ±‚äº¤é›†</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">key2</span> <span class="operator">=</span> <span class="string">&quot;follows:&quot;</span> + id;</span><br><span class="line">    Set&lt;String&gt; intersect = stringRedisTemplate.opsForSet().intersect(key, key2);</span><br><span class="line">    <span class="keyword">if</span> (intersect == <span class="literal">null</span> || intersect.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// æ— äº¤é›†</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(Collections.emptyList());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.è§£æidé›†åˆ</span></span><br><span class="line">    List&lt;Long&gt; ids = intersect.stream().map(Long::valueOf).collect(Collectors.toList());</span><br><span class="line">    <span class="comment">// 4.æŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line">    List&lt;UserDTO&gt; users = userService.listByIds(ids)</span><br><span class="line">            .stream()</span><br><span class="line">            .map(user -&gt; BeanUtil.copyProperties(user, UserDTO.class))</span><br><span class="line">            .collect(Collectors.toList());</span><br><span class="line">    <span class="keyword">return</span> Result.ok(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-3-å¥½å‹å…³æ³¨-Feedæµå®ç°æ–¹æ¡ˆ">9.3 å¥½å‹å…³æ³¨-Feedæµå®ç°æ–¹æ¡ˆ</h3><p>å½“æˆ‘ä»¬å…³æ³¨äº†ç”¨æˆ·åï¼Œè¿™ä¸ªç”¨æˆ·å‘äº†åŠ¨æ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æŠŠè¿™äº›æ•°æ®æ¨é€ç»™ç”¨æˆ·ï¼Œè¿™ä¸ªéœ€æ±‚ï¼Œå…¶å®æˆ‘ä»¬åˆæŠŠä»–å«åšFeedæµï¼Œå…³æ³¨æ¨é€ä¹Ÿå«åšFeedæµï¼Œç›´è¯‘ä¸ºæŠ•å–‚ã€‚ä¸ºç”¨æˆ·æŒç»­çš„æä¾›â€œæ²‰æµ¸å¼â€çš„ä½“éªŒï¼Œé€šè¿‡æ— é™ä¸‹æ‹‰åˆ·æ–°è·å–æ–°çš„ä¿¡æ¯ã€‚</p><p>å¯¹äºä¼ ç»Ÿçš„æ¨¡å¼çš„å†…å®¹è§£é”ï¼šæˆ‘ä»¬æ˜¯éœ€è¦ç”¨æˆ·å»é€šè¿‡æœç´¢å¼•æ“æˆ–è€…æ˜¯å…¶ä»–çš„æ–¹å¼å»è§£é”æƒ³è¦çœ‹çš„å†…å®¹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653808641260-20240615212954-ott01ia.png" alt="1653808641260"></p><p>å¯¹äºæ–°å‹çš„Feedæµçš„çš„æ•ˆæœï¼šä¸éœ€è¦æˆ‘ä»¬ç”¨æˆ·å†å»æ¨é€ä¿¡æ¯ï¼Œè€Œæ˜¯ç³»ç»Ÿåˆ†æç”¨æˆ·åˆ°åº•æƒ³è¦ä»€ä¹ˆï¼Œç„¶åç›´æ¥æŠŠå†…å®¹æ¨é€ç»™ç”¨æˆ·ï¼Œä»è€Œä½¿ç”¨æˆ·èƒ½å¤Ÿæ›´åŠ çš„èŠ‚çº¦æ—¶é—´ï¼Œä¸ç”¨ä¸»åŠ¨å»å¯»æ‰¾ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653808993693-20240615212954-et087ce.png" alt="1653808993693"></p><p>Feedæµçš„å®ç°æœ‰ä¸¤ç§æ¨¡å¼ï¼š</p><p>Feedæµäº§å“æœ‰ä¸¤ç§å¸¸è§æ¨¡å¼ï¼š<br>Timelineï¼šä¸åšå†…å®¹ç­›é€‰ï¼Œç®€å•çš„æŒ‰ç…§å†…å®¹å‘å¸ƒæ—¶é—´æ’åºï¼Œå¸¸ç”¨äºå¥½å‹æˆ–å…³æ³¨ã€‚ä¾‹å¦‚æœ‹å‹åœˆ</p><ul class="lvl-0"><li class="lvl-2"><p>ä¼˜ç‚¹ï¼šä¿¡æ¯å…¨é¢ï¼Œä¸ä¼šæœ‰ç¼ºå¤±ã€‚å¹¶ä¸”å®ç°ä¹Ÿç›¸å¯¹ç®€å•</p></li><li class="lvl-2"><p>ç¼ºç‚¹ï¼šä¿¡æ¯å™ªéŸ³è¾ƒå¤šï¼Œç”¨æˆ·ä¸ä¸€å®šæ„Ÿå…´è¶£ï¼Œå†…å®¹è·å–æ•ˆç‡ä½</p></li></ul><p>æ™ºèƒ½æ’åºï¼šåˆ©ç”¨æ™ºèƒ½ç®—æ³•å±è”½æ‰è¿è§„çš„ã€ç”¨æˆ·ä¸æ„Ÿå…´è¶£çš„å†…å®¹ã€‚æ¨é€ç”¨æˆ·æ„Ÿå…´è¶£ä¿¡æ¯æ¥å¸å¼•ç”¨æˆ·</p><ul class="lvl-0"><li class="lvl-2"><p>ä¼˜ç‚¹ï¼šæŠ•å–‚ç”¨æˆ·æ„Ÿå…´è¶£ä¿¡æ¯ï¼Œç”¨æˆ·ç²˜åº¦å¾ˆé«˜ï¼Œå®¹æ˜“æ²‰è¿·</p></li><li class="lvl-2"><p>ç¼ºç‚¹ï¼šå¦‚æœç®—æ³•ä¸ç²¾å‡†ï¼Œå¯èƒ½èµ·åˆ°åä½œç”¨æœ¬ä¾‹ä¸­çš„ä¸ªäººé¡µé¢ï¼Œæ˜¯åŸºäºå…³æ³¨çš„å¥½å‹æ¥åšFeedæµï¼Œå› æ­¤é‡‡ç”¨Timelineçš„æ¨¡å¼ã€‚è¯¥æ¨¡å¼çš„å®ç°æ–¹æ¡ˆæœ‰ä¸‰ç§ï¼š</p></li></ul><p>æˆ‘ä»¬æœ¬æ¬¡é’ˆå¯¹å¥½å‹çš„æ“ä½œï¼Œé‡‡ç”¨çš„å°±æ˜¯Timelineçš„æ–¹å¼ï¼Œåªéœ€è¦æ‹¿åˆ°æˆ‘ä»¬å…³æ³¨ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç„¶åæŒ‰ç…§æ—¶é—´æ’åºå³å¯</p><p>ï¼Œå› æ­¤é‡‡ç”¨Timelineçš„æ¨¡å¼ã€‚è¯¥æ¨¡å¼çš„å®ç°æ–¹æ¡ˆæœ‰ä¸‰ç§ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ‹‰æ¨¡å¼</p></li><li class="lvl-2"><p>æ¨æ¨¡å¼</p></li><li class="lvl-2"><p>æ¨æ‹‰ç»“åˆ</p></li></ul><p><strong>æ‹‰æ¨¡å¼</strong>ï¼šä¹Ÿå«åšè¯»æ‰©æ•£</p><p>è¯¥æ¨¡å¼çš„æ ¸å¿ƒå«ä¹‰å°±æ˜¯ï¼šå½“å¼ ä¸‰å’Œæå››å’Œç‹äº”å‘äº†æ¶ˆæ¯åï¼Œéƒ½ä¼šä¿å­˜åœ¨è‡ªå·±çš„é‚®ç®±ä¸­ï¼Œå‡è®¾èµµå…­è¦è¯»å–ä¿¡æ¯ï¼Œé‚£ä¹ˆä»–ä¼šä»è¯»å–ä»–è‡ªå·±çš„æ”¶ä»¶ç®±ï¼Œæ­¤æ—¶ç³»ç»Ÿä¼šä»ä»–å…³æ³¨çš„äººç¾¤ä¸­ï¼ŒæŠŠä»–å…³æ³¨äººçš„ä¿¡æ¯å…¨éƒ¨éƒ½è¿›è¡Œæ‹‰å–ï¼Œç„¶ååœ¨è¿›è¡Œæ’åº</p><p>ä¼˜ç‚¹ï¼šæ¯”è¾ƒèŠ‚çº¦ç©ºé—´ï¼Œå› ä¸ºèµµå…­åœ¨è¯»ä¿¡æ¯æ—¶ï¼Œå¹¶æ²¡æœ‰é‡å¤è¯»å–ï¼Œè€Œä¸”è¯»å–å®Œä¹‹åå¯ä»¥æŠŠä»–çš„æ”¶ä»¶ç®±è¿›è¡Œæ¸…æ¥šã€‚</p><p>ç¼ºç‚¹ï¼šæ¯”è¾ƒå»¶è¿Ÿï¼Œå½“ç”¨æˆ·è¯»å–æ•°æ®æ—¶æ‰å»å…³æ³¨çš„äººé‡Œè¾¹å»è¯»å–æ•°æ®ï¼Œå‡è®¾ç”¨æˆ·å…³æ³¨äº†å¤§é‡çš„ç”¨æˆ·ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ä¼šæ‹‰å–æµ·é‡çš„å†…å®¹ï¼Œå¯¹æœåŠ¡å™¨å‹åŠ›å·¨å¤§ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653809450816-20240615212954-pladqto.png" alt="1653809450816"></p><p><strong>æ¨æ¨¡å¼</strong>ï¼šä¹Ÿå«åšå†™æ‰©æ•£ã€‚</p><p>æ¨æ¨¡å¼æ˜¯æ²¡æœ‰å†™é‚®ç®±çš„ï¼Œå½“å¼ ä¸‰å†™äº†ä¸€ä¸ªå†…å®¹ï¼Œæ­¤æ—¶ä¼šä¸»åŠ¨çš„æŠŠå¼ ä¸‰å†™çš„å†…å®¹å‘é€åˆ°ä»–çš„ç²‰ä¸æ”¶ä»¶ç®±ä¸­å»ï¼Œå‡è®¾æ­¤æ—¶æå››å†æ¥è¯»å–ï¼Œå°±ä¸ç”¨å†å»ä¸´æ—¶æ‹‰å–äº†</p><p>ä¼˜ç‚¹ï¼šæ—¶æ•ˆå¿«ï¼Œä¸ç”¨ä¸´æ—¶æ‹‰å–</p><p>ç¼ºç‚¹ï¼šå†…å­˜å‹åŠ›å¤§ï¼Œå‡è®¾ä¸€ä¸ªå¤§Vå†™ä¿¡æ¯ï¼Œå¾ˆå¤šäººå…³æ³¨ä»–ï¼Œ å°±ä¼šå†™å¾ˆå¤šåˆ†æ•°æ®åˆ°ç²‰ä¸é‚£è¾¹å»</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653809875208-20240615212954-gh079ud.png" alt="1653809875208"></p><p><strong>æ¨æ‹‰ç»“åˆæ¨¡å¼</strong>ï¼šä¹Ÿå«åšè¯»å†™æ··åˆï¼Œå…¼å…·æ¨å’Œæ‹‰ä¸¤ç§æ¨¡å¼çš„ä¼˜ç‚¹ã€‚</p><p>æ¨æ‹‰æ¨¡å¼æ˜¯ä¸€ä¸ªæŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œç«™åœ¨å‘ä»¶äººè¿™ä¸€æ®µï¼Œå¦‚æœæ˜¯ä¸ªæ™®é€šçš„äººï¼Œé‚£ä¹ˆæˆ‘ä»¬é‡‡ç”¨å†™æ‰©æ•£çš„æ–¹å¼ï¼Œç›´æ¥æŠŠæ•°æ®å†™å…¥åˆ°ä»–çš„ç²‰ä¸ä¸­å»ï¼Œå› ä¸ºæ™®é€šçš„äººä»–çš„ç²‰ä¸å…³æ³¨é‡æ¯”è¾ƒå°ï¼Œæ‰€ä»¥è¿™æ ·åšæ²¡æœ‰å‹åŠ›ï¼Œå¦‚æœæ˜¯å¤§Vï¼Œé‚£ä¹ˆä»–æ˜¯ç›´æ¥å°†æ•°æ®å…ˆå†™å…¥åˆ°ä¸€ä»½åˆ°å‘ä»¶ç®±é‡Œè¾¹å»ï¼Œç„¶åå†ç›´æ¥å†™ä¸€ä»½åˆ°æ´»è·ƒç²‰ä¸æ”¶ä»¶ç®±é‡Œè¾¹å»ï¼Œç°åœ¨ç«™åœ¨æ”¶ä»¶äººè¿™ç«¯æ¥çœ‹ï¼Œå¦‚æœæ˜¯æ´»è·ƒç²‰ä¸ï¼Œé‚£ä¹ˆå¤§Vå’Œæ™®é€šçš„äººå‘çš„éƒ½ä¼šç›´æ¥å†™å…¥åˆ°è‡ªå·±æ”¶ä»¶ç®±é‡Œè¾¹æ¥ï¼Œè€Œå¦‚æœæ˜¯æ™®é€šçš„ç²‰ä¸ï¼Œç”±äºä»–ä»¬ä¸Šçº¿ä¸æ˜¯å¾ˆé¢‘ç¹ï¼Œæ‰€ä»¥ç­‰ä»–ä»¬ä¸Šçº¿æ—¶ï¼Œå†ä»å‘ä»¶ç®±é‡Œè¾¹å»æ‹‰ä¿¡æ¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653812346852-20240615212954-u92cy71.png" alt="1653812346852"></p><h3 id="9-4-å¥½å‹å…³æ³¨-æ¨é€åˆ°ç²‰ä¸æ”¶ä»¶ç®±">9.4 å¥½å‹å…³æ³¨-æ¨é€åˆ°ç²‰ä¸æ”¶ä»¶ç®±</h3><p>éœ€æ±‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ä¿®æ”¹æ–°å¢æ¢åº—ç¬”è®°çš„ä¸šåŠ¡ï¼Œåœ¨ä¿å­˜blogåˆ°æ•°æ®åº“çš„åŒæ—¶ï¼Œæ¨é€åˆ°ç²‰ä¸çš„æ”¶ä»¶ç®±</p></li><li class="lvl-2"><p>æ”¶ä»¶ç®±æ»¡è¶³å¯ä»¥æ ¹æ®æ—¶é—´æˆ³æ’åºï¼Œå¿…é¡»ç”¨Redisçš„æ•°æ®ç»“æ„å®ç°</p></li><li class="lvl-2"><p>æŸ¥è¯¢æ”¶ä»¶ç®±æ•°æ®æ—¶ï¼Œå¯ä»¥å®ç°åˆ†é¡µæŸ¥è¯¢</p></li></ul><p>Feedæµä¸­çš„æ•°æ®ä¼šä¸æ–­æ›´æ–°ï¼Œæ‰€ä»¥æ•°æ®çš„è§’æ ‡ä¹Ÿåœ¨å˜åŒ–ï¼Œå› æ­¤ä¸èƒ½é‡‡ç”¨ä¼ ç»Ÿçš„åˆ†é¡µæ¨¡å¼ã€‚</p><p>ä¼ ç»Ÿäº†åˆ†é¡µåœ¨feedæµæ˜¯ä¸é€‚ç”¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ•°æ®ä¼šéšæ—¶å‘ç”Ÿå˜åŒ–</p><p>å‡è®¾åœ¨t1 æ—¶åˆ»ï¼Œæˆ‘ä»¬å»è¯»å–ç¬¬ä¸€é¡µï¼Œæ­¤æ—¶page = 1 ï¼Œsize = 5 ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‹¿åˆ°çš„å°±æ˜¯10<sub>6 è¿™å‡ æ¡è®°å½•ï¼Œå‡è®¾ç°åœ¨t2æ—¶å€™åˆå‘å¸ƒäº†ä¸€æ¡è®°å½•ï¼Œæ­¤æ—¶t3 æ—¶åˆ»ï¼Œæˆ‘ä»¬æ¥è¯»å–ç¬¬äºŒé¡µï¼Œè¯»å–ç¬¬äºŒé¡µä¼ å…¥çš„å‚æ•°æ˜¯page=2 ï¼Œsize=5 ï¼Œé‚£ä¹ˆæ­¤æ—¶è¯»å–åˆ°çš„ç¬¬äºŒé¡µå®é™…ä¸Šæ˜¯ä»6 å¼€å§‹ï¼Œç„¶åæ˜¯6</sub>2 ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯»å–åˆ°äº†é‡å¤çš„æ•°æ®ï¼Œæ‰€ä»¥feedæµçš„åˆ†é¡µï¼Œä¸èƒ½é‡‡ç”¨åŸå§‹æ–¹æ¡ˆæ¥åšã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653813047671-20240615212954-tleihwu.png" alt="1653813047671"></p><p>Feedæµçš„æ»šåŠ¨åˆ†é¡µ</p><p>æˆ‘ä»¬éœ€è¦è®°å½•æ¯æ¬¡æ“ä½œçš„æœ€åä¸€æ¡ï¼Œç„¶åä»è¿™ä¸ªä½ç½®å¼€å§‹å»è¯»å–æ•°æ®</p><p>ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬ä»t1æ—¶åˆ»å¼€å§‹ï¼Œæ‹¿ç¬¬ä¸€é¡µæ•°æ®ï¼Œæ‹¿åˆ°äº†10~6ï¼Œç„¶åè®°å½•ä¸‹å½“å‰æœ€åä¸€æ¬¡æ‹¿å–çš„è®°å½•ï¼Œå°±æ˜¯6ï¼Œt2æ—¶åˆ»å‘å¸ƒäº†æ–°çš„è®°å½•ï¼Œæ­¤æ—¶è¿™ä¸ª11æ”¾åˆ°æœ€é¡¶ä¸Šï¼Œä½†æ˜¯ä¸ä¼šå½±å“æˆ‘ä»¬ä¹‹å‰è®°å½•çš„6ï¼Œæ­¤æ—¶t3æ—¶åˆ»æ¥æ‹¿ç¬¬äºŒé¡µï¼Œç¬¬äºŒé¡µè¿™ä¸ªæ—¶å€™æ‹¿æ•°æ®ï¼Œè¿˜æ˜¯ä»6åä¸€ç‚¹çš„5å»æ‹¿ï¼Œå°±æ‹¿åˆ°äº†5-1çš„è®°å½•ã€‚æˆ‘ä»¬è¿™ä¸ªåœ°æ–¹å¯ä»¥é‡‡ç”¨sortedSetæ¥åšï¼Œå¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼Œå¹¶ä¸”è¿˜å¯ä»¥è®°å½•å½“å‰è·å–æ•°æ®æ—¶é—´æˆ³æœ€å°å€¼ï¼Œå°±å¯ä»¥å®ç°æ»šåŠ¨åˆ†é¡µäº†</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653813462834-20240615212954-38p4van.png" alt="1653813462834"></p><p>æ ¸å¿ƒçš„æ„æ€ï¼šå°±æ˜¯æˆ‘ä»¬åœ¨ä¿å­˜å®Œæ¢åº—ç¬”è®°åï¼Œè·å¾—åˆ°å½“å‰ç¬”è®°çš„ç²‰ä¸ï¼Œç„¶åæŠŠæ•°æ®æ¨é€åˆ°ç²‰ä¸çš„redisä¸­å»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">saveBlog</span><span class="params">(Blog blog)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è·å–ç™»å½•ç”¨æˆ·</span></span><br><span class="line">    <span class="type">UserDTO</span> <span class="variable">user</span> <span class="operator">=</span> UserHolder.getUser();</span><br><span class="line">    blog.setUserId(user.getId());</span><br><span class="line">    <span class="comment">// 2.ä¿å­˜æ¢åº—ç¬”è®°</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isSuccess</span> <span class="operator">=</span> save(blog);</span><br><span class="line">    <span class="keyword">if</span>(!isSuccess)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;æ–°å¢ç¬”è®°å¤±è´¥!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.æŸ¥è¯¢ç¬”è®°ä½œè€…çš„æ‰€æœ‰ç²‰ä¸ select * from tb_follow where follow_user_id = ?</span></span><br><span class="line">    List&lt;Follow&gt; follows = followService.query().eq(<span class="string">&quot;follow_user_id&quot;</span>, user.getId()).list();</span><br><span class="line">    <span class="comment">// 4.æ¨é€ç¬”è®°idç»™æ‰€æœ‰ç²‰ä¸</span></span><br><span class="line">    <span class="keyword">for</span> (Follow follow : follows) &#123;</span><br><span class="line">        <span class="comment">// 4.1.è·å–ç²‰ä¸id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> follow.getUserId();</span><br><span class="line">        <span class="comment">// 4.2.æ¨é€</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> FEED_KEY + userId;</span><br><span class="line">        stringRedisTemplate.opsForZSet().add(key, blog.getId().toString(), System.currentTimeMillis());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5.è¿”å›id</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(blog.getId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-5å¥½å‹å…³æ³¨-å®ç°åˆ†é¡µæŸ¥è¯¢æ”¶é‚®ç®±">9.5å¥½å‹å…³æ³¨-å®ç°åˆ†é¡µæŸ¥è¯¢æ”¶é‚®ç®±</h3><p>éœ€æ±‚ï¼šåœ¨ä¸ªäººä¸»é¡µçš„â€œå…³æ³¨â€å¡ç‰‡ä¸­ï¼ŒæŸ¥è¯¢å¹¶å±•ç¤ºæ¨é€çš„Blogä¿¡æ¯ï¼š</p><p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><p>1ã€æ¯æ¬¡æŸ¥è¯¢å®Œæˆåï¼Œæˆ‘ä»¬è¦åˆ†æå‡ºæŸ¥è¯¢å‡ºæ•°æ®çš„æœ€å°æ—¶é—´æˆ³ï¼Œè¿™ä¸ªå€¼ä¼šä½œä¸ºä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„æ¡ä»¶</p><p>2ã€æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸ä¸Šä¸€æ¬¡æŸ¥è¯¢ç›¸åŒçš„æŸ¥è¯¢ä¸ªæ•°ä½œä¸ºåç§»é‡ï¼Œä¸‹æ¬¡æŸ¥è¯¢æ—¶ï¼Œè·³è¿‡è¿™äº›æŸ¥è¯¢è¿‡çš„æ•°æ®ï¼Œæ‹¿åˆ°æˆ‘ä»¬éœ€è¦çš„æ•°æ®</p><p>ç»¼ä¸Šï¼šæˆ‘ä»¬çš„è¯·æ±‚å‚æ•°ä¸­å°±éœ€è¦æºå¸¦ lastIdï¼šä¸Šä¸€æ¬¡æŸ¥è¯¢çš„æœ€å°æ—¶é—´æˆ³ å’Œåç§»é‡è¿™ä¸¤ä¸ªå‚æ•°ã€‚</p><p>è¿™ä¸¤ä¸ªå‚æ•°ç¬¬ä¸€æ¬¡ä¼šç”±å‰ç«¯æ¥æŒ‡å®šï¼Œä»¥åçš„æŸ¥è¯¢å°±æ ¹æ®åå°ç»“æœä½œä¸ºæ¡ä»¶ï¼Œå†æ¬¡ä¼ é€’åˆ°åå°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653819821591-20240615212954-dafxl7k.png" alt="1653819821591"></p><p>ä¸€ã€å®šä¹‰å‡ºæ¥å…·ä½“çš„è¿”å›å€¼å®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScrollResult</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;?&gt; list;</span><br><span class="line">    <span class="keyword">private</span> Long minTime;</span><br><span class="line">    <span class="keyword">private</span> Integer offset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BlogController</p><p>æ³¨æ„ï¼šRequestParam è¡¨ç¤ºæ¥å—urlåœ°å€æ ä¼ å‚çš„æ³¨è§£ï¼Œå½“æ–¹æ³•ä¸Šå‚æ•°çš„åç§°å’Œurlåœ°å€æ ä¸ç›¸åŒæ—¶ï¼Œå¯ä»¥é€šè¿‡RequestParam æ¥è¿›è¡ŒæŒ‡å®š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/of/follow&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogOfFollow</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(&quot;lastId&quot;)</span> Long max, <span class="meta">@RequestParam(value = &quot;offset&quot;, defaultValue = &quot;0&quot;)</span> Integer offset)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> blogService.queryBlogOfFollow(max, offset);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BlogServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryBlogOfFollow</span><span class="params">(Long max, Integer offset)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è·å–å½“å‰ç”¨æˆ·</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="comment">// 2.æŸ¥è¯¢æ”¶ä»¶ç®± ZREVRANGEBYSCORE key Max Min LIMIT offset count</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> FEED_KEY + userId;</span><br><span class="line">    Set&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt; typedTuples = stringRedisTemplate.opsForZSet()</span><br><span class="line">        .reverseRangeByScoreWithScores(key, <span class="number">0</span>, max, offset, <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// 3.éç©ºåˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (typedTuples == <span class="literal">null</span> || typedTuples.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.ok();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.è§£ææ•°æ®ï¼šblogIdã€minTimeï¼ˆæ—¶é—´æˆ³ï¼‰ã€offset</span></span><br><span class="line">    List&lt;Long&gt; ids = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(typedTuples.size());</span><br><span class="line">    <span class="type">long</span> <span class="variable">minTime</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 2</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">os</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// 2</span></span><br><span class="line">    <span class="keyword">for</span> (ZSetOperations.TypedTuple&lt;String&gt; tuple : typedTuples) &#123; <span class="comment">// 5 4 4 2 2</span></span><br><span class="line">        <span class="comment">// 4.1.è·å–id</span></span><br><span class="line">        ids.add(Long.valueOf(tuple.getValue()));</span><br><span class="line">        <span class="comment">// 4.2.è·å–åˆ†æ•°(æ—¶é—´æˆ³ï¼‰</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> tuple.getScore().longValue();</span><br><span class="line">        <span class="keyword">if</span>(time == minTime)&#123;</span><br><span class="line">            os++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            minTime = time;</span><br><span class="line">            os = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">os = minTime == max ? os : os + offset;</span><br><span class="line">    <span class="comment">// 5.æ ¹æ®idæŸ¥è¯¢blog</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">idStr</span> <span class="operator">=</span> StrUtil.join(<span class="string">&quot;,&quot;</span>, ids);</span><br><span class="line">    List&lt;Blog&gt; blogs = query().in(<span class="string">&quot;id&quot;</span>, ids).last(<span class="string">&quot;ORDER BY FIELD(id,&quot;</span> + idStr + <span class="string">&quot;)&quot;</span>).list();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Blog blog : blogs) &#123;</span><br><span class="line">        <span class="comment">// 5.1.æŸ¥è¯¢blogæœ‰å…³çš„ç”¨æˆ·</span></span><br><span class="line">        queryBlogUser(blog);</span><br><span class="line">        <span class="comment">// 5.2.æŸ¥è¯¢blogæ˜¯å¦è¢«ç‚¹èµ</span></span><br><span class="line">        isBlogLiked(blog);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6.å°è£…å¹¶è¿”å›</span></span><br><span class="line">    <span class="type">ScrollResult</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScrollResult</span>();</span><br><span class="line">    r.setList(blogs);</span><br><span class="line">    r.setOffset(os);</span><br><span class="line">    r.setMinTime(minTime);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.ok(r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10ã€é™„è¿‘å•†æˆ·">10ã€é™„è¿‘å•†æˆ·</h2><h3 id="10-1ã€é™„è¿‘å•†æˆ·-GEOæ•°æ®ç»“æ„çš„åŸºæœ¬ç”¨æ³•">10.1ã€é™„è¿‘å•†æˆ·-GEOæ•°æ®ç»“æ„çš„åŸºæœ¬ç”¨æ³•</h3><p>GEOå°±æ˜¯Geolocationçš„ç®€å†™å½¢å¼ï¼Œä»£è¡¨åœ°ç†åæ ‡ã€‚Redisåœ¨3.2ç‰ˆæœ¬ä¸­åŠ å…¥äº†å¯¹GEOçš„æ”¯æŒï¼Œå…è®¸å­˜å‚¨åœ°ç†åæ ‡ä¿¡æ¯ï¼Œå¸®åŠ©æˆ‘ä»¬æ ¹æ®ç»çº¬åº¦æ¥æ£€ç´¢æ•°æ®ã€‚å¸¸è§çš„å‘½ä»¤æœ‰ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>GEOADDï¼šæ·»åŠ ä¸€ä¸ªåœ°ç†ç©ºé—´ä¿¡æ¯ï¼ŒåŒ…å«ï¼šç»åº¦ï¼ˆlongitudeï¼‰ã€çº¬åº¦ï¼ˆlatitudeï¼‰ã€å€¼ï¼ˆmemberï¼‰</p></li><li class="lvl-2"><p>GEODISTï¼šè®¡ç®—æŒ‡å®šçš„ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»å¹¶è¿”å›</p></li><li class="lvl-2"><p>GEOHASHï¼šå°†æŒ‡å®šmemberçš„åæ ‡è½¬ä¸ºhashå­—ç¬¦ä¸²å½¢å¼å¹¶è¿”å›</p></li><li class="lvl-2"><p>GEOPOSï¼šè¿”å›æŒ‡å®šmemberçš„åæ ‡</p></li><li class="lvl-2"><p>GEORADIUSï¼šæŒ‡å®šåœ†å¿ƒã€åŠå¾„ï¼Œæ‰¾åˆ°è¯¥åœ†å†…åŒ…å«çš„æ‰€æœ‰memberï¼Œå¹¶æŒ‰ç…§ä¸åœ†å¿ƒä¹‹é—´çš„è·ç¦»æ’åºåè¿”å›ã€‚6.ä»¥åå·²åºŸå¼ƒ</p></li><li class="lvl-2"><p>GEOSEARCHï¼šåœ¨æŒ‡å®šèŒƒå›´å†…æœç´¢memberï¼Œå¹¶æŒ‰ç…§ä¸æŒ‡å®šç‚¹ä¹‹é—´çš„è·ç¦»æ’åºåè¿”å›ã€‚èŒƒå›´å¯ä»¥æ˜¯åœ†å½¢æˆ–çŸ©å½¢ã€‚6.2.æ–°åŠŸèƒ½</p></li><li class="lvl-2"><p>GEOSEARCHSTOREï¼šä¸GEOSEARCHåŠŸèƒ½ä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŠŠç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªæŒ‡å®šçš„keyã€‚ 6.2.æ–°åŠŸèƒ½</p></li></ul><h3 id="10-2ã€-é™„è¿‘å•†æˆ·-å¯¼å…¥åº—é“ºæ•°æ®åˆ°GEO">10.2ã€ é™„è¿‘å•†æˆ·-å¯¼å…¥åº—é“ºæ•°æ®åˆ°GEO</h3><p>å…·ä½“åœºæ™¯è¯´æ˜ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653822036941-20240615212954-b4atmfv.png" alt="1653822036941"></p><p>å½“æˆ‘ä»¬ç‚¹å‡»ç¾é£Ÿä¹‹åï¼Œä¼šå‡ºç°ä¸€ç³»åˆ—çš„å•†å®¶ï¼Œå•†å®¶ä¸­å¯ä»¥æŒ‰ç…§å¤šç§æ’åºæ–¹å¼ï¼Œæˆ‘ä»¬æ­¤æ—¶å…³æ³¨çš„æ˜¯è·ç¦»ï¼Œè¿™ä¸ªåœ°æ–¹å°±éœ€è¦ä½¿ç”¨åˆ°æˆ‘ä»¬çš„GEOï¼Œå‘åå°ä¼ å…¥å½“å‰appæ”¶é›†çš„åœ°å€(æˆ‘ä»¬æ­¤å¤„æ˜¯å†™æ­»çš„) ï¼Œä»¥å½“å‰åæ ‡ä½œä¸ºåœ†å¿ƒï¼ŒåŒæ—¶ç»‘å®šç›¸åŒçš„åº—å®¶ç±»å‹typeï¼Œä»¥åŠåˆ†é¡µä¿¡æ¯ï¼ŒæŠŠè¿™å‡ ä¸ªæ¡ä»¶ä¼ å…¥åå°ï¼Œåå°æŸ¥è¯¢å‡ºå¯¹åº”çš„æ•°æ®å†è¿”å›ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653822021827-20240615212954-8q2b9pk.png" alt="1653822021827"></p><p>æˆ‘ä»¬è¦åšçš„äº‹æƒ…æ˜¯ï¼šå°†æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®å¯¼å…¥åˆ°redisä¸­å»ï¼Œredisä¸­çš„GEOï¼ŒGEOåœ¨redisä¸­å°±ä¸€ä¸ªmenberå’Œä¸€ä¸ªç»çº¬åº¦ï¼Œæˆ‘ä»¬æŠŠxå’Œyè½´ä¼ å…¥åˆ°redisåšçš„ç»çº¬åº¦ä½ç½®å»ï¼Œä½†æˆ‘ä»¬ä¸èƒ½æŠŠæ‰€æœ‰çš„æ•°æ®éƒ½æ”¾å…¥åˆ°menberä¸­å»ï¼Œæ¯•ç«Ÿä½œä¸ºredisæ˜¯ä¸€ä¸ªå†…å­˜çº§æ•°æ®åº“ï¼Œå¦‚æœå­˜æµ·é‡æ•°æ®ï¼Œredisè¿˜æ˜¯åŠ›ä¸ä»å¿ƒï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™ä¸ªåœ°æ–¹å­˜å‚¨ä»–çš„idå³å¯ã€‚</p><p>ä½†æ˜¯è¿™ä¸ªæ—¶å€™è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨redisä¸­å¹¶æ²¡æœ‰å­˜å‚¨typeï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•æ ¹æ®typeæ¥å¯¹æ•°æ®è¿›è¡Œç­›é€‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‰ç…§å•†æˆ·ç±»å‹åšåˆ†ç»„ï¼Œç±»å‹ç›¸åŒçš„å•†æˆ·ä½œä¸ºåŒä¸€ç»„ï¼Œä»¥typeIdä¸ºkeyå­˜å…¥åŒä¸€ä¸ªGEOé›†åˆä¸­å³å¯</p><p>ä»£ç </p><p>HmDianPingApplicationTests</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">loadShopData</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æŸ¥è¯¢åº—é“ºä¿¡æ¯</span></span><br><span class="line">    List&lt;Shop&gt; list = shopService.list();</span><br><span class="line">    <span class="comment">// 2.æŠŠåº—é“ºåˆ†ç»„ï¼ŒæŒ‰ç…§typeIdåˆ†ç»„ï¼ŒtypeIdä¸€è‡´çš„æ”¾åˆ°ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    Map&lt;Long, List&lt;Shop&gt;&gt; map = list.stream().collect(Collectors.groupingBy(Shop::getTypeId));</span><br><span class="line">    <span class="comment">// 3.åˆ†æ‰¹å®Œæˆå†™å…¥Redis</span></span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Long, List&lt;Shop&gt;&gt; entry : map.entrySet()) &#123;</span><br><span class="line">        <span class="comment">// 3.1.è·å–ç±»å‹id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">typeId</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> SHOP_GEO_KEY + typeId;</span><br><span class="line">        <span class="comment">// 3.2.è·å–åŒç±»å‹çš„åº—é“ºçš„é›†åˆ</span></span><br><span class="line">        List&lt;Shop&gt; value = entry.getValue();</span><br><span class="line">        List&lt;RedisGeoCommands.GeoLocation&lt;String&gt;&gt; locations = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(value.size());</span><br><span class="line">        <span class="comment">// 3.3.å†™å…¥redis GEOADD key ç»åº¦ çº¬åº¦ member</span></span><br><span class="line">        <span class="keyword">for</span> (Shop shop : value) &#123;</span><br><span class="line">            <span class="comment">// stringRedisTemplate.opsForGeo().add(key, new Point(shop.getX(), shop.getY()), shop.getId().toString());</span></span><br><span class="line">            locations.add(<span class="keyword">new</span> <span class="title class_">RedisGeoCommands</span>.GeoLocation&lt;&gt;(</span><br><span class="line">                    shop.getId().toString(),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Point</span>(shop.getX(), shop.getY())</span><br><span class="line">            ));</span><br><span class="line">        &#125;</span><br><span class="line">        stringRedisTemplate.opsForGeo().add(key, locations);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-3-é™„è¿‘å•†æˆ·-å®ç°é™„è¿‘å•†æˆ·åŠŸèƒ½">10.3 é™„è¿‘å•†æˆ·-å®ç°é™„è¿‘å•†æˆ·åŠŸèƒ½</h3><p>SpringDataRedisçš„2.3.9ç‰ˆæœ¬å¹¶ä¸æ”¯æŒRedis 6.2æä¾›çš„GEOSEARCHå‘½ä»¤ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æç¤ºå…¶ç‰ˆæœ¬ï¼Œä¿®æ”¹è‡ªå·±çš„POM</p><p>ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥pom</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">    &lt;exclusions&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;</span><br><span class="line">        &lt;/exclusion&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;</span><br><span class="line">            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;</span><br><span class="line">        &lt;/exclusion&gt;</span><br><span class="line">    &lt;/exclusions&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">2.6</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.lettuce&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">6.1</span><span class="number">.6</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼š</p><p>ShopController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/of/type&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryShopByType</span><span class="params">(</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestParam(&quot;typeId&quot;)</span> Integer typeId,</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestParam(value = &quot;current&quot;, defaultValue = &quot;1&quot;)</span> Integer current,</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestParam(value = &quot;x&quot;, required = false)</span> Double x,</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestParam(value = &quot;y&quot;, required = false)</span> Double y</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> shopService.queryShopByType(typeId, current, x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ShopServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryShopByType</span><span class="params">(Integer typeId, Integer current, Double x, Double y)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.åˆ¤æ–­æ˜¯å¦éœ€è¦æ ¹æ®åæ ‡æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span> || y == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ä¸éœ€è¦åæ ‡æŸ¥è¯¢ï¼ŒæŒ‰æ•°æ®åº“æŸ¥è¯¢</span></span><br><span class="line">            Page&lt;Shop&gt; page = query()</span><br><span class="line">                    .eq(<span class="string">&quot;type_id&quot;</span>, typeId)</span><br><span class="line">                    .page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, SystemConstants.DEFAULT_PAGE_SIZE));</span><br><span class="line">            <span class="comment">// è¿”å›æ•°æ®</span></span><br><span class="line">            <span class="keyword">return</span> Result.ok(page.getRecords());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.è®¡ç®—åˆ†é¡µå‚æ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> (current - <span class="number">1</span>) * SystemConstants.DEFAULT_PAGE_SIZE;</span><br><span class="line">        <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> current * SystemConstants.DEFAULT_PAGE_SIZE;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.æŸ¥è¯¢redisã€æŒ‰ç…§è·ç¦»æ’åºã€åˆ†é¡µã€‚ç»“æœï¼šshopIdã€distance</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> SHOP_GEO_KEY + typeId;</span><br><span class="line">        GeoResults&lt;RedisGeoCommands.GeoLocation&lt;String&gt;&gt; results = stringRedisTemplate.opsForGeo() <span class="comment">// GEOSEARCH key BYLONLAT x y BYRADIUS 10 WITHDISTANCE</span></span><br><span class="line">                .search(</span><br><span class="line">                        key,</span><br><span class="line">                        GeoReference.fromCoordinate(x, y),</span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">Distance</span>(<span class="number">5000</span>),</span><br><span class="line">                        RedisGeoCommands.GeoSearchCommandArgs.newGeoSearchArgs().includeDistance().limit(end)</span><br><span class="line">                );</span><br><span class="line">        <span class="comment">// 4.è§£æå‡ºid</span></span><br><span class="line">        <span class="keyword">if</span> (results == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(Collections.emptyList());</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;GeoResult&lt;RedisGeoCommands.GeoLocation&lt;String&gt;&gt;&gt; list = results.getContent();</span><br><span class="line">        <span class="keyword">if</span> (list.size() &lt;= from) &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ä¸‹ä¸€é¡µäº†ï¼Œç»“æŸ</span></span><br><span class="line">            <span class="keyword">return</span> Result.ok(Collections.emptyList());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4.1.æˆªå– from ~ endçš„éƒ¨åˆ†</span></span><br><span class="line">        List&lt;Long&gt; ids = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(list.size());</span><br><span class="line">        Map&lt;String, Distance&gt; distanceMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(list.size());</span><br><span class="line">        list.stream().skip(from).forEach(result -&gt; &#123;</span><br><span class="line">            <span class="comment">// 4.2.è·å–åº—é“ºid</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">shopIdStr</span> <span class="operator">=</span> result.getContent().getName();</span><br><span class="line">            ids.add(Long.valueOf(shopIdStr));</span><br><span class="line">            <span class="comment">// 4.3.è·å–è·ç¦»</span></span><br><span class="line">            <span class="type">Distance</span> <span class="variable">distance</span> <span class="operator">=</span> result.getDistance();</span><br><span class="line">            distanceMap.put(shopIdStr, distance);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// 5.æ ¹æ®idæŸ¥è¯¢Shop</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">idStr</span> <span class="operator">=</span> StrUtil.join(<span class="string">&quot;,&quot;</span>, ids);</span><br><span class="line">        List&lt;Shop&gt; shops = query().in(<span class="string">&quot;id&quot;</span>, ids).last(<span class="string">&quot;ORDER BY FIELD(id,&quot;</span> + idStr + <span class="string">&quot;)&quot;</span>).list();</span><br><span class="line">        <span class="keyword">for</span> (Shop shop : shops) &#123;</span><br><span class="line">            shop.setDistance(distanceMap.get(shop.getId().toString()).getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 6.è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(shops);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="11ã€ç”¨æˆ·ç­¾åˆ°">11ã€ç”¨æˆ·ç­¾åˆ°</h2><h4 id="11-1ã€ç”¨æˆ·ç­¾åˆ°-BitMapåŠŸèƒ½æ¼”ç¤º">11.1ã€ç”¨æˆ·ç­¾åˆ°-BitMapåŠŸèƒ½æ¼”ç¤º</h4><p>æˆ‘ä»¬é’ˆå¯¹ç­¾åˆ°åŠŸèƒ½å®Œå…¨å¯ä»¥é€šè¿‡mysqlæ¥å®Œæˆï¼Œæ¯”å¦‚è¯´ä»¥ä¸‹è¿™å¼ è¡¨</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653823145495-20240615212954-7iga75q.png" alt="1653823145495"></p><p>ç”¨æˆ·ä¸€æ¬¡ç­¾åˆ°ï¼Œå°±æ˜¯ä¸€æ¡è®°å½•ï¼Œå‡å¦‚æœ‰1000ä¸‡ç”¨æˆ·ï¼Œå¹³å‡æ¯äººæ¯å¹´ç­¾åˆ°æ¬¡æ•°ä¸º10æ¬¡ï¼Œåˆ™è¿™å¼ è¡¨ä¸€å¹´çš„æ•°æ®é‡ä¸º 1äº¿æ¡</p><p>æ¯ç­¾åˆ°ä¸€æ¬¡éœ€è¦ä½¿ç”¨ï¼ˆ8 + 8 + 1 + 1 + 3 + 1ï¼‰å…±22 å­—èŠ‚çš„å†…å­˜ï¼Œä¸€ä¸ªæœˆåˆ™æœ€å¤šéœ€è¦600å¤šå­—èŠ‚</p><p>æˆ‘ä»¬å¦‚ä½•èƒ½å¤Ÿç®€åŒ–ä¸€ç‚¹å‘¢ï¼Ÿå…¶å®å¯ä»¥è€ƒè™‘å°æ—¶å€™ä¸€ä¸ªæŒºå¸¸è§çš„æ–¹æ¡ˆï¼Œå°±æ˜¯å°æ—¶å€™ï¼Œå’±ä»¬å‡†å¤‡ä¸€å¼ å°å°çš„å¡ç‰‡ï¼Œä½ åªè¦ç­¾åˆ°å°±æ‰“ä¸Šä¸€ä¸ªå‹¾ï¼Œæˆ‘æœ€ååˆ¤æ–­ä½ æ˜¯å¦ç­¾åˆ°ï¼Œå…¶å®åªéœ€è¦åˆ°å°å¡ç‰‡ä¸Šçœ‹ä¸€çœ‹å°±çŸ¥é“äº†</p><p>æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç±»ä¼¼è¿™æ ·çš„æ–¹æ¡ˆæ¥å®ç°æˆ‘ä»¬çš„ç­¾åˆ°éœ€æ±‚ã€‚</p><p>æˆ‘ä»¬æŒ‰æœˆæ¥ç»Ÿè®¡ç”¨æˆ·ç­¾åˆ°ä¿¡æ¯ï¼Œç­¾åˆ°è®°å½•ä¸º1ï¼Œæœªç­¾åˆ°åˆ™è®°å½•ä¸º0.</p><p>æŠŠæ¯ä¸€ä¸ªbitä½å¯¹åº”å½“æœˆçš„æ¯ä¸€å¤©ï¼Œå½¢æˆäº†æ˜ å°„å…³ç³»ã€‚ç”¨0å’Œ1æ ‡ç¤ºä¸šåŠ¡çŠ¶æ€ï¼Œè¿™ç§æ€è·¯å°±ç§°ä¸ºä½å›¾ï¼ˆBitMapï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±ç”¨æå°çš„ç©ºé—´ï¼Œæ¥å®ç°äº†å¤§é‡æ•°æ®çš„è¡¨ç¤º</p><p>Redisä¸­æ˜¯åˆ©ç”¨stringç±»å‹æ•°æ®ç»“æ„å®ç°BitMapï¼Œå› æ­¤æœ€å¤§ä¸Šé™æ˜¯512Mï¼Œè½¬æ¢ä¸ºbitåˆ™æ˜¯ 2^32ä¸ªbitä½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653824498278-20240615212954-m8gqxwn.png" alt="1653824498278"></p><p>BitMapçš„æ“ä½œå‘½ä»¤æœ‰ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>SETBITï¼šå‘æŒ‡å®šä½ç½®ï¼ˆoffsetï¼‰å­˜å…¥ä¸€ä¸ª0æˆ–1</p></li><li class="lvl-2"><p>GETBIT ï¼šè·å–æŒ‡å®šä½ç½®ï¼ˆoffsetï¼‰çš„bitå€¼</p></li><li class="lvl-2"><p>BITCOUNT ï¼šç»Ÿè®¡BitMapä¸­å€¼ä¸º1çš„bitä½çš„æ•°é‡</p></li><li class="lvl-2"><p>BITFIELD ï¼šæ“ä½œï¼ˆæŸ¥è¯¢ã€ä¿®æ”¹ã€è‡ªå¢ï¼‰BitMapä¸­bitæ•°ç»„ä¸­çš„æŒ‡å®šä½ç½®ï¼ˆoffsetï¼‰çš„å€¼</p></li><li class="lvl-2"><p>BITFIELD_RO ï¼šè·å–BitMapä¸­bitæ•°ç»„ï¼Œå¹¶ä»¥åè¿›åˆ¶å½¢å¼è¿”å›</p></li><li class="lvl-2"><p>BITOP ï¼šå°†å¤šä¸ªBitMapçš„ç»“æœåšä½è¿ç®—ï¼ˆä¸ ã€æˆ–ã€å¼‚æˆ–ï¼‰</p></li><li class="lvl-2"><p>BITPOS ï¼šæŸ¥æ‰¾bitæ•°ç»„ä¸­æŒ‡å®šèŒƒå›´å†…ç¬¬ä¸€ä¸ª0æˆ–1å‡ºç°çš„ä½ç½®</p></li></ul><h4 id="11-2-ã€ç”¨æˆ·ç­¾åˆ°-å®ç°ç­¾åˆ°åŠŸèƒ½">11.2 ã€ç”¨æˆ·ç­¾åˆ°-å®ç°ç­¾åˆ°åŠŸèƒ½</h4><p>éœ€æ±‚ï¼šå®ç°ç­¾åˆ°æ¥å£ï¼Œå°†å½“å‰ç”¨æˆ·å½“å¤©ç­¾åˆ°ä¿¡æ¯ä¿å­˜åˆ°Redisä¸­</p><p>æ€è·¯ï¼šæˆ‘ä»¬å¯ä»¥æŠŠå¹´å’Œæœˆä½œä¸ºbitMapçš„keyï¼Œç„¶åä¿å­˜åˆ°ä¸€ä¸ªbitMapä¸­ï¼Œæ¯æ¬¡ç­¾åˆ°å°±åˆ°å¯¹åº”çš„ä½ä¸ŠæŠŠæ•°å­—ä»0å˜æˆ1ï¼Œåªè¦å¯¹åº”æ˜¯1ï¼Œå°±è¡¨æ˜è¯´æ˜è¿™ä¸€å¤©å·²ç»ç­¾åˆ°äº†ï¼Œåä¹‹åˆ™æ²¡æœ‰ç­¾åˆ°ã€‚</p><p>æˆ‘ä»¬é€šè¿‡æ¥å£æ–‡æ¡£å‘ç°ï¼Œæ­¤æ¥å£å¹¶æ²¡æœ‰ä¼ é€’ä»»ä½•çš„å‚æ•°ï¼Œæ²¡æœ‰å‚æ•°æ€ä¹ˆç¡®å®æ˜¯å“ªä¸€å¤©ç­¾åˆ°å‘¢ï¼Ÿè¿™ä¸ªå¾ˆå®¹æ˜“ï¼Œå¯ä»¥é€šè¿‡åå°ä»£ç ç›´æ¥è·å–å³å¯ï¼Œç„¶ååˆ°å¯¹åº”çš„åœ°å€ä¸Šå»ä¿®æ”¹bitMapã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653833970361-20240615212954-yukight.png" alt="1653833970361"></p><p><strong>ä»£ç </strong></p><p>UserController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/sign&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">sign</span><span class="params">()</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> userService.sign();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">sign</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è·å–å½“å‰ç™»å½•ç”¨æˆ·</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="comment">// 2.è·å–æ—¥æœŸ</span></span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">    <span class="comment">// 3.æ‹¼æ¥key</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">keySuffix</span> <span class="operator">=</span> now.format(DateTimeFormatter.ofPattern(<span class="string">&quot;:yyyyMM&quot;</span>));</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> USER_SIGN_KEY + userId + keySuffix;</span><br><span class="line">    <span class="comment">// 4.è·å–ä»Šå¤©æ˜¯æœ¬æœˆçš„ç¬¬å‡ å¤©</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">dayOfMonth</span> <span class="operator">=</span> now.getDayOfMonth();</span><br><span class="line">    <span class="comment">// 5.å†™å…¥Redis SETBIT key offset 1</span></span><br><span class="line">    stringRedisTemplate.opsForValue().setBit(key, dayOfMonth - <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-3-ç”¨æˆ·ç­¾åˆ°-ç­¾åˆ°ç»Ÿè®¡">11.3 ç”¨æˆ·ç­¾åˆ°-ç­¾åˆ°ç»Ÿè®¡</h4><p><strong>é—®é¢˜1ï¼š</strong> ä»€ä¹ˆå«åšè¿ç»­ç­¾åˆ°å¤©æ•°ï¼Ÿä»æœ€åä¸€æ¬¡ç­¾åˆ°å¼€å§‹å‘å‰ç»Ÿè®¡ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€æ¬¡æœªç­¾åˆ°ä¸ºæ­¢ï¼Œè®¡ç®—æ€»çš„ç­¾åˆ°æ¬¡æ•°ï¼Œå°±æ˜¯è¿ç»­ç­¾åˆ°å¤©æ•°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653834455899-20240615212954-taonmmo.png" alt="1653834455899"></p><p>Javaé€»è¾‘ä»£ç ï¼šè·å¾—å½“å‰è¿™ä¸ªæœˆçš„æœ€åä¸€æ¬¡ç­¾åˆ°æ•°æ®ï¼Œå®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç„¶åä¸åœçš„å‘å‰ç»Ÿè®¡ï¼Œç›´åˆ°è·å¾—ç¬¬ä¸€ä¸ªé0çš„æ•°å­—å³å¯ï¼Œæ¯å¾—åˆ°ä¸€ä¸ªé0çš„æ•°å­—è®¡æ•°å™¨+1ï¼Œç›´åˆ°éå†å®Œæ‰€æœ‰çš„æ•°æ®ï¼Œå°±å¯ä»¥è·å¾—å½“å‰æœˆçš„ç­¾åˆ°æ€»å¤©æ•°äº†</p><p><strong>é—®é¢˜2ï¼š</strong> å¦‚ä½•å¾—åˆ°æœ¬æœˆåˆ°ä»Šå¤©ä¸ºæ­¢çš„æ‰€æœ‰ç­¾åˆ°æ•°æ®ï¼Ÿ</p><p>BITFIELD key GET u[dayOfMonth] 0</p><p>å‡è®¾ä»Šå¤©æ˜¯10å·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä»å½“å‰æœˆçš„ç¬¬ä¸€å¤©å¼€å§‹ï¼Œè·å¾—åˆ°å½“å‰è¿™ä¸€å¤©çš„ä½æ•°ï¼Œæ˜¯10å·ï¼Œé‚£ä¹ˆå°±æ˜¯10ä½ï¼Œå»æ‹¿è¿™æ®µæ—¶é—´çš„æ•°æ®ï¼Œå°±èƒ½æ‹¿åˆ°æ‰€æœ‰çš„æ•°æ®äº†ï¼Œé‚£ä¹ˆè¿™10å¤©é‡Œè¾¹ç­¾åˆ°äº†å¤šå°‘æ¬¡å‘¢ï¼Ÿç»Ÿè®¡æœ‰å¤šå°‘ä¸ª1å³å¯ã€‚</p><p><strong>é—®é¢˜3ï¼šå¦‚ä½•ä»åå‘å‰éå†æ¯ä¸ªbitä½ï¼Ÿ</strong></p><p>æ³¨æ„ï¼šbitMapè¿”å›çš„æ•°æ®æ˜¯10è¿›åˆ¶ï¼Œå“ªå‡å¦‚è¯´è¿”å›ä¸€ä¸ªæ•°å­—8ï¼Œé‚£ä¹ˆæˆ‘å“ªå„¿çŸ¥é“åˆ°åº•å“ªäº›æ˜¯0ï¼Œå“ªäº›æ˜¯1å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦è®©å¾—åˆ°çš„10è¿›åˆ¶æ•°å­—å’Œ1åšä¸è¿ç®—å°±å¯ä»¥äº†ï¼Œå› ä¸º1åªæœ‰é‡è§1 æ‰æ˜¯1ï¼Œå…¶ä»–æ•°å­—éƒ½æ˜¯0 ï¼Œæˆ‘ä»¬æŠŠç­¾åˆ°ç»“æœå’Œ1è¿›è¡Œä¸æ“ä½œï¼Œæ¯ä¸ä¸€æ¬¡ï¼Œå°±æŠŠç­¾åˆ°ç»“æœå‘å³ç§»åŠ¨ä¸€ä½ï¼Œä¾æ¬¡å†…æ¨ï¼Œæˆ‘ä»¬å°±èƒ½å®Œæˆé€ä¸ªéå†çš„æ•ˆæœäº†ã€‚</p><p>éœ€æ±‚ï¼šå®ç°ä¸‹é¢æ¥å£ï¼Œç»Ÿè®¡å½“å‰ç”¨æˆ·æˆªæ­¢å½“å‰æ—¶é—´åœ¨æœ¬æœˆçš„è¿ç»­ç­¾åˆ°å¤©æ•°</p><p>æœ‰ç”¨æˆ·æœ‰æ—¶é—´æˆ‘ä»¬å°±å¯ä»¥ç»„ç»‡å‡ºå¯¹åº”çš„keyï¼Œæ­¤æ—¶å°±èƒ½æ‰¾åˆ°è¿™ä¸ªç”¨æˆ·æˆªæ­¢è¿™å¤©çš„æ‰€æœ‰ç­¾åˆ°è®°å½•ï¼Œå†æ ¹æ®è¿™å¥—ç®—æ³•ï¼Œå°±èƒ½ç»Ÿè®¡å‡ºæ¥ä»–è¿ç»­ç­¾åˆ°çš„æ¬¡æ•°äº†</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653835784444-20240615212954-8sv0bvx.png" alt="1653835784444"></p><p>ä»£ç </p><p><strong>UserController</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/sign/count&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">signCount</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> userService.signCount();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>UserServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">signCount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è·å–å½“å‰ç™»å½•ç”¨æˆ·</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">    <span class="comment">// 2.è·å–æ—¥æœŸ</span></span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">    <span class="comment">// 3.æ‹¼æ¥key</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">keySuffix</span> <span class="operator">=</span> now.format(DateTimeFormatter.ofPattern(<span class="string">&quot;:yyyyMM&quot;</span>));</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> USER_SIGN_KEY + userId + keySuffix;</span><br><span class="line">    <span class="comment">// 4.è·å–ä»Šå¤©æ˜¯æœ¬æœˆçš„ç¬¬å‡ å¤©</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">dayOfMonth</span> <span class="operator">=</span> now.getDayOfMonth();</span><br><span class="line">    <span class="comment">// 5.è·å–æœ¬æœˆæˆªæ­¢ä»Šå¤©ä¸ºæ­¢çš„æ‰€æœ‰çš„ç­¾åˆ°è®°å½•ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåè¿›åˆ¶çš„æ•°å­— BITFIELD sign:5:202203 GET u14 0</span></span><br><span class="line">    List&lt;Long&gt; result = stringRedisTemplate.opsForValue().bitField(</span><br><span class="line">            key,</span><br><span class="line">            BitFieldSubCommands.create()</span><br><span class="line">                    .get(BitFieldSubCommands.BitFieldType.unsigned(dayOfMonth)).valueAt(<span class="number">0</span>)</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">if</span> (result == <span class="literal">null</span> || result.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// æ²¡æœ‰ä»»ä½•ç­¾åˆ°ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Long</span> <span class="variable">num</span> <span class="operator">=</span> result.get(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="literal">null</span> || num == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.ok(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 6.å¾ªç¯éå†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// 6.1.è®©è¿™ä¸ªæ•°å­—ä¸1åšä¸è¿ç®—ï¼Œå¾—åˆ°æ•°å­—çš„æœ€åä¸€ä¸ªbitä½  // åˆ¤æ–­è¿™ä¸ªbitä½æ˜¯å¦ä¸º0</span></span><br><span class="line">        <span class="keyword">if</span> ((num &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœä¸º0ï¼Œè¯´æ˜æœªç­¾åˆ°ï¼Œç»“æŸ</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœä¸ä¸º0ï¼Œè¯´æ˜å·²ç­¾åˆ°ï¼Œè®¡æ•°å™¨+1</span></span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æŠŠæ•°å­—å³ç§»ä¸€ä½ï¼ŒæŠ›å¼ƒæœ€åä¸€ä¸ªbitä½ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªbitä½</span></span><br><span class="line">        num &gt;&gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.ok(count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-4-é¢å¤–åŠ é¤-å…³äºä½¿ç”¨bitmapæ¥è§£å†³ç¼“å­˜ç©¿é€çš„æ–¹æ¡ˆ">11.4 é¢å¤–åŠ é¤-å…³äºä½¿ç”¨bitmapæ¥è§£å†³ç¼“å­˜ç©¿é€çš„æ–¹æ¡ˆ</h4><p>å›é¡¾<strong>ç¼“å­˜ç©¿é€</strong>ï¼š</p><p>å‘èµ·äº†ä¸€ä¸ªæ•°æ®åº“ä¸å­˜åœ¨çš„ï¼Œredisé‡Œè¾¹ä¹Ÿä¸å­˜åœ¨çš„æ•°æ®ï¼Œé€šå¸¸ä½ å¯ä»¥æŠŠä»–çœ‹æˆä¸€ä¸ªæ”»å‡»</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ¤æ–­id&lt;0</p></li><li class="lvl-2"><p>å¦‚æœæ•°æ®åº“æ˜¯ç©ºï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥å¾€redisé‡Œè¾¹æŠŠè¿™ä¸ªç©ºæ•°æ®ç¼“å­˜èµ·æ¥</p></li></ul><p>ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆï¼šé‡åˆ°çš„é—®é¢˜æ˜¯å¦‚æœç”¨æˆ·è®¿é—®çš„æ˜¯idä¸å­˜åœ¨çš„æ•°æ®ï¼Œåˆ™æ­¤æ—¶å°±æ— æ³•ç”Ÿæ•ˆ</p><p>ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆï¼šé‡åˆ°çš„é—®é¢˜æ˜¯ï¼šå¦‚æœæ˜¯ä¸åŒçš„idé‚£å°±å¯ä»¥é˜²æ­¢ä¸‹æ¬¡è¿‡æ¥ç›´å‡»æ•°æ®</p><p>æ‰€ä»¥æˆ‘ä»¬å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥å°†æ•°æ®åº“çš„æ•°æ®ï¼Œæ‰€å¯¹åº”çš„idå†™å…¥åˆ°ä¸€ä¸ªlisté›†åˆä¸­ï¼Œå½“ç”¨æˆ·è¿‡æ¥è®¿é—®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥å»åˆ¤æ–­listä¸­æ˜¯å¦åŒ…å«å½“å‰çš„è¦æŸ¥è¯¢çš„æ•°æ®ï¼Œå¦‚æœè¯´ç”¨æˆ·è¦æŸ¥è¯¢çš„idæ•°æ®å¹¶ä¸åœ¨listé›†åˆä¸­ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœlistä¸­åŒ…å«å¯¹åº”æŸ¥è¯¢çš„idæ•°æ®ï¼Œåˆ™è¯´æ˜ä¸æ˜¯ä¸€æ¬¡ç¼“å­˜ç©¿é€æ•°æ®ï¼Œåˆ™ç›´æ¥æ”¾è¡Œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653836416586-20240615212954-6cerjpb.png" alt="1653836416586"></p><p>ç°åœ¨çš„é—®é¢˜æ˜¯è¿™ä¸ªä¸»é”®å…¶å®å¹¶æ²¡æœ‰é‚£ä¹ˆçŸ­ï¼Œè€Œæ˜¯å¾ˆé•¿çš„ä¸€ä¸ª ä¸»é”®</p><p>å“ªæ€•ä½ å•ç‹¬å»æå–è¿™ä¸ªä¸»é”®ï¼Œä½†æ˜¯åœ¨11å¹´å·¦å³ï¼Œæ·˜å®çš„å•†å“æ€»é‡å°±å·²ç»è¶…è¿‡10äº¿ä¸ª</p><p>æ‰€ä»¥å¦‚æœé‡‡ç”¨ä»¥ä¸Šæ–¹æ¡ˆï¼Œè¿™ä¸ªlistä¹Ÿä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨bitmapæ¥å‡å°‘listçš„å­˜å‚¨ç©ºé—´</p><p>æˆ‘ä»¬å¯ä»¥æŠŠlistæ•°æ®æŠ½è±¡æˆä¸€ä¸ªéå¸¸å¤§çš„bitmapï¼Œæˆ‘ä»¬ä¸å†ä½¿ç”¨listï¼Œè€Œæ˜¯å°†dbä¸­çš„idæ•°æ®åˆ©ç”¨å“ˆå¸Œæ€æƒ³ï¼Œæ¯”å¦‚ï¼š</p><p>id % bitmap.size  = ç®—å‡ºå½“å‰è¿™ä¸ªidå¯¹åº”åº”è¯¥è½åœ¨bitmapçš„å“ªä¸ªç´¢å¼•ä¸Šï¼Œç„¶åå°†è¿™ä¸ªå€¼ä»0å˜æˆ1ï¼Œç„¶åå½“ç”¨æˆ·æ¥æŸ¥è¯¢æ•°æ®æ—¶ï¼Œæ­¤æ—¶å·²ç»æ²¡æœ‰äº†listï¼Œè®©ç”¨æˆ·ç”¨ä»–æŸ¥è¯¢çš„idå»ç”¨ç›¸åŒçš„å“ˆå¸Œç®—æ³•ï¼Œ ç®—å‡ºæ¥å½“å‰è¿™ä¸ªidåº”å½“è½åœ¨bitmapçš„å“ªä¸€ä½ï¼Œç„¶ååˆ¤æ–­è¿™ä¸€ä½æ˜¯0ï¼Œè¿˜æ˜¯1ï¼Œå¦‚æœæ˜¯0åˆ™è¡¨æ˜è¿™ä¸€ä½ä¸Šçš„æ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼Œ  é‡‡ç”¨è¿™ç§æ–¹å¼æ¥å¤„ç†ï¼Œéœ€è¦é‡ç‚¹è€ƒè™‘ä¸€ä¸ªäº‹æƒ…ï¼Œå°±æ˜¯è¯¯å·®ç‡ï¼Œæ‰€è°“çš„è¯¯å·®ç‡å°±æ˜¯æŒ‡å½“å‘ç”Ÿå“ˆå¸Œå†²çªçš„æ—¶å€™ï¼Œäº§ç”Ÿçš„è¯¯å·®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653836578970-20240615212954-ldj14in.png" alt="1653836578970"></p><h2 id="12ã€UVç»Ÿè®¡">12ã€UVç»Ÿè®¡</h2><h3 id="12-1-ã€UVç»Ÿè®¡-HyperLogLog">12.1 ã€UVç»Ÿè®¡-HyperLogLog</h3><p>é¦–å…ˆæˆ‘ä»¬ææ‡‚ä¸¤ä¸ªæ¦‚å¿µï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>UVï¼šå…¨ç§°Unique Visitorï¼Œä¹Ÿå«ç‹¬ç«‹è®¿å®¢é‡ï¼Œæ˜¯æŒ‡é€šè¿‡äº’è”ç½‘è®¿é—®ã€æµè§ˆè¿™ä¸ªç½‘é¡µçš„è‡ªç„¶äººã€‚1å¤©å†…åŒä¸€ä¸ªç”¨æˆ·å¤šæ¬¡è®¿é—®è¯¥ç½‘ç«™ï¼Œåªè®°å½•1æ¬¡ã€‚</p></li><li class="lvl-2"><p>PVï¼šå…¨ç§°Page Viewï¼Œä¹Ÿå«é¡µé¢è®¿é—®é‡æˆ–ç‚¹å‡»é‡ï¼Œç”¨æˆ·æ¯è®¿é—®ç½‘ç«™çš„ä¸€ä¸ªé¡µé¢ï¼Œè®°å½•1æ¬¡PVï¼Œç”¨æˆ·å¤šæ¬¡æ‰“å¼€é¡µé¢ï¼Œåˆ™è®°å½•å¤šæ¬¡PVã€‚å¾€å¾€ç”¨æ¥è¡¡é‡ç½‘ç«™çš„æµé‡ã€‚</p></li></ul><p>é€šå¸¸æ¥è¯´UVä¼šæ¯”PVå¤§å¾ˆå¤šï¼Œæ‰€ä»¥è¡¡é‡åŒä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ï¼Œæˆ‘ä»¬éœ€è¦ç»¼åˆè€ƒè™‘å¾ˆå¤šå› ç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬åªæ˜¯å•çº¯çš„æŠŠè¿™ä¸¤ä¸ªå€¼ä½œä¸ºä¸€ä¸ªå‚è€ƒå€¼</p><p>UVç»Ÿè®¡åœ¨æœåŠ¡ç«¯åšä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºè¦åˆ¤æ–­è¯¥ç”¨æˆ·æ˜¯å¦å·²ç»ç»Ÿè®¡è¿‡äº†ï¼Œéœ€è¦å°†ç»Ÿè®¡è¿‡çš„ç”¨æˆ·ä¿¡æ¯ä¿å­˜ã€‚ä½†æ˜¯å¦‚æœæ¯ä¸ªè®¿é—®çš„ç”¨æˆ·éƒ½ä¿å­˜åˆ°Redisä¸­ï¼Œæ•°æ®é‡ä¼šéå¸¸ææ€–ï¼Œé‚£æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>Hyperloglog(HLL)æ˜¯ä»Loglogç®—æ³•æ´¾ç”Ÿçš„æ¦‚ç‡ç®—æ³•ï¼Œç”¨äºç¡®å®šéå¸¸å¤§çš„é›†åˆçš„åŸºæ•°ï¼Œè€Œä¸éœ€è¦å­˜å‚¨å…¶æ‰€æœ‰å€¼ã€‚ç›¸å…³ç®—æ³•åŸç†å¤§å®¶å¯ä»¥å‚è€ƒï¼š<a href="https://juejin.cn/post/6844903785744056333#heading-0">https://juejin.cn/post/6844903785744056333#heading-0</a><br>Redisä¸­çš„HLLæ˜¯åŸºäºstringç»“æ„å®ç°çš„ï¼Œå•ä¸ªHLLçš„å†…å­˜<strong>æ°¸è¿œå°äº16kb</strong>ï¼Œ<strong>å†…å­˜å ç”¨ä½</strong>çš„ä»¤äººå‘æŒ‡ï¼ä½œä¸ºä»£ä»·ï¼Œå…¶æµ‹é‡ç»“æœæ˜¯æ¦‚ç‡æ€§çš„ï¼Œ<strong>æœ‰å°äº0.81ï¼…çš„è¯¯å·®</strong>ã€‚ä¸è¿‡å¯¹äºUVç»Ÿè®¡æ¥è¯´ï¼Œè¿™å®Œå…¨å¯ä»¥å¿½ç•¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653837988985-20240615212954-sqwqx2h.png" alt="1653837988985"></p><h3 id="12-2-UVç»Ÿè®¡-æµ‹è¯•ç™¾ä¸‡æ•°æ®çš„ç»Ÿè®¡">12.2 UVç»Ÿè®¡-æµ‹è¯•ç™¾ä¸‡æ•°æ®çš„ç»Ÿè®¡</h3><p>æµ‹è¯•æ€è·¯ï¼šæˆ‘ä»¬ç›´æ¥åˆ©ç”¨å•å…ƒæµ‹è¯•ï¼Œå‘HyperLogLogä¸­æ·»åŠ 100ä¸‡æ¡æ•°æ®ï¼Œçœ‹çœ‹å†…å­˜å ç”¨å’Œç»Ÿè®¡æ•ˆæœå¦‚ä½•</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1653838053608-20240615212954-b2wac6e.png" alt="1653838053608"></p><p>ç»è¿‡æµ‹è¯•ï¼šæˆ‘ä»¬ä¼šå‘ç”Ÿä»–çš„è¯¯å·®æ˜¯åœ¨å…è®¸èŒƒå›´å†…ï¼Œå¹¶ä¸”å†…å­˜å ç”¨æå°</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rediså®æˆ˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7. Maven æ–‡æ¡£èµ„æ–™</title>
      <link href="/posts/edab46fe.html"/>
      <url>/posts/edab46fe.html</url>
      
        <content type="html"><![CDATA[<h1>ä»€ä¹ˆæ˜¯Maven</h1><h2 id="Mavençš„æ¦‚å¿µ">Mavençš„æ¦‚å¿µ</h2><p>Maven æ˜¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ã€‚</p><p>Maven æ˜¯ Apache è½¯ä»¶åŸºé‡‘ä¼šç»„ç»‡ç»´æŠ¤çš„ä¸€æ¬¾è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œä¸“æ³¨æœåŠ¡äº Java å¹³å°çš„é¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†ã€‚Maven è¿™ä¸ªå•è¯çš„æœ¬æ„æ˜¯ï¼šä¸“å®¶ï¼Œå†…è¡Œã€‚</p><p>Maven æ˜¯ç›®å‰æœ€æµè¡Œçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œå¯¹äºç”Ÿäº§ç¯å¢ƒä¸‹å¤šæ¡†æ¶ã€å¤šæ¨¡å—æ•´åˆå¼€å‘æœ‰é‡è¦ä½œç”¨ï¼ŒMaven æ˜¯ä¸€æ¬¾åœ¨å¤§å‹é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦å·¥å…·ã€‚</p><p>â€</p><h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Maven">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Maven</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œé¡¹ç›®å¼€å‘ä¸ä»…ä»…æ˜¯å†™å†™ä»£ç è€Œå·²ï¼ŒæœŸé—´ä¼šä¼´éšç€å„ç§å¿…ä¸å¯å°‘çš„äº‹æƒ…è¦åšï¼Œä¾‹å¦‚ï¼š</p><ol><li class="lvl-3"><p>æˆ‘ä»¬éœ€è¦å¼•ç”¨å„ç§ jar åŒ…ï¼Œå°¤å…¶æ˜¯æ¯”è¾ƒå¤§çš„å·¥ç¨‹ï¼Œå¼•ç”¨çš„ jar åŒ…å¾€å¾€æœ‰å‡ åä¸ªä¹ƒè‡³ä¸Šç™¾ä¸ªï¼Œæ¯ä¸ªéƒ½è¦åˆ°ä¸åŒçš„å®˜ç½‘å»ä¸‹è½½ï¼Œè€Œä¸”æ¯æ¬¡ç”¨åˆ°çš„ jar åŒ…ï¼Œéƒ½éœ€è¦æ‰‹åŠ¨å¼•å…¥å·¥ç¨‹ç›®å½•ï¼Œè€Œä¸”ç»å¸¸é‡åˆ°å„ç§è®©äººæŠ“ç‹‚çš„ jar åŒ…å†²çªï¼Œç‰ˆæœ¬å†²çªï¼ŒMavenå¯ä»¥è‡ªåŠ¨ä¸‹è½½jaråŒ…åŠä¾èµ–åŒ…æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œå¤§å¤§å‡è½»äº†å·¥ä½œè´Ÿæ‹…ã€‚</p></li><li class="lvl-3"><p>æˆ‘ä»¬å¼€å‘çš„ Java æ–‡ä»¶ï¼Œéƒ½æ˜¯éœ€è¦å°†å®ƒç¼–è¯‘æˆäºŒè¿›åˆ¶å­—èŠ‚ç æ–‡ä»¶ã€‚å¥½åœ¨è¿™é¡¹å·¥ä½œå¯ä»¥ç”±å„ç§é›†æˆå¼€å‘å·¥å…·å¸®æˆ‘ä»¬å®Œæˆï¼ŒEclipseã€IDEA ç­‰éƒ½å¯ä»¥å°†ä»£ç å³æ—¶ç¼–è¯‘ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¤šä¸ªæ¨¡å—åŒæ—¶ç¼–è¯‘ï¼Œå°±å¿…é¡»è¦å€ŸåŠ©äºMavenå·¥å…·äº†ã€‚</p></li><li class="lvl-3"><p>æ¯ä¸ªé¡¹ç›®æˆ–æ¨¡å—å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¼šæœ‰ bugï¼Œå› æ­¤å†™å®Œäº†ä»£ç ï¼Œæˆ‘ä»¬è¿˜è¦å†™ä¸€äº›å•å…ƒæµ‹è¯•ï¼Œç„¶åä¸€ä¸ªä¸ªçš„è¿è¡Œæ¥æ£€éªŒä»£ç è´¨é‡ï¼ŒMavenæä¾›äº†ä¸“é—¨çš„æµ‹è¯•æ’ä»¶æ¥å®æ–½æµ‹è¯•ã€‚</p></li><li class="lvl-3"><p>å†ä¼˜é›…çš„ä»£ç ä¹Ÿæ˜¯è¦å‡ºæ¥å–çš„ã€‚æˆ‘ä»¬åé¢è¿˜éœ€è¦æŠŠä»£ç ä¸å„ç§é…ç½®æ–‡ä»¶ã€èµ„æºæ•´åˆåˆ°ä¸€èµ·ï¼Œå®šå‹æ‰“åŒ…ï¼Œå¦‚æœæ˜¯ webé¡¹ç›®ï¼Œè¿˜éœ€è¦å°†ä¹‹å‘å¸ƒåˆ°æœåŠ¡å™¨è¿›è¡Œè°ƒç”¨ï¼Œè¿™äº›éƒ½å¯ä»¥é€šè¿‡Mavenè½»æ¾æå®šã€‚</p></li></ol><p>æ€»ä¹‹ï¼ŒMavenæ˜¯é¡¹ç›®å¼€å‘å¿…é¡»ä¸å¯å°‘çš„å·¥å…·ã€‚</p><p>ç±»ä¼¼è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·è¿˜æœ‰ï¼šGant,  Gradleã€‚</p><p>â€</p><h2 id="é¡¹ç›®æ„å»ºè¿‡ç¨‹">é¡¹ç›®æ„å»ºè¿‡ç¨‹</h2><p>æ„å»º(build)æ˜¯é¢å‘è¿‡ç¨‹çš„(ä»å¼€å§‹åˆ°ç»“å°¾çš„å¤šä¸ªæ­¥éª¤)ï¼Œæ¶‰åŠåˆ°å¤šä¸ªç¯èŠ‚çš„ååŒå·¥ä½œã€‚<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710165876773-51d81f3a-ae16-4c71-ad03-2a128472fe5e-20240718151933-g5anwy4.png" alt="image.png"><br>æ„å»ºè¿‡ç¨‹çš„å‡ ä¸ªä¸»è¦ç¯èŠ‚</p><ol><li class="lvl-3"><p>æ¸…ç†ï¼šåˆ é™¤ä»¥å‰çš„ç¼–è¯‘ç»“æœï¼Œä¸ºé‡æ–°ç¼–è¯‘åšå¥½å‡†å¤‡ã€‚</p></li><li class="lvl-3"><p>ç¼–è¯‘ï¼šå°†Javaæºç¨‹åºç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ã€‚</p></li><li class="lvl-3"><p>æµ‹è¯•ï¼šé’ˆå¯¹é¡¹ç›®ä¸­çš„å…³é”®ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿é¡¹ç›®åœ¨è¿­ä»£å¼€å‘è¿‡ç¨‹ä¸­å…³é”®ç‚¹çš„æ­£ç¡®æ€§ã€‚</p></li><li class="lvl-3"><p>æŠ¥å‘Šï¼šåœ¨æ¯ä¸€æ¬¡æµ‹è¯•åä»¥æ ‡å‡†çš„æ ¼å¼è®°å½•å’Œå±•ç¤ºæµ‹è¯•ç»“æœã€‚</p></li><li class="lvl-3"><p>æ‰“åŒ…ï¼šå°†ä¸€ä¸ªåŒ…å«è¯¸å¤šæ–‡ä»¶çš„å·¥ç¨‹å°è£…ä¸ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶ç”¨äºå®‰è£…æˆ–éƒ¨ç½²ã€‚Java å·¥ç¨‹å¯¹åº” jar åŒ…ï¼ŒWeb å·¥ç¨‹å¯¹åº”waråŒ…ã€‚</p></li><li class="lvl-3"><p>å®‰è£…ï¼šåœ¨Mavenç¯å¢ƒä¸‹ç‰¹æŒ‡å°†jaråŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚è¿™æ ·è¯¥é¡¹ç›®å°±å¯ä»¥è¢«å…¶ä»–çš„mavené¡¹ç›®é€šè¿‡ä¾èµ–çš„æ–¹å¼å¼•å…¥ã€‚</p></li><li class="lvl-3"><p>éƒ¨ç½²ï¼šå°†jaråŒ…éƒ¨ç½²åˆ°ç§æœä¸Šã€‚</p></li></ol><p>â€</p><h2 id="Mavençš„ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ï¼ˆé‡ç‚¹ï¼‰">Mavençš„ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ï¼ˆé‡ç‚¹ï¼‰</h2><h3 id="é¡¹ç›®æ„å»º">é¡¹ç›®æ„å»º</h3><p>å¯¹é¡¹ç›®è¿›è¡Œç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œéƒ¨ç½²ç­‰æ„å»ºã€‚</p><h3 id="ä¾èµ–ç®¡ç†">ä¾èµ–ç®¡ç†</h3><p>å¯¹jaråŒ…çš„ç»Ÿä¸€ç®¡ç†ï¼ŒMavenæä¾›ä¸­å¤®ä»“åº“ï¼Œç§æœï¼Œæœ¬åœ°ä»“åº“è§£å†³jaråŒ…çš„ä¾èµ–å’Œç›¸å…³ä¾èµ–çš„ä¸‹è½½ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šåŒ…æ‹¬è“ã€é»„ä¸¤ä¸ªéƒ¨åˆ†åˆ†åˆ«å¯¹åº”ç€**<a href="https://www.zhihu.com/search?q=%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2811089619%7D">ä¾èµ–å…³ç³»</a><strong>â€‹</strong>å’Œé¡¹ç›®æ„å»º**ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710167507407-a3db57eb-0be4-45df-b304-a170351d10b5-20240718151933-xti259h.png" alt="image.png"></p><p>â€</p><h1>Mavençš„æ ¸å¿ƒæ¦‚å¿µ</h1><h2 id="ä»€ä¹ˆæ˜¯POM">ä»€ä¹ˆæ˜¯POM</h2><p>POM(Project Object Model)é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæ˜¯Mavençš„æ ¸å¿ƒç»„ä»¶ã€‚å®ƒæ˜¯Mavenä¸­çš„åŸºæœ¬å·¥ä½œå•å…ƒã€‚å®ƒæ˜¯ä¸€ä¸ªxmlæ–‡ä»¶ï¼Œä»¥pom.xmlé©»ç•™åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚POMä¸ä»…åŒ…å«æœ‰å…³é¡¹ç›®çš„ä¿¡æ¯åŠMavenç”¨äºæ„å»ºé¡¹ç›®çš„å„ç§é…ç½®çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿˜åŒ…å«ç›®æ ‡å’Œæ’ä»¶ã€‚</p><p>pom.xmlæ–‡ä»¶ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ·»åŠ çˆ¶å·¥ç¨‹çš„å¼•ç”¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode.xiaomi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xiaomi-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æœ¬é¡¹ç›®çš„èº«ä»½è¯å·gav--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_006_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ‰“åŒ…æ–¹å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é›†ä¸­å®šä¹‰ä¾èµ–ç‰ˆæœ¬å·,ä½¿ç”¨å±æ€§--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--mysqlé©±åŠ¨çš„ä¾èµ–--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.32<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ·»åŠ ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--èšåˆå·¥ç¨‹--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-pojo<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-mapper<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-service<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-web<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--æ’ä»¶é…ç½®--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--æŒ‡å®šé…ç½®æ–‡ä»¶è¯†åˆ«è·¯å¾„--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯çº¦å®šçš„ç›®å½•ç»“æ„">ä»€ä¹ˆæ˜¯çº¦å®šçš„ç›®å½•ç»“æ„</h2><p>ä¼šæœ‰é¢„å…ˆçº¦å®šå¥½çš„ç›®å½•ç»“æ„ï¼Œå¿…é¡»è¦éµå¾ªçš„è§„èŒƒï¼Œæ‰€æœ‰çš„Mavené¡¹ç›®éƒ½ä¾ç…§è¿™ä¸ªè§„èŒƒã€‚ä¸»è¦çš„ç›®çš„æ˜¯å°†é¡¹ç›®çš„æºç æ–‡ä»¶ï¼Œæµ‹è¯•ä»£ç ï¼Œèµ„æºæ–‡ä»¶å®Œå…¨åˆ†å¼€ï¼Œä¾¿äºé¡¹ç›®ç®¡ç†å’Œæ‰©å±•ã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710225813568-68f6bedb-6772-43b7-a474-7cff8fcd2c15-20240718151933-szwo5l4.png" alt="image.png"></p><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯åæ ‡GAV">ä»€ä¹ˆæ˜¯åæ ‡GAV</h2><p>ä¹Ÿç§°ä¸ºgavå®šä½ã€‚ä½¿ç”¨ä¸‰ä¸ªæ ‡ç­¾æ¥å”¯ä¸€å®šä½jarèµ„æºã€‚é¡¹ç›®çš„å”¯ä¸€çš„åç§°ï¼Œåˆ›å»ºé¡¹ç›®æ—¶å®šä¹‰gavåç§°ï¼Œå¼•ç”¨é¡¹ç›®æ—¶ä½¿ç”¨gavåç§°ã€‚ç›¸å½“äºé¡¹ç›®çš„èº«ä»½è¯å·ã€‚</p><ol><li class="lvl-3"><p>groupId:ç»„ç»‡åç§°,ä¸€èˆ¬æ˜¯å…¬å¸åŸŸåçš„å€’å†™  com.bjpowernode</p></li><li class="lvl-3"><p>artifactId:é¡¹ç›®åç§°   springmvc_006_ssm</p></li><li class="lvl-3"><p>version: ç‰ˆæœ¬ç¼–å· 1.0-SNAPSHOT(å¼€å‘æ—¶çš„ä¸´æ—¶ç‰ˆæœ¬å·ï¼‰  5.2.5.RELEASEï¼ˆå‘å¸ƒç‰ˆæœ¬ï¼‰</p></li></ol><p>å®šä¹‰é¡¹ç›®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_006_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¼•ç”¨é¡¹ç›®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_006_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯ä»“åº“">ä»€ä¹ˆæ˜¯ä»“åº“</h2><p>å­˜æ”¾jaråŒ…çš„ä½ç½® ã€‚Mavenä¸­æ‰€æœ‰çš„jaråŒ…éƒ½åœ¨ä»“åº“ä¸­ã€‚ä»“åº“åˆ†ä¸ºæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ã€‚</p><p>æˆ‘ä»¬ä¾èµ–çš„jaråŒ…å®ƒä»å“ªå„¿è·å–å‘¢ï¼Ÿæœ‰åŒå­¦è¯´å·²ç»å®‰è£…äº†ï¼Œåœ¨å®ƒçš„å®‰è£…åŒ…é‡Œå•Šï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹mavenä¸‹è½½ä¸‹æ¥æ‰8Mï¼Œæˆ‘ä»¬éœ€è¦çš„jaråŒ…æœ‰æ—¶å€™éƒ½å‡ ç™¾å…†ç”šè‡³å‡ ä¸ªGï¼Œå®ƒä»å“ªå„¿å¼„å»å‘¢ï¼Ÿ å…¶å®ï¼Œmavenæœ‰ä»“åº“çš„æ¦‚å¿µã€‚åœ¨Mavenä¸­ï¼Œä»»ä½•ä¸€ä¸ªä¾èµ–ã€æ’ä»¶æˆ–è€…é¡¹ç›®æ„å»ºçš„è¾“å‡ºï¼Œéƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ„ä»¶ã€‚Maven æ ¸å¿ƒç¨‹åºä»…ä»…å®šä¹‰äº†è‡ªåŠ¨åŒ–æ„å»ºé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†å…·ä½“çš„æ„å»ºå·¥ä½œæ˜¯ç”±ç‰¹å®šçš„æ„ä»¶å®Œæˆçš„ã€‚è€Œä¸”ä¸ºäº†æé«˜æ„å»ºçš„æ•ˆç‡å’Œæ„ä»¶å¤ç”¨ï¼ŒmavenæŠŠæ‰€æœ‰çš„æ„ä»¶ç»Ÿä¸€å­˜å‚¨åœ¨æŸä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®å°±å«åšä»“åº“ã€‚</p><p>â€</p><h3 id="æœ¬åœ°ä»“åº“">æœ¬åœ°ä»“åº“</h3><p>æœ¬åœ°ä»“åº“ï¼Œå­˜åœ¨äºå½“å‰ç”µè„‘ä¸Šï¼Œé»˜è®¤å­˜æ”¾åœ¨<sub>.m2\repositoryä¸­,ä¸ºæœ¬æœºä¸Šæ‰€æœ‰çš„Mavenå·¥ç¨‹æœåŠ¡ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡Mavençš„é…ç½®æ–‡ä»¶Maven_home/conf/settings.xmlä¸­ä¿®æ”¹æœ¬åœ°ä»“åº“æ‰€åœ¨çš„ç›®å½•ã€‚</sub> æ˜¯ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œwindowsç³»ç»Ÿä¸­æ˜¯ c:/user/ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·å</p><p>æˆ‘è¯¾ç¨‹é‡Œæ˜¯å­˜æ”¾åœ¨æœ¬æœºä¸Šçš„æŸä¸ªç£ç›˜çš„ä½ç½®(ä¸€å®šæ˜¯æ²¡æœ‰ä¸­æ–‡çš„è·¯å¾„).    D:\repository</p><p>ç§˜å¯†:  gavå°±æ˜¯ä»“åº“ä¸­ä¸€çº§ä¸€çº§çš„ç›®å½•åç§°</p><p>â€</p><h3 id="è¿œç¨‹ä»“åº“">è¿œç¨‹ä»“åº“</h3><p>è¿œç¨‹ä»“åº“ï¼Œåˆ†ä¸ºä¸ºå…¨ä¸–ç•ŒèŒƒå›´å†…çš„å¼€å‘äººå‘˜æä¾›æœåŠ¡çš„ä¸­å¤®ä»“åº“ã€ä¸ºå…¨ä¸–ç•ŒèŒƒå›´å†…æŸäº›ç‰¹å®šçš„ç”¨æˆ·æä¾›æœåŠ¡çš„ä¸­å¤®ä»“åº“é•œåƒã€ä¸ºæœ¬å…¬å¸æä¾›æœåŠ¡è‡ªå·±æ¶è®¾çš„ç§æœã€‚</p><p>ä¸­å¤®ä»“åº“æ˜¯mavené»˜è®¤çš„è¿œç¨‹ä»“åº“ï¼Œå…¶åœ°å€æ˜¯<a href="http://repo.maven.apache.org/maven2/">:h</a>t<a href="http://repo.maven.apache.org/maven2/">tp://repo.maven.apache.org/maven2/</a>ï¼Œä¸­å¤®ä»“åº“åŒ…å«äº†ç»å¤§å¤šæ•°æµè¡Œçš„å¼€æºJavaæ„ä»¶ï¼Œä»¥åŠæºç ã€ä½œè€…ä¿¡æ¯ã€è®¸å¯è¯ä¿¡æ¯ç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç®€å•çš„Javaé¡¹ç›®ä¾èµ–çš„æ„ä»¶éƒ½å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½å¾—åˆ°ã€‚</p><p>ç§æœæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿œç¨‹ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨å±€åŸŸç½‘å†…çš„ä»“åº“æœåŠ¡ï¼Œç§æœä»£ç†å¹¿åŸŸç½‘ä¸Šçš„è¿œç¨‹ä»“åº“ï¼Œä¾›å±€åŸŸç½‘å†…çš„Mavenç”¨æˆ·ä½¿ç”¨ã€‚å½“Mavenéœ€è¦ä¸‹è½½æ„ä»¶çš„æ—¶å€™ï¼Œå®ƒä»ç§æœè¯·æ±‚ï¼Œå¦‚æœç§æœä¸Šä¸å­˜åœ¨è¯¥æ„ä»¶ï¼Œåˆ™ä»å¤–éƒ¨çš„è¿œç¨‹ä»“åº“ä¸‹è½½ï¼Œç¼“å­˜åœ¨ç§æœä¸Šä¹‹åï¼Œå†ä¸ºMavençš„ä¸‹è½½è¯·æ±‚æä¾›æœåŠ¡ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æŠŠä¸€äº›æ— æ³•ä»å¤–éƒ¨ä»“åº“ä¸‹è½½åˆ°çš„æ„ä»¶ä¸Šä¼ åˆ°ç§æœä¸Šã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710230075376-f389cdfa-9d95-4cce-9771-e717cae4dd48-20240718151933-gpbxkw7.png" alt="image.png"></p><p><strong>ç¨‹åºå‘˜å¸¸ç”¨çš„ä¸€ä¸ªä»“åº“:</strong><br><strong><a href="http://mvnrepository.com/">http://mvnrepository.com/</a></strong> **   **<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710230122267-f7fc65cb-47fd-49e7-a5e4-dd78391a329a-20240718151933-plx0b94.png" alt="image.png"></p><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯ä¾èµ–">ä»€ä¹ˆæ˜¯ä¾èµ–</h2><p>ä¸€ä¸ªMaven é¡¹ç›®æ­£å¸¸è¿è¡Œéœ€è¦å…¶å®ƒé¡¹ç›®çš„æ”¯æŒï¼ŒMaven ä¼šæ ¹æ®åæ ‡è‡ªåŠ¨åˆ°æœ¬åœ°ä»“åº“ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚å¯¹äºç¨‹åºå‘˜è‡ªå·±çš„ Maven é¡¹ç›®éœ€è¦è¿›è¡Œå®‰è£…ï¼Œæ‰èƒ½ä¿å­˜åˆ°ä»“åº“ä¸­ã€‚ä¸ç”¨maven çš„æ—¶å€™æ‰€æœ‰çš„ jar éƒ½ä¸æ˜¯ä½ çš„ï¼Œéœ€è¦å»å„ä¸ªåœ°æ–¹ä¸‹è½½æ‹·è´ï¼Œç”¨äº† maven æ‰€æœ‰çš„ jar åŒ…éƒ½æ˜¯ä½ çš„ï¼Œæƒ³ç”¨è°ï¼Œå«è°çš„åå­—å°±è¡Œã€‚maven å¸®ä½ ä¸‹è½½ã€‚</p><p>é™¤äº†ç®¡ç†å½“å‰è¦ä½¿ç”¨çš„jaråŒ…ï¼Œå¹¶ä¸”åŒæ—¶ç®¡ç†ä¸å…¶æœ‰ä¾èµ–å…³ç³»çš„jaråŒ…ï¼Œè‡ªåŠ¨å»ä¸‹è½½ï¼Œå¹¶æ·»åŠ åˆ°å½“å‰çš„ä»“åº“ï¼Œå¹¶ç»™é¡¹ç›®æ·»åŠ å¼•ç”¨ã€‚æ˜¯é€šè¿‡<dependencies>å¤§æ ‡ç­¾ä¸­çš„å­æ ‡ç­¾<dependency>ï¼Œä½¿ç”¨gavæ·»åŠ ä¾èµ–ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ">ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ</h2><p>å¯¹é¡¹ç›®çš„æ„å»ºæ˜¯å»ºç«‹åœ¨ç”Ÿå‘½å‘¨æœŸæ¨¡å‹ä¸Šçš„ï¼Œå®ƒæ˜ç¡®å®šä¹‰é¡¹ç›®ç”Ÿå‘½å‘¨æœŸå„ä¸ªé˜¶æ®µï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸€ä¸ªé˜¶æ®µæä¾›ç›¸å¯¹åº”çš„å‘½ä»¤ï¼Œå¯¹å¼€å‘è€…è€Œè¨€ä»…ä»…éœ€è¦æŒæ¡ä¸€å°å †çš„å‘½ä»¤å°±å¯ä»¥å®Œæˆé¡¹ç›®å„ä¸ªé˜¶æ®µçš„æ„å»ºå·¥ä½œã€‚</p><p>æ„å»ºé¡¹ç›®æ—¶æŒ‰ç…§ç”Ÿå‘½å‘¨æœŸé¡ºåºæ„å»ºï¼Œæ¯ä¸€ä¸ªé˜¶æ®µéƒ½æœ‰ç‰¹å®šçš„æ’ä»¶æ¥å®Œæˆã€‚ä¸è®ºç°åœ¨è¦æ‰§è¡Œç”Ÿå‘½å‘¨æœŸä¸­çš„å“ªä¸ªé˜¶æ®µï¼Œéƒ½æ˜¯ä»è¿™ä¸ªç”Ÿå‘½å‘¨æœŸçš„æœ€åˆé˜¶æ®µå¼€å§‹çš„ã€‚</p><p>å¯¹äºæˆ‘ä»¬ç¨‹åºå‘˜è€Œè¨€ï¼Œæ— è®ºæˆ‘ä»¬è¦è¿›è¡Œå“ªä¸ªé˜¶æ®µçš„æ„å»ºï¼Œç›´æ¥æ‰§è¡Œç›¸åº”çš„å‘½ä»¤å³å¯ï¼Œæ— éœ€æ‹…å¿ƒå®ƒå‰è¾¹é˜¶æ®µæ˜¯å¦æ„å»ºï¼ŒMaven éƒ½ä¼šè‡ªåŠ¨æ„å»ºã€‚è¿™ä¹Ÿå°±æ˜¯ Maven è¿™ç§è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ç»™æˆ‘ä»¬å¸¦æ¥çš„å¥½å¤„ã€‚</p><p>ä½¿ç”¨ideaåï¼Œç”Ÿå‘½å‘¨æœŸè¦è°ƒç”¨çš„å‘½ä»¤è¢«é›†æˆåŒ–ä¸€äº›æŒ‰é’®ï¼Œåªéœ€è¦åŒå‡»å³å¯è°ƒç”¨ç›¸åº”çš„æ’ä»¶æ¥è¿è¡Œã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710230536719-09afed3c-fe6b-4923-ba37-52686b407cc0-20240718151933-kve7qr9.png" alt="image.png"></p><p>ç”Ÿå‘½å‘¨æœŸå¯¹åº”çš„Mavenå‘½ä»¤(äº†è§£ï¼‰ï¼š</p><ol><li class="lvl-3"><p>mvn clean æ¸…ç†(ä¼šåˆ é™¤åŸæ¥ç¼–è¯‘å’Œæµ‹è¯•çš„ç›®å½•ï¼Œå³ target ç›®å½•ï¼Œä½†æ˜¯å·²ç» install åˆ°ä»“åº“é‡Œçš„åŒ…ä¸ä¼šåˆ é™¤)</p></li><li class="lvl-3"><p>mvn compile  ç¼–è¯‘ä¸»ç¨‹åº(ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª target,é‡Œè¾¹å­˜æ”¾ç¼–è¯‘ä¸»ç¨‹åºä¹‹åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶)</p></li><li class="lvl-3"><p>mvn test-compile  ç¼–è¯‘æµ‹è¯•ç¨‹åº(ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª target,é‡Œè¾¹å­˜æ”¾ç¼–è¯‘æµ‹è¯•ç¨‹åºä¹‹åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶)</p></li><li class="lvl-3"><p>mvn test  æµ‹è¯•(ä¼šç”Ÿæˆä¸€ä¸ªç›®å½•surefire-reportsï¼Œä¿å­˜æµ‹è¯•ç»“æœ)</p></li><li class="lvl-3"><p>mvn package  æ‰“åŒ…ä¸»ç¨‹åº(ä¼šç¼–è¯‘ã€ç¼–è¯‘æµ‹è¯•ã€æµ‹è¯•ã€å¹¶ä¸”æŒ‰ç…§ pom.xml é…ç½®æŠŠä¸»ç¨‹åºæ‰“åŒ…ç”Ÿæˆ jar åŒ…æˆ–è€… war åŒ…)</p></li><li class="lvl-3"><p>mvn install å®‰è£…ä¸»ç¨‹åº(ä¼šæŠŠæœ¬å·¥ç¨‹æ‰“åŒ…ï¼Œå¹¶ä¸”æŒ‰ç…§æœ¬å·¥ç¨‹çš„åæ ‡ä¿å­˜åˆ°æœ¬åœ°ä»“åº“ä¸­)</p></li><li class="lvl-3"><p>mvn deploy éƒ¨ç½²ä¸»ç¨‹åº(éƒ¨ç½²åˆ°ç§æœä»“åº“ä¸­ï¼‰ã€‚</p></li></ol><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯æ’ä»¶">ä»€ä¹ˆæ˜¯æ’ä»¶</h2><p>Mavenæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ’ä»¶æ¡†æ¶ï¼Œå®ƒçš„æ ¸å¿ƒå¹¶ä¸æ‰§è¡Œä»»ä½•å…·ä½“çš„æ„å»ºä»»åŠ¡ï¼Œæ‰€æœ‰è¿™äº›ä»»åŠ¡éƒ½äº¤ç»™æ’ä»¶æ¥å®Œæˆï¼Œä¾‹å¦‚ç¼–è¯‘æºä»£ç æ˜¯ç”±maven- compiler-pluginå®Œæˆçš„ã€‚è¿›ä¸€æ­¥è¯´ï¼Œæ¯ä¸ªä»»åŠ¡å¯¹åº”äº†ä¸€ä¸ªæ’ä»¶ç›®æ ‡ï¼ˆgoalï¼‰ï¼Œæ¯ä¸ªæ’ä»¶ä¼šæœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªç›®æ ‡ï¼Œä¾‹å¦‚maven- compiler-pluginçš„compileç›®æ ‡ç”¨æ¥ç¼–è¯‘ä½äºsrc/main/java/ç›®å½•ä¸‹çš„ä¸»æºç ï¼ŒtestCompileç›®æ ‡ç”¨æ¥ç¼–è¯‘ä½äºsrc/test/java/ç›®å½•ä¸‹çš„æµ‹è¯•æºç ã€‚</p><p>Mavenæ”¯æŒæç®€åŒ–çš„æ’ä»¶æ·»åŠ .ä½¿ç”¨<plugins>å¤§æ ‡ç­¾ä¸­æ·»åŠ <plugin>å­æ ‡ç­¾å¼•ç”¨æ’ä»¶.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h1>Mavençš„åº”ç”¨</h1><h2 id="ä¸‹è½½Maven">ä¸‹è½½Maven</h2><p>å®˜ç½‘ï¼š<a href="http://maven.apache.org/">http://maven.apache.org/</a><br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710207605997-5488cc1d-1e4b-426d-94c5-be14f0499e2b-20240718151933-8ea362l.png" alt="image.png"><br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710208724973-df375112-b2cc-4990-8ce7-4979212e72bb-20240718151933-uv13dyw.png" alt="image.png"></p><p>æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æœ€æ–°apache-maven-3.9.6çš„ç‰ˆæœ¬ï¼Œideaä½¿ç”¨çš„æ˜¯2023.1çš„ç‰ˆæœ¬ã€‚</p><p>â€</p><h2 id="é…ç½®Maven">é…ç½®Maven</h2><p>è¦ç‚¹ï¼šä¸€å®šè¦å°†Mavenå·¥å…·è§£å‹åˆ°ä¸€ä¸ªæ²¡æœ‰ä¸­æ–‡çš„è·¯å¾„ä¸‹ï¼</p><h3 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡</h3><p>å¿…é¡»è¦é…ç½®JAVA_HOMEå’ŒMAVEN_HOMEçš„ç¯å¢ƒå˜é‡ã€‚åœ¨Mavenå·¥å…·çš„binç›®å½•ä¸‹çš„mvnæ–‡ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨è¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710211770207-3a3021c2-6dfa-44ef-b9f5-ed4e92ce5104-20240718151933-i137lks.png" alt="image.png"></p><p>â€</p><p>é…ç½®æ­¥éª¤ï¼š</p><ol><li class="lvl-3"><p>æˆ‘çš„ç”µè„‘â€”&gt;å³é”®å±æ€§â€”&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®â€”&gt;ç¯å¢ƒå˜é‡â€”&gt;ç³»ç»Ÿå˜é‡</p></li><li class="lvl-3"><p>ç‚¹æ–°å»ºâ€”&gt;</p><ol><li class="lvl-6">åˆ›å»ºJAVA_HOMEç¯å¢ƒå˜é‡<ol><li class="lvl-9">å˜é‡å:  JAVA_HOME</li><li class="lvl-9">å˜é‡å€¼:  C:\Program Files\Java\jdk-17</li></ol></li><li class="lvl-6">åˆ›å»ºMAVEN_HOMEç¯å¢ƒå˜é‡<ol><li class="lvl-9">å˜é‡å:  MAVEN_HOME</li><li class="lvl-9">å˜é‡å€¼:  D:\apache-maven-3.9.6  (Mavenå·¥å…·æ‰€åœ¨çš„ç›®å½•ï¼Œbinçš„ä¸Šä¸€çº§ç›®å½•ï¼‰</li></ol></li></ol></li><li class="lvl-3"><p>ç‚¹pathâ€”&gt;ç¼–è¾‘â€”&gt;æ–°å»º</p><ol><li class="lvl-6">%JAVA_HOME%\bin</li><li class="lvl-6">%MAVEN_HOME%\bin</li><li class="lvl-6">â€”&gt;ç¡®å®šâ€”&gt;ç¡®å®šâ€”&gt;ç¡®å®š</li></ol></li><li class="lvl-3"><p>æ‰“å¼€cmdçª—å£,è¾“å…¥  mvn -v</p></li></ol><p>Apache Maven 3.9.6 (c9616018c7a021c1c39be70fb2843d6f5f9b8a1c)<br>Maven home: D:\apache-maven-3.9.6<br>Java version: 17.0.6, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk-17<br>Default locale: zh_CN, platform encoding: GBK<br>OS name: â€œwindows 10â€, version: â€œ10.0â€, arch: â€œamd64â€, family: â€œwindowsâ€<br>æœ‰ä»¥ä¸Šè¾“å‡ºåˆ™è¡¨æ˜é…ç½®ç¯å¢ƒå˜é‡æˆåŠŸã€‚</p><p>â€</p><h3 id="é…ç½®Mavenå·¥å…·å‚æ•°">é…ç½®Mavenå·¥å…·å‚æ•°</h3><p>æ‰“å¼€D:\apache-maven-3.9.6\conf\settings.xmlæ–‡ä»¶ï¼Œè¿›è¡Œæœ¬åœ°ä»“åº“ï¼Œè¿œç¨‹ä»“åº“å’ŒJDKå‚æ•°è®¾ç½®ã€‚</p><ol><li class="lvl-3"><p>é…ç½®æœ¬åœ°ä»“åº“ï¼Œå°†æ³¨é‡Šä¸­53è¡Œçš„ä»£ç æå–å‡ºæ³¨é‡Šï¼Œæ”¾ç½®åœ¨ç¬¬55è¡Œï¼Œè®¾ç½®æœ¬åœ°ä»“åº“çš„åœ°å€è·¯å¾„ã€‚å¦‚æœå·²æœ‰æœ¬åœ°ä»“åº“åˆ™ç›´æ¥æŒ‡å®šåœ°å€ï¼Œå¦‚æœæ²¡æœ‰æœ¬åœ°ä»“åº“åˆ™æŒ‡å®šä¸€ä¸ªç›®å½•ï¼Œåœ¨ideaé…ç½®åä¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710222022190-7d23106a-01e4-4dc3-9c1f-558e4cb3fba8-20240718151933-72wqsff.png" alt="image.png"></p><p>â€</p><ol start="2"><li class="lvl-3"><p>é…ç½®è¿œç¨‹ä»“åº“</p></li></ol><p>æ‰¾åˆ°</mirrors>ç»“æŸæ ‡ç­¾ï¼Œå°†ä»¥ä¸‹ä»£ç è´´åœ¨å…¶å‰é¢ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®é˜¿é‡Œè¿œç¨‹ä»“åº“--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>        </span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710222406864-0ca53cb9-5b19-40ca-b5aa-6224835e99a7-20240718151934-ylca224.png" alt="image.png"><br>è¿œç¨‹ä»“åº“é…ç½®åï¼Œç»å¸¸å‡ºç°ä»¥ä¸‹bugï¼Œè¿ç½‘å»ç‚¹tryâ€¦å°±è¡Œï¼Œå¦‚æœè¿˜æ˜¯å‡ºç°tryâ€¦ï¼Œå°±éœ€è¦åˆ°æœ¬åœ°ä»“åº“ä¸­ï¼Œæœç´¢last*ï¼Œå°†å‡ºç°çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ é™¤åï¼Œå†æ¥ç‚¹tryâ€¦å°±è¡Œã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710230234589-504260b6-d7ea-420a-ac3c-4a311f32fa1b-20240718151934-28nl3nn.png" alt="image.png"></p><p>â€</p><ol start="3"><li class="lvl-3"><p>é…ç½®JDKå±æ€§</p></li></ol><p>åœ¨<profiles>æ ‡ç­¾ä¸­è¿›è¡Œé…ç½®ï¼Œä¸€å®šè¦å°å¿ƒï¼Œæ‰¾åˆ°</profiles>ç»“æŸæ ‡ç­¾ï¼Œåœ¨å…¶å‰é¢é…ç½®ä»¥ä¸‹ä»£ç ã€‚å› ä¸ºåœ¨<profiles></profiles>æ ‡ç­¾ä¸­å…¨éƒ¨æ˜¯æ³¨é‡Šï¼Œç²˜åˆ°å“ªé‡Œéƒ½åœ¨æ³¨é‡Šä¸­ï¼Œåªæœ‰æ‰¾åˆ°ç»“æŸæ ‡ç­¾</profiles>å‰æ‰æ˜¯æ³¨é‡Šå¤–çš„ï¼Œé…ç½®æ‰ä¼šç”Ÿæ•ˆã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk17<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>17<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h3 id="ä¸ºIdea2023å½“å‰æ‰“å¼€çš„å·¥ä½œåŒºé›†æˆmaven">ä¸ºIdea2023å½“å‰æ‰“å¼€çš„å·¥ä½œåŒºé›†æˆmaven</h3><p>æ‰“å¼€idea2023,å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>Fileâ€”&gt;settingsâ€”&gt;Build,Execution,Depolymentâ€”&gt;Build Toolsâ€”&gt;Maven</p></li></ol><p>Maven home path(Mavenå·¥å…·æ‰€åœ¨çš„ç›®å½•,binçš„ä¸Šä¸€çº§ç›®å½•):   D:\apache-maven-3.9.6<br>å‹¾é€‰Overrideé€‰é¡¹<br>User settings file(Mavenå·¥å…·çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶):  D:\apache-maven-3.9.2\conf\settings.xml<br>Local repository(æœ¬åœ°ä»“åº“,antlrçš„ä¸Šä¸€çº§ç›®å½•):  D:\repository</p><ol start="2"><li class="lvl-3"><p>Mavenâ€”&gt;Importingâ€”&gt;é…ç½®JDKçš„ç‰ˆæœ¬</p></li><li class="lvl-3"><p>Runner</p></li></ol><p>VM Options:-DarchetypeCatalog=internal  (åœ¨æ–°å»ºæ¨¡å—æ—¶ä½¿ç”¨æœ¬åœ°æ¨¡æ¿)<br>JRE: 17</p><ol start="4"><li class="lvl-3"><p>Repositories(åˆ·æ–°æœ¬åœ°ä»“åº“çš„ç´¢å¼•):  é€‰ä¸­æœ¬åœ°ä»“åº“,ç‚¹Update</p></li></ol><p>â€</p><h3 id="ä¸ºIdea2023æ–°å»ºé¡¹ç›®é›†æˆMaven">ä¸ºIdea2023æ–°å»ºé¡¹ç›®é›†æˆMaven</h3><ol><li class="lvl-3"><p>Fileâ€”&gt;New Projects Setupâ€”&gt;Settings for New Project</p></li><li class="lvl-3"><p>åŒ3.2.2çš„æ­¥éª¤å†æ¥ä¸€é</p></li></ol><h2 id="åŸºäºMavenå¼€å‘JavaSEçš„é¡¹ç›®">åŸºäºMavenå¼€å‘JavaSEçš„é¡¹ç›®</h2><ol><li class="lvl-3"><p>Fileâ€”&gt;newâ€”&gt;Projectâ€”&gt;Empty Project</p></li></ol><p>Location:D:\course\10-Maven\code<br>Name:mavenall<br>â€”&gt;Create</p><ol start="2"><li class="lvl-3"><p>ctrl+alt+shift+s:æ‰“å¼€é¡¹ç›®ç»“æ„çª—å£</p></li></ol><p>Project:è®¾ç½®JDKç‰ˆæœ¬ä¸º17</p><ol start="3"><li class="lvl-3"><p>Modules:</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>â€”&gt; New Module<br>Build system: Maven</p></li></ul><ol start="4"><li class="lvl-3"><p>Advanced Settings</p></li></ol><p>GroupId:com.bjpowernode<br>ArtifactId:maven_001_javase<br>â€”&gt;Create</p><ol start="5"><li class="lvl-3"><p>è§‚å¯ŸSourceså’ŒDependciesé€‰é¡¹çš„JDKç‰ˆæœ¬ï¼Œéƒ½ä¸º17</p></li></ol><p>â€”&gt;ok</p><ol start="6"><li class="lvl-3"><p>è¡¥é½ç›®å½•</p></li></ol><p>åœ¨testç›®å½•ä¸Šå³é”®â€”&gt;new Directoryâ€”&gt;resouces</p><ol start="7"><li class="lvl-3"><p>ä¿®æ”¹pom.xmlæ–‡ä»¶</p></li></ol><p>æ·»åŠ å•å…ƒæµ‹è¯•çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ‡è®°:ç‚¹Måˆ·æ–°ä¾èµ–</p><ol start="8"><li class="lvl-3"><p>å¼€å‘Hello.javaç±»</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="comment">//åŠ æ³•è¿ç®—</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> num1,<span class="type">int</span> num2)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> num1 + num2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¹˜æ³•è¿ç®—</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> num1,<span class="type">int</span> num2)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> num1 * num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><ol start="9"><li class="lvl-3"><p>å¼€å‘æµ‹è¯•ç±»</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•åŠŸèƒ½ç”±æµ‹è¯•æ–¹æ³•æ¥å®ç°</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æ–¹æ³•çš„è§„èŒƒ</span></span><br><span class="line"><span class="comment">     * 1)è®¿é—®æƒé™æ˜¯public</span></span><br><span class="line"><span class="comment">     * 2)æ–¹æ³•æ²¡æœ‰è¿”å›å€¼void</span></span><br><span class="line"><span class="comment">     * 3)æ–¹æ³•åç§°è‡ª å®šä¹‰,æ¨èä»¥testå¼€å¤´</span></span><br><span class="line"><span class="comment">     * 4)æ–¹æ³•æ²¡æœ‰å‚æ•°</span></span><br><span class="line"><span class="comment">     * 5)ä½¿ç”¨<span class="doctag">@Test</span>æ³¨è§£å£°æ˜æ˜¯æµ‹è¯•æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSum</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Hello</span>  <span class="variable">hello</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">        System.out.println(hello.sum(<span class="number">3</span>,<span class="number">6</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMul</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Hello</span>  <span class="variable">hello</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">        System.out.println(hello.mul(<span class="number">3</span>,<span class="number">6</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><h2 id="åŸºäºMavenå¼€å‘JavaWebçš„é¡¹ç›®">åŸºäºMavenå¼€å‘JavaWebçš„é¡¹ç›®</h2><ol><li class="lvl-3"><p>åˆ é™¤maven_001_javaSE.imlæ–‡ä»¶(å¦‚æœæ­¤æ–‡ä»¶ä½äºé¡¹ç›®ç›®å½•ä¸‹ï¼Œåˆ™å¿…é¡»åˆ é™¤ï¼Œå¦‚æœåœ¨æœ¬æ¨¡å—ç›®å½•ä¸‹ï¼Œå°±ä¸éœ€è¦åˆ é™¤ï¼‰</p></li><li class="lvl-3"><p>ctrl+alt+shift+s:æ‰“å¼€ç»“æ„çª—å£</p></li></ol><p>Modulesé€‰é¡¹ä¸Šâ€”&gt; + â€”&gt;new Module<br>Maven Archetypeé€‰é¡¹<br>Archetype: maven-archetype-webapp</p><ol start="3"><li class="lvl-3"><p>Advanced Settings é€‰é¡¹å¡</p></li></ol><p>GroupId:com.bjpowernode<br>ArtifactId:maven_002_javaweb<br>Version:1.0.0<br>â€”&gt;Create</p><ol start="4"><li class="lvl-3"><p>è§‚å¯ŸSourceså’ŒDependciesé€‰é¡¹çš„JDKç‰ˆæœ¬</p></li></ol><p>â€”&gt;ok</p><ol start="5"><li class="lvl-3"><p>ä¿®æ”¹ç›®å½•</p></li></ol><p>è¡¥é½ç¼ºå¤±çš„æ‰€æœ‰ç›®å½•æ·»åŠ package: com.bjpowernode.controller</p><ol start="6"><li class="lvl-3"><p>ä¿®æ”¹pom.xmlæ–‡ä»¶</p><ol><li class="lvl-6">åˆ é™¤è¿œç¨‹è®¿é—®çš„åç§°</li></ol></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>maven_002_javaweb Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>æ·»åŠ ä¾èµ–</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ·»åŠ Servletçš„ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li class="lvl-3"><p>åˆ é™¤é¡¹ç›®æ„å»ºåç§°</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>maven_002_javaweb<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ‡è®°: ç‚¹Måˆ·æ–°æŒ‰é’®</p><p>â€</p><ol start="7"><li class="lvl-3"><p>ä¿®æ”¹web.xmlæ–‡ä»¶</p></li></ol><p>ctrl+alt+shift+s:æ‰“å¼€ç»“æ„çª—å£ç‚¹web â€”&gt; - â€”&gt;yes â€”&gt; Apply</p><ul class="lvl-0"><li class="lvl-2"><p>â€”&gt;web.xml â€”&gt;ok  â€”&gt;ok</p></li></ul><ol start="8"><li class="lvl-3"><p>ä¿®æ”¹jspé¡µé¢</p></li></ol><p>åˆ é™¤index.jspé¡µé¢åœ¨webappç›®å½•ä¸‹æ–°å»ºindex.jspå’Œmain.jsp<br>å¼€å‘index.jspé¡µé¢   <a href="/demo">è®¿é—®æœåŠ¡å™¨</a></p><ol start="9"><li class="lvl-3"><p>å¼€å‘Servlet</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@WebServlet(&quot;/demo&quot;)</span><br><span class="line">public class DemoServlet extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        System.out.println(&quot;æˆ‘æ¥è¿‡.........&quot;);</span><br><span class="line">        //è·³ å› main.jsp</span><br><span class="line">        request.getRequestDispatcher(&quot;/main.jsp&quot;).forward(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="10"><li class="lvl-4"><p>æ·»åŠ tomcatæµ‹è¯•è¿è¡Œ</p></li></ol><p>éƒ¨ç½²é•¿åç§°çš„é¡¹ç›®.</p><p>â€</p><h2 id="å¯¼å…¥Mavençš„é¡¹ç›®">å¯¼å…¥Mavençš„é¡¹ç›®</h2><ol><li class="lvl-3"><p>æ‹·è´ä¸€ä¸ªç°æœ‰çš„Mavené¡¹ç›®maven_002_javaweb,æ”¹åä¸º maven_002_javawebnew</p></li><li class="lvl-3"><p>è¿›å…¥åˆ°maven_002_javawebnewé¡¹ç›®ä¸­åˆ é™¤targetç›®å½•å’Œ.gitignoreæ–‡ä»¶</p></li><li class="lvl-3"><p>æ‰“å¼€pom.xmlæ–‡ä»¶,æ›´æ”¹artifactIdçš„åç§°ä¸ºmaven_002_javawebnew.</p></li><li class="lvl-3"><p>ctrl+alt+shift+s:æ‰“å¼€é¡¹ç›®ç»“æ„çª—å£</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>â€”&gt;Import Moudle â€”&gt;é€‰ä¸­è¦å¯¼å…¥çš„é¡¹ç›®â€”&gt; ok<br>é€‰ä¸­  Import module from external model<br>Maven<br>â€”&gt; Create â€”&gt; ok</p></li></ul><ol start="5"><li class="lvl-3"><p>éƒ¨ç½²è¿è¡Œæµ‹è¯•åŠŸèƒ½</p></li></ol><p>â€</p><h1>Mavençš„ä¾èµ–ç®¡ç†</h1><p>åœ¨JAVAå¼€å‘ä¸­,é¡¹ç›®çš„ä¾èµ–ç®¡ç†æ˜¯ä¸€é¡¹é‡è¦ä»»åŠ¡ã€‚é€šè¿‡åˆç†ç®¡ç†é¡¹ç›®çš„ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æ•ˆçš„ç®¡ç†ç¬¬ä¸‰æ–¹åº“ï¼Œæ¨¡å—çš„å¼•ç”¨åŠç‰ˆæœ¬æ§åˆ¶ã€‚è€ŒMavenä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„æ„å»ºå·¥å…·å’Œä¾èµ–ç®¡ç†å·¥å…·ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¾¿æ·çš„æ–¹å¼æ¥ç®¡ç†é¡¹ç›®çš„ä¾èµ–ã€‚</p><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯ä¾èµ–èŒƒå›´">ä»€ä¹ˆæ˜¯ä¾èµ–èŒƒå›´</h2><p>Mavençš„ä¾èµ–æ„ä»¶åŒ…å«ä¸€ä¸ªä¾èµ–èŒƒå›´çš„å±æ€§ã€‚è¿™ä¸ªå±æ€§æè¿°çš„æ˜¯ä¸‰å¥—classpathçš„æ§åˆ¶ï¼Œå³ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€‚è¿™è¯´ç™½äº†å°±æ˜¯æ·»åŠ çš„jaråŒ…èµ·ä½œç”¨çš„èŒƒå›´ã€‚  mavenæä¾›äº†ä»¥ä¸‹å‡ ç§ä¾èµ–èŒƒå›´:compile,test,provided.runtime,systemã€‚åˆ†åˆ«ä»‹ç»å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>compile</p></li></ol><p>ç¼–è¯‘ä¾èµ–èŒƒå›´ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä½¿ç”¨è¯¥ä¾èµ–èŒƒå›´ï¼Œå¯¹äºç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œ3ç§classpathéƒ½æœ‰æ•ˆã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>test</p></li></ol><p>æµ‹è¯•ä¾èµ–èŒƒå›´ï¼Œä½¿ç”¨æ­¤ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œåªå¯¹ç¼–è¯‘æµ‹è¯•ã€è¿è¡Œæµ‹è¯•çš„classpathæœ‰æ•ˆï¼Œåœ¨ç¼–è¯‘ä¸»ä»£ç ã€è¿è¡Œé¡¹ç›®æ—¶æ— æ³•ä½¿ç”¨æ­¤ç±»ä¾èµ–ã€‚æ¯”å¦‚junitï¼Œå®ƒåªæœ‰åœ¨ç¼–è¯‘æµ‹è¯•ä»£ç åŠè¿è¡Œæµ‹è¯•çš„æ—¶å€™æ‰éœ€è¦ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><ol start="3"><li class="lvl-3"><p>provided</p></li></ol><p>å·²æä¾›ä¾èµ–èŒƒå›´ã€‚è¡¨ç¤ºé¡¹ç›®çš„è¿è¡Œç¯å¢ƒä¸­å·²ç»æä¾›äº†æ‰€éœ€è¦çš„æ„ä»¶ï¼Œå¯¹äºæ­¤ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œå¯¹äºç¼–è¯‘æºç ã€ç¼–è¯‘æµ‹è¯•ã€è¿è¡Œæµ‹è¯•ä¸­classpathæœ‰æ•ˆï¼Œä½†åœ¨è¿è¡Œæ—¶æ— æ•ˆã€‚æ¯”å¦‚ä¸Šé¢è¯´åˆ°çš„servlet-apiï¼Œè¿™ä¸ªåœ¨ç¼–è¯‘å’Œæµ‹è¯•çš„æ—¶å€™éœ€è¦ç”¨åˆ°ï¼Œä½†æ˜¯åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œwebå®¹å™¨å·²ç»æä¾›äº†ï¼Œå°±ä¸éœ€è¦mavenå¸®å¿™å¼•å…¥äº†ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li class="lvl-3"><p>runtime</p></li></ol><p>è¿è¡Œæ—¶ä¾èµ–èŒƒå›´ï¼Œä½¿ç”¨æ­¤ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œå¯¹äºæµ‹è¯•å’Œè¿è¡Œé¡¹ç›®çš„classpathæœ‰æ•ˆï¼Œä½†åœ¨ç¼–è¯‘æ—¶æ— æ•ˆï¼Œæ¯”å¦‚jdbcé©±åŠ¨å®ç°ï¼Œé¡¹ç›®ä»£ç ç¼–è¯‘çš„æ—¶å€™åªéœ€è¦æä¾›JDKæä¾›çš„JDBCæ¥å£ï¼Œè¿è¡Œçš„æ—¶å€™æ‰éœ€è¦å…·ä½“çš„jdbcé©±åŠ¨å®ç°ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="5"><li class="lvl-3"><p>system</p></li></ol><p>ç³»ç»Ÿä¾èµ–èŒƒå›´ï¼Œè¯¥ä¾èµ–ä¸3ä¸­classpathçš„å…³ç³»ï¼Œå’Œprovidedä¾èµ–èŒƒå›´å®Œå…¨ä¸€è‡´ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨systemèŒƒå›´çš„ä¾èµ–æ—¶å¿…é¡»é€šè¿‡systemPathå…ƒç´ æ˜¾ç¤ºç¬¬æŒ‡å®šä¾èµ–æ–‡ä»¶çš„è·¯å¾„ã€‚è¿™ç§ä¾èµ–ç›´æ¥ä¾èµ–äºæœ¬åœ°è·¯å¾„ä¸­çš„æ„ä»¶ï¼Œå¯èƒ½æ¯ä¸ªå¼€å‘è€…æœºå™¨ä¸­æ„ä»¶çš„è·¯å¾„ä¸ä¸€è‡´ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨è¿™ç§å†™æ³•ï¼Œä½ çš„æœºå™¨ä¸­å¯èƒ½æ²¡æœ‰é—®é¢˜ï¼Œåˆ«äººçš„æœºå™¨ä¸­å°±ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥å»ºè®®è°¨æ…ä½¿ç”¨ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_001_javase<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>D:/repository/com/bjpowernode/maven_001_javase/1.0-SNAPSHOT/maven_001_javase-1.0-SNAPSHOT.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ€»ç»“å¦‚ä¸‹å›¾ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710426633024-11f9ac91-9875-43ef-959d-331e5205f7bf-20240718151934-qos4a26.png" alt="image.png"></p><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯ä¾èµ–ä¼ é€’">ä»€ä¹ˆæ˜¯ä¾èµ–ä¼ é€’</h2><p>ä¾èµ–å…·æœ‰ä¼ é€’æ€§ã€‚ Maven çš„ä¾èµ–ä¼ é€’æœºåˆ¶æ˜¯æŒ‡ï¼šä¸ç®¡ Maven é¡¹ç›®å­˜åœ¨å¤šå°‘é—´æ¥ä¾èµ–ï¼ŒPOM ä¸­éƒ½åªéœ€è¦å®šä¹‰å…¶ç›´æ¥ä¾èµ–ï¼Œä¸å¿…å®šä¹‰ä»»ä½•é—´æ¥ä¾èµ–ï¼Œè¿™åœ¨ä¸€å®šç¨‹åºä¸Šç®€åŒ– äº†POM çš„é…ç½®ã€‚å‡é¡¹ç›®Aä¾èµ–é¡¹ç›®Bï¼Œé¡¹ç›®Bä¾èµ–é¡¹ç›®Cï¼Œåˆ™A-----&gt;ç›´æ¥ä¾èµ–Bï¼ŒB-----&gt;ç›´æ¥ä¾èµ–Cï¼ŒA-----&gt;é—´æ¥ä¾èµ–Cã€‚ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µã€‚ç›´æ¥åœ¨é¡¹ç›®ä¸­é…ç½®çš„ä¾èµ–ç§°ä¸ºç›´æ¥ä¾èµ–ï¼Œé€šè¿‡æ·»åŠ ä¾èµ–å…³è”è¿›æ¥çš„ä¾èµ–ç§°ä¸ºé—´æ¥ä¾èµ–ã€‚1æ˜¯é¡¹ç›®çš„ç›´æ¥ä¾èµ–ï¼Œ2æ˜¯1çš„ç›´æ¥ä¾èµ–ï¼Œ2æ˜¯é¡¹ç›®çš„é—´æ¥ä¾èµ–ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710728233920-00b543b8-d8af-4ba6-b69d-6a4904f6ad27-20240718151934-bwd0brx.png" alt="image.png"></p><h3 id="ä¾èµ–èŒƒå›´å¯¹ä¾èµ–ä¼ é€’çš„å½±å“">ä¾èµ–èŒƒå›´å¯¹ä¾èµ–ä¼ é€’çš„å½±å“</h3><p>B æ˜¯ A çš„ç›´æ¥ä¾èµ–ï¼ŒC æ˜¯ A çš„é—´æ¥ä¾èµ–ï¼Œæ ¹æ® Maven çš„ä¾èµ–ä¼ é€’æœºåˆ¶ï¼Œé—´æ¥ä¾èµ– C ä¼šä»¥ä¼ é€’æ€§ä¾èµ–çš„å½¢å¼å¼•å…¥åˆ° A ä¸­ï¼Œä½†è¿™ç§å¼•å…¥å¹¶ä¸æ˜¯æ— æ¡ä»¶çš„ï¼Œå®ƒä¼šå—åˆ°ä¾èµ–èŒƒå›´çš„å½±å“ã€‚å›¾ç¤ºä¾èµ–ä¼ é€’å…³ç³»:<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1711074416600-67aa7a6a-5c6f-42f7-bed1-4a40f9a49bf7-20240718151934-8g82cw5.jpeg" alt="image"><br>è§„èŒƒåŒ–ä¾èµ–ä¼ é€’çš„ç»“æœ:<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1711068902261-aac2a782-7ab4-4d0e-ac07-1e41d858df20-20240718151934-ma55e11.png" alt="image.png"><br>äº¤å‰éƒ¨åˆ†çš„å•å…ƒæ ¼çš„å–å€¼ä¸ºä¼ é€’æ€§ä¾èµ–çš„ä¾èµ–èŒƒå›´ï¼Œè‹¥äº¤å‰å•å…ƒæ ¼å–å€¼ä¸º â€œ-â€ï¼Œåˆ™è¡¨ç¤ºè¯¥ä¼ é€’æ€§ä¾èµ–ä¸èƒ½è¢«ä¼ é€’ã€‚é€šè¿‡ä¸Šè¡¨ï¼Œå¯ä»¥æ€»ç»“å‡ºä»¥ä¸‹è§„å¾‹ï¼š</p><ol><li class="lvl-3"><p>å½“é—´æ¥ä¾èµ–çš„èŒƒå›´æ˜¯ compile æ—¶ï¼Œä¸ç›´æ¥ä¾èµ–çš„èŒƒå›´ä¸€è‡´ï¼›</p></li><li class="lvl-3"><p>å½“é—´æ¥ä¾èµ–çš„èŒƒå›´æ˜¯ test æˆ– providedæ—¶ï¼Œä¼ é€’æ€§ä¾èµ–ä¸ä¼šè¢«ä¼ é€’ï¼›</p></li><li class="lvl-3"><p>å½“é—´æ¥ä¾èµ–çš„èŒƒå›´æ˜¯ runtime æ—¶ï¼Œä¼ é€’æ€§ä¾èµ–çš„èŒƒå›´ä¸ç›´æ¥ä¾èµ–çš„èŒƒå›´ä¸€è‡´ï¼Œä½† compile ä¾‹å¤–ï¼Œæ­¤æ—¶ä¼ é€’æ€§ä¾èµ–çš„èŒƒå›´ä¸º runtimeã€‚</p></li></ol><p>â€</p><h2 id="ä¾èµ–å†²çª">ä¾èµ–å†²çª</h2><h3 id="ä»€ä¹ˆæ˜¯ä¾èµ–å†²çª">ä»€ä¹ˆæ˜¯ä¾èµ–å†²çª</h3><p>åœ¨ Maven é¡¹ç›®ä¸­ï¼Œä¾èµ–é€šå¸¸è¢«å®šä¹‰åœ¨é¡¹ç›®çš„ pom.xml æ–‡ä»¶ä¸­ã€‚å½“å¤šä¸ªä¾èµ–é¡¹å¼•å…¥äº†ä¸åŒç‰ˆæœ¬çš„ç›¸åŒåº“æ—¶ï¼Œå°±ä¼šå‘ç”Ÿä¾èµ–å†²çªã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºé¡¹ç›®çš„ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–å¯¼è‡´äº†åŒä¸€åº“çš„å¤šä¸ªç‰ˆæœ¬å­˜åœ¨äºç±»è·¯å¾„ä¸­ã€‚æ¯ä¸ªæ˜¾å¼å£°æ˜çš„ç±»åŒ…éƒ½ä¼šä¾èµ–äºä¸€äº›å…¶å®ƒçš„éšå¼ç±»åŒ…ï¼Œè¿™äº›éšå¼çš„ç±»åŒ…ä¼šè¢«mavené—´æ¥å¼•å…¥è¿›æ¥ï¼Œä»è€Œé€ æˆç±»åŒ…å†²çªã€‚</p><h3 id="ä¾èµ–å†²çªçš„è§£å†³æ–¹æ¡ˆ">ä¾èµ–å†²çªçš„è§£å†³æ–¹æ¡ˆ</h3><p>Mavenå¯ä»¥é€šè¿‡ä»¥ä¸‹é€”å¾„è§£å†³ä¾èµ–å†²çªã€‚</p><h4 id="ç‰ˆæœ¬é”å®š">ç‰ˆæœ¬é”å®š</h4><p>åœ¨çˆ¶å·¥ç¨‹ä¸­ä½¿ç”¨dependencyManagement è¿›è¡Œç‰ˆæœ¬é”å®šï¼ŒdependencyManagementå¯ä»¥ç»Ÿä¸€ç®¡ç†æ•´ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œç¡®ä¿åº”ç”¨çš„å„ä¸ªé¡¹ç›®çš„ä¾èµ–å’Œç‰ˆæœ¬ä¸€è‡´ã€‚ dependencyManagementåªæ˜¯å£°æ˜ä¾èµ–ï¼Œå¹¶ä¸è‡ªåŠ¨å®ç°å¼•å…¥ï¼Œå› æ­¤å­é¡¹ç›®éœ€è¦æ˜¾ç¤ºçš„å£°æ˜éœ€è¦ç”¨çš„ä¾èµ–ï¼Œä¾¿å¯ä»¥å¿½ç•¥ç‰ˆæœ¬å·ã€‚å¦‚æœæ’æ–¥çˆ¶å·¥ç¨‹ä¸­å®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œå¯ä»¥æ˜¾ç¤ºçš„è¿›è¡Œç‰ˆæœ¬å·å£°æ˜ã€‚</p><p>â€</p><ol><li class="lvl-3"><p>å­å·¥ç¨‹ä½¿ç”¨çˆ¶å·¥ç¨‹é”å®šçš„ç‰ˆæœ¬å·</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710472491980-a4cb3914-0f05-4e7e-947f-a4d23cf4132a-20240718151934-u6o4nx5.png" alt="image.png"></p><ol start="2"><li class="lvl-3"><p>å­å·¥ç¨‹ä½¿ç”¨è‡ªå®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œåªè¦é‡æ–°å£°æ˜å³å¯</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710472812417-b7aaabf0-6aed-422b-8af0-c34f9cc6eeaf-20240718151934-b2b2wrc.png" alt="image.png"></p><ol start="3"><li class="lvl-3"><p>çˆ¶å·¥ç¨‹ä¸ä½¿ç”¨<dependencyManagement>æ ‡ç­¾ï¼Œåˆ™å­å·¥ç¨‹è·Ÿçˆ¶å·¥ç¨‹å®Œå…¨ä¿æŒä¸€è‡´ã€‚å­å·¥ç¨‹ä¸éœ€è¦æ˜¾ç¤ºä¾èµ–ä»»ä½•jaråŒ…ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710477128261-8cf15234-7b59-49ce-8b7b-ad886d26c96f-20240718151934-esvj544.png" alt="image.png"></p><p>â€</p><h4 id="çŸ­è·¯å¾„ä¼˜å…ˆ">çŸ­è·¯å¾„ä¼˜å…ˆ</h4><p>å¼•å…¥è·¯å¾„çŸ­è€…ä¼˜å…ˆï¼Œé¡¾åæ€ä¹‰ï¼Œå½“ä¸€ä¸ªé—´æ¥ä¾èµ–å­˜åœ¨å¤šæ¡å¼•å…¥è·¯å¾„æ—¶ï¼Œå¼•å…¥è·¯å¾„çŸ­çš„ä¼šè¢«è§£æä½¿ç”¨ã€‚å¦‚å›¾<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710728799160-11ddc3d2-3034-4017-b98e-2413564afc3e-20240718151934-39fpppy.png" alt="image.png"><br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710479263151-463ae45f-d9d0-4dd9-a628-8876b5c9283a-20240718151934-fgus3ht.png" alt="image.png"></p><p>â€</p><h4 id="å£°æ˜ä¼˜å…ˆ">å£°æ˜ä¼˜å…ˆ</h4><p>å¦‚æœå­˜åœ¨çŸ­è·¯å¾„ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©çŸ­è·¯å¾„ï¼Œå¦‚æœè·¯å¾„ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ˆå£°æ˜è€…ä¼˜å…ˆï¼ŒPOM æ–‡ä»¶ä¸­ä¾èµ–å£°æ˜çš„é¡ºåºå†³å®šäº†é—´æ¥ä¾èµ–ä¼šä¸ä¼šè¢«è§£æä½¿ç”¨ï¼Œé¡ºåºé å‰çš„ä¼˜å…ˆä½¿ç”¨ã€‚å¦‚å›¾ã€‚<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710729281326-826998e7-b535-41de-855e-8a1e8c9f30ed-20240718151934-9jssnoy.png" alt="image.png"><br>ä»£ç ç¤ºä¾‹ï¼š<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710482843035-b311f9f4-b84f-4bed-b1c3-1b32e5f60284-20240718151934-yfim35i.png" alt="image.png"><br>æ³¨æ„å»æ‰<scope>æ ‡ç­¾ï¼Œå¦åˆ™ä¼šå› ä¸ºä¾èµ–èŒƒå›´çš„å½±å“å¯¼è‡´æ•ˆæœæ— æ³•æ˜¾ç¤ºã€‚</p><p>â€</p><h4 id="ç‰¹æ®Šä¼˜å…ˆï¼ˆåæ¥è€…å±…ä¸Šï¼‰">ç‰¹æ®Šä¼˜å…ˆï¼ˆåæ¥è€…å±…ä¸Šï¼‰</h4><p>åŒä¸€ä¸ªpom.xmlæ–‡ä»¶ä¸­è¿›è¡Œäº†å¤šæ¬¡ä¾èµ–jaråŒ…ä¸åŒç‰ˆæœ¬çš„é…ç½®ï¼Œåé¢çš„è¦†ç›–å‰é¢çš„é…ç½®ã€‚è¿™ç§æƒ…å†µæ¯”è¾ƒå°‘è§ã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710483308764-afdb1d47-5ec9-441b-8415-8fe486434e56-20240718151934-rdtd0rw.png" alt="image.png"></p><h4 id="å¯é€‰ä¾èµ–">å¯é€‰ä¾èµ–</h4><p>maven_03é¡¹ç›®å¯é€‰æ‹©æ˜¯å¦ä¼ é€’é—´æ¥ä¾èµ–junit_4.13ï¼Œä¸»åŠ¨æƒåœ¨å½“å‰é¡¹ç›®maven_03ä¸­ã€‚å¦‚æœå½“å‰é¡¹ç›®è¢«ä¾èµ–åˆ°å…¶å®ƒé¡¹ç›®ä¸­ï¼Œå½“å‰é¡¹ç›®å¯ä»¥æ‹’ç»äº¤å‡ºé—´æ¥ä¾èµ–é¡¹ã€‚ä¾‹å¦‚maven_02æ·»åŠ äº†maven_03çš„ä¾èµ–ï¼Œmaven_03å¯ä»¥è‡ªä¸»è®¾ç½®å…¶ä¾èµ–é¡¹junit_4.13æ˜¯å¦è¢«é—´æ¥ä¼ é€’ã€‚<optional>true</optional> ä¸ºä¸ä¼ é€’é—´æ¥ä¾èµ–ï¼Œé‚£ä¹ˆåœ¨maven_02é¡¹ç›®ä¸­å°±æ²¡æœ‰junit_4.13çš„ä¾èµ–ã€‚é»˜è®¤æ˜¯falseï¼Œæ˜¯ä¼ é€’é—´æ¥ä¾èµ–ã€‚<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710730202393-a9a5d910-a341-4f7a-8156-04ed947a1561-20240718151934-zqyo5i7.png" alt="image.png"><br>ä»£ç ç¤ºä¾‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710490003130-4d3bf144-25b8-43af-afe1-ce94b0a8fede-20240718151934-x21hokn.png" alt="image.png"></p><p>â€</p><h4 id="æ’é™¤ä¾èµ–">æ’é™¤ä¾èµ–</h4><p>æ˜¯å½“å‰é¡¹ç›®æ˜¯å¦ä¸»åŠ¨æ–­å¼€å…¶ä¾èµ–é¡¹ç›®çš„é—´æ¥ä¾èµ–ã€‚ä¹Ÿå°±æ˜¯æ§åˆ¶å½“å‰é¡¹ç›®æ˜¯å¦ä½¿ç”¨å…¶ç›´æ¥ä¾èµ–ä¼ é€’ä¸‹æ¥çš„æ¥é—´ä¾èµ–ã€‚åœ¨maven_02é¡¹ç›®ä¸­æ·»åŠ maven_03é¡¹ç›®çš„ä¾èµ–ï¼Œä½†ä¸è¦maven_03é¡¹ç›®ä¸­çš„junit_4.13çš„ä¾èµ–ï¼Œå¯ä»¥é€‰æ‹©æ’é™¤ä¾èµ–ã€‚è¿™æ ·å¯ä»¥ä¿è¯å½“å‰é¡¹ç›®ä¾èµ–çš„çº¯å‡€æ€§ã€‚æ’é™¤ä¾èµ–ä½¿ç”¨ exclusions å…ƒç´ æ’é™¤ä¾èµ–ï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>exclusions å…ƒç´ ä¸‹å¯ä»¥åŒ…å«è‹¥å¹²ä¸ª exclusion å­å…ƒç´ ï¼Œç”¨äºæ’é™¤è‹¥å¹²ä¸ªé—´æ¥ä¾èµ–ï¼Œè¯¥å…ƒç´ åŒ…å«ä¸¤ä¸ªå­å…ƒç´ ï¼šgroupId å’Œ artifactIdï¼Œç”¨æ¥ç¡®å®šéœ€è¦æ’é™¤çš„é—´æ¥ä¾èµ–çš„åæ ‡ä¿¡æ¯</p></li><li class="lvl-3"><p>exclusion å…ƒç´ ä¸­åªéœ€è¦è®¾ç½® groupId å’Œ artifactId å°±å¯ä»¥ç¡®å®šéœ€è¦æ’é™¤çš„ä¾èµ–ï¼Œæ— éœ€æŒ‡å®šç‰ˆæœ¬version</p><p>å¦‚å›¾<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710730881718-cb19d958-ec83-4438-9103-7ed17ce68fc3-20240718151934-7xnlolr.png" alt="image.png"></p></li></ol><p>ä»£ç ç¤ºä¾‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710493895419-a8364fcc-5682-419d-b289-7af55e21ea03-20240718151934-6w018ln.png" alt="image.png"></p><p>â€</p><h4 id="å¯é€‰ä¾èµ–å’Œæ’é™¤ä¾èµ–çš„åŒºåˆ«">å¯é€‰ä¾èµ–å’Œæ’é™¤ä¾èµ–çš„åŒºåˆ«</h4><p>æ’é™¤ä¾èµ–å’Œå¯é€‰ä¾èµ–éƒ½èƒ½åœ¨é¡¹ç›®ä¸­å°†é—´æ¥ä¾èµ–æ’é™¤åœ¨å¤–ï¼Œä½†ä¸¤è€…å®ç°æœºåˆ¶å´å®Œå…¨ä¸ä¸€æ ·ã€‚</p><ol><li class="lvl-3"><p>å¯é€‰ä¾èµ–æ˜¯è‡ªå·±å†³å®šæ˜¯å¦å‘å¤–æä¾›é—´æ¥ä¾èµ–ï¼ˆmaven_03è®¾ç½®æ‹’ç»æä¾›é—´æ¥ä¾èµ–junitï¼‰</p></li><li class="lvl-3"><p>æ’é™¤ä¾èµ–æ˜¯ä¸»åŠ¨æ‹’ç»æ·»åŠ ç›´æ¥ä¾èµ–å…³è”çš„é—´æ¥ä¾èµ–ï¼ˆmaven_02é¡¹ç›®è®¾ç½®æ’é™¤maven_03çš„junitä¾èµ–ï¼‰</p></li><li class="lvl-3"><p>å¯é€‰ä¾èµ–çš„ä¼˜å…ˆçº§é«˜äºæ’é™¤ä¾èµ–</p></li><li class="lvl-3"><p>è‹¥å¯¹äºåŒä¸€ä¸ªé—´æ¥ä¾èµ–åŒæ—¶ä½¿ç”¨æ’é™¤ä¾èµ–å’Œå¯é€‰ä¾èµ–è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå¯é€‰ä¾èµ–çš„å–å€¼å¿…é¡»ä¸º falseï¼Œå¦åˆ™æ’é™¤ä¾èµ–æ— æ³•ç”Ÿæ•ˆã€‚</p></li></ol><p>å¦‚æœç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­å¯èƒ½æ›´æ˜“æ‡‚ä¸€äº›ã€‚å›½æ°‘å…šï¼ˆmaven_02)æŠ“ä½äº†å…±äº§å…šäººï¼ˆä¾èµ–äº†maven_03ï¼‰,è¦æ±‚ä¾›å‡ºè”ç³»äººåå•ï¼ˆmaven_03ä¸­ä¾èµ–çš„junit_4.13)ï¼Œæœ€ç»ˆç»“æœæ˜¯æ²¡æœ‰å¾—åˆ°è”ç³»äººåå•ï¼ˆä¸ä¾èµ–jjunit_4.13)ã€‚å¯é€‰ä¾èµ–ï¼šæ˜¯maven_03å…±äº§å…šäººæ­»æ´»ä¸è¯´è”ç³»äººçš„åå•junit_4.13ï¼ˆå¯é€‰ï¼Œæˆ‘é€‰æ‹©ä¸è¯´ï¼‰ã€‚æ’é™¤ä¾èµ–ï¼šæ˜¯maven_02å›½æ°‘å…šä¸è¦å…±äº§å…šäººæä¾›çš„è”ç³»äººåå•ï¼ˆæ’é™¤ï¼Œæˆ‘å°±æ˜¯ä¸è¦ä½ çš„åå•,  ä¼°è®¡ä½ æ˜¯ä¹±è¯´çš„ï¼‰ã€‚</p><p>â€</p><h2 id="åˆ·æ–°ä¾èµ–çš„8ç§æ–¹å¼">åˆ·æ–°ä¾èµ–çš„8ç§æ–¹å¼</h2><p>åœ¨ideaä¸­æœ‰æ—¶å€™ä¼šå‡ºç°åˆ·æ–°å»¶æ—¶çš„æƒ…å†µï¼Œé‚£ä¹ˆéœ€è¦è¿›è¡Œæ‰‹å·¥åˆ·æ–°ä¾èµ–ã€‚</p><ol><li class="lvl-3"><p>ç‚¹å‡»Måˆ·æ–°æŒ‰é’®ã€‚</p></li><li class="lvl-3"><p>ç‚¹Mavençª—å£çš„Reload All Maven Projectsã€‚</p></li><li class="lvl-3"><p>Buildâ€”&gt;ReBuild Project é‡æ–°æ„å»ºé¡¹ç›®çš„åŒæ—¶åˆ·æ–°æ‰€æœ‰ä¾èµ–ã€‚</p></li><li class="lvl-3"><p>ç‚¹å‡»æœ¬é¡¹ç›®çš„pom.xmlæ–‡ä»¶â€”&gt;å³é”®â€”&gt;Mavenâ€”&gt;Reload Project åˆ·æ–°æœ¬é¡¹ç›®çš„ä¾èµ–ã€‚</p></li><li class="lvl-3"><p>æ‰“å¼€pom.xmlæ–‡ä»¶,å…¨é€‰,æ‹·è´,åˆ é™¤,å…³é—­,æ‰“å¼€,ç²˜è´´.ç‰©ç†åˆ·æ–°pom.xmlæ–‡ä»¶ ã€‚</p></li><li class="lvl-3"><p>Invalidate Cachesâ€”&gt;å…¨é€‰â€”&gt;Invalidate and Restart æ¸…ç©ºideaçš„ç¼“å­˜å¹¶é‡å¯ideaåˆ·æ–°ä¾èµ–ã€‚</p></li><li class="lvl-3"><p>æ‰“å¼€æœ¬åœ°ä»“åº“ï¼Œæœç´¢lastï¼Œå…¨é€‰åˆ é™¤,ç‚¹Mavençš„åˆ·æ–°å…¨éƒ¨ä¾èµ–çš„æŒ‰é’®ã€‚</p></li><li class="lvl-3"><p>åœ¨7çš„æ­¥éª¤åæ‰§è¡ŒFileâ€”&gt;settingsâ€”&gt;Build,Execution,Deploymentâ€”&gt;Build Toolsâ€”&gt;Mavenâ€”&gt;Repositoriesâ€”&gt;é€‰ä¸­æœ¬åœ°ä»“åº“â€”&gt;updateâ€”&gt;okã€‚</p></li></ol><h2 id="èµ„æºæ–‡ä»¶çš„æŒ‡å®š">èµ„æºæ–‡ä»¶çš„æŒ‡å®š</h2><p>src/main/java å’Œ src/test/java è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰ <em>.java æ–‡ä»¶ä¼šåˆ†åˆ«åœ¨ comile å’Œ test-comiple é˜¶æ®µè¢«ç¼–è¯‘ï¼Œç¼–è¯‘ç»“æœåˆ†åˆ«æ”¾åˆ°äº† target/classes å’Œ targe/test-classes ç›®å½•ä¸­ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„å…¶ä»–æ–‡ä»¶(åç¼€æ˜¯.propertiesæˆ–.xmlç­‰æ–‡ä»¶)éƒ½ä¼šè¢«å¿½ç•¥æ‰(ç¼–è¯‘åä¸¢å¤±)ï¼Œå¦‚æœéœ€è¦æŠŠ src ç›®å½•ä¸‹çš„é™¤.javaä¹‹å¤–çš„æ–‡ä»¶åŒ…æ”¾åˆ° target/classes ç›®å½•ï¼Œä½œä¸ºè¾“å‡ºçš„ jar ä¸€éƒ¨åˆ†ã€‚éœ€è¦æŒ‡å®šèµ„æºæ–‡ä»¶ä½ç½®ã€‚ä»¥ä¸‹å†…å®¹æ”¾åˆ°&lt;build&gt;æ ‡ç­¾ä¸­ã€‚ç®€å•æ¥è¯´å°±æ˜¯åœ¨resourcesç›®å½•ä¸‹çš„</em>.propertiesæ–‡ä»¶å’Œ <em>.xmlæ–‡ä»¶ç¼–è¯‘æ—¶ä¸ä¸¢å¤±,ä½†resourcesç›®å½•å¤–çš„</em>.propertiesæ–‡ä»¶å’Œ*.xmlæ–‡ä»¶ä¼šä¸¢å¤±,æ‰€ä»¥è¦æŒ‡å®šä½ç½®,ä¿è¯ç¼–è¯‘åæ–‡ä»¶éƒ½åœ¨.<br>ä»£ç ç¤ºä¾‹:<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710992850165-0a554516-fc4f-4904-90bb-1111061d530a-20240718151934-5o6vwji.png" alt="image.png"><br>æ·»åŠ æŒ‡å®šå:<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710993017431-84d8491f-5bdd-4f9f-892c-3fba02c8dfc8-20240718151934-hxgplk9.png" alt="image.png"><br>æŒ‡å®šä»£ç :</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æŒ‡å®šjavaç›®å½•ä¸‹çš„æ‰€æœ‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æŒ‡å®šresourcesç›®å½•ä¸‹çš„æ‰€æœ‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹,ä¼šä¸¤ä¸ªç›®å½•éƒ½æŒ‡å®š.</p><p>â€</p><h1>Mavençš„ç»§æ‰¿å’Œèšåˆ</h1><h2 id="ä»€ä¹ˆæ˜¯ç»§æ‰¿">ä»€ä¹ˆæ˜¯ç»§æ‰¿</h2><p>Maven çš„ä¾èµ–ä¼ é€’æœºåˆ¶å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šç®€åŒ– POM çš„é…ç½®ï¼Œä½†è¿™ä»…é™äºå­˜åœ¨ä¾èµ–å…³ç³»çš„é¡¹ç›®æˆ–æ¨¡å—ä¸­ã€‚å½“ä¸€ä¸ªé¡¹ç›®çš„å¤šä¸ªæ¨¡å—éƒ½ä¾èµ–äºç›¸åŒ jar åŒ…çš„ç›¸åŒç‰ˆæœ¬ï¼Œä¸”è¿™äº›æ¨¡å—ä¹‹é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè¿™å°±å¯¼è‡´åŒä¸€ä¸ªä¾èµ–éœ€è¦åœ¨å¤šä¸ªæ¨¡å—ä¸­é‡å¤å£°æ˜ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯å–çš„ï¼Œå¤§é‡çš„å‰äººç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œ<strong>é‡å¤å¾€å¾€æ„å‘³ç€æ›´å¤šçš„åŠ³åŠ¨å’Œæ›´é«˜çš„æ½œåœ¨é£é™©</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1711167422290-65970d94-bdc7-4f20-a0d9-288fd247daa9-20240718151935-yur2h1j.jpeg" alt="image"></p><p>åœ¨ Java é¢å‘å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ç§ç±»çš„çˆ¶å­ç»“æ„ï¼Œç„¶ååœ¨çˆ¶ç±»ä¸­å£°æ˜ä¸€äº›å­—æ®µå’Œæ–¹æ³•ä¾›å­ç±»ç»§æ‰¿ï¼Œè¿™æ ·å°±å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šæ¶ˆé™¤é‡å¤ï¼Œåšåˆ° â€œä¸€å¤„å£°æ˜ï¼Œå¤šå¤„ä½¿ç”¨â€ã€‚åœ¨ Maven çš„ä¸–ç•Œä¸­ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„æœºåˆ¶ï¼Œå®ƒå°±æ˜¯ POM ç»§æ‰¿ã€‚</p><p>Maven åœ¨è®¾è®¡æ—¶ï¼Œå€Ÿé‰´äº† Java é¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿æ€æƒ³ï¼Œæå‡ºäº† POM ç»§æ‰¿æ€æƒ³ã€‚å½“ä¸€ä¸ªé¡¹ç›®åŒ…å«å¤šä¸ªæ¨¡å—æ—¶ï¼Œå¯ä»¥åœ¨è¯¥é¡¹ç›®ä¸­å†åˆ›å»ºä¸€ä¸ªçˆ¶æ¨¡å—ï¼Œå¹¶åœ¨å…¶ POM ä¸­å£°æ˜ä¾èµ–ï¼Œå…¶ä»–æ¨¡å—çš„ POM å¯é€šè¿‡ç»§æ‰¿çˆ¶æ¨¡å—çš„ POM æ¥è·å¾—å¯¹ç›¸å…³ä¾èµ–çš„å£°æ˜ã€‚å¯¹äºçˆ¶æ¨¡å—è€Œè¨€ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æ¶ˆé™¤å­æ¨¡å— POM ä¸­çš„é‡å¤é…ç½®ï¼Œå…¶ä¸­ä¸åŒ…å«æœ‰ä»»ä½•å®é™…ä»£ç ï¼Œå› æ­¤çˆ¶æ¨¡å— POM çš„æ‰“åŒ…ç±»å‹ï¼ˆpackagingï¼‰å¿…é¡»æ˜¯ pomã€‚å¦‚å›¾æ‰€ç¤º:<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1711168327611-f6e0f1ca-02ff-47d3-a093-7e9863e3d716-20240718151935-h5d5rrr.png" alt="image.png"><br>å­å·¥ç¨‹å¯ä»¥ç»§æ‰¿çš„çˆ¶å·¥ç¨‹çš„å…ƒç´ ï¼š</p><table><thead><tr><th><strong>å…ƒç´ </strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>groupId</td><td>é¡¹ç›®ç»„ IDï¼Œé¡¹ç›®åæ ‡çš„æ ¸å¿ƒå…ƒç´ </td></tr><tr><td>version</td><td>é¡¹ç›®ç‰ˆæœ¬ï¼Œé¡¹ç›®åæ ‡çš„æ ¸å¿ƒå…ƒç´ </td></tr><tr><td>description</td><td>é¡¹ç›®çš„æè¿°ä¿¡æ¯</td></tr><tr><td>organization</td><td>é¡¹ç›®çš„ç»„ç»‡ä¿¡æ¯</td></tr><tr><td>inceptionYear</td><td>é¡¹ç›®çš„åˆ›å§‹å¹´ä»½</td></tr><tr><td>url</td><td>é¡¹ç›®çš„ URL åœ°å€</td></tr><tr><td>developers</td><td>é¡¹ç›®çš„å¼€å‘è€…ä¿¡æ¯</td></tr><tr><td>contributors</td><td>é¡¹ç›®çš„è´¡çŒ®è€…ä¿¡æ¯</td></tr><tr><td>distributionManagement</td><td>é¡¹ç›®çš„éƒ¨ç½²é…ç½®</td></tr><tr><td>issueManagement</td><td>é¡¹ç›®çš„ç¼ºé™·è·Ÿè¸ªç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>ciManagement</td><td>é¡¹ç›®çš„æŒç»­é›†æˆç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>scm</td><td>é¡¹ç›®çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>mailingLists</td><td>é¡¹ç›®çš„é‚®ä»¶åˆ—è¡¨ä¿¡æ¯</td></tr><tr><td>properties</td><td>è‡ªå®šä¹‰çš„ Maven å±æ€§</td></tr><tr><td>dependencies</td><td>é¡¹ç›®çš„ä¾èµ–é…ç½®</td></tr><tr><td>dependencyManagement</td><td>é¡¹ç›®çš„ä¾èµ–ç®¡ç†é…ç½®</td></tr><tr><td>repositories</td><td>é¡¹ç›®çš„ä»“åº“é…ç½®</td></tr><tr><td>build</td><td>åŒ…æ‹¬é¡¹ç›®çš„æºç ç›®å½•é…ç½®ã€è¾“å‡ºç›®å½•é…ç½®ã€æ’ä»¶é…ç½®ã€æ’ä»¶ç®¡ç†é…ç½®ç­‰</td></tr><tr><td>reporting</td><td>åŒ…æ‹¬é¡¹ç›®çš„æŠ¥å‘Šè¾“å‡ºç›®å½•é…ç½®ã€æŠ¥å‘Šæ’ä»¶é…ç½®ç­‰</td></tr></tbody></table><p>â€</p><p>çˆ¶å·¥ç¨‹ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ‰“åŒ…æ–¹å¼å¿…é¡»æ˜¯pom,å£°æ˜æ˜¯çˆ¶å·¥ç¨‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--èšåˆå­æ¨¡å—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>maven_son<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>maven_web<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--å®šä¹‰å±æ€§ï¼Œä¾¿äºç‰ˆæœ¬çš„ç®¡ç†--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">spring-version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">spring-version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">servlet-version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åªæ˜¯å®šä¹‰ï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„æ·»åŠ ä¾èµ–ï¼Œå­å·¥ç¨‹æ ¹æ®éœ€è¦æœ‰é€‰æ‹©çš„æ·»åŠ ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å¼•ç”¨å®šä¹‰å¥½çš„å±æ€§--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;servlet-version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--åªå®šä¹‰Tomcatæ’ä»¶ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">port</span>&gt;</span>8089<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><p>å­å·¥ç¨‹ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¯ä»¥çœç•¥groupIdå’Œversionï¼Œå› ä¸ºä¸çˆ¶å·¥ç¨‹ä¿æŒä¸€è‡´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--éœ€è¦ä»€ä¹ˆä¾èµ–ï¼Œæ·»åŠ ä»€ä¹ˆä¾èµ–ï¼Œå¯ä»¥çœç•¥ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬ç”±çˆ¶å·¥ç¨‹ç»Ÿä¸€ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®Tomcatæ’ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å­å·¥ç¨‹å¯ä»¥è‡ªå®šä¹‰ç«¯å£å·ï¼Œä¸è‡ªå®šä¹‰ä½¿ç”¨çˆ¶å·¥ç¨‹çš„--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">port</span>&gt;</span>8060<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šä¸€å¥è¯ï¼Œé€šè¿‡ç»§æ‰¿å¯ä»¥å®ç°å­å·¥ç¨‹æ²¿ç”¨çˆ¶å·¥ç¨‹çš„é…ç½®ã€‚å¤§å¤§å‡å°‘é‡å¤è®¾ç½®ã€‚</p><p>â€</p><h2 id="ä»€ä¹ˆæ˜¯èšåˆ">ä»€ä¹ˆæ˜¯èšåˆ</h2><p>ä½¿ç”¨ Maven èšåˆåŠŸèƒ½å¯¹é¡¹ç›®è¿›è¡Œæ„å»ºæ—¶ï¼Œéœ€è¦åœ¨è¯¥é¡¹ç›®ä¸­é¢å¤–åˆ›å»ºä¸€ä¸ªçš„èšåˆæ¨¡å—ï¼Œç„¶åé€šè¿‡è¿™ä¸ªæ¨¡å—æ„å»ºæ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ¨¡å—ã€‚èšåˆæ¨¡å—ä»…ä»…æ˜¯å¸®åŠ©èšåˆå…¶ä»–æ¨¡å—çš„å·¥å…·ï¼Œå…¶æœ¬èº«å¹¶æ— ä»»ä½•å®è´¨å†…å®¹ï¼Œå› æ­¤èšåˆæ¨¡å—ä¸­åªæœ‰ä¸€ä¸ª POM æ–‡ä»¶ï¼Œä¸åŒ…å« src ç­‰ç›®å½•ã€‚</p><p>ä¸çˆ¶æ¨¡å—ç›¸ä¼¼ï¼Œèšåˆæ¨¡å—çš„æ‰“åŒ…æ–¹å¼ï¼ˆpackagingï¼‰ä¹Ÿæ˜¯ pomï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ POM ä¸­é€šè¿‡ modules ä¸‹çš„ module å­å…ƒç´ æ¥æ·»åŠ éœ€è¦èšåˆçš„æ¨¡å—çš„ç›®å½•è·¯å¾„ã€‚çˆ¶æ¨¡å—çš„ pom.xml æ–‡ä»¶çš„ <modules> æŠŠå­æ¨¡å—èšé›†èµ·æ¥.</p><p>é¡¹ç›®ç»“æ„ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710519085353-11678e58-1ffe-44da-9273-3cc1155c6641-20240718151935-91lfa1j.png" alt="image.png"></p><p>â€</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_ju<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>../maven_02<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>../maven_03<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>../maven_01<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>../maven_parent<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä»£ç ç»“æ„ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710519366819-5cd7d949-baf7-43bb-b7ae-e1c8384d1e58-20240718151935-f70rjqv.png" alt="image.png"></p><p>â€</p><p>è¿è¡Œç»“æœç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">[INFO] Scanning for projects...</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Reactor Build Order:</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] maven_03                                                           [jar]</span><br><span class="line">[INFO] maven_02                                                           [jar]</span><br><span class="line">[INFO] maven_01                                                           [jar]</span><br><span class="line">[INFO] maven_parent                                                       [pom]</span><br><span class="line">[INFO] maven_son                                                          [jar]</span><br><span class="line">[INFO] maven_web                                                          [war]</span><br><span class="line">[INFO] maven_ju                                                           [pom]</span><br><span class="line">[INFO] </span><br><span class="line">......</span><br><span class="line">[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ maven_03 ---</span><br><span class="line">[INFO] Surefire report directory: E:\BJ2310\10-Maven\04_project\mavenall\maven_03\target\surefire-reports</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------</span><br><span class="line"> T E S T S</span><br><span class="line">-------------------------------------------------------</span><br><span class="line">Running test.MyTest</span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.068 sec</span><br><span class="line"></span><br><span class="line">Results :</span><br><span class="line"></span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</span><br><span class="line"></span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ maven_03 ---</span><br><span class="line">[INFO] Building jar: E:\BJ2310\10-Maven\04_project\mavenall\maven_03\target\maven_03-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] ----------------------&lt; com.bjpowernode:maven_02 &gt;----------------------</span><br><span class="line">[INFO] Building maven_02 1.0-SNAPSHOT                                     [2/7]</span><br><span class="line">[INFO]   from ..\maven_02\pom.xml</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ maven_02 ---</span><br><span class="line">......</span><br><span class="line">Running test.MyTest</span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec</span><br><span class="line"></span><br><span class="line">Results :</span><br><span class="line"></span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</span><br><span class="line"></span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ maven_02 ---</span><br><span class="line">[INFO] Building jar: E:\BJ2310\10-Maven\04_project\mavenall\maven_02\target\maven_02-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] ----------------------&lt; com.bjpowernode:maven_01 &gt;----------------------</span><br><span class="line">[INFO] Building maven_01 1.0-SNAPSHOT                                     [3/7]</span><br><span class="line">[INFO]   from ..\maven_01\pom.xml</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ maven_01 ---</span><br><span class="line">[INFO] Using &#x27;UTF-8&#x27; encoding to copy filtered resources.</span><br><span class="line">[INFO] Copying 0 resource</span><br><span class="line">[INFO] </span><br><span class="line">.......</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ maven_01 ---</span><br><span class="line">[INFO] No tests to run.</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ maven_01 ---</span><br><span class="line">[INFO] Building jar: E:\BJ2310\10-Maven\04_project\mavenall\maven_01\target\maven_01-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --------------------&lt; com.bjpowernode:maven_parent &gt;--------------------</span><br><span class="line">[INFO] Building maven_parent 1.0-SNAPSHOT                                 [4/7]</span><br><span class="line">[INFO]   from ..\maven_parent\pom.xml</span><br><span class="line">[INFO] --------------------------------[ pom ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] ---------------------&lt; com.bjpowernode:maven_son &gt;----------------------</span><br><span class="line">[INFO] Building maven_son 1.0-SNAPSHOT                                    [5/7]</span><br><span class="line">[INFO]   from ..\maven_parent\maven_son\pom.xml</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">......</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ maven_son ---</span><br><span class="line">[INFO] Building jar: E:\BJ2310\10-Maven\04_project\mavenall\maven_parent\maven_son\target\maven_son-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] ---------------------&lt; com.bjpowernode:maven_web &gt;----------------------</span><br><span class="line">[INFO] Building maven_web 1.0-SNAPSHOT                                    [6/7]</span><br><span class="line">[INFO]   from ..\maven_parent\maven_web\pom.xml</span><br><span class="line">[INFO] --------------------------------[ war ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">.......</span><br><span class="line">[INFO] ----------------------&lt; com.bjpowernode:maven_ju &gt;----------------------</span><br><span class="line">[INFO] Building maven_ju 1.0-SNAPSHOT                                     [7/7]</span><br><span class="line">[INFO]   from pom.xml</span><br><span class="line">[INFO] --------------------------------[ pom ]---------------------------------</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Reactor Summary for maven_ju 1.0-SNAPSHOT:</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] maven_03 ........................................... SUCCESS [  2.506 s]</span><br><span class="line">[INFO] maven_02 ........................................... SUCCESS [  0.609 s]</span><br><span class="line">[INFO] maven_01 ........................................... SUCCESS [  0.083 s]</span><br><span class="line">[INFO] maven_parent ....................................... SUCCESS [  0.000 s]</span><br><span class="line">[INFO] maven_son .......................................... SUCCESS [  0.127 s]</span><br><span class="line">[INFO] maven_web .......................................... SUCCESS [  1.043 s]</span><br><span class="line">[INFO] maven_ju ........................................... SUCCESS [  0.002 s]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  4.543 s</span><br><span class="line">[INFO] Finished at: 2024-03-16T00:07:25+08:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šä¸€å¥è¯ï¼Œèšåˆå°±æ˜¯é›†ä¸­æ„å»ºé¡¹ç›®çš„ã€‚</p><p>â€</p><h1>Mavençš„ç§æœ</h1><h2 id="ä»€ä¹ˆæ˜¯ç§æœ">ä»€ä¹ˆæ˜¯ç§æœ</h2><p>Maven ç§æœæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿œç¨‹ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨å±€åŸŸç½‘å†…çš„ä»“åº“æœåŠ¡ï¼Œç”¨æ¥ä»£ç†ä½äºå¤–éƒ¨çš„è¿œç¨‹ä»“åº“ï¼ˆä¸­å¤®ä»“åº“ã€å…¶ä»–è¿œç¨‹å…¬å…±ä»“åº“ï¼‰ã€‚ä¸€äº›æ— æ³•ä»å¤–éƒ¨ä»“åº“ä¸‹è½½åˆ°çš„æ„ä»¶ï¼Œä¹Ÿèƒ½ä»æœ¬åœ°ä¸Šä¼ åˆ°ç§æœä¾›å…¶ä»–äººä½¿ç”¨ã€‚</p><p>Maven ç§æœå…¶å®å¹¶ä¸æ˜¯ Maven çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»…ä»…æ˜¯ä¸€ç§è¡ç”Ÿå‡ºæ¥çš„ç‰¹æ®Šçš„ä»“åº“ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨å®ƒä¸é‡è¦ï¼Œç›¸åç”±äºç§æœå…·æœ‰é™ä½ä¸­å¤®ä»“åº“è´Ÿè·ã€èŠ‚çœå¤–ç½‘å¸¦å®½ã€ä»¥åŠæé«˜é¡¹ç›®ç¨³å®šæ€§ç­‰ä¼˜ç‚¹ï¼Œä½¿å¾—ç§æœåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¾—åˆ°äº†ç›¸å½“æ™®éåœ°ä½¿ç”¨ã€‚å»ºç«‹äº† Maven ç§æœåï¼Œå½“å±€åŸŸç½‘å†…çš„ç”¨æˆ·éœ€è¦æŸä¸ªæ„ä»¶æ—¶ï¼Œä¼šå…ˆè¯·æ±‚æœ¬åœ°ä»“åº“ï¼Œè‹¥æœ¬åœ°ä»“åº“ä¸å­˜åœ¨æ‰€éœ€æ„ä»¶ï¼Œåˆ™è¯·æ±‚ Maven ç§æœï¼Œå°†æ‰€éœ€æ„ä»¶ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ï¼Œè‹¥ç§æœä¸­ä¸å­˜åœ¨æ‰€éœ€æ„ä»¶ï¼Œå†å»è¯·æ±‚å¤–éƒ¨çš„è¿œç¨‹ä»“åº“ï¼Œå°†æ‰€éœ€æ„ä»¶ä¸‹è½½å¹¶ç¼“å­˜åˆ° Maven ç§æœï¼Œè‹¥å¤–éƒ¨è¿œç¨‹ä»“åº“ä¸å­˜åœ¨æ‰€éœ€æ„ä»¶ï¼Œåˆ™ Maven ç›´æ¥æŠ¥é”™ã€‚</p><p>â€</p><h2 id="Mavenä»“åº“ç®¡ç†å™¨Nexus">Mavenä»“åº“ç®¡ç†å™¨Nexus</h2><h3 id="ä»€ä¹ˆæ˜¯Nexus">ä»€ä¹ˆæ˜¯Nexus</h3><p>Nexus æ˜¯ Sonatype å…¬å¸å‘å¸ƒçš„ä¸€æ¬¾ä»“åº“ï¼ˆRepositoryï¼‰ç®¡ç†è½¯ä»¶ï¼Œå¸¸ç”¨æ¥æ­å»º Maven ç§æœï¼Œæ‰€ä»¥ä¹Ÿæœ‰äººå°† Nexus ç§°ä¸ºâ€œMavenä»“åº“ç®¡ç†å™¨â€ã€‚ Sonatype Nexus æ˜¯å½“å‰æœ€æµè¡Œï¼Œä½¿ç”¨æœ€å¹¿æ³›çš„ Maven ä»“åº“ç®¡ç†å™¨ã€‚Nexus åˆ†ä¸ºå¼€æºç‰ˆå’Œä¸“ä¸šç‰ˆï¼Œå…¶ä¸­å¼€æºç‰ˆè¶³ä»¥æ»¡è¶³å¤§éƒ¨åˆ† Maven ç”¨æˆ·çš„éœ€æ±‚ã€‚</p><h3 id="Nexusä»“åº“çš„ç±»å‹">Nexusä»“åº“çš„ç±»å‹</h3><p>Nexusé»˜è®¤å†…ç½®äº†å¾ˆå¤šä»“åº“ï¼Œè¿™äº›ä»“åº“å¯ä»¥åˆ’åˆ†ä¸º3ç§ç±»å‹ï¼Œæ¯ç§ç±»å‹çš„ä»“åº“ç”¨äºå­˜æ”¾ç‰¹å®šçš„jaråŒ…ï¼Œå…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>hostedï¼šå®¿ä¸»ä»“åº“ï¼Œéƒ¨ç½²è‡ªå·±çš„jaråŒ…åˆ°è¿™ä¸ªç±»å‹çš„ä»“åº“ä¸­ï¼ŒåŒ…æ‹¬Releaseså’ŒSnapshotsä¸¤éƒ¨åˆ†ï¼ŒReleasesä¸ºå…¬å¸å†…éƒ¨å‘è¡Œç‰ˆæœ¬ä»“åº“ï¼ŒSnapshotsä¸ºå…¬å¸å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬ä»“åº“ã€‚</p></li><li class="lvl-3"><p>proxyï¼š  ä»£ç†ä»“åº“ï¼Œç”¨äºä»£ç†è¿œç¨‹çš„å…¬å…±ä»“åº“ï¼Œå¦‚Mavenä¸­å¤®ä»“åº“ï¼Œç”¨æˆ·è¿æ¥ç§æœï¼Œç§æœè‡ªåŠ¨å»ä¸­å¤®ä»“åº“ä¸‹è½½JaråŒ…æˆ–è€…æ’ä»¶ã€‚</p></li><li class="lvl-3"><p>groupï¼šä»“åº“ç»„ï¼Œç”¨æ¥åˆå¹¶å¤šä¸ªhosted/proxyä»“åº“ï¼Œé€šå¸¸ç”¨äºé…ç½®è‡ªå·±çš„Mavenè¿æ¥ä»“åº“ç»„ã€‚å½“æˆ‘ä»¬ä¸‹è½½jaråŒ…æ—¶ï¼Œä»ä»“åº“ç»„ä¸­çš„æ¯ä¸ªä»“åº“æ‰¾ä¸€éï¼Œæ‰¾åˆ°åä¸‹è½½ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710725573245-a25c98e8-302b-4461-95cc-aacd2e49191a-20240718151935-czlwtsm.png" alt="image.png"><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710586648632-8430fc88-b320-4e83-a6ee-1167d069029b-20240718151935-pyaebcs.png" alt="1710586648632-8430fc88-b320-4e83-a6ee-1167d069029b">â€‹</p><p>â€</p><h3 id="å¦‚ä½•æ­å»ºç§æœ">å¦‚ä½•æ­å»ºç§æœ</h3><ol><li class="lvl-3"><p>ä¸‹è½½Nexus</p></li></ol><p>å®˜ç½‘åœ°å€ï¼š<a href="https://help.sonatype.com/repomanager3/download">https://help.sonatype.com/repomanager3/download</a><br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710570372422-d6d1a018-13fd-4cb2-be32-2fa1cde58784-20240718151935-5sgl8zk.png" alt="image.png"></p><ol start="2"><li class="lvl-3"><p>å®‰è£…Nexus</p></li></ol><p>ä¸‹è½½åè§£å‹åˆ°ä¸€ä¸ªæ²¡æœ‰ä¸­æ–‡çš„è·¯å¾„ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710577090494-cce93c84-89cb-4b7d-8b53-18fadcf1e9c7-20240718151935-mhw31lq.png" alt="image.png"></p><p>è¿›å…¥åˆ°D:\nexus-3.66.0-02\binç›®å½•ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710575432440-e583f4cd-0a9c-4788-9d64-9deb1f53484d-20240718151935-pt1vjgo.png" alt="image.png"></p><p>åŒå‡»nexus.exeæ²¡æœ‰ååº”ï¼Œéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€cmdçª—å£ï¼Œè¾“å…¥å‘½ä»¤ï¼š nexus   /run    å›è½¦ï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç›´åˆ°å‡ºç°Started Sonatype Nexus OSS 3.66.0-02è¯´æ˜å®‰è£…æˆåŠŸã€‚<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710577414248-c6b97c6a-2997-453b-8020-4a1d05259d79-20240718151935-sei012d.png" alt="image.png"></p><p>â€</p><ol start="3"><li class="lvl-3"><p>è®¿é—®Nexus</p></li></ol><p>è®¿é—®åœ°å€ï¼š<a href="http://localhost:8081">http://localhost:8081</a><br>ç«¯å£å·å¯ä»¥æ”¹å˜ï¼Œåœ¨D:\nexus-3.66.0-02\etcç›®å½•ä¸‹çš„nexus-default.propertiesæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ã€‚<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710577791900-90da1d1f-9a7f-4af2-800c-f4a0f1d8e868-20240718151935-aglnpnm.png" alt="image.png"><br>æ³¨æ„ï¼šå¦‚æœæµè§ˆå™¨è®¿é—®ä¸€ç›´è½¬åœˆæ‰“ä¸å¼€é¡µé¢ï¼Œåˆ™åœ¨cmdçª—å£ctrl+cå”¤é†’ä¸€ä¸‹å°±å¯ä»¥æ‰“å¼€äº†ã€‚</p><p>â€</p><h2 id="Nexusç§æœçš„åº”ç”¨">Nexusç§æœçš„åº”ç”¨</h2><h3 id="ç™»å½•">ç™»å½•</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578382883-2473002b-8a8c-49aa-9ff6-8f2f43b4368c-20240718151935-s2a9da6.png" alt="image.png"><br>å¯†ç æ‰€åœ¨çš„æ–‡ä»¶ï¼š<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578676893-c70852d1-a697-4173-91cd-0d54965ef7cd-20240718151935-931bacl.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578745174-adf07074-2ee6-4ccc-adfd-e1cbe23234b5-20240718151935-423qclh.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578912244-f8fdbcb4-0064-4628-b06a-5b39548c7d7e-20240718151935-hegmu1a.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710579554576-5fc530bd-605c-4a1d-92d4-e3292de9b05a-20240718151935-1rkba9a.png" alt="image.png"><br>ç‚¹Browseè§‚å¯Ÿ<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710586648632-8430fc88-b320-4e83-a6ee-1167d069029b-20240718151935-740bg1o.png" alt="image.png">â€‹</p><p>â€</p><h3 id="è®¾ç½®ä»“åº“">è®¾ç½®ä»“åº“</h3><ol><li class="lvl-3"><p>åˆ›å»ºä»“åº“</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589583924-8d28f532-f702-4c48-8a59-e7cbf2f9e5fc-20240718151935-u38v1x6.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589678658-e5e35527-830d-4341-89bd-1ab34fe6910d-20240718151935-tmcn5c6.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589889744-af161de3-c9a3-4601-97c2-0829604d7056-20240718151935-39vaba2.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590255782-e59dc0bb-e821-4485-b55d-ac85f35204ad-20240718151935-aiitb6f.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589981642-18af2fb7-4e16-4b60-8823-14c3a2517ee1-20240718151935-0h79oma.png" alt="image.png">â€‹</p><ol start="2"><li class="lvl-3"><p>å°†åˆ›å»ºå¥½çš„ä»“åº“æ·»åŠ åˆ°publicç»„ä¸­ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590564218-94fda846-3c68-46cf-b75a-d289e4c87bde-20240718151935-dv0altq.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590619703-91ef96bd-b119-4744-b860-523e62d36e04-20240718151936-1v0kv5l.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590666393-688daeb6-4bc0-4982-ad3b-be23a9333687-20240718151936-1by47gv.png" alt="image.png">â€‹</p><p>â€</p><h3 id="ä½¿ç”¨Nexusä¸‹è½½jaråŒ…">ä½¿ç”¨Nexusä¸‹è½½jaråŒ…</h3><p>åˆ›å»ºä¸€ä¸ªæ–°çš„æœ¬åœ°ä»“åº“ï¼Œç”¨æ¥æ¥æ”¶Nexusä¸‹è½½ä¸‹æ¥çš„jaråŒ…ã€‚<br>å› ä¸ºè¦ä½¿ç”¨Mavenå·¥å…·è®¿é—®ç§æœï¼Œæ‰€ä»¥settings.xmlæ–‡ä»¶è¦ä¿®æ”¹ã€‚</p><ol><li class="lvl-3"><p>æœ¬åœ°ä»“åº“åœ°å€ä¿®æ”¹ä¸ºæ–°åœ°å€</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\repository_nexus<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710595705585-36ca7718-4754-4725-95c6-e1df8b9fab14-20240718151936-eoc0kch.png" alt="image.png">â€‹</p><ol start="2"><li class="lvl-3"><p>è®¾ç½®<mirror>æ ‡ç­¾ä¸ºNexusçš„maven-publicåº“åœ°å€ï¼ˆä»“åº“ç»„ï¼‰</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mynexus<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<url>æ ‡ç­¾çš„åœ°å€å¤åˆ¶maven-publicåº“çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€å–ä»£äº†ä¸­å¤®ä»“åº“åœ°å€ã€‚æˆ‘ä»¬æ‰€æœ‰çš„jaråŒ…ä¸‹è½½éƒ½æ˜¯ä»è¿™ä¸ªåœ°å€é‡Œæ‰¾ã€‚å®ƒåŒ…å«å®¿ä¸»åº“å’Œä»£ç†åº“çš„æ‰€æœ‰åœ°å€ã€‚<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710595526378-d59c4cf0-1b13-41e0-9298-70ddb75cc971-20240718151936-24erzq3.png" alt="image.png">â€‹</p><p>â€</p><ol start="3"><li class="lvl-3"><p>è®¾ç½®æ¯æ¬¡è®¿é—®Nexusçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¿®æ”¹settings.xmlæ–‡ä»¶ä¸­çš„<server>æ ‡ç­¾</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710596219243-d9bfdb91-472d-492c-96f2-0e4c2e6df2f3-20240718151936-d2qf22c.png" alt="image.png">â€‹</p><p>â€</p><ol start="4"><li class="lvl-3"><p>æ‰“å¼€Idea2023ï¼Œç¡®å®šæ˜¯æ–°çš„æœ¬åœ°ä»“åº“åœ°å€</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710596742497-f977c201-2556-465b-8415-0b2a2b716953-20240718151936-1zaa4mx.png" alt="image.png"><br>é€‰æ‹©ä¸€ä¸ªé¡¹ç›®maven_01æ‰§è¡Œcleanæ“ä½œã€‚<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710597060668-9657312a-3d1b-46e2-a339-919b75baff80-20240718151936-noxag40.png" alt="image.png"><br>è§‚å¯Ÿæœ¬åœ°ä»“åº“ï¼š<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710597467794-be84dd2e-0633-4408-a494-e8e2bf671095-20240718151936-hfzt3cy.png" alt="image.png"><br>è§‚å¯Ÿç§æœNexusä¸Šçš„maven-publicç»„<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710597430739-fc2a2304-03af-48f6-8e3d-e3e0e3620110-20240718151936-51eer1z.png" alt="image.png">â€‹</p><p>â€</p><h3 id="ä½¿ç”¨Ideaéƒ¨ç½²jaråŒ…åˆ°Nexusç§æœ">ä½¿ç”¨Ideaéƒ¨ç½²jaråŒ…åˆ°Nexusç§æœ</h3><p>ç§æœNexusæ˜¯éƒ¨ç½²åœ¨å±€åŸŸç½‘çš„ï¼Œæ˜¯å…¨å…¬å¸å…±äº«çš„ä»“åº“åœ°å€ï¼Œæ¯ä¸ªå›¢é˜Ÿéƒ½å¯ä»¥å°†å·²å®Œæˆçš„åŠŸèƒ½æˆ–æµ‹è¯•ç‰ˆæœ¬å‘å¸ƒåˆ°ç§æœä¾›åˆ«äººæ¥ä½¿ç”¨ã€‚</p><ol><li class="lvl-3"><p>æ‰“å¼€è¦éƒ¨ç½²çš„é¡¹ç›®çš„pom.xmlæ–‡ä»¶ï¼Œè®¾ç½®ä¸Šä¼ è·¯å¾„</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/dljd-release/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/dljd-snapshot/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<url>è·¯å¾„æ¥è‡ªäºç§æœdljd-snapshot.<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710601782311-d10b3ebb-b91c-4e07-a5db-b1af1ed34d78-20240718151936-ygryc33.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710599781490-0ae738c8-f2a5-426a-b1fa-4f3b03ebb710-20240718151936-jj28vqq.png" alt="image.png">â€‹</p><ol start="2"><li class="lvl-3"><p>è¿è¡Œdeployéƒ¨ç½²å‘½ä»¤</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710601913346-5d734890-c6bb-478c-99b3-0b8620053c3e-20240718151936-g19m6c1.png" alt="image.png">â€‹</p><ol start="3"><li class="lvl-3"><p>è§‚å¯Ÿç§æœå¯¹åº”ä»“åº“å˜åŒ–</p></li></ol><p>releaseé¡¹ç›®éƒ¨ç½²<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710602004568-db363d8f-ecc7-414c-b432-9a79bbf88191-20240718151936-32ted8e.png" alt="image.png"><br>snapshoté¡¹ç›®éƒ¨ç½²<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710602043184-441c9483-a596-41b5-b0b1-221b8d82ca0c-20240718151936-2ff8s04.png" alt="image.png"><br>æ€»ç»“ï¼šæ•´ä¸ªMavenå·¥å…·çš„åº”ç”¨å°±è®²å®Œäº†ã€‚å…¶ä¸­ä¸€äºŒä¸‰ç« æ˜¯åŸºç¡€åº”ç”¨ï¼Œå››äº”å…­ç« æ˜¯é«˜çº§åº”ç”¨ï¼Œå·¥ä½œæ—¶é‡åˆ°çš„é—®é¢˜å››äº”å…­ç« æœ‰è§£å†³æ–¹æ¡ˆï¼Œåˆ°æ—¶å€™å†çœ‹ä¹Ÿæ¥å¾—åŠã€‚</p><p>â€</p><p>â€</p><p>â€</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6. Maven çš„ç§æœ</title>
      <link href="/posts/417de2f1.html"/>
      <url>/posts/417de2f1.html</url>
      
        <content type="html"><![CDATA[<h1>1. ä»€ä¹ˆæ˜¯ç§æœ</h1><p><span data-type="text" style="color: var(--b3-font-color11);">Maven ç§æœæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿œç¨‹ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨å±€åŸŸç½‘å†…çš„ä»“åº“æœåŠ¡ï¼Œç”¨æ¥ä»£ç†ä½äºå¤–éƒ¨çš„è¿œç¨‹ä»“åº“ï¼ˆä¸­å¤®ä»“åº“ã€å…¶ä»–è¿œç¨‹å…¬å…±ä»“åº“ï¼‰</span>ã€‚ä¸€äº›æ— æ³•ä»å¤–éƒ¨ä»“åº“ä¸‹è½½åˆ°çš„æ„ä»¶ï¼Œä¹Ÿèƒ½ä»æœ¬åœ°ä¸Šä¼ åˆ°ç§æœä¾›å…¶ä»–äººä½¿ç”¨ã€‚</p><p>Maven ç§æœå…¶å®å¹¶ä¸æ˜¯ Maven çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»…ä»…æ˜¯ä¸€ç§è¡ç”Ÿå‡ºæ¥çš„ç‰¹æ®Šçš„ä»“åº“ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨å®ƒä¸é‡è¦ï¼Œç›¸åç”±äºç§æœå…·æœ‰é™ä½ä¸­å¤®ä»“åº“è´Ÿè·ã€èŠ‚çœå¤–ç½‘å¸¦å®½ã€ä»¥åŠæé«˜é¡¹ç›®ç¨³å®šæ€§ç­‰ä¼˜ç‚¹ï¼Œä½¿å¾—ç§æœåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¾—åˆ°äº†ç›¸å½“æ™®éåœ°ä½¿ç”¨ã€‚å»ºç«‹äº† Maven ç§æœåï¼Œå½“å±€åŸŸç½‘å†…çš„ç”¨æˆ·éœ€è¦æŸä¸ªæ„ä»¶æ—¶ï¼Œä¼šå…ˆè¯·æ±‚æœ¬åœ°ä»“åº“ï¼Œè‹¥æœ¬åœ°ä»“åº“ä¸å­˜åœ¨æ‰€éœ€æ„ä»¶ï¼Œåˆ™è¯·æ±‚ Maven ç§æœï¼Œå°†æ‰€éœ€æ„ä»¶ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ï¼Œè‹¥ç§æœä¸­ä¸å­˜åœ¨æ‰€éœ€æ„ä»¶ï¼Œå†å»è¯·æ±‚å¤–éƒ¨çš„è¿œç¨‹ä»“åº“ï¼Œå°†æ‰€éœ€æ„ä»¶ä¸‹è½½å¹¶ç¼“å­˜åˆ° Maven ç§æœï¼Œè‹¥å¤–éƒ¨è¿œç¨‹ä»“åº“ä¸å­˜åœ¨æ‰€éœ€æ„ä»¶ï¼Œåˆ™ Maven ç›´æ¥æŠ¥é”™ã€‚</p><h1>2. Maven ä»“åº“ç®¡ç†å™¨ Nexus</h1><h2 id="2-1-ä»€ä¹ˆæ˜¯Nexus">2.1 ä»€ä¹ˆæ˜¯Nexus</h2><p>Nexus æ˜¯ Sonatype å…¬å¸å‘å¸ƒçš„ä¸€æ¬¾ä»“åº“ï¼ˆRepositoryï¼‰ç®¡ç†è½¯ä»¶ï¼Œå¸¸ç”¨æ¥æ­å»º Maven ç§æœï¼Œæ‰€ä»¥ä¹Ÿæœ‰äººå°† Nexus ç§°ä¸ºâ€œMavenä»“åº“ç®¡ç†å™¨â€ã€‚ Sonatype Nexus æ˜¯å½“å‰æœ€æµè¡Œï¼Œä½¿ç”¨æœ€å¹¿æ³›çš„ Maven ä»“åº“ç®¡ç†å™¨ã€‚Nexus åˆ†ä¸ºå¼€æºç‰ˆå’Œä¸“ä¸šç‰ˆï¼Œå…¶ä¸­å¼€æºç‰ˆè¶³ä»¥æ»¡è¶³å¤§éƒ¨åˆ† Maven ç”¨æˆ·çš„éœ€æ±‚</p><h2 id="2-2-Nexus-ä»“åº“çš„ç±»å‹">2.2 Nexus ä»“åº“çš„ç±»å‹</h2><p>Nexusé»˜è®¤å†…ç½®äº†å¾ˆå¤šä»“åº“ï¼Œè¿™äº›ä»“åº“å¯ä»¥åˆ’åˆ†ä¸º3ç§ç±»å‹ï¼Œæ¯ç§ç±»å‹çš„ä»“åº“ç”¨äºå­˜æ”¾ç‰¹å®šçš„jaråŒ…ï¼Œå…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>hostedï¼šå®¿ä¸»ä»“åº“ï¼Œéƒ¨ç½²è‡ªå·±çš„jaråŒ…åˆ°è¿™ä¸ªç±»å‹çš„ä»“åº“ä¸­ï¼ŒåŒ…æ‹¬Releaseså’ŒSnapshotsä¸¤éƒ¨åˆ†ï¼ŒReleasesä¸ºå…¬å¸å†…éƒ¨å‘è¡Œç‰ˆæœ¬ä»“åº“ï¼ŒSnapshotsä¸ºå…¬å¸å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬ä»“åº“ã€‚</p></li><li class="lvl-3"><p>proxyï¼š  ä»£ç†ä»“åº“ï¼Œç”¨äºä»£ç†è¿œç¨‹çš„å…¬å…±ä»“åº“ï¼Œå¦‚Mavenä¸­å¤®ä»“åº“ï¼Œç”¨æˆ·è¿æ¥ç§æœï¼Œç§æœè‡ªåŠ¨å»ä¸­å¤®ä»“åº“ä¸‹è½½JaråŒ…æˆ–è€…æ’ä»¶ã€‚</p></li><li class="lvl-3"><p>groupï¼šä»“åº“ç»„ï¼Œç”¨æ¥åˆå¹¶å¤šä¸ªhosted/proxyä»“åº“ï¼Œé€šå¸¸ç”¨äºé…ç½®è‡ªå·±çš„Mavenè¿æ¥ä»“åº“ç»„ã€‚å½“æˆ‘ä»¬ä¸‹è½½jaråŒ…æ—¶ï¼Œä»ä»“åº“ç»„ä¸­çš„æ¯ä¸ªä»“åº“æ‰¾ä¸€éï¼Œæ‰¾åˆ°åä¸‹è½½ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710725573245-a25c98e8-302b-4461-95cc-aacd2e49191a-20240403154227-te3y483.png" alt="image.png">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710586648632-8430fc88-b320-4e83-a6ee-1167d069029b-20240403154227-zlpxe04.png" alt="1710586648632-8430fc88-b320-4e83-a6ee-1167d069029b">â€‹</p><h2 id="2-3-å¦‚ä½•æ­å»ºç§æœ">2.3 å¦‚ä½•æ­å»ºç§æœ</h2><ol><li class="lvl-3"><p>ä¸‹è½½Nexus</p><ol><li class="lvl-7">**å®˜ç½‘åœ°å€ï¼š**â€‹<a href="https://help.sonatype.com/repomanager3/download">https://help.sonatype.com/repomanager3/download</a></li><li class="lvl-7"><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403151606-q7ntak5.png" alt="image">â€‹</li></ol></li><li class="lvl-3"><p>å®‰è£…Nexus</p><ol><li class="lvl-7">ä¸‹è½½å®‰è£…åŒ…åè§£å‹å¹¶è¿›å…¥åˆ° nexus-3.66.0-02\binç›®å½•ä¸‹</li><li class="lvl-7">åŒå‡»nexus.exeæ²¡æœ‰ååº”ï¼Œéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€cmdçª—å£ï¼Œè¾“å…¥å‘½ä»¤ï¼š nexus   /run    å›è½¦ï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œ<span data-type="text" style="color: var(--b3-font-color13);">ç›´åˆ°å‡ºç°Started Sonatype Nexus OSS 3.66.0-02è¯´æ˜å®‰è£…æˆåŠŸã€‚</span></li><li class="lvl-7"><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403151748-alt6y6x.png" alt="image">â€‹</li><li class="lvl-7"><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403151820-5fgzuao.png" alt="image">â€‹</li></ol></li><li class="lvl-3"><p>è®¿é—®Nexus</p><ol><li class="lvl-7">è®¿é—®åœ°å€ï¼š<span data-type="text" style="color: var(--b3-font-color13);"><a href="http://localhost:8081">http://localhost:8081</a></span></li><li class="lvl-7">ç«¯å£å·å¯ä»¥æ”¹å˜ , D:\DevTools\Nexus\nexus-3.66.0-02\etcç›®å½•ä¸‹çš„nexus-default.propertiesæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ã€‚</li><li class="lvl-7"><span data-type="text" style="background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);">æ³¨æ„ï¼šå¦‚æœæµè§ˆå™¨è®¿é—®ä¸€ç›´è½¬åœˆæ‰“ä¸å¼€é¡µé¢ï¼Œåˆ™åœ¨cmdçª—å£ctrl+cå”¤é†’ä¸€ä¸‹å°±å¯ä»¥æ‰“å¼€äº†ã€‚</span></li><li class="lvl-7"><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403152022-25jfm93.png" alt="image">â€‹</li></ol></li></ol><h1>3. Nexusç§æœçš„åº”ç”¨</h1><h2 id="3-1-ç™»å½•">3.1 ç™»å½•</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578382883-2473002b-8a8c-49aa-9ff6-8f2f43b4368c-20240403154227-d5s6n7t.png" alt="image.png"><br>å¯†ç æ‰€åœ¨çš„æ–‡ä»¶ï¼š<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578676893-c70852d1-a697-4173-91cd-0d54965ef7cd-20240403154227-vl1kq52.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578745174-adf07074-2ee6-4ccc-adfd-e1cbe23234b5-20240403154227-6h1521b.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710578912244-f8fdbcb4-0064-4628-b06a-5b39548c7d7e-20240403154227-vlvt92h.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710579554576-5fc530bd-605c-4a1d-92d4-e3292de9b05a-20240403154227-he0bh6l.png" alt="image.png"><br>ç‚¹Browseè§‚å¯Ÿ<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710586648632-8430fc88-b320-4e83-a6ee-1167d069029b-20240403154227-ogorb25.png" alt="image.png">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710726332170-2850f85f-528c-44bd-b437-4ec88fb01135-20240403154227-qvebnaw.jpeg" alt="æ ‡å¤´.jpg">â€‹</p><h2 id="3-2-è®¾ç½®ä»“åº“">3.2 è®¾ç½®ä»“åº“</h2><ol><li class="lvl-3"><p>åˆ›å»ºä»“åº“</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589583924-8d28f532-f702-4c48-8a59-e7cbf2f9e5fc-20240403154227-4jmjuc8.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589678658-e5e35527-830d-4341-89bd-1ab34fe6910d-20240403154227-0zquoap.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589889744-af161de3-c9a3-4601-97c2-0829604d7056-20240403154227-rzvjcm7.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590255782-e59dc0bb-e821-4485-b55d-ac85f35204ad-20240403154227-9p9ab3v.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710589981642-18af2fb7-4e16-4b60-8823-14c3a2517ee1-20240403154228-2ym4v6e.png" alt="image.png">â€‹</p><ol start="2"><li class="lvl-3"><p>å°†åˆ›å»ºå¥½çš„ä»“åº“æ·»åŠ åˆ°publicç»„ä¸­ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590564218-94fda846-3c68-46cf-b75a-d289e4c87bde-20240403154228-uzetdi8.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590619703-91ef96bd-b119-4744-b860-523e62d36e04-20240403154228-z7vor5m.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710590666393-688daeb6-4bc0-4982-ad3b-be23a9333687-20240403154228-cshlqpe.png" alt="image.png">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710726336997-278c1a20-f874-4061-b7b3-c5c48c9f48b8-20240403154228-tbgwl8q.jpeg" alt="æ ‡å¤´.jpg">â€‹</p><h2 id="3-3-ä½¿ç”¨Nexusä¸‹è½½jaråŒ…">3.3 ä½¿ç”¨Nexusä¸‹è½½jaråŒ…</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„æœ¬åœ°ä»“åº“ï¼Œç”¨æ¥æ¥æ”¶Nexusä¸‹è½½ä¸‹æ¥çš„jaråŒ…ã€‚<br>å› ä¸ºè¦ä½¿ç”¨Mavenå·¥å…·è®¿é—®ç§æœï¼Œæ‰€ä»¥settings.xmlæ–‡ä»¶è¦ä¿®æ”¹ã€‚</p><ol><li class="lvl-3"><p>æœ¬åœ°ä»“åº“åœ°å€ä¿®æ”¹ä¸ºæ–°åœ°å€</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\repository_nexus<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710595705585-36ca7718-4754-4725-95c6-e1df8b9fab14-20240403154228-n8yl6pc.png" alt="image.png">â€‹</p><ol start="2"><li class="lvl-3"><p>è®¾ç½®<mirror>æ ‡ç­¾ä¸ºNexusçš„maven-publicåº“åœ°å€ï¼ˆä»“åº“ç»„ï¼‰</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mynexus<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<url>æ ‡ç­¾çš„åœ°å€å¤åˆ¶maven-publicåº“çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€å–ä»£äº†ä¸­å¤®ä»“åº“åœ°å€ã€‚æˆ‘ä»¬æ‰€æœ‰çš„jaråŒ…ä¸‹è½½éƒ½æ˜¯ä»è¿™ä¸ªåœ°å€é‡Œæ‰¾ã€‚å®ƒåŒ…å«å®¿ä¸»åº“å’Œä»£ç†åº“çš„æ‰€æœ‰åœ°å€ã€‚<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710595526378-d59c4cf0-1b13-41e0-9298-70ddb75cc971-20240403154228-y9pgqez.png" alt="image.png">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710726342406-4777a8ce-9a6c-4d52-90db-8b7b9da9c90f-20240403154228-60ubcr8.jpeg" alt="æ ‡å¤´.jpg">â€‹</p><ol start="3"><li class="lvl-3"><p>è®¾ç½®æ¯æ¬¡è®¿é—®Nexusçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¿®æ”¹settings.xmlæ–‡ä»¶ä¸­çš„<server>æ ‡ç­¾</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710596219243-d9bfdb91-472d-492c-96f2-0e4c2e6df2f3-20240403154228-3etnc39.png" alt="image.png">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710726345194-0250f8f0-725e-439d-b4e0-4a5fc29da710-20240403154228-5n4l18l.jpeg" alt="æ ‡å¤´.jpg">â€‹</p><ol start="4"><li class="lvl-3"><p>æ‰“å¼€Idea2023ï¼Œç¡®å®šæ˜¯æ–°çš„æœ¬åœ°ä»“åº“åœ°å€</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710596742497-f977c201-2556-465b-8415-0b2a2b716953-20240403154228-0mda1df.png" alt="image.png"><br>é€‰æ‹©ä¸€ä¸ªé¡¹ç›®maven_01æ‰§è¡Œcleanæ“ä½œã€‚<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710597060668-9657312a-3d1b-46e2-a339-919b75baff80-20240403154228-cxklm6u.png" alt="image.png"><br>è§‚å¯Ÿæœ¬åœ°ä»“åº“ï¼š<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710597467794-be84dd2e-0633-4408-a494-e8e2bf671095-20240403154228-e5bsu3q.png" alt="image.png"><br>è§‚å¯Ÿç§æœNexusä¸Šçš„maven-publicç»„<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710597430739-fc2a2304-03af-48f6-8e3d-e3e0e3620110-20240403154228-z5jw6ne.png" alt="image.png">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710726350164-9966f8cf-fdc9-4227-9086-d492b4b2dc66-20240403154228-ux3sfzs.jpeg" alt="æ ‡å¤´.jpg">â€‹</p><h2 id="3-4-ä½¿ç”¨Ideaéƒ¨ç½²jaråŒ…åˆ°Nexusç§æœ">3.4 ä½¿ç”¨Ideaéƒ¨ç½²jaråŒ…åˆ°Nexusç§æœ</h2><p>ç§æœNexusæ˜¯éƒ¨ç½²åœ¨å±€åŸŸç½‘çš„ï¼Œæ˜¯å…¨å…¬å¸å…±äº«çš„ä»“åº“åœ°å€ï¼Œæ¯ä¸ªå›¢é˜Ÿéƒ½å¯ä»¥å°†å·²å®Œæˆçš„åŠŸèƒ½æˆ–æµ‹è¯•ç‰ˆæœ¬å‘å¸ƒåˆ°ç§æœä¾›åˆ«äººæ¥ä½¿ç”¨ã€‚</p><ol><li class="lvl-3"><p>æ‰“å¼€è¦éƒ¨ç½²çš„é¡¹ç›®çš„pom.xmlæ–‡ä»¶ï¼Œè®¾ç½®ä¸Šä¼ è·¯å¾„</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/dljd-release/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>dljd-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/dljd-snapshot/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<url>è·¯å¾„æ¥è‡ªäºç§æœdljd-snapshot.<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710601782311-d10b3ebb-b91c-4e07-a5db-b1af1ed34d78-20240403154228-1dw7ji9.png" alt="image.png"><br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710599781490-0ae738c8-f2a5-426a-b1fa-4f3b03ebb710-20240403154228-nruaq36.png" alt="image.png">â€‹</p><ol start="2"><li class="lvl-3"><p>è¿è¡Œdeployéƒ¨ç½²å‘½ä»¤</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710601913346-5d734890-c6bb-478c-99b3-0b8620053c3e-20240403154228-aq0ajdd.png" alt="image.png">â€‹</p><ol start="3"><li class="lvl-3"><p>è§‚å¯Ÿç§æœå¯¹åº”ä»“åº“å˜åŒ–</p></li></ol><p>releaseé¡¹ç›®éƒ¨ç½²<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710602004568-db363d8f-ecc7-414c-b432-9a79bbf88191-20240403154228-ftib4p1.png" alt="image.png"><br>snapshoté¡¹ç›®éƒ¨ç½²<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-1710602043184-441c9483-a596-41b5-b0b1-221b8d82ca0c-20240403154228-mmi0075.png" alt="image.png"><br>æ€»ç»“ï¼šæ•´ä¸ªMavenå·¥å…·çš„åº”ç”¨å°±è®²å®Œäº†ã€‚å…¶ä¸­ä¸€äºŒä¸‰ç« æ˜¯åŸºç¡€åº”ç”¨ï¼Œå››äº”å…­ç« æ˜¯é«˜çº§åº”ç”¨ï¼Œå·¥ä½œæ—¶é‡åˆ°çš„é—®é¢˜å››äº”å…­ç« æœ‰è§£å†³æ–¹æ¡ˆï¼Œåˆ°æ—¶å€™å†çœ‹ä¹Ÿæ¥å¾—åŠã€‚</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5. Mavençš„ç»§æ‰¿å’Œèšåˆ</title>
      <link href="/posts/9e3d6f34.html"/>
      <url>/posts/9e3d6f34.html</url>
      
        <content type="html"><![CDATA[<h1>1. ä»€ä¹ˆæ˜¯ç»§æ‰¿</h1><p>Maven çš„<span data-type="text" style="color: var(--b3-font-color13);">ä¾èµ–ä¼ é€’æœºåˆ¶</span>å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Š<span data-type="text" style="color: var(--b3-font-color13);">ç®€åŒ– POM çš„é…ç½®</span>ï¼Œä½†è¿™ä»…é™äºå­˜åœ¨ä¾èµ–å…³ç³»çš„é¡¹ç›®æˆ–æ¨¡å—ä¸­ã€‚å½“ä¸€ä¸ªé¡¹ç›®çš„å¤šä¸ªæ¨¡å—éƒ½ä¾èµ–äºç›¸åŒ jar åŒ…çš„ç›¸åŒç‰ˆæœ¬ï¼Œä¸”è¿™äº›æ¨¡å—ä¹‹é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè¿™å°±å¯¼è‡´<span data-type="text" style="color: var(--b3-font-color13);">åŒä¸€ä¸ªä¾èµ–éœ€è¦åœ¨å¤šä¸ªæ¨¡å—ä¸­é‡å¤å£°æ˜</span>ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯å–çš„ï¼Œå¤§é‡çš„å‰äººç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œ<span data-type="text" style="color: rgb(28 50 255);">é‡å¤å¾€å¾€æ„å‘³ç€æ›´å¤šçš„åŠ³åŠ¨å’Œæ›´é«˜çš„æ½œåœ¨é£é™©ã€‚</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403143229-vhmfhtc.png" alt="image">â€‹</p><p>åœ¨ Java é¢å‘å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ç§ç±»çš„çˆ¶å­ç»“æ„ï¼Œç„¶ååœ¨çˆ¶ç±»ä¸­å£°æ˜ä¸€äº›å­—æ®µå’Œæ–¹æ³•ä¾›å­ç±»ç»§æ‰¿ï¼Œè¿™æ ·å°±å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šæ¶ˆé™¤é‡å¤ï¼Œ<span data-type="text" style="color: var(--b3-font-color7);">åšåˆ° â€œä¸€å¤„å£°æ˜ï¼Œå¤šå¤„ä½¿ç”¨â€ã€‚åœ¨ Maven çš„ä¸–ç•Œä¸­ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„æœºåˆ¶ï¼Œå®ƒå°±æ˜¯ POM ç»§æ‰¿ã€‚</span></p><p>Maven åœ¨è®¾è®¡æ—¶ï¼Œå€Ÿé‰´äº† Java é¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿æ€æƒ³ï¼Œæå‡ºäº† POM ç»§æ‰¿æ€æƒ³ã€‚å½“ä¸€ä¸ªé¡¹ç›®åŒ…å«å¤šä¸ªæ¨¡å—æ—¶ï¼Œå¯ä»¥åœ¨è¯¥é¡¹ç›®ä¸­å†åˆ›å»ºä¸€ä¸ª<span data-type="text" style="color: var(--b3-font-color13);">çˆ¶æ¨¡å—ï¼Œå¹¶åœ¨å…¶ POM ä¸­å£°æ˜ä¾èµ–ï¼Œå…¶ä»–æ¨¡å—çš„ POM å¯é€šè¿‡ç»§æ‰¿çˆ¶æ¨¡å—çš„ POM æ¥è·å¾—å¯¹ç›¸å…³ä¾èµ–çš„å£°æ˜ã€‚</span></p><p><span data-type="text" style="color: var(--b3-font-color11);">å¯¹äºçˆ¶æ¨¡å—è€Œè¨€ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æ¶ˆé™¤å­æ¨¡å— POM ä¸­çš„é‡å¤é…ç½®</span>ï¼Œå…¶ä¸­ä¸åŒ…å«æœ‰ä»»ä½•å®é™…ä»£ç ï¼Œ<span data-type="text" style="color: var(--b3-font-color13);">å› æ­¤çˆ¶æ¨¡å— POM çš„æ‰“åŒ…ç±»å‹ï¼ˆpackagingï¼‰å¿…é¡»æ˜¯ pomã€‚</span></p><p>å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403143520-vw81v6g.png" alt="image">â€‹</p><p>å­å·¥ç¨‹å¯ä»¥ç»§æ‰¿çš„çˆ¶å·¥ç¨‹çš„å…ƒç´ ï¼š</p><table><thead><tr><th><strong>å…ƒç´ </strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td><span data-type="text" style="color: var(--b3-font-color13);">groupId</span></td><td><span data-type="text" style="color: var(--b3-font-color13);">é¡¹ç›®ç»„ IDï¼Œé¡¹ç›®åæ ‡çš„æ ¸å¿ƒå…ƒç´ </span></td></tr><tr><td><span data-type="text" style="color: var(--b3-font-color13);">version</span></td><td><span data-type="text" style="color: var(--b3-font-color13);">é¡¹ç›®ç‰ˆæœ¬ï¼Œé¡¹ç›®åæ ‡çš„æ ¸å¿ƒå…ƒç´ </span></td></tr><tr><td>description</td><td>é¡¹ç›®çš„æè¿°ä¿¡æ¯</td></tr><tr><td>organization</td><td>é¡¹ç›®çš„ç»„ç»‡ä¿¡æ¯</td></tr><tr><td>inceptionYear</td><td>é¡¹ç›®çš„åˆ›å§‹å¹´ä»½</td></tr><tr><td>url</td><td>é¡¹ç›®çš„ URL åœ°å€</td></tr><tr><td>developers</td><td>é¡¹ç›®çš„å¼€å‘è€…ä¿¡æ¯</td></tr><tr><td>contributors</td><td>é¡¹ç›®çš„è´¡çŒ®è€…ä¿¡æ¯</td></tr><tr><td>distributionManagement</td><td>é¡¹ç›®çš„éƒ¨ç½²é…ç½®</td></tr><tr><td>issueManagement</td><td>é¡¹ç›®çš„ç¼ºé™·è·Ÿè¸ªç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>ciManagement</td><td>é¡¹ç›®çš„æŒç»­é›†æˆç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>scm</td><td>é¡¹ç›®çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>mailingLists</td><td>é¡¹ç›®çš„é‚®ä»¶åˆ—è¡¨ä¿¡æ¯</td></tr><tr><td><span data-type="text" style="color: var(--b3-font-color13);">properties</span></td><td><span data-type="text" style="color: var(--b3-font-color13);">è‡ªå®šä¹‰çš„ Maven å±æ€§</span></td></tr><tr><td><span data-type="text" style="color: var(--b3-font-color13);">dependencies</span></td><td><span data-type="text" style="color: var(--b3-font-color13);">é¡¹ç›®çš„ä¾èµ–é…ç½®</span></td></tr><tr><td><span data-type="text" style="color: var(--b3-font-color13);">dependencyManagement</span></td><td><span data-type="text" style="color: var(--b3-font-color13);">é¡¹ç›®çš„ä¾èµ–ç®¡ç†é…ç½®</span></td></tr><tr><td>repositories</td><td>é¡¹ç›®çš„ä»“åº“é…ç½®</td></tr><tr><td><span data-type="text" style="color: var(--b3-font-color13);">build</span></td><td><span data-type="text" style="color: var(--b3-font-color13);">åŒ…æ‹¬é¡¹ç›®çš„æºç ç›®å½•é…ç½®ã€è¾“å‡ºç›®å½•é…ç½®ã€æ’ä»¶é…ç½®ã€æ’ä»¶ç®¡ç†é…ç½®ç­‰</span></td></tr><tr><td>reporting</td><td>åŒ…æ‹¬é¡¹ç›®çš„æŠ¥å‘Šè¾“å‡ºç›®å½•é…ç½®ã€æŠ¥å‘Šæ’ä»¶é…ç½®ç­‰</td></tr></tbody></table><p><strong>æ€»ç»“ï¼šä¸€å¥è¯ï¼Œé€šè¿‡ç»§æ‰¿å¯ä»¥å®ç°å­å·¥ç¨‹æ²¿ç”¨çˆ¶å·¥ç¨‹çš„é…ç½®ã€‚å¤§å¤§å‡å°‘é‡å¤è®¾ç½®ã€‚</strong></p><p>çˆ¶å·¥ç¨‹ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ‰“åŒ…æ–¹å¼å¿…é¡»æ˜¯pom,å£°æ˜æ˜¯çˆ¶å·¥ç¨‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--èšåˆå­æ¨¡å—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>maven_son<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>maven_web<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--å®šä¹‰å±æ€§ï¼Œä¾¿äºç‰ˆæœ¬çš„ç®¡ç†--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">spring-version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">spring-version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">servlet-version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åªæ˜¯å®šä¹‰ï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„æ·»åŠ ä¾èµ–ï¼Œå­å·¥ç¨‹æ ¹æ®éœ€è¦æœ‰é€‰æ‹©çš„æ·»åŠ ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å¼•ç”¨å®šä¹‰å¥½çš„å±æ€§--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;servlet-version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--åªå®šä¹‰Tomcatæ’ä»¶ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">port</span>&gt;</span>8089<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­å·¥ç¨‹ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¯ä»¥çœç•¥groupIdå’Œversionï¼Œå› ä¸ºä¸çˆ¶å·¥ç¨‹ä¿æŒä¸€è‡´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--éœ€è¦ä»€ä¹ˆä¾èµ–ï¼Œæ·»åŠ ä»€ä¹ˆä¾èµ–ï¼Œå¯ä»¥çœç•¥ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬ç”±çˆ¶å·¥ç¨‹ç»Ÿä¸€ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®Tomcatæ’ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å­å·¥ç¨‹å¯ä»¥è‡ªå®šä¹‰ç«¯å£å·ï¼Œä¸è‡ªå®šä¹‰ä½¿ç”¨çˆ¶å·¥ç¨‹çš„--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">port</span>&gt;</span>8060<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼šä¸€å¥è¯ï¼Œé€šè¿‡ç»§æ‰¿å¯ä»¥å®ç°å­å·¥ç¨‹æ²¿ç”¨çˆ¶å·¥ç¨‹çš„é…ç½®ã€‚å¤§å¤§å‡å°‘é‡å¤è®¾ç½®ã€‚</strong></p></blockquote><h1>2. ä»€ä¹ˆæ˜¯èšåˆ</h1><p><span data-type="text" style="color: var(--b3-font-color4);">ä½¿ç”¨ Maven èšåˆåŠŸèƒ½å¯¹é¡¹ç›®è¿›è¡Œæ„å»ºæ—¶ï¼Œéœ€è¦åœ¨è¯¥é¡¹ç›®ä¸­é¢å¤–åˆ›å»ºä¸€ä¸ªçš„èšåˆæ¨¡å—ï¼Œç„¶åé€šè¿‡è¿™ä¸ªæ¨¡å—æ„å»ºæ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ¨¡å—ã€‚</span>èšåˆæ¨¡å—ä»…ä»…æ˜¯å¸®åŠ©èšåˆå…¶ä»–æ¨¡å—çš„å·¥å…·ï¼Œå…¶æœ¬èº«å¹¶æ— ä»»ä½•å®è´¨å†…å®¹ï¼Œå› æ­¤èšåˆæ¨¡å—ä¸­åªæœ‰ä¸€ä¸ª POM æ–‡ä»¶ï¼Œä¸åŒ…å« src ç­‰ç›®å½•ã€‚</p><p><strong>ä¸çˆ¶æ¨¡å—ç›¸ä¼¼ï¼Œ</strong> èšåˆæ¨¡å—çš„æ‰“åŒ…æ–¹å¼ï¼ˆpackagingï¼‰ä¹Ÿæ˜¯ pomï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ <span data-type="text" style="color: var(--b3-font-color13);">POM ä¸­é€šè¿‡ modules ä¸‹çš„ module å­å…ƒç´ æ¥æ·»åŠ éœ€è¦èšåˆçš„æ¨¡å—çš„ç›®å½•è·¯å¾„ã€‚</span>çˆ¶æ¨¡å—çš„ pom.xml æ–‡ä»¶çš„ <modules> æŠŠå­æ¨¡å—èšé›†èµ·æ¥.</p><p>é¡¹ç›®ç»“æ„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403145026-zq7yxey.png" alt="image">â€‹</p><blockquote><p><strong>æ€»ç»“ï¼šä¸€å¥è¯ï¼Œèšåˆå°±æ˜¯é›†ä¸­æ„å»ºé¡¹ç›®çš„ã€‚</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4. Mavençš„ä¾èµ–ç®¡ç†</title>
      <link href="/posts/a25a408.html"/>
      <url>/posts/a25a408.html</url>
      
        <content type="html"><![CDATA[<h1>1. <strong>ä»€ä¹ˆæ˜¯ä¾èµ–èŒƒå›´</strong></h1><p><span data-type="text" style="color: var(--b3-font-color13);">Mavençš„ä¾èµ–æ„ä»¶åŒ…å«ä¸€ä¸ªä¾èµ–èŒƒå›´çš„å±æ€§</span>ã€‚<strong>è¿™ä¸ªå±æ€§æè¿°çš„æ˜¯ä¸‰å¥—classpathçš„æ§åˆ¶ï¼Œå³ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œ</strong>ã€‚è¿™è¯´ç™½äº†å°±æ˜¯æ·»åŠ çš„jaråŒ…èµ·ä½œç”¨çš„èŒƒå›´ã€‚  mavenæä¾›äº†ä»¥ä¸‹å‡ ç§ä¾èµ–èŒƒå›´:<strong>compile,test,provided.runtime,systemã€‚</strong></p><p><strong>åˆ†åˆ«ä»‹ç»å¦‚ä¸‹ï¼š</strong></p><ol><li class="lvl-3"><p><strong>compile</strong></p></li></ol><p>ç¼–è¯‘ä¾èµ–èŒƒå›´ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä½¿ç”¨è¯¥ä¾èµ–èŒƒå›´ï¼Œå¯¹äºç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œ3ç§classpathéƒ½æœ‰æ•ˆã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p><strong>test</strong></p></li></ol><p>æµ‹è¯•ä¾èµ–èŒƒå›´ï¼Œä½¿ç”¨æ­¤ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œ<strong>åªå¯¹ç¼–è¯‘æµ‹è¯•ã€è¿è¡Œæµ‹è¯•çš„classpathæœ‰æ•ˆ</strong>ï¼Œåœ¨ç¼–è¯‘ä¸»ä»£ç ã€è¿è¡Œé¡¹ç›®æ—¶æ— æ³•ä½¿ç”¨æ­¤ç±»ä¾èµ–ã€‚æ¯”å¦‚junitï¼Œå®ƒåªæœ‰åœ¨ç¼–è¯‘æµ‹è¯•ä»£ç åŠè¿è¡Œæµ‹è¯•çš„æ—¶å€™æ‰éœ€è¦ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li class="lvl-3"><p><strong>provided</strong></p></li></ol><p>å·²æä¾›ä¾èµ–èŒƒå›´ã€‚è¡¨ç¤ºé¡¹ç›®çš„è¿è¡Œç¯å¢ƒä¸­å·²ç»æä¾›äº†æ‰€éœ€è¦çš„æ„ä»¶ï¼Œå¯¹äºæ­¤ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œ<span data-type="text" parent-style="background-color: var(--b3-font-background10);" style="color: var(--b3-font-color13);">å¯¹äºç¼–è¯‘æºç ã€ç¼–è¯‘æµ‹è¯•ã€è¿è¡Œæµ‹è¯•ä¸­classpathæœ‰æ•ˆï¼Œä½†åœ¨è¿è¡Œæ—¶æ— æ•ˆã€‚</span>æ¯”å¦‚ä¸Šé¢è¯´åˆ°çš„servlet-apiï¼Œè¿™ä¸ªåœ¨ç¼–è¯‘å’Œæµ‹è¯•çš„æ—¶å€™éœ€è¦ç”¨åˆ°ï¼Œä½†æ˜¯åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œwebå®¹å™¨å·²ç»æä¾›äº†ï¼Œå°±ä¸éœ€è¦mavenå¸®å¿™å¼•å…¥äº†ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li class="lvl-3"><p><strong>runtime</strong></p></li></ol><p><span data-type="text" parent-style="background-color: var(--b3-font-background6);" style="color: var(--b3-font-color9);">è¿è¡Œæ—¶ä¾èµ–èŒƒå›´ï¼Œä½¿ç”¨æ­¤ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œå¯¹äºæµ‹è¯•å’Œè¿è¡Œé¡¹ç›®çš„classpathæœ‰æ•ˆï¼Œä½†åœ¨ç¼–è¯‘æ—¶æ— æ•ˆ</span>ï¼Œæ¯”å¦‚jdbcé©±åŠ¨å®ç°ï¼Œé¡¹ç›®ä»£ç ç¼–è¯‘çš„æ—¶å€™åªéœ€è¦æä¾›JDKæä¾›çš„JDBCæ¥å£ï¼Œè¿è¡Œçš„æ—¶å€™æ‰éœ€è¦å…·ä½“çš„jdbcé©±åŠ¨å®ç°ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="5"><li class="lvl-3"><p><strong>system</strong></p></li></ol><p>ç³»ç»Ÿä¾èµ–èŒƒå›´ï¼Œè¯¥ä¾èµ–ä¸3ä¸­classpathçš„å…³ç³»ï¼Œå’Œprovidedä¾èµ–èŒƒå›´å®Œå…¨ä¸€è‡´ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨systemèŒƒå›´çš„ä¾èµ–æ—¶å¿…é¡»é€šè¿‡systemPathå…ƒç´ æ˜¾ç¤ºç¬¬æŒ‡å®šä¾èµ–æ–‡ä»¶çš„è·¯å¾„ã€‚è¿™ç§ä¾èµ–ç›´æ¥ä¾èµ–äºæœ¬åœ°è·¯å¾„ä¸­çš„æ„ä»¶ï¼Œå¯èƒ½æ¯ä¸ªå¼€å‘è€…æœºå™¨ä¸­æ„ä»¶çš„è·¯å¾„ä¸ä¸€è‡´ï¼Œ<span data-type="text" parent-style="background-color: var(--b3-font-background8);" style="color: var(--b3-font-color11);">æ‰€ä»¥å¦‚æœä½¿ç”¨è¿™ç§å†™æ³•ï¼Œä½ çš„æœºå™¨ä¸­å¯èƒ½æ²¡æœ‰é—®é¢˜ï¼Œåˆ«äººçš„æœºå™¨ä¸­å°±ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥å»ºè®®è°¨æ…ä½¿ç”¨ã€‚</span></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven_001_javase<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>D:/repository/com/bjpowernode/maven_001_javase/1.0-SNAPSHOT/maven_001_javase-1.0-SNAPSHOT.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“å¦‚ä¸‹å›¾ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240402210155-k2gbzh2.png" alt="image">â€‹</p><h1>2. ä»€ä¹ˆæ˜¯ä¾èµ–ä¼ é€’</h1><p><span data-type="text" style="color: var(--b3-font-color13);">ä¾èµ–å…·æœ‰ä¼ é€’æ€§ã€‚</span> Maven çš„ä¾èµ–ä¼ é€’æœºåˆ¶æ˜¯æŒ‡ï¼šä¸ç®¡ Maven é¡¹ç›®å­˜åœ¨å¤šå°‘é—´æ¥ä¾èµ–ï¼ŒPOM ä¸­éƒ½åªéœ€è¦å®šä¹‰å…¶ç›´æ¥ä¾èµ–ï¼Œä¸å¿…å®šä¹‰ä»»ä½•é—´æ¥ä¾èµ–ï¼Œè¿™åœ¨ä¸€å®šç¨‹åºä¸Šç®€åŒ– äº†POM çš„é…ç½®ã€‚</p><p>å‡é¡¹ç›®Aä¾èµ–é¡¹ç›®Bï¼Œé¡¹ç›®Bä¾èµ–é¡¹ç›®Cï¼Œåˆ™A-----&gt;ç›´æ¥ä¾èµ–Bï¼ŒB-----&gt;ç›´æ¥ä¾èµ–Cï¼ŒA-----&gt;é—´æ¥ä¾èµ–Cã€‚</p><p>ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µã€‚<span data-type="text" style="color: var(--b3-font-color9);">ç›´æ¥åœ¨é¡¹ç›®ä¸­é…ç½®çš„ä¾èµ–ç§°ä¸ºç›´æ¥ä¾èµ–ï¼Œé€šè¿‡æ·»åŠ ä¾èµ–å…³è”è¿›æ¥çš„ä¾èµ–ç§°ä¸ºé—´æ¥ä¾èµ–</span>ã€‚<span data-type="text" style="color: var(--b3-font-color7);">1æ˜¯é¡¹ç›®çš„ç›´æ¥ä¾èµ–ï¼Œ2æ˜¯1çš„ç›´æ¥ä¾èµ–ï¼Œ2æ˜¯é¡¹ç›®çš„é—´æ¥ä¾èµ–ï¼Œä»¥æ­¤ç±»æ¨ã€‚</span>å¦‚å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240402210516-yirv7om.png" alt="image">â€‹</p><h2 id="2-1-ä¾èµ–èŒƒå›´å¯¹ä¾èµ–ä¼ é€’çš„å½±å“">2.1 <strong>ä¾èµ–èŒƒå›´å¯¹ä¾èµ–ä¼ é€’çš„å½±å“</strong></h2><p>B æ˜¯ A çš„ç›´æ¥ä¾èµ–ï¼ŒC æ˜¯ A çš„é—´æ¥ä¾èµ–ï¼Œæ ¹æ® Maven çš„ä¾èµ–ä¼ é€’æœºåˆ¶ï¼Œ<span data-type="text" style="color: var(--b3-font-color13);">é—´æ¥ä¾èµ– C ä¼šä»¥ä¼ é€’æ€§ä¾èµ–çš„å½¢å¼å¼•å…¥åˆ° A ä¸­ï¼Œä½†è¿™ç§å¼•å…¥å¹¶ä¸æ˜¯æ— æ¡ä»¶çš„ï¼Œå®ƒä¼šå—åˆ°ä¾èµ–èŒƒå›´çš„å½±å“ã€‚ </span></p><p><strong>å›¾ç¤ºä¾èµ–ä¼ é€’å…³ç³»:</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240402211040-20bmjyy.png" alt="image">â€‹</p><p>è§„èŒƒåŒ–ä¾èµ–ä¼ é€’çš„ç»“æœ:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240402211212-hygm5ay.png" alt="image">â€‹</p><p>äº¤å‰éƒ¨åˆ†çš„å•å…ƒæ ¼çš„å–å€¼ä¸ºä¼ é€’æ€§ä¾èµ–çš„ä¾èµ–èŒƒå›´ï¼Œè‹¥äº¤å‰å•å…ƒæ ¼å–å€¼ä¸º â€œ-â€ï¼Œåˆ™è¡¨ç¤ºè¯¥ä¼ é€’æ€§ä¾èµ–ä¸èƒ½è¢«ä¼ é€’ã€‚</p><p>é€šè¿‡ä¸Šè¡¨ï¼Œå¯ä»¥æ€»ç»“å‡ºä»¥ä¸‹è§„å¾‹ï¼š</p><ol><li class="lvl-3"><p>å½“é—´æ¥ä¾èµ–çš„èŒƒå›´æ˜¯ compile æ—¶ï¼Œä¸ç›´æ¥ä¾èµ–çš„èŒƒå›´ä¸€è‡´ï¼›</p></li><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color13);">å½“é—´æ¥ä¾èµ–çš„èŒƒå›´æ˜¯ test æˆ– providedæ—¶ï¼Œä¼ é€’æ€§ä¾èµ–ä¸ä¼šè¢«ä¼ é€’ï¼›</span></p></li><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color9);">å½“é—´æ¥ä¾èµ–çš„èŒƒå›´æ˜¯ runtime æ—¶ï¼Œä¼ é€’æ€§ä¾èµ–çš„èŒƒå›´ä¸ç›´æ¥ä¾èµ–çš„èŒƒå›´ä¸€è‡´ï¼Œä½† compile ä¾‹å¤–ï¼Œæ­¤æ—¶ä¼ é€’æ€§ä¾èµ–çš„èŒƒå›´ä¸º runtimeã€‚</span></p></li></ol><h1>3. ä¾èµ–å†²çª</h1><h2 id="3-1-ä»€ä¹ˆæ˜¯ä¾èµ–å†²çª">3.1 ä»€ä¹ˆæ˜¯ä¾èµ–å†²çª</h2><pre><code>åœ¨ Maven é¡¹ç›®ä¸­ï¼Œä¾èµ–é€šå¸¸è¢«å®šä¹‰åœ¨é¡¹ç›®çš„ pom.xml æ–‡ä»¶ä¸­ã€‚&lt;span data-type=&quot;text&quot; style=&quot;color: var(--b3-font-color13);&quot;&gt;å½“å¤šä¸ªä¾èµ–é¡¹å¼•å…¥äº†ä¸åŒç‰ˆæœ¬çš„ç›¸åŒåº“æ—¶ï¼Œå°±ä¼šå‘ç”Ÿä¾èµ–å†²çªã€‚&lt;/span&gt;è¿™å¯èƒ½æ˜¯å› ä¸ºé¡¹ç›®çš„ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–å¯¼è‡´äº†åŒä¸€åº“çš„å¤šä¸ªç‰ˆæœ¬å­˜åœ¨äºç±»è·¯å¾„ä¸­ã€‚æ¯ä¸ªæ˜¾å¼å£°æ˜çš„ç±»åŒ…éƒ½ä¼šä¾èµ–äºä¸€äº›å…¶å®ƒçš„éšå¼ç±»åŒ…ï¼Œè¿™äº›éšå¼çš„ç±»åŒ…ä¼šè¢«mavené—´æ¥å¼•å…¥è¿›æ¥ï¼Œä»è€Œé€ æˆç±»åŒ…å†²çªã€‚</code></pre><h2 id="3-2-ä¾èµ–å†²çªçš„è§£å†³æ–¹æ¡ˆ">3.2 ä¾èµ–å†²çªçš„è§£å†³æ–¹æ¡ˆ</h2><h3 id="3-2-1-ç‰ˆæœ¬é”å®š">3.2.1 ç‰ˆæœ¬é”å®š</h3><p>åœ¨çˆ¶å·¥ç¨‹ä¸­ä½¿ç”¨dependencyManagement è¿›è¡Œç‰ˆæœ¬é”å®šï¼Œ<span data-type="text" parent-style="background-color: var(--b3-font-background12);" style="color: var(--b3-font-color13);">dependencyManagementå¯ä»¥ç»Ÿä¸€ç®¡ç†æ•´ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œç¡®ä¿åº”ç”¨çš„å„ä¸ªé¡¹ç›®çš„ä¾èµ–å’Œç‰ˆæœ¬ä¸€è‡´ã€‚ </span><span data-type="text" parent-style="background-color: var(--b3-font-background12);" style="color: var(--b3-font-color9);">dependencyManagementåªæ˜¯å£°æ˜ä¾èµ–ï¼Œå¹¶ä¸è‡ªåŠ¨å®ç°å¼•å…¥</span>ï¼Œå› æ­¤å­é¡¹ç›®éœ€è¦æ˜¾ç¤ºçš„å£°æ˜éœ€è¦ç”¨çš„ä¾èµ–ï¼Œä¾¿å¯ä»¥å¿½ç•¥ç‰ˆæœ¬å·ã€‚å¦‚æœæ’æ–¥çˆ¶å·¥ç¨‹ä¸­å®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œå¯ä»¥æ˜¾ç¤ºçš„è¿›è¡Œç‰ˆæœ¬å·å£°æ˜ã€‚</p><ol><li class="lvl-3"><p><span data-type="text" style="background-color: var(--b3-font-background13);">å­å·¥ç¨‹ä½¿ç”¨çˆ¶å·¥ç¨‹é”å®šçš„ç‰ˆæœ¬å·</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403090117-tsp8ndt.png" alt="image">â€‹</p></li><li class="lvl-3"><p><span data-type="text" style="background-color: var(--b3-font-background12);">å­å·¥ç¨‹ä½¿ç”¨è‡ªå®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œåªè¦é‡æ–°å£°æ˜å³å¯</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403090428-91qhqbt.png" alt="image">â€‹</p></li><li class="lvl-3"><p><span data-type="text" style="background-color: var(--b3-font-background7);">çˆ¶å·¥ç¨‹ä¸ä½¿ç”¨&lt;dependencyManagement&gt;æ ‡ç­¾ï¼Œåˆ™å­å·¥ç¨‹è·Ÿçˆ¶å·¥ç¨‹å®Œå…¨ä¿æŒä¸€è‡´ã€‚å­å·¥ç¨‹ä¸éœ€è¦æ˜¾ç¤ºä¾èµ–ä»»ä½•jaråŒ…ã€‚</span></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403090527-z5lkzno.png" alt="image">â€‹</p></li></ol><h3 id="3-2-2-çŸ­è·¯å¾„ä¼˜å…ˆ">3.2.2 çŸ­è·¯å¾„ä¼˜å…ˆ</h3><p>å¼•å…¥è·¯å¾„çŸ­è€…ä¼˜å…ˆï¼Œé¡¾åæ€ä¹‰ï¼Œå½“ä¸€ä¸ªé—´æ¥ä¾èµ–å­˜åœ¨å¤šæ¡å¼•å…¥è·¯å¾„æ—¶ï¼Œå¼•å…¥è·¯å¾„çŸ­çš„ä¼šè¢«è§£æä½¿ç”¨ã€‚å¦‚å›¾ <code>å°±è¿‘åŸåˆ™ ï¼Œè°ç¦»å¾—è¿‘å°±ä½¿ç”¨è°</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403102555-lehu6oi.png" alt="image">â€‹</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403102613-erqv9eq.png" alt="image">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403102402-6zl255q.png" alt="image">â€‹</p><h3 id="3-2-3-å£°æ˜ä¼˜å…ˆ">3.2.3 å£°æ˜ä¼˜å…ˆ</h3><p><span data-type="text" parent-style="background-color: var(--b3-font-background8);" style="color: var(--b3-font-color13);">å¦‚æœå­˜åœ¨çŸ­è·¯å¾„ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©çŸ­è·¯å¾„ï¼Œå¦‚æœè·¯å¾„ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ˆå£°æ˜è€…ä¼˜å…ˆ</span>ï¼ŒPOM æ–‡ä»¶ä¸­ä¾èµ–å£°æ˜çš„é¡ºåºå†³å®šäº†é—´æ¥ä¾èµ–ä¼šä¸ä¼šè¢«è§£æä½¿ç”¨ï¼Œé¡ºåºé å‰çš„ä¼˜å…ˆä½¿ç”¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403103742-a3u50av.png" alt="image">â€‹</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403102402-6zl255q.png" alt="image">â€‹</p><blockquote><p><strong>æ³¨æ„å»æ‰&lt;scope&gt;æ ‡ç­¾ï¼Œå¦åˆ™ä¼šå› ä¸ºä¾èµ–èŒƒå›´çš„å½±å“å¯¼è‡´æ•ˆæœæ— æ³•æ˜¾ç¤ºã€‚</strong></p></blockquote><h3 id="3-2-4-ç‰¹æ®Šä¼˜å…ˆ-åæ¥è€…å±…ä¸Š">3.2.4 ç‰¹æ®Šä¼˜å…ˆ(åæ¥è€…å±…ä¸Š)</h3><p>åŒä¸€ä¸ªpom.xmlæ–‡ä»¶ä¸­è¿›è¡Œäº†å¤šæ¬¡ä¾èµ–jaråŒ…ä¸åŒç‰ˆæœ¬çš„é…ç½®ï¼Œåé¢çš„è¦†ç›–å‰é¢çš„é…ç½®ã€‚è¿™ç§æƒ…å†µæ¯”è¾ƒå°‘è§ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403103933-co4ghe0.png" alt="image">â€‹</p><h3 id="3-2-5-å¯é€‰ä¾èµ–">3.2.5 å¯é€‰ä¾èµ–</h3><p>maven_03é¡¹ç›®å¯é€‰æ‹©æ˜¯å¦ä¼ é€’é—´æ¥ä¾èµ–junit_4.13ï¼Œä¸»åŠ¨æƒåœ¨å½“å‰é¡¹ç›®maven_03ä¸­ã€‚å¦‚æœå½“å‰é¡¹ç›®è¢«ä¾èµ–åˆ°å…¶å®ƒé¡¹ç›®ä¸­ï¼Œå½“å‰é¡¹ç›®å¯ä»¥æ‹’ç»äº¤å‡ºé—´æ¥ä¾èµ–é¡¹ã€‚ä¾‹å¦‚maven_02æ·»åŠ äº†maven_03çš„ä¾èµ–ï¼Œmaven_03å¯ä»¥è‡ªä¸»è®¾ç½®å…¶ä¾èµ–é¡¹junit_4.13æ˜¯å¦è¢«é—´æ¥ä¼ é€’ã€‚<optional>true</optional> ä¸ºä¸ä¼ é€’é—´æ¥ä¾èµ–ï¼Œé‚£ä¹ˆåœ¨maven_02é¡¹ç›®ä¸­å°±æ²¡æœ‰junit_4.13çš„ä¾èµ–ã€‚é»˜è®¤æ˜¯falseï¼Œæ˜¯ä¼ é€’é—´æ¥ä¾èµ–ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403104035-t78as32.png" alt="image"><br>ä»£ç ç¤ºä¾‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403104051-95gdzsd.png" alt="image">â€‹</p><h3 id="3-2-6-æ’é™¤ä¾èµ–">3.2.6 æ’é™¤ä¾èµ–</h3><p>æ˜¯å½“å‰é¡¹ç›®æ˜¯å¦ä¸»åŠ¨æ–­å¼€å…¶ä¾èµ–é¡¹ç›®çš„é—´æ¥ä¾èµ–ã€‚<span data-type="text" style="color: var(--b3-font-color8);" parent-style="background-color: var(--b3-font-background5);">ä¹Ÿå°±æ˜¯æ§åˆ¶å½“å‰é¡¹ç›®æ˜¯å¦ä½¿ç”¨å…¶ç›´æ¥ä¾èµ–ä¼ é€’ä¸‹æ¥çš„æ¥é—´ä¾èµ–</span>ã€‚åœ¨maven_02é¡¹ç›®ä¸­æ·»åŠ maven_03é¡¹ç›®çš„ä¾èµ–ï¼Œä½†ä¸è¦maven_03é¡¹ç›®ä¸­çš„junit_4.13çš„ä¾èµ–ï¼Œå¯ä»¥é€‰æ‹©æ’é™¤ä¾èµ–ã€‚è¿™æ ·å¯ä»¥ä¿è¯å½“å‰é¡¹ç›®ä¾èµ–çš„çº¯å‡€æ€§ã€‚</p><p>æ’é™¤ä¾èµ–ä½¿ç”¨ exclusions å…ƒç´ æ’é™¤ä¾èµ–ï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>exclusions å…ƒç´ ä¸‹å¯ä»¥åŒ…å«è‹¥å¹²ä¸ª exclusion å­å…ƒç´ ï¼Œç”¨äºæ’é™¤è‹¥å¹²ä¸ªé—´æ¥ä¾èµ–ï¼Œè¯¥å…ƒç´ åŒ…å«ä¸¤ä¸ªå­å…ƒç´ ï¼šgroupId å’Œ artifactIdï¼Œç”¨æ¥ç¡®å®šéœ€è¦æ’é™¤çš„é—´æ¥ä¾èµ–çš„åæ ‡ä¿¡æ¯</p></li><li class="lvl-3"><p>exclusion å…ƒç´ ä¸­åªéœ€è¦è®¾ç½® groupId å’Œ artifactId å°±å¯ä»¥ç¡®å®šéœ€è¦æ’é™¤çš„ä¾èµ–ï¼Œæ— éœ€æŒ‡å®šç‰ˆæœ¬version</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403104659-qlba8s8.png" alt="image">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403104755-ac40gpz.png" alt="image">â€‹</p><h3 id="3-2-7-å¯é€‰ä¾èµ–å’Œæ’é™¤ä¾èµ–çš„åŒºåˆ«">3.2.7 å¯é€‰ä¾èµ–å’Œæ’é™¤ä¾èµ–çš„åŒºåˆ«</h3><p>æ’é™¤ä¾èµ–å’Œå¯é€‰ä¾èµ–éƒ½èƒ½åœ¨é¡¹ç›®ä¸­å°†é—´æ¥ä¾èµ–æ’é™¤åœ¨å¤–ï¼Œä½†ä¸¤è€…å®ç°æœºåˆ¶å´å®Œå…¨ä¸ä¸€æ ·ã€‚</p><ol><li class="lvl-3"><p>å¯é€‰ä¾èµ–æ˜¯è‡ªå·±å†³å®šæ˜¯å¦å‘å¤–æä¾›é—´æ¥ä¾èµ–ï¼ˆmaven_03è®¾ç½®æ‹’ç»æä¾›é—´æ¥ä¾èµ–junitï¼‰</p></li><li class="lvl-3"><p>æ’é™¤ä¾èµ–æ˜¯ä¸»åŠ¨æ‹’ç»æ·»åŠ ç›´æ¥ä¾èµ–å…³è”çš„é—´æ¥ä¾èµ–ï¼ˆmaven_02é¡¹ç›®è®¾ç½®æ’é™¤maven_03çš„junitä¾èµ–ï¼‰</p></li><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color13);">å¯é€‰ä¾èµ–çš„ä¼˜å…ˆçº§é«˜äºæ’é™¤ä¾èµ–</span></p></li><li class="lvl-3"><p>è‹¥å¯¹äºåŒä¸€ä¸ªé—´æ¥ä¾èµ–åŒæ—¶ä½¿ç”¨æ’é™¤ä¾èµ–å’Œå¯é€‰ä¾èµ–è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå¯é€‰ä¾èµ–çš„å–å€¼å¿…é¡»ä¸º falseï¼Œå¦åˆ™æ’é™¤ä¾èµ–æ— æ³•ç”Ÿæ•ˆã€‚</p></li></ol><p>å¦‚æœç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­å¯èƒ½æ›´æ˜“æ‡‚ä¸€äº›ã€‚</p><ul class="lvl-0"><li class="lvl-2"><p>å›½æ°‘å…šï¼ˆmaven_02)æŠ“ä½äº†å…±äº§å…šäººï¼ˆä¾èµ–äº†maven_03ï¼‰,è¦æ±‚ä¾›å‡ºè”ç³»äººåå•ï¼ˆmaven_03ä¸­ä¾èµ–çš„junit_4.13)ï¼Œæœ€ç»ˆç»“æœæ˜¯æ²¡æœ‰å¾—åˆ°è”ç³»äººåå•ï¼ˆä¸ä¾èµ–jjunit_4.13)ã€‚</p></li><li class="lvl-2"><p>å¯é€‰ä¾èµ–ï¼šæ˜¯maven_03å…±äº§å…šäººæ­»æ´»ä¸è¯´è”ç³»äººçš„åå•junit_4.13ï¼ˆå¯é€‰ï¼Œæˆ‘é€‰æ‹©ä¸è¯´ï¼‰ã€‚</p></li><li class="lvl-2"><p>æ’é™¤ä¾èµ–ï¼šæ˜¯maven_02å›½æ°‘å…šä¸è¦å…±äº§å…šäººæä¾›çš„è”ç³»äººåå•ï¼ˆæ’é™¤ï¼Œæˆ‘å°±æ˜¯ä¸è¦ä½ çš„åå•,  ä¼°è®¡ä½ æ˜¯ä¹±è¯´çš„ï¼‰ã€‚</p></li></ul><h1>4. åˆ·æ–°ä¾èµ–çš„8ç§æ–¹å¼</h1><p>åœ¨ideaä¸­æœ‰æ—¶å€™ä¼šå‡ºç°åˆ·æ–°å»¶æ—¶çš„æƒ…å†µï¼Œé‚£ä¹ˆéœ€è¦è¿›è¡Œæ‰‹å·¥åˆ·æ–°ä¾èµ–ã€‚</p><ol><li class="lvl-3"><p>ç‚¹å‡»Måˆ·æ–°æŒ‰é’®ã€‚</p></li><li class="lvl-3"><p>ç‚¹Mavençª—å£çš„Reload All Maven Projectsã€‚</p></li><li class="lvl-3"><p>Buildâ€”&gt;ReBuild Project é‡æ–°æ„å»ºé¡¹ç›®çš„åŒæ—¶åˆ·æ–°æ‰€æœ‰ä¾èµ–ã€‚</p></li><li class="lvl-3"><p>ç‚¹å‡»æœ¬é¡¹ç›®çš„pom.xmlæ–‡ä»¶â€”&gt;å³é”®â€”&gt;Mavenâ€”&gt;Reload Project åˆ·æ–°æœ¬é¡¹ç›®çš„ä¾èµ–ã€‚</p></li><li class="lvl-3"><p>æ‰“å¼€pom.xmlæ–‡ä»¶,å…¨é€‰,æ‹·è´,åˆ é™¤,å…³é—­,æ‰“å¼€,ç²˜è´´.ç‰©ç†åˆ·æ–°pom.xmlæ–‡ä»¶ ã€‚</p></li><li class="lvl-3"><p>Invalidate Cachesâ€”&gt;å…¨é€‰â€”&gt;Invalidate and Restart æ¸…ç©ºideaçš„ç¼“å­˜å¹¶é‡å¯ideaåˆ·æ–°ä¾èµ–ã€‚</p></li><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color13);">æ‰“å¼€æœ¬åœ°ä»“åº“ï¼Œæœç´¢lastï¼Œå…¨é€‰åˆ é™¤,ç‚¹Mavençš„åˆ·æ–°å…¨éƒ¨ä¾èµ–çš„æŒ‰é’®ã€‚</span></p></li><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color13);">åœ¨7çš„æ­¥éª¤åæ‰§è¡ŒFileâ€”&gt;settingsâ€”&gt;Build,Execution,Deploymentâ€”&gt;Build Toolsâ€”&gt;Mavenâ€”&gt;Repositoriesâ€”&gt;é€‰ä¸­æœ¬åœ°ä»“åº“â€”&gt;updateâ€”&gt;okã€‚</span></p></li></ol><h1>5. èµ„æºæ–‡ä»¶çš„æŒ‡å®š</h1><p>src/main/java å’Œ src/test/java è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰*.java æ–‡ä»¶ä¼šåˆ†åˆ«åœ¨ comile å’Œ test-comiple é˜¶æ®µè¢«ç¼–è¯‘ï¼Œç¼–è¯‘ç»“æœåˆ†åˆ«æ”¾åˆ°äº† target/classes å’Œ targe/test-classes ç›®å½•ä¸­ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„å…¶ä»–æ–‡ä»¶(åç¼€æ˜¯.propertiesæˆ–.xmlç­‰æ–‡ä»¶)éƒ½ä¼šè¢«å¿½ç•¥æ‰(ç¼–è¯‘åä¸¢å¤±)ï¼Œå¦‚æœéœ€è¦æŠŠ src ç›®å½•ä¸‹çš„é™¤.javaä¹‹å¤–çš„æ–‡ä»¶åŒ…æ”¾åˆ° target/classes ç›®å½•ï¼Œä½œä¸ºè¾“å‡ºçš„ jar ä¸€éƒ¨åˆ†ã€‚éœ€è¦æŒ‡å®šèµ„æºæ–‡ä»¶ä½ç½®ã€‚ä»¥ä¸‹å†…å®¹æ”¾åˆ°<build>æ ‡ç­¾ä¸­ã€‚ç®€å•æ¥è¯´å°±æ˜¯åœ¨resourcesç›®å½•ä¸‹çš„*.propertiesæ–‡ä»¶å’Œ*.xmlæ–‡ä»¶ç¼–è¯‘æ—¶ä¸ä¸¢å¤±,ä½†resourcesç›®å½•å¤–çš„*.propertiesæ–‡ä»¶å’Œ*.xmlæ–‡ä»¶ä¼šä¸¢å¤±,æ‰€ä»¥è¦æŒ‡å®šä½ç½®,ä¿è¯ç¼–è¯‘åæ–‡ä»¶éƒ½åœ¨.</p><p>ä»£ç ç¤ºä¾‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403110535-tdgvxi9.png" alt="image">â€‹</p><p>æ·»åŠ æŒ‡å®šåï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240403110611-a0o0otk.png" alt="image">â€‹</p><p>æŒ‡å®šä»£ç ç¤ºä¾‹ï¼š<span data-type="text" style="color: var(--b3-font-color13);">ä¸€èˆ¬æƒ…å†µä¸‹,ä¼šä¸¤ä¸ªç›®å½•éƒ½æŒ‡å®š.</span></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æŒ‡å®šjavaç›®å½•ä¸‹çš„æ‰€æœ‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æŒ‡å®šresourcesç›®å½•ä¸‹çš„æ‰€æœ‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3. Mavençš„åº”ç”¨</title>
      <link href="/posts/cf1cd846.html"/>
      <url>/posts/cf1cd846.html</url>
      
        <content type="html"><![CDATA[<h1>1. ä¸‹è½½Maven</h1><p>å®˜ç½‘ï¼š<a href="https://maven.apache.org/">https://maven.apache.org/</a></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1712026223963-8482d120-a81f-4b9f-9c62-dae4d66ab73a-20240402150725-qixpilb.png" alt="img">â€‹</p><h1>2. Mavenå®‰è£…é…ç½®</h1><h2 id="2-1-ç¬¬ä¸€æ­¥-è§£å‹">2.1. ç¬¬ä¸€æ­¥ : è§£å‹</h2><p><strong>è§£å‹ apache-maven-3.6.1.rar æ—¢å®‰è£…å®Œæˆ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125073656251-666949374-20240402150725-wd0wi6u.png" alt="img">â€‹</p><p><strong>è§£å‹ç¼©åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125073555876-1316731027-20240402150725-hj4l8zf.png" alt="img">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>binç›®å½• ï¼š å­˜æ”¾çš„æ˜¯å¯æ‰§è¡Œå‘½ä»¤ã€‚mvn å‘½ä»¤é‡ç‚¹å…³æ³¨ã€‚</p></li><li class="lvl-2"><p>confç›®å½• ï¼šå­˜æ”¾Mavençš„é…ç½®æ–‡ä»¶ã€‚<code>settings.xml</code> é…ç½®æ–‡ä»¶åæœŸéœ€è¦ä¿®æ”¹ã€‚</p></li><li class="lvl-2"><p>libç›®å½• ï¼šå­˜æ”¾Mavenä¾èµ–çš„jaråŒ…ã€‚Mavenä¹Ÿæ˜¯ä½¿ç”¨javaå¼€å‘çš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿä¾èµ–å…¶ä»–çš„jaråŒ…ã€‚</p></li></ul><h2 id="2-2-ç¬¬äºŒæ­¥-ï¼šé…ç½®ç¯å¢ƒå˜é‡">2.2. ç¬¬äºŒæ­¥ ï¼šé…ç½®ç¯å¢ƒå˜é‡</h2><p>é…ç½®ç¯å¢ƒå˜é‡ MAVEN_HOME ä¸ºå®‰è£…è·¯å¾„çš„binç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ­¤ç”µè„‘` å³é”®  --&gt;  `é«˜çº§ç³»ç»Ÿè®¾ç½®`  --&gt;  `é«˜çº§`  --&gt;  `ç¯å¢ƒå˜é‡</span><br></pre></td></tr></table></figure><p>åœ¨ç³»ç»Ÿå˜é‡å¤„æ–°å»ºä¸€ä¸ªå˜é‡ <code>MAVEN_HOME</code></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125072829851-1610340275-20240402150725-wy7spbi.png" alt="img">â€‹</p><p>åœ¨ <code>Path</code> ä¸­è¿›è¡Œé…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%MAVEN_HOME%\bin</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125073006392-427673029-20240402150725-i0a49ml.png" alt="img">â€‹</p><h2 id="2-3-ç¬¬ä¸‰éƒ¨-ï¼š-éªŒè¯">2.3. ç¬¬ä¸‰éƒ¨ ï¼š éªŒè¯</h2><p>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦è¿›è¡ŒéªŒè¯ï¼Œå‡ºç°å¦‚å›¾æ‰€ç¤ºè¡¨ç¤ºå®‰è£…æˆåŠŸ</p><p>å‘½ä»¤ ï¼š <code>mvn -version</code></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125073354382-1679398098-20240402150725-iafw6ld.png" alt="img">â€‹</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ­¤æ—¶å°±é…ç½®æˆåŠŸäº†</span><br></pre></td></tr></table></figure><h2 id="2-4-ç¬¬å››æ­¥-ï¼šé…ç½®æœ¬åœ°ä»“åº“">2.4. ç¬¬å››æ­¥ ï¼šé…ç½®æœ¬åœ°ä»“åº“</h2><p>é…ç½®æœ¬åœ°ä»“åº“</p><p>ä¿®æ”¹ <code>conf/settings.xml</code> ä¸­çš„ <code>&lt;localRepository&gt;</code>ä¸ºä¸€ä¸ªæŒ‡å®šç›®å½•ä½œä¸ºæœ¬åœ°ä»“åº“ï¼Œç”¨æ¥å­˜å‚¨jaråŒ…ã€‚</p><p>æ‰‹åŠ¨å»æ‰æ³¨é‡Š<br>â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125083718646-702574970-20240402150725-4m4239m.png" alt="img">â€‹</p><p>æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª<code>mvn_resp</code>çš„æ–‡ä»¶å¤¹(<code>æœ¬åœ°ä»“åº“ï¼Œç”¨æ¥å­˜å‚¨jaråŒ…ã€‚</code>)</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125084118679-1590703804-20240402150725-97fem4w.png" alt="img">â€‹</p><p>å¤åˆ¶è¿™ä¸ªæ–‡ä»¶å¤¹çš„è·¯å¾„å¹¶è¿›è¡Œç²˜è´´</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125084045954-1968472030-20240402150725-008du1h.png" alt="img">â€‹</p><h2 id="2-5-ç¬¬äº”æ­¥-ï¼šé…ç½®é˜¿é‡Œäº‘ç§æœ">2.5. ç¬¬äº”æ­¥ ï¼šé…ç½®é˜¿é‡Œäº‘ç§æœ</h2><p>é…ç½®é˜¿é‡Œäº‘ç§æœ</p><p>ä¸­å¤®ä»“åº“åœ¨å›½å¤–ï¼Œæ‰€ä»¥ä¸‹è½½jaråŒ…é€Ÿåº¦å¯èƒ½æ¯”è¾ƒæ…¢ï¼Œè€Œ<code>é˜¿é‡Œå…¬å¸æä¾›äº†ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œé‡Œé¢åŸºæœ¬ä¹Ÿéƒ½æœ‰å¼€æºé¡¹ç›®çš„jaråŒ…ã€‚</code>â€‹</p><p>ä¿®æ”¹ conf/settings.xml ä¸­çš„ æ ‡ç­¾ï¼Œä¸ºå…¶æ·»åŠ å¦‚ä¸‹å­æ ‡ç­¾ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>          </span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>conf/settings.xml</code>ä¸­æ‰¾åˆ°<code>&lt;mirrors&gt; &lt;/mirrors&gt;</code> , å¹¶å°†ä¸Šé¢çš„ä»£ç ç²˜è´´åˆ°æ­¤å¤„</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20221125084743361-857953677-20240402150725-74hu7bu.png" alt="img">â€‹</p><p>å¤§åŠŸå‘Šæˆ</p><h1>3. åŸºäºMavenå¼€å‘JavaSEçš„é¡¹ç›®</h1><ol><li class="lvl-3"><p><strong>Fileâ€”&gt;newâ€”&gt;Projectâ€”&gt;Empty Project</strong></p><ol><li class="lvl-7">Location:D:\course\10-Maven\code</li><li class="lvl-7">Name:mavenall</li><li class="lvl-7">â€”&gt;Create</li></ol></li><li class="lvl-3"><p><strong>ctrl+alt+shift+s:æ‰“å¼€é¡¹ç›®ç»“æ„çª—å£</strong></p><ol><li class="lvl-7"><strong>Project:è®¾ç½®JDKç‰ˆæœ¬ä¸º17</strong></li></ol></li><li class="lvl-3"><p>Modules:</p><ol><li class="lvl-7">+ â€”&gt; New Module</li></ol></li></ol><p>Build system: Maven</p><ol><li class="lvl-3"><p>Advanced Settings</p></li></ol><p>GroupId:com.bjpowernode</p><p>ArtifactId:maven_001_javase</p><p>â€”&gt;Create</p><ol><li class="lvl-3"><p>è§‚å¯ŸSourceså’ŒDependciesé€‰é¡¹çš„JDKç‰ˆæœ¬ï¼Œéƒ½ä¸º17</p></li></ol><p>â€”&gt;ok</p><ol><li class="lvl-3"><p>è¡¥é½ç›®å½•</p></li></ol><p>åœ¨testç›®å½•ä¸Šå³é”®â€”&gt;new Directoryâ€”&gt;resouces</p><ol><li class="lvl-3"><p>ä¿®æ”¹pom.xmlæ–‡ä»¶</p></li></ol><p>æ·»åŠ å•å…ƒæµ‹è¯•çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ‡è®°:ç‚¹Måˆ·æ–°ä¾èµ–</p><ol><li class="lvl-3"><p>å¼€å‘Hello.javaç±»</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="comment">//åŠ æ³•è¿ç®—</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> num1,<span class="type">int</span> num2)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> num1 + num2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¹˜æ³•è¿ç®—</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> num1,<span class="type">int</span> num2)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> num1 * num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li class="lvl-3"><p>å¼€å‘æµ‹è¯•ç±»</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•åŠŸèƒ½ç”±æµ‹è¯•æ–¹æ³•æ¥å®ç°</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æ–¹æ³•çš„è§„èŒƒ</span></span><br><span class="line"><span class="comment">     * 1)è®¿é—®æƒé™æ˜¯public</span></span><br><span class="line"><span class="comment">     * 2)æ–¹æ³•æ²¡æœ‰è¿”å›å€¼void</span></span><br><span class="line"><span class="comment">     * 3)æ–¹æ³•åç§°è‡ª å®šä¹‰,æ¨èä»¥testå¼€å¤´</span></span><br><span class="line"><span class="comment">     * 4)æ–¹æ³•æ²¡æœ‰å‚æ•°</span></span><br><span class="line"><span class="comment">     * 5)ä½¿ç”¨<span class="doctag">@Test</span>æ³¨è§£å£°æ˜æ˜¯æµ‹è¯•æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSum</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Hello</span>  <span class="variable">hello</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">        System.out.println(hello.sum(<span class="number">3</span>,<span class="number">6</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMul</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Hello</span>  <span class="variable">hello</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">        System.out.println(hello.mul(<span class="number">3</span>,<span class="number">6</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>4. åŸºäºMavenå¼€å‘JavaWebçš„é¡¹ç›®</h1><ol><li class="lvl-3"><p>åˆ é™¤maven_001_javaSE.imlæ–‡ä»¶(å¦‚æœæ­¤æ–‡ä»¶ä½äºé¡¹ç›®ç›®å½•ä¸‹ï¼Œåˆ™å¿…é¡»åˆ é™¤ï¼Œå¦‚æœåœ¨æœ¬æ¨¡å—ç›®å½•ä¸‹ï¼Œå°±ä¸éœ€è¦åˆ é™¤ï¼‰</p></li><li class="lvl-3"><p>ctrl+alt+shift+s:æ‰“å¼€ç»“æ„çª—å£</p></li></ol><p>Modulesé€‰é¡¹ä¸Šâ€”&gt; + â€”&gt;new Module</p><p>Maven Archetypeé€‰é¡¹</p><p>Archetype: maven-archetype-webapp</p><ol><li class="lvl-3"><p>Advanced Settings é€‰é¡¹å¡</p></li></ol><p>GroupId:com.bjpowernode</p><p>ArtifactId:maven_002_javaweb</p><p>Version:1.0.0</p><p>â€”&gt;Create</p><ol><li class="lvl-3"><p>è§‚å¯ŸSourceså’ŒDependciesé€‰é¡¹çš„JDKç‰ˆæœ¬</p></li></ol><p>â€”&gt;ok</p><ol><li class="lvl-3"><p>ä¿®æ”¹ç›®å½•</p></li></ol><p>è¡¥é½ç¼ºå¤±çš„æ‰€æœ‰ç›®å½•</p><p>æ·»åŠ package: com.bjpowernode.controller</p><ol><li class="lvl-3"><p>ä¿®æ”¹pom.xmlæ–‡ä»¶</p></li><li class="lvl-3"><ol><li class="lvl-6">åˆ é™¤è¿œç¨‹è®¿é—®çš„åç§°</li></ol></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>maven_002_javaweb Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li class="lvl-3"><ol><li class="lvl-6">æ·»åŠ ä¾èµ–</li></ol></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ·»åŠ Servletçš„ä¾èµ–--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jakarta.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jakarta.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li class="lvl-3"><ol><li class="lvl-6">åˆ é™¤é¡¹ç›®æ„å»ºåç§°</li></ol></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>maven_002_javaweb<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ‡è®°: ç‚¹Måˆ·æ–°æŒ‰é’®</p><ol><li class="lvl-3"><p>ä¿®æ”¹web.xmlæ–‡ä»¶</p></li></ol><p>ctrl+alt+shift+s:æ‰“å¼€ç»“æ„çª—å£</p><p>ç‚¹web â€”&gt; - â€”&gt;yes â€”&gt; Apply</p><p>+ â€”&gt;web.xml â€”&gt;ok  â€”&gt;ok</p><ol><li class="lvl-3"><p>ä¿®æ”¹jspé¡µé¢</p></li></ol><p>åˆ é™¤index.jspé¡µé¢</p><p>åœ¨webappç›®å½•ä¸‹æ–°å»ºindex.jspå’Œmain.jsp</p><p>å¼€å‘index.jspé¡µé¢   <a href="/demo">è®¿é—®æœåŠ¡å™¨</a></p><ol><li class="lvl-3"><p>å¼€å‘Servlet</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/demo&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ¥è¿‡.........&quot;</span>);</span><br><span class="line">        <span class="comment">//è·³ å› main.jsp</span></span><br><span class="line">        request.getRequestDispatcher(<span class="string">&quot;/main.jsp&quot;</span>).forward(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li class="lvl-3"><p>æ·»åŠ tomcatæµ‹è¯•è¿è¡Œ</p></li></ol><p>éƒ¨ç½²é•¿åç§°çš„é¡¹ç›®.</p><h1>5. å¯¼å…¥Mavençš„é¡¹ç›®</h1><ol><li class="lvl-3"><p>æ‹·è´ä¸€ä¸ªç°æœ‰çš„Mavené¡¹ç›®maven_002_javaweb,æ”¹åä¸º maven_002_javawebnew</p></li><li class="lvl-3"><p>è¿›å…¥åˆ°maven_002_javawebnewé¡¹ç›®ä¸­<strong>åˆ é™¤targetç›®å½•å’Œ.gitignoreæ–‡ä»¶</strong></p></li><li class="lvl-3"><p>æ‰“å¼€pom.xmlæ–‡ä»¶,æ›´æ”¹artifactIdçš„åç§°ä¸ºmaven_002_javawebnew.</p></li><li class="lvl-3"><p>ctrl+alt+shift+s:æ‰“å¼€é¡¹ç›®ç»“æ„çª—å£</p></li></ol><p>+ â€”&gt;Import Moudle â€”&gt;é€‰ä¸­è¦å¯¼å…¥çš„é¡¹ç›®â€”&gt; ok</p><p>é€‰ä¸­  Import module from external model</p><p>Maven</p><p>â€”&gt; Create â€”&gt; ok</p><ol><li class="lvl-3"><p>éƒ¨ç½²è¿è¡Œæµ‹è¯•åŠŸèƒ½</p></li></ol><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2. Mavençš„æ ¸å¿ƒæ¦‚å¿µ</title>
      <link href="/posts/ecaa32e3.html"/>
      <url>/posts/ecaa32e3.html</url>
      
        <content type="html"><![CDATA[<h1>1. ä»€ä¹ˆæ˜¯POM</h1><p>POM(Project Object Model)é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæ˜¯Mavençš„æ ¸å¿ƒç»„ä»¶ã€‚å®ƒæ˜¯Mavenä¸­çš„åŸºæœ¬å·¥ä½œå•å…ƒã€‚å®ƒæ˜¯ä¸€ä¸ªxmlæ–‡ä»¶ï¼Œä»¥pom.xmlé©»ç•™åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚POMä¸ä»…åŒ…å«æœ‰å…³é¡¹ç›®çš„ä¿¡æ¯åŠMavenç”¨äºæ„å»ºé¡¹ç›®çš„å„ç§é…ç½®çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿˜åŒ…å«ç›®æ ‡å’Œæ’ä»¶ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ·»åŠ çˆ¶å·¥ç¨‹çš„å¼•ç”¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode.xiaomi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xiaomi-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æœ¬é¡¹ç›®çš„èº«ä»½è¯å·gav--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_006_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ‰“åŒ…æ–¹å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é›†ä¸­å®šä¹‰ä¾èµ–ç‰ˆæœ¬å·,ä½¿ç”¨å±æ€§--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--mysqlé©±åŠ¨çš„ä¾èµ–--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.32<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ·»åŠ ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--èšåˆå·¥ç¨‹--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-pojo<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-mapper<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-service<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>xiaomi-manager-web<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--æ’ä»¶é…ç½®--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--æŒ‡å®šé…ç½®æ–‡ä»¶è¯†åˆ«è·¯å¾„--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>2. ä»€ä¹ˆæ˜¯çº¦å®šçš„ç›®å½•ç»“æ„</h1><p>ä¼šæœ‰é¢„å…ˆçº¦å®šå¥½çš„ç›®å½•ç»“æ„ï¼Œ<strong>å¿…é¡»è¦éµå¾ªçš„è§„èŒƒï¼Œæ‰€æœ‰çš„Mavené¡¹ç›®éƒ½ä¾ç…§è¿™ä¸ªè§„èŒƒ</strong>ã€‚ä¸»è¦çš„ç›®çš„æ˜¯å°†é¡¹ç›®çš„æºç æ–‡ä»¶ï¼Œæµ‹è¯•ä»£ç ï¼Œèµ„æºæ–‡ä»¶å®Œå…¨åˆ†å¼€ï¼Œä¾¿äºé¡¹ç›®ç®¡ç†å’Œæ‰©å±•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1712019245744-bb18ca72-4fcf-44cd-8db6-9bd5e465462d-20240402103930-baa7o28.png" alt="img">â€‹</p><h1>3. ä»€ä¹ˆæ˜¯åæ ‡GAV</h1><p>ä¹Ÿç§°ä¸ºgavå®šä½ã€‚ä½¿ç”¨ä¸‰ä¸ªæ ‡ç­¾æ¥å”¯ä¸€å®šä½jarèµ„æºã€‚é¡¹ç›®çš„å”¯ä¸€çš„åç§°ï¼Œåˆ›å»ºé¡¹ç›®æ—¶å®šä¹‰gavåç§°ï¼Œå¼•ç”¨é¡¹ç›®æ—¶ä½¿ç”¨gavåç§°ã€‚ç›¸å½“äºé¡¹ç›®çš„èº«ä»½è¯å·ã€‚</p><p><strong>è¡¨ç°åœ¨ä»“åº“ï¼Œgavæ˜¯ä¸€çº§ä¸€çº§çš„ç›®å½•ã€‚</strong></p><ol><li class="lvl-3"><p>groupId:ç»„ç»‡åç§°,ä¸€èˆ¬æ˜¯å…¬å¸åŸŸåçš„å€’å†™ com.north</p></li><li class="lvl-3"><p>artifactId:é¡¹ç›®åç§° springmvc_006_ssm</p></li><li class="lvl-3"><p>version: ç‰ˆæœ¬ç¼–å· 1.0-SNAPSHOT(å¼€å‘æ—¶çš„ä¸´æ—¶ç‰ˆæœ¬å·ï¼‰ 5.2.5.RELEASEï¼ˆå‘å¸ƒç‰ˆæœ¬ï¼‰</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.north<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_006_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.north<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_006_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>4. ä»€ä¹ˆæ˜¯ä»“åº“</h1><h2 id="4-1-æœ¬åœ°ä»“åº“">4.1. æœ¬åœ°ä»“åº“</h2><p>æœ¬åœ°ä»“åº“ï¼Œå­˜åœ¨äºå½“å‰ç”µè„‘ä¸Šï¼Œé»˜è®¤å­˜æ”¾åœ¨  <strong>.<strong>â€‹</strong>m2\repositoryä¸­,ä¸ºæœ¬æœºä¸Šæ‰€æœ‰çš„Mavenå·¥ç¨‹æœåŠ¡ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡Mavençš„é…ç½®æ–‡ä»¶Maven_home/conf/settings.xmlä¸­ä¿®æ”¹æœ¬åœ°ä»“åº“æ‰€åœ¨çš„ç›®å½•</strong>â€‹ <strong>ã€‚</strong>  æ˜¯ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œwindowsç³»ç»Ÿä¸­æ˜¯ c:/user/ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·å</p><p>ç§˜å¯†: gavå°±æ˜¯ä»“åº“ä¸­ä¸€çº§ä¸€çº§çš„ç›®å½•åç§°</p><h2 id="4-2-è¿œç¨‹ä»“åº“">4.2. è¿œç¨‹ä»“åº“</h2><p><strong>è¿œç¨‹ä»“åº“ï¼šé€šè¿‡å±€åŸŸç½‘æˆ–äº’è”ç½‘è®¿é—®çš„ä»“åº“åœ°å€ã€‚</strong></p><p>è¿œç¨‹ä»“åº“ï¼Œåˆ†ä¸ºä¸ºå…¨ä¸–ç•ŒèŒƒå›´å†…çš„å¼€å‘äººå‘˜æä¾›æœåŠ¡çš„ä¸­å¤®ä»“åº“ã€ä¸ºå…¨ä¸–ç•ŒèŒƒå›´å†…æŸäº›ç‰¹å®šçš„ç”¨æˆ·æä¾›æœåŠ¡çš„ä¸­å¤®ä»“åº“é•œåƒã€ä¸ºæœ¬å…¬å¸æä¾›æœåŠ¡è‡ªå·±æ¶è®¾çš„ç§æœã€‚</p><p>ä¸­å¤®ä»“åº“æ˜¯mavené»˜è®¤çš„è¿œç¨‹ä»“åº“ï¼Œå…¶åœ°å€æ˜¯<a href="http://repo.maven.apache.org/maven2/">:</a>â€‹<a href="https://mvnrepository.com/">Just a momentâ€¦</a>ï¼Œä¸­å¤®ä»“åº“åŒ…å«äº†ç»å¤§å¤šæ•°æµè¡Œçš„å¼€æºJavaæ„ä»¶ï¼Œä»¥åŠæºç ã€ä½œè€…ä¿¡æ¯ã€è®¸å¯è¯ä¿¡æ¯ç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç®€å•çš„Javaé¡¹ç›®ä¾èµ–çš„æ„ä»¶éƒ½å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½å¾—åˆ°ã€‚</p><p>ç§æœæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿œç¨‹ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨å±€åŸŸç½‘å†…çš„ä»“åº“æœåŠ¡ï¼Œç§æœä»£ç†å¹¿åŸŸç½‘ä¸Šçš„è¿œç¨‹ä»“åº“ï¼Œä¾›å±€åŸŸç½‘å†…çš„Mavenç”¨æˆ·ä½¿ç”¨ã€‚å½“Mavenéœ€è¦ä¸‹è½½æ„ä»¶çš„æ—¶å€™ï¼Œå®ƒä»ç§æœè¯·æ±‚ï¼Œå¦‚æœç§æœä¸Šä¸å­˜åœ¨è¯¥æ„ä»¶ï¼Œåˆ™ä»å¤–éƒ¨çš„è¿œç¨‹ä»“åº“ä¸‹è½½ï¼Œç¼“å­˜åœ¨ç§æœä¸Šä¹‹åï¼Œå†ä¸ºMavençš„ä¸‹è½½è¯·æ±‚æä¾›æœåŠ¡ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æŠŠä¸€äº›æ— æ³•ä»å¤–éƒ¨ä»“åº“ä¸‹è½½åˆ°çš„æ„ä»¶ä¸Šä¼ åˆ°ç§æœä¸Š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1712021492244-cd9ce37e-2c96-4226-8f51-fe4640894861-20240402103930-5tyhahg.png" alt="img">â€‹</p><h1>5. ä»€ä¹ˆæ˜¯ä¾èµ–</h1><p>æ·»åŠ jaråŒ….</p><p>æ‰€æœ‰çš„èµ„æºæ˜¯ä»¥gavè¿›è¡Œå®šä¹‰çš„,ä¹Ÿæ˜¯é€šè¿‡gavæ¥æ·»åŠ å¼•ç”¨.</p><p>åœ¨<dependencies>å¤§æ ‡ç­¾ä¸­,é€šè¿‡å­æ ‡ç­¾<dependency>,é€šè¿‡gavè¿›è¡Œå¼•ç”¨.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>6. ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ</h1><p><strong>å®ƒå¯¹åº”é¡¹ç›®æ„å»ºçš„è¿‡ç¨‹,åº•å±‚æ˜¯Mavenå‘½ä»¤çš„è°ƒç”¨(æ’ä»¶).</strong></p><p>ç”Ÿå‘½å‘¨æœŸå¯¹åº”çš„Mavenå‘½ä»¤(äº†è§£ï¼‰ï¼š</p><ol><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color13);">mvn clean</span> æ¸…ç†(ä¼šåˆ é™¤åŸæ¥ç¼–è¯‘å’Œæµ‹è¯•çš„ç›®å½•ï¼Œå³ target ç›®å½•ï¼Œä½†æ˜¯å·²ç» install åˆ°ä»“åº“é‡Œçš„åŒ…ä¸ä¼šåˆ é™¤)</p></li><li class="lvl-3"><p>mvn compile  ç¼–è¯‘ä¸»ç¨‹åº(ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª target,é‡Œè¾¹å­˜æ”¾ç¼–è¯‘ä¸»ç¨‹åºä¹‹åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶)</p></li><li class="lvl-3"><p>mvn test-compile  ç¼–è¯‘æµ‹è¯•ç¨‹åº(ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª target,é‡Œè¾¹å­˜æ”¾ç¼–è¯‘æµ‹è¯•ç¨‹åºä¹‹åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶)</p></li><li class="lvl-3"><p>mvn test  æµ‹è¯•(ä¼šç”Ÿæˆä¸€ä¸ªç›®å½•surefire-reportsï¼Œä¿å­˜æµ‹è¯•ç»“æœ)</p></li><li class="lvl-3"><p>mvn package  æ‰“åŒ…ä¸»ç¨‹åº(ä¼šç¼–è¯‘ã€ç¼–è¯‘æµ‹è¯•ã€æµ‹è¯•ã€å¹¶ä¸”æŒ‰ç…§ pom.xml é…ç½®æŠŠä¸»ç¨‹åºæ‰“åŒ…ç”Ÿæˆ jar åŒ…æˆ–è€… war åŒ…)</p></li><li class="lvl-3"><p>mvn install å®‰è£…ä¸»ç¨‹åº(ä¼šæŠŠæœ¬å·¥ç¨‹æ‰“åŒ…ï¼Œå¹¶ä¸”æŒ‰ç…§æœ¬å·¥ç¨‹çš„åæ ‡ä¿å­˜åˆ°æœ¬åœ°ä»“åº“ä¸­)</p></li><li class="lvl-3"><p>mvn deploy éƒ¨ç½²ä¸»ç¨‹åº(éƒ¨ç½²åˆ°ç§æœä»“åº“ä¸­ï¼‰ã€‚</p></li></ol><h1>7. ä»€ä¹ˆæ˜¯æ’ä»¶</h1><p>Mavenæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ’ä»¶çš„æ¡†æ¶ , æ’ä»¶å°±æ˜¯é›†æˆåŒ–çš„åŠŸèƒ½.</p><p>é€šè¿‡<plugins>å¤§æ ‡ç­¾,å†é€šè¿‡<plugin>å­æ ‡ç­¾è¿›è¡Œæç®€åŒ–çš„æ·»åŠ .</p><p>å¸¸è§çš„æ’ä»¶:comcatæ’ä»¶,ç¼–è¯‘æ’ä»¶,MyBatisçš„é€†å‘å·¥ç¨‹æ’ä»¶.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1. ä»€ä¹ˆæ˜¯Maven</title>
      <link href="/posts/76897b5c.html"/>
      <url>/posts/76897b5c.html</url>
      
        <content type="html"><![CDATA[<h1>1. Mavençš„æ¦‚å¿µ</h1><ol><li class="lvl-3">å®ƒæ˜¯ä¸€ä¸ªä¸€é”®å¼çš„è‡ªåŠ¨åŒ–çš„æ„å»ºå·¥å…·.</li><li class="lvl-3">Maven æ˜¯ç›®å‰æœ€æµè¡Œçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œå¯¹äºç”Ÿäº§ç¯å¢ƒä¸‹å¤šæ¡†æ¶ã€å¤šæ¨¡å—æ•´åˆå¼€å‘æœ‰é‡è¦ä½œç”¨ï¼ŒMaven æ˜¯ä¸€æ¬¾åœ¨å¤§å‹é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦å·¥å…·ã€‚</li></ol><h1>2. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Maven</h1><p>é¦–å…ˆ , Mavenå¯ä»¥è‡ªåŠ¨çš„å¸®åŠ©æˆ‘ä»¬ä¸‹è½½jaråŒ…. å…¶æ¬¡å¯ä»¥è¿›è¡Œå¤šä¸ªé¡¹ç›®åŒæ—¶çš„ç¼–è¯‘è¿è¡Œ.è¿˜æœ‰åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­éœ€è¦è¿›è¡Œæµ‹è¯•è¿è¡Œ,Mavenæä¾›äº†è‡ªåŠ¨åŒ–çš„æµ‹è¯•æ’ä»¶å¸®åŠ©æˆ‘ä»¬è¿›è¡Œé¡¹ç›®æµ‹è¯•åŠŸèƒ½çš„è¿è¡Œ.æœ€åé¡¹ç›®æ˜¯éœ€è¦è¿›è¡Œèµ„æºæ–‡ä»¶,é…ç½®æ–‡ä»¶çš„æ•´åˆ,æ¥è¿›è¡Œæ‰“åŒ…å’Œéƒ¨ç½²,Mavenå¯ä»¥è½»æ¾æå®š.</p><p>ç±»ä¼¼è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·è¿˜æœ‰ï¼šGant,  Gradleã€‚</p><h1>3. é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹</h1><p>æ„å»º(build)æ˜¯é¢å‘è¿‡ç¨‹çš„(ä»å¼€å§‹åˆ°ç»“å°¾çš„å¤šä¸ªæ­¥éª¤)ï¼Œæ¶‰åŠåˆ°å¤šä¸ªç¯èŠ‚çš„ååŒå·¥ä½œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1711966138212-1034ff67-2931-49de-8333-a8de8ae64725-20240401211535-oikof0f.png" alt="img">â€‹</p><p>æ„å»ºè¿‡ç¨‹çš„å‡ ä¸ªé‡è¦ç¯èŠ‚ï¼š</p><ol><li class="lvl-3"><p><span data-type="text" style="color: var(--b3-font-color13);">æ¸…ç†:å°†ä¸Šæ¬¡ç¼–è¯‘çš„ç»“æœåˆ é™¤,ä¸ºä¸‹ä¸€æ¬¡ç¼–è¯‘åšå‡†å¤‡</span>.</p></li><li class="lvl-3"><p>ç¼–è¯‘ï¼šå°†Javaæºç¨‹åºç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ã€‚</p></li><li class="lvl-3"><p>æµ‹è¯•ï¼šé’ˆå¯¹é¡¹ç›®ä¸­çš„å…³é”®ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿é¡¹ç›®åœ¨è¿­ä»£å¼€å‘è¿‡ç¨‹ä¸­å…³é”®ç‚¹çš„æ­£ç¡®æ€§ã€‚</p></li><li class="lvl-3"><p>æŠ¥å‘Šï¼šåœ¨æ¯ä¸€æ¬¡æµ‹è¯•åä»¥æ ‡å‡†çš„æ ¼å¼è®°å½•å’Œå±•ç¤ºæµ‹è¯•ç»“æœã€‚</p></li><li class="lvl-3"><p>æ‰“åŒ…ï¼šå°†ä¸€ä¸ªåŒ…å«è¯¸å¤šæ–‡ä»¶çš„å·¥ç¨‹å°è£…ä¸ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶ç”¨äºå®‰è£…æˆ–éƒ¨ç½²ã€‚Java å·¥ç¨‹å¯¹åº” jar åŒ…ï¼ŒWeb å·¥ç¨‹å¯¹åº”waråŒ…ã€‚</p></li><li class="lvl-3"><p>å®‰è£…ï¼šåœ¨Mavenç¯å¢ƒä¸‹ç‰¹æŒ‡å°†jaråŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚è¿™æ ·è¯¥é¡¹ç›®å°±å¯ä»¥è¢«å…¶ä»–çš„mavené¡¹ç›®é€šè¿‡ä¾èµ–çš„æ–¹å¼å¼•å…¥ã€‚</p></li><li class="lvl-3"><p>éƒ¨ç½²ï¼šå°†jaråŒ…éƒ¨ç½²åˆ°ç§æœä¸Šã€‚</p></li></ol><h1>4. Mavençš„ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½(é‡ç‚¹)</h1><h2 id="4-1-é¡¹ç›®æ„å»º">4.1. é¡¹ç›®æ„å»º</h2><p><strong>å¯¹é¡¹ç›®è¿›è¡Œç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œéƒ¨ç½²ç­‰æ„å»ºã€‚</strong></p><h2 id="4-2-ä¾èµ–ç®¡ç†">4.2. ä¾èµ–ç®¡ç†</h2><p>å¯¹jaråŒ…çš„ç»Ÿä¸€ç®¡ç†ï¼ŒMavenæä¾›ä¸­å¤®ä»“åº“ï¼Œç§æœï¼Œæœ¬åœ°ä»“åº“è§£å†³jaråŒ…çš„ä¾èµ–å’Œç›¸å…³ä¾èµ–çš„ä¸‹è½½ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šåŒ…æ‹¬è“ã€é»„ä¸¤ä¸ªéƒ¨åˆ†åˆ†åˆ«å¯¹åº”ç€**<a href="https://www.zhihu.com/search?q=%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B">ä¾èµ–å…³ç³»</a><strong>â€‹</strong>å’Œé¡¹ç›®æ„å»º**ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1711977269713-a83c1421-6484-4946-b7f7-06169555b328-20240401211535-1x5jfnr.png" alt="img">â€‹</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬å…­ç« ï¼šå¼‚å¸¸</title>
      <link href="/posts/b492def1.html"/>
      <url>/posts/b492def1.html</url>
      
        <content type="html"><![CDATA[<h1>ç¬¬å…­ç« ï¼šå¼‚å¸¸</h1><h1>1. <strong>å¼‚å¸¸æ¦‚è¿°</strong></h1><h2 id="1-1-ä»€ä¹ˆæ˜¯å¼‚å¸¸ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ">1.1. <strong>ä»€ä¹ˆæ˜¯å¼‚å¸¸ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></h2><ol><li class="lvl-3"><p><strong>Javaä¸­çš„å¼‚å¸¸æ˜¯æŒ‡ç¨‹åºè¿è¡Œæ—¶å‡ºç°äº†é”™è¯¯æˆ–å¼‚å¸¸æƒ…å†µï¼Œå¯¼è‡´ç¨‹åºæ— æ³•ç»§ç»­æ­£å¸¸æ‰§è¡Œçš„ç°è±¡ã€‚</strong> ä¾‹å¦‚ï¼Œæ•°ç»„ä¸‹æ ‡è¶Šç•Œã€ç©ºæŒ‡é’ˆå¼‚å¸¸ã€ç±»å‹è½¬æ¢å¼‚å¸¸ç­‰éƒ½å±äºå¼‚å¸¸æƒ…å†µã€‚</p></li><li class="lvl-3"><p><strong>Javaæä¾›äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå³åœ¨ç¨‹åºä¸­å¯¹å¯èƒ½å‡ºç°çš„å¼‚å¸¸æƒ…å†µè¿›è¡Œæ•æ‰å’Œå¤„ç†ã€‚å¼‚å¸¸æœºåˆ¶å¯ä»¥å¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç®¡ç†ç¨‹åºçš„é”™è¯¯å’Œå¼‚å¸¸æƒ…å†µï¼Œé¿å…ç¨‹åºå´©æºƒæˆ–å‡ºç°ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚</strong></p></li><li class="lvl-3"><p><strong>æ²¡æœ‰å¼‚å¸¸æœºåˆ¶çš„è¯ï¼Œç¨‹åºä¸­å°±å¯èƒ½ä¼šå‡ºç°ä¸€äº›éš¾ä»¥è°ƒè¯•å’Œé¢„æµ‹çš„å¼‚å¸¸è¡Œä¸ºï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒï¼Œç”šè‡³å¯èƒ½é€ æˆæ•°æ®æŸå¤±æˆ–æŸå®³ç”¨æˆ·åˆ©ç›Š</strong>ã€‚å› æ­¤ï¼Œå¼‚å¸¸æœºåˆ¶æ˜¯ä¸€é¡¹éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæ˜¯ç¼–å†™å¯é ç¨‹åºçš„åŸºç¡€ã€‚</p></li><li class="lvl-3"><p><strong>å¼‚å¸¸æœºåˆ¶åœ¨javaä¸­çš„ä½œç”¨ï¼šæé«˜ç¨‹åºçš„å¥å£®æ€§</strong></p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;é™¤æ•°ä¸èƒ½ä¸º0&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">        System.out.println(a + <span class="string">&quot;/&quot;</span> + b + <span class="string">&quot;=&quot;</span> + c);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        s.toString(); <span class="comment">// è¿™é‡Œä¼šå‘ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œç¨‹åºæ‰§è¡Œåˆ°è¿™é‡ŒJVMå°±ä¼šåœ¨åº•å±‚newä¸€ä¸ªNullPointerExceptionç±»å‹çš„å®ä¾‹ã€‚</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//String s2 = null;</span></span><br><span class="line">        <span class="comment">//s2.toString(); // åœ¨åº•å±‚newä¸€ä¸ªNullPointerExceptionç±»å‹çš„å®ä¾‹ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-2-å¼‚å¸¸åœ¨Javaä¸­ä»¥ç±»å’Œå¯¹è±¡çš„å½¢å¼å­˜åœ¨">1.2. <strong>å¼‚å¸¸åœ¨Javaä¸­ä»¥ç±»å’Œå¯¹è±¡çš„å½¢å¼å­˜åœ¨</strong></h2><h1>2. <strong>å¼‚å¸¸ç»§æ‰¿ç»“æ„</strong></h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1709608981004-5ef27089-2ad4-4ff9-b035-53efc6e16ab3.png" alt="">â€‹</p><ol><li class="lvl-3"><p>æ‰€æœ‰çš„å¼‚å¸¸å’Œé”™è¯¯éƒ½æ˜¯å¯æŠ›å‡ºçš„ã€‚éƒ½ç»§æ‰¿äº†Throwableç±»ã€‚</p></li><li class="lvl-3"><p><strong>Erroræ˜¯æ— æ³•å¤„ç†çš„ï¼Œå‡ºç°ååªæœ‰ä¸€ä¸ªç»“æœï¼šJVMç»ˆæ­¢ã€‚</strong></p></li><li class="lvl-3"><p><strong>Exceptionæ˜¯å¯ä»¥å¤„ç†çš„ã€‚</strong></p></li><li class="lvl-3"><p><strong>Exceptionçš„åˆ†ç±»ï¼š</strong></p><ol><li class="lvl-7"><strong>æ‰€æœ‰çš„RuntimeExceptionçš„å­ç±»ï¼šè¿è¡Œæ—¶å¼‚å¸¸/æœªæ£€æŸ¥å¼‚å¸¸(UncheckedException)/éå—æ§å¼‚å¸¸</strong></li><li class="lvl-7"><strong>Exceptionçš„å­ç±»ï¼ˆé™¤RuntimeExceptionä¹‹å¤–ï¼‰ï¼šç¼–è¯‘æ—¶å¼‚å¸¸/æ£€æŸ¥å¼‚å¸¸(CheckedException)/å—æ§å¼‚å¸¸ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸åŒºåˆ«ï¼š</strong></li></ol></li><li class="lvl-3"><p><strong>ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸åŒºåˆ«ï¼š</strong></p><ol><li class="lvl-7"><strong>ç¼–è¯‘æ—¶å¼‚å¸¸ç‰¹ç‚¹ï¼šåœ¨ç¼–è¯‘é˜¶æ®µå¿…é¡»æå‰å¤„ç†ï¼Œå¦‚æœä¸å¤„ç†ç¼–è¯‘å™¨æŠ¥é”™ã€‚</strong></li><li class="lvl-7"><strong>è¿è¡Œæ—¶å¼‚å¸¸ç‰¹ç‚¹ï¼šåœ¨ç¼–è¯‘é˜¶æ®µå¯ä»¥é€‰æ‹©å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ï¼Œæ²¡æœ‰ç¡¬æ€§è¦æ±‚ã€‚</strong></li><li class="lvl-7"><strong>ç¼–è¯‘æ—¶å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±å¤–éƒ¨ç¯å¢ƒæˆ–å¤–åœ¨æ¡ä»¶å¼•èµ·çš„ï¼Œå¦‚ç½‘ç»œæ•…éšœã€ç£ç›˜ç©ºé—´ä¸è¶³ã€æ–‡ä»¶æ‰¾ä¸åˆ°ç­‰</strong></li><li class="lvl-7"><strong>è¿è¡Œæ—¶å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±ç¨‹åºå‘˜çš„é”™è¯¯å¼•èµ·çš„ï¼Œå¹¶ä¸”ä¸éœ€è¦å¼ºåˆ¶è¿›è¡Œå¼‚å¸¸å¤„ç†</strong></li><li class="lvl-7"><strong>æ³¨æ„ï¼šç¼–è¯‘æ—¶å¼‚å¸¸å¹¶ä¸æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå‘ç”Ÿçš„å¼‚å¸¸ï¼Œæ‰€æœ‰çš„å¼‚å¸¸å‘ç”Ÿéƒ½æ˜¯åœ¨è¿è¡Œé˜¶æ®µçš„ï¼Œå› ä¸ºæ¯ä¸ªå¼‚å¸¸å‘ç”Ÿéƒ½æ˜¯ä¼šnewå¼‚å¸¸å¯¹è±¡çš„ï¼Œnewå¼‚å¸¸å¯¹è±¡åªèƒ½åœ¨è¿è¡Œé˜¶æ®µå®Œæˆã€‚é‚£ä¸ºä»€ä¹ˆå«åšç¼–è¯‘æ—¶å¼‚å¸¸å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºè¿™ç§å¼‚å¸¸å¿…é¡»åœ¨ç¼–è¯‘é˜¶æ®µæå‰é¢„å¤„ç†ï¼Œå¦‚æœä¸å¤„ç†ç¼–è¯‘å™¨æŠ¥é”™ï¼Œå› æ­¤è€Œå¾—åç¼–è¯‘æ—¶å¼‚å¸¸ã€‚</strong></li></ol></li></ol><h1>3. <strong>è‡ªå®šä¹‰å¼‚å¸¸</strong></h1><h2 id="3-1-è‡ªå®šä¹‰å¼‚å¸¸çš„æ­¥éª¤">3.1. <strong>è‡ªå®šä¹‰å¼‚å¸¸çš„æ­¥éª¤</strong></h2><p><strong>ç¬¬ä¸€æ­¥ï¼šç¼–å†™å¼‚å¸¸ç±»ç»§æ‰¿Exception/RuntimeException</strong></p><p><strong>ç¬¬äºŒæ­¥ï¼šæä¾›ä¸€ä¸ªæ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œå†æä¾›ä¸€ä¸ªå¸¦String msgå‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³• ,ç”¨super(String)</strong></p><p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1709609248867-4b417b53-13cd-465e-96f6-550d2c00c005.png" alt="">â€‹</p><h1>4. <strong>å¼‚å¸¸çš„å¤„ç†</strong></h1><h2 id="4-1-å¼‚å¸¸çš„å¤„ç†åŒ…æ‹¬ä¸¤ç§æ–¹å¼">4.1. <strong>å¼‚å¸¸çš„å¤„ç†åŒ…æ‹¬ä¸¤ç§æ–¹å¼</strong></h2><ol><li class="lvl-3"><p><strong>å£°æ˜å¼‚å¸¸ï¼šç±»ä¼¼äºæ¨å¸è´£ä»»çš„å¤„ç†æ–¹å¼</strong></p><ol><li class="lvl-7"><strong>åœ¨æ–¹æ³•å®šä¹‰æ—¶ä½¿ç”¨throwså…³é”®å­—å£°æ˜å¼‚å¸¸ï¼Œå‘ŠçŸ¥è°ƒç”¨è€…ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ã€‚</strong> è¿™ç§å¤„ç†æ–¹å¼çš„æ€åº¦æ˜¯ï¼šå¦‚æœå‡ºç°äº†å¼‚å¸¸åˆ™ä¼šæŠ›ç»™è°ƒç”¨è€…æ¥å¤„ç†ã€‚</li></ol></li><li class="lvl-3"><p><strong>æ•æ‰å¼‚å¸¸ï¼šçœŸæ­£çš„å¤„ç†æ•æ‰å¼‚å¸¸</strong></p><ol><li class="lvl-7"><strong>åœ¨å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç ä¸Šä½¿ç”¨tryâ€¦catchè¿›è¡Œæ•æ‰å¤„ç†ã€‚è¿™ç§å¤„ç†æ–¹å¼çš„æ€åº¦æ˜¯ï¼šæŠŠå¼‚å¸¸æŠ“ä½ã€‚å…¶å®ƒæ–¹æ³•å¦‚æœè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯¹äºè°ƒç”¨è€…æ¥è¯´æ˜¯ä¸çŸ¥é“è¿™ä¸ªå¼‚å¸¸å‘ç”Ÿçš„ã€‚å› ä¸ºè¿™ä¸ªå¼‚å¸¸è¢«æŠ“ä½å¹¶å¤„ç†æ‰äº†ã€‚</strong></li></ol></li></ol><p>å¼‚å¸¸åœ¨å¤„ç†çš„æ•´ä¸ªè¿‡ç¨‹ä¸­åº”è¯¥æ˜¯ï¼šå£°æ˜å’Œæ•æ‰è”åˆä½¿ç”¨ã€‚</p><p><strong>ä»€ä¹ˆæ—¶å€™æ•æ‰ï¼Ÿä»€ä¹ˆæ—¶å€™å£°æ˜ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>å¦‚æœå¼‚å¸¸å‘ç”Ÿåéœ€è¦è°ƒç”¨è€…æ¥å¤„ç†çš„ï¼Œéœ€è¦è°ƒç”¨è€…çŸ¥é“çš„ï¼Œåˆ™é‡‡ç”¨å£°æ˜æ–¹å¼ã€‚å¦åˆ™é‡‡ç”¨æ•æ‰ã€‚</strong></p></li></ul><h2 id="4-2-ç¬¬ä¸€ç§å¤„ç†æ–¹å¼ï¼šå£°æ˜å¼‚å¸¸ï¼ˆ-throwså…³é”®å­—ï¼‰">4.2. <strong>ç¬¬ä¸€ç§å¤„ç†æ–¹å¼ï¼šå£°æ˜å¼‚å¸¸ï¼ˆ</strong> throws<strong>å…³é”®å­—ï¼‰</strong></h2><p><strong>å¦‚æœä¸€ä¸ªå¼‚å¸¸å‘ç”Ÿåå¸Œæœ›è°ƒç”¨è€…æ¥å¤„ç†çš„ï¼Œä½¿ç”¨å£°æ˜å¼‚å¸¸ï¼ˆä¿—è¯è¯´ï¼šäº¤ç»™ä¸Šçº§å¤„ç†ï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">()</span> <span class="keyword">throws</span> AException, BException... &#123;&#125;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœAException å’Œ BExceptionéƒ½ç»§æ‰¿äº†XExceptionï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">()</span> <span class="keyword">throws</span> XException&#123;&#125;</span><br></pre></td></tr></table></figure><p><strong>è°ƒç”¨è€…åœ¨è°ƒç”¨m()æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ£€æµ‹åˆ°è¯¥æ–¹æ³•ä¸Šç”¨throwså£°æ˜äº†å¼‚å¸¸ï¼Œè¡¨ç¤ºå¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç¼–è¯‘å™¨ä¼šç»§ç»­æ£€æµ‹è¯¥å¼‚å¸¸æ˜¯å¦ä¸ºç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œ</strong> å¦‚æœä¸ºç¼–è¯‘æ—¶å¼‚å¸¸åˆ™å¿…é¡»åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œå¤„ç†ï¼Œå¦‚æœä¸å¤„ç†ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p><p><strong>å¦‚æœæ‰€æœ‰ä½ç½®éƒ½é‡‡ç”¨throwsï¼ŒåŒ…æ‹¬mainæ–¹æ³•çš„å¤„ç†æ€åº¦ä¹Ÿæ˜¯throwsï¼Œå¦‚æœè¿è¡Œæ—¶å‡ºç°äº†å¼‚å¸¸ï¼Œæœ€ç»ˆå¼‚å¸¸æ˜¯æŠ›ç»™äº†mainæ–¹æ³•çš„è°ƒç”¨è€…ï¼ˆJVMï¼‰ï¼ŒJVMåˆ™ä¼šç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚å› æ­¤ä¸ºäº†ä¿è¯ç¨‹åºåœ¨å‡ºç°å¼‚å¸¸åä¸è¢«ä¸­æ–­ï¼Œè‡³å°‘mainæ–¹æ³•ä¸è¦å†ä½¿ç”¨throwsè¿›è¡Œå£°æ˜äº†ã€‚</strong></p><p><strong>å‘ç”Ÿå¼‚å¸¸åï¼Œåœ¨å‘ç”Ÿå¼‚å¸¸çš„ä½ç½®ä¸Šï¼Œå¾€ä¸‹çš„ä»£ç æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œé™¤éè¿›è¡Œäº†å¼‚å¸¸çš„æ•æ‰ã€‚</strong></p><h2 id="4-3-ç¬¬äºŒç§å¤„ç†æ–¹å¼ï¼šæ•æ‰å¼‚å¸¸-tryâ€¦catchâ€¦å…³é”®å­—">4.3. <strong>ç¬¬äºŒç§å¤„ç†æ–¹å¼ï¼šæ•æ‰å¼‚å¸¸ (tryâ€¦catchâ€¦å…³é”®å­—)</strong></h2><p><strong>å¦‚æœä¸€ä¸ªå¼‚å¸¸å‘ç”Ÿåï¼Œä¸éœ€è¦è°ƒç”¨è€…çŸ¥é“ï¼Œä¹Ÿä¸éœ€è¦è°ƒç”¨è€…æ¥å¤„ç†ï¼Œé€‰æ‹©ä½¿ç”¨æ•æ‰æ–¹å¼å¤„ç†ã€‚</strong></p><p><strong>try{</strong></p><p>**// **å°è¯•æ‰§è¡Œå¯èƒ½ä¼šå‡ºç°å¼‚å¸¸çš„ä»£ç </p><p><strong>// try</strong>å—ä¸­çš„ä»£ç å¦‚æœæ‰§è¡Œå‡ºç°å¼‚å¸¸ï¼Œå‡ºç°å¼‚å¸¸çš„ä½ç½®å¾€ä¸‹çš„ä»£ç æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œç›´æ¥è¿›å…¥<strong>catch</strong>å—æ‰§è¡Œ</p><p><strong>}catch(AException e){</strong></p><p><strong>//</strong>  <strong><strong>å¦‚æœæ•æ‰åˆ°</strong></strong>â€‹<strong>AException</strong>ç±»å‹çš„å¼‚å¸¸ï¼Œåœ¨è¿™é‡Œå¤„ç†</p><p><strong>}catch(BException e){</strong></p><p><strong>//</strong>  <strong><strong>å¦‚æœæ•æ‰åˆ°</strong></strong>â€‹<strong>BException</strong>ç±»å‹çš„å¼‚å¸¸ï¼Œåœ¨è¿™é‡Œå¤„ç†</p><p><strong>}catch(XException e){</strong></p><p><strong>//</strong>  <strong><strong>å¦‚æœæ•æ‰åˆ°</strong></strong>â€‹<strong>XException</strong>ç±»å‹çš„å¼‚å¸¸ï¼Œåœ¨è¿™é‡Œå¤„ç†</p><p><strong>}</strong></p><p><strong>// å½“tryâ€¦catchâ€¦å°†æ‰€æœ‰å‘ç”Ÿçš„å¼‚å¸¸æ•æ‰åï¼Œè¿™é‡Œçš„ä»£ç æ˜¯ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œçš„ã€‚</strong></p><p><strong>catchå¯ä»¥å†™å¤šä¸ªã€‚å¹¶ä¸”éµå¾ªè‡ªä¸Šè€Œä¸‹ï¼Œä»å°åˆ°å¤§ã€‚</strong></p><p><strong>Java7æ–°ç‰¹æ€§ï¼šcatchåé¢å°æ‹¬å·ä¸­å¯ä»¥ç¼–å†™å¤šä¸ªå¼‚å¸¸ï¼Œä½¿ç”¨è¿ç®—ç¬¦â€œ|â€éš”å¼€ã€‚</strong></p><h1>5. <strong>å¼‚å¸¸çš„å¸¸ç”¨æ–¹æ³•</strong></h1><p><strong>è·å–å¼‚å¸¸çš„ç®€å•æè¿°ä¿¡æ¯ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>exception.getMessage();</strong></p></li><li class="lvl-2"><p><strong>è·å–çš„messageæ˜¯é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºå¼‚å¸¸å¯¹è±¡æ—¶ä¼ é€’è¿‡å»çš„messageã€‚</strong></p></li></ul><p><strong>æ‰“å°å¼‚å¸¸å †æ ˆä¿¡æ¯ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>exception.printStackTrace();</strong></p></li></ul><p><strong>è¦ä¼šçœ‹å¼‚å¸¸çš„å †æ ˆä¿¡æ¯ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>å¼‚å¸¸ä¿¡æ¯çš„æ‰“å°æ˜¯ç¬¦åˆæ ˆæ•°æ®ç»“æ„çš„ã€‚</strong></p></li><li class="lvl-2"><p><strong>çœ‹å¼‚å¸¸ä¿¡æ¯ä¸»è¦çœ‹æœ€å¼€å§‹çš„æè¿°ä¿¡æ¯ã€‚çœ‹æ ˆé¡¶ä¿¡æ¯ã€‚</strong></p></li></ul><h1>6. <strong>finallyè¯­å¥å—</strong></h1><p><strong>finallyè¯­å¥å—ä¸­çš„ä»£ç æ˜¯ä¸€å®šä¼šæ‰§è¡Œçš„ã€‚</strong></p><p><strong>finallyè¯­å¥å—ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œè‡³å°‘éœ€è¦é…åˆtryè¯­å¥å—ä¸€èµ·ä½¿ç”¨ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>tryâ€¦finally</strong></p></li><li class="lvl-2"><p><strong>tryâ€¦catchâ€¦finally</strong></p></li></ul><p><strong>é€šå¸¸åœ¨finallyè¯­å¥å—ä¸­å®Œæˆèµ„æºçš„é‡Šæ”¾</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>èµ„æºé‡Šæ”¾çš„å·¥ä½œæ¯”è¾ƒé‡è¦ï¼Œå¦‚æœèµ„æºæ²¡æœ‰é‡Šæ”¾ä¼šä¸€ç›´å ç”¨å†…å­˜ã€‚</strong></p></li><li class="lvl-2"><p><strong>ä¸ºäº†ä¿è¯èµ„æºçš„å…³é—­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š</strong> ä¸ç®¡ç¨‹åºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œå…³é—­èµ„æºçš„ä»£ç ä¸€å®šè¦ä¿è¯æ‰§è¡Œã€‚</p></li><li class="lvl-2"><p><strong>å› æ­¤åœ¨finallyè¯­å¥å—ä¸­é€šå¸¸è¿›è¡Œèµ„æºçš„é‡Šæ”¾ã€‚</strong></p></li></ul><p><strong>finalã€finallyã€finalizeåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>finalæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œä¿®é¥°çš„ç±»æ— æ³•ç»§æ‰¿ï¼Œä¿®é¥°çš„æ–¹æ³•æ— æ³•è¦†ç›–ï¼Œä¿®é¥°çš„å˜é‡ä¸èƒ½ä¿®æ”¹ã€‚</strong></p></li><li class="lvl-2"><p><strong>finallyæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå’Œtryä¸€èµ·ä½¿ç”¨ï¼Œfinallyè¯­å¥å—ä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œã€‚</strong></p></li><li class="lvl-2"><p><strong>finalizeæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå®ƒæ˜¯Objectç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•åã€‚</strong></p></li></ul><p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1709610490246-d2b3f4e2-1943-4af1-8cd9-301717ae1cee.png" alt="">â€‹</p><h1>7. <strong>æ–¹æ³•è¦†ç›–ä¸å¼‚å¸¸</strong></h1><p><strong>æ–¹æ³•é‡å†™ä¹‹åï¼Œä¸èƒ½æ¯”çˆ¶ç±»æ–¹æ³•æŠ›å‡ºæ›´å¤šçš„å¼‚å¸¸ï¼Œå¯ä»¥æ›´å°‘ã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/1709610590621-67fc2af8-443b-48eb-aefc-fa1a767860c7.png" alt="">â€‹</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬äº”ç« ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹</title>
      <link href="/posts/aa351366.html"/>
      <url>/posts/aa351366.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-é¢å‘å¯¹è±¡æ¦‚è¿°">1. é¢å‘å¯¹è±¡æ¦‚è¿°</h2><p><strong>è½¯ä»¶å¼€å‘æ–¹æ³•ï¼šé¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡</strong></p><ul class="lvl-0"><li class="lvl-2"><p>é¢å‘è¿‡ç¨‹ï¼šå…³æ³¨ç‚¹åœ¨å®ç°åŠŸèƒ½çš„æ­¥éª¤ä¸Š</p><ul class="lvl-2"><li class="lvl-4">POï¼šProcedure Orientedã€‚ä»£è¡¨è¯­è¨€ï¼šCè¯­è¨€</li><li class="lvl-4">é¢å‘è¿‡ç¨‹å°±æ˜¯åˆ†æå‡ºè§£å†³é—®é¢˜æ‰€éœ€è¦çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸€ä¸ªä¸€ä¸ªä¾æ¬¡è°ƒç”¨å°±å¯ä»¥äº†ã€‚</li><li class="lvl-4">ä¾‹å¦‚å¼€æ±½è½¦ï¼šå¯åŠ¨ã€è¸©ç¦»åˆã€æŒ‚æŒ¡ã€æ¾ç¦»åˆã€è¸©æ²¹é—¨ã€è½¦èµ°äº†ã€‚</li><li class="lvl-4">å¯¹äºç®€å•çš„æµç¨‹æ˜¯é€‚åˆä½¿ç”¨é¢å‘è¿‡ç¨‹çš„æ–¹å¼è¿›è¡Œçš„ã€‚å¤æ‚çš„æµç¨‹ä¸é€‚åˆä½¿ç”¨é¢å‘è¿‡ç¨‹çš„å¼€å‘æ–¹å¼ã€‚</li></ul></li><li class="lvl-2"><p>é¢å‘å¯¹è±¡ï¼šå…³æ³¨ç‚¹åœ¨å®ç°åŠŸèƒ½éœ€è¦å“ªäº›å¯¹è±¡çš„å‚ä¸</p><ul class="lvl-2"><li class="lvl-4">OOï¼šObject Oriented é¢å‘å¯¹è±¡ã€‚åŒ…æ‹¬OOA,OOD,OOPã€‚OOAï¼šObject Oriented Analysis é¢å‘å¯¹è±¡åˆ†æã€‚OODï¼šObject Oriented Design é¢å‘å¯¹è±¡è®¾è®¡ã€‚OOPï¼šObject Oriented Programming é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚ä»£è¡¨è¯­è¨€ï¼šJavaã€C#ã€Pythonç­‰ã€‚</li><li class="lvl-4">é¢å‘å¯¹è±¡å°±æ˜¯åˆ†æå‡ºè§£å†³è¿™ä¸ªé—®é¢˜éƒ½éœ€è¦å“ªäº›å¯¹è±¡çš„å‚åŠ ï¼Œç„¶åè®©å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´åä½œèµ·æ¥å½¢æˆä¸€ä¸ªç³»ç»Ÿã€‚</li><li class="lvl-4">ä¾‹å¦‚å¼€æ±½è½¦ï¼šæ±½è½¦å¯¹è±¡ã€å¸æœºå¯¹è±¡ã€‚å¸æœºå¯¹è±¡æœ‰ä¸€ä¸ªé©¾é©¶çš„è¡Œä¸ºã€‚å¸æœºå¯¹è±¡é©¾é©¶æ±½è½¦å¯¹è±¡ã€‚</li><li class="lvl-4">é¢å‘å¯¹è±¡å¼€å‘æ–¹å¼è€¦åˆåº¦ä½ï¼Œæ‰©å±•èƒ½åŠ›å¼ºã€‚ä¾‹å¦‚é‡‡ç”¨é¢å‘è¿‡ç¨‹ç”Ÿäº§ä¸€å°ç”µè„‘ï¼Œä¸ä¼šåˆ†CPUã€å†…å­˜å’Œç¡¬ç›˜ï¼Œå®ƒä¼šæŒ‰ç…§ç”µè„‘çš„å·¥ä½œæµç¨‹ä¸€æ¬¡æˆå‹ã€‚é‡‡ç”¨é¢å‘å¯¹è±¡ç”Ÿäº§ä¸€å°ç”µè„‘ï¼ŒCPUæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå†…å­˜æ¡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç¡¬ç›˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœè§‰å¾—ç¡¬ç›˜å®¹é‡å°ï¼ŒåæœŸæ˜¯å¾ˆå®¹æ˜“æ›´æ¢çš„ï¼Œè¿™å°±æ˜¯æ‰©å±•æ€§ã€‚</li></ul></li></ul><p><strong>é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å°è£…ï¼ˆEncapsulationï¼‰</p></li><li class="lvl-2"><p>ç»§æ‰¿ï¼ˆInheritanceï¼‰</p></li><li class="lvl-2"><p>å¤šæ€ï¼ˆPolymorphismï¼‰</p></li></ul><h2 id="2-ç±»ä¸å¯¹è±¡">2. ç±»ä¸å¯¹è±¡</h2><p><strong>ç±»ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ç°å®ç”Ÿæ´»ä¸­äº‹ç‰©ä¸äº‹ç‰©ä¹‹é—´å…·æœ‰å…±åŒç‰¹å¾</p></li><li class="lvl-2"><p>ç±»å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¨¡æ¿ ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µ</p></li><li class="lvl-2"><p>çŠ¶æ€åœ¨ç¨‹åºä¸­å¯¹åº”å±æ€§ã€‚å±æ€§é€šå¸¸ç”¨å˜é‡æ¥è¡¨ç¤º</p></li><li class="lvl-2"><p>è¡Œä¸ºåœ¨ç¨‹åºä¸­å¯¹åº”æ–¹æ³•ã€‚ç”¨æ–¹æ³•æ¥æè¿°è¡Œä¸ºåŠ¨ä½œã€‚</p></li><li class="lvl-2"><p><strong>ç±» = å±æ€§ + æ–¹æ³•</strong></p></li></ul><p><strong>å¯¹è±¡ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å®é™…å­˜åœ¨çš„ä¸ªä½“</p></li><li class="lvl-2"><p>å¯¹è±¡åˆç§°å®ä¾‹(instance)</p></li><li class="lvl-2"><p>é€šè¿‡ç±»å¯ä»¥å®ä¾‹åŒ–å¯¹è±¡</p></li></ul><p><strong>ç±»çš„å®šä¹‰ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å®šä¹‰ç±»çš„è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦åˆ—è¡¨] class ç±»å &#123;</span><br><span class="line">ç±»ä½“ = å±æ€§ + æ–¹æ³•;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±æ€§ (å®ä¾‹å˜é‡) , æè¿°çš„æ˜¯çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³• ï¼Œæè¿°çš„æ˜¯è¡Œä¸ºåŠ¨ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.north.oop01;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Stone</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/1/25$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> gender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>ä¸ºä»€ä¹ˆè¦å®šä¹‰ç±»ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å› ä¸ºè¦é€šè¿‡ç±»å®ä¾‹åŒ–å¯¹è±¡ã€‚æœ‰äº†å¯¹è±¡ï¼Œè®©å¯¹è±¡ä¹‹é—´å†™ä½œèµ·æ¥å½¢æˆç³»ç»Ÿ</li></ul></li><li class="lvl-2"><p>ä¸€ä¸ªç±»å¯ä»¥å®ä¾‹åŒ–å¤šjavaå¯¹è±¡(é€šè¿‡ä¸€ä¸ªç±»å¯ä»¥é€ å‡ºå¤šä¸ªjavaå¯¹è±¡)</p></li><li class="lvl-2"><p>å®ä¾‹å˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ä¸€ä»½ï¼Œæ¯”å¦‚åˆ›å»º3ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼Œæ¯ä¸ªå­¦ç”Ÿå¯¹è±¡ä¸­åº”è¯¥æœ‰nameå˜é‡</p></li><li class="lvl-2"><p>å®ä¾‹å˜é‡å±äºæˆå‘˜å˜é‡ ï¼Œæˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰æ‰‹åŠ¨èµ‹å€¼ï¼Œç³»ç»Ÿä¼šèµ‹é»˜è®¤å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®ç±»å‹        é»˜è®¤å€¼</span><br><span class="line">----------------------</span><br><span class="line"><span class="type">byte</span>            <span class="number">0</span></span><br><span class="line"><span class="type">short</span>           <span class="number">0</span></span><br><span class="line"><span class="type">int</span>             <span class="number">0</span></span><br><span class="line"><span class="type">long</span>            <span class="number">0L</span></span><br><span class="line"><span class="type">float</span>           <span class="number">0.0F</span></span><br><span class="line"><span class="type">double</span>          <span class="number">0.0</span></span><br><span class="line"><span class="type">boolean</span>         <span class="literal">false</span></span><br><span class="line"><span class="type">char</span>            \u0000</span><br><span class="line">å¼•ç”¨æ•°æ®ç±»å‹      <span class="literal">null</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä»¥ä¸‹åˆ—ç¨‹åºä¸ºä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.north.oop01;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Stone</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/1/25$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¿é—®å¯¹è±¡çš„å±æ€§</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å§“åï¼š&quot;</span> + s1.name);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¹´é¾„ï¼š&quot;</span> + s1.age);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ€§åˆ«ï¼š&quot;</span> + (s1.gender ? <span class="string">&quot;ç”·&quot;</span> : <span class="string">&quot;å¥³&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹å±æ€§è¿›è¡Œæ“ä½œ</span></span><br><span class="line">        s2.name = <span class="string">&quot;é™ˆå¹³å®‰&quot;</span>;</span><br><span class="line">        s2.age = <span class="number">19</span>;</span><br><span class="line">        s2.gender = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;å§“åï¼š&quot;</span> + s2.name);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¹´é¾„ï¼š&quot;</span> + s2.age);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ€§åˆ«ï¼š&quot;</span> + (s2.gender ? <span class="string">&quot;ç”·&quot;</span> : <span class="string">&quot;å¥³&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>å¯¹è±¡çš„åˆ›å»º</p><ul class="lvl-2"><li class="lvl-4">Student s1 ; æ˜¯ä»€ä¹ˆï¼Ÿs1æ˜¯å˜é‡åã€‚Student æ˜¯ä¸€ç§æ•°æ®ç±»å‹åã€‚å±äºå¼•ç”¨æ•°æ®ç±»å‹</li><li class="lvl-4">s1 ä¹Ÿæ˜¯å±€éƒ¨å˜é‡</li><li class="lvl-4">s1 å˜é‡ä¸­ä¿å­˜çš„æ˜¯å †å†…å­˜ä¸­Student å¯¹è±¡çš„å†…å­˜åœ°å€</li><li class="lvl-4">å…¶ä¸­ , s1æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç§°å‘¼ï¼šå¼•ç”¨</li><li class="lvl-4">ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿå¼•ç”¨çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå˜é‡ ï¼Œè¿™ä¸ªå˜é‡ä¸­ä¿å­˜äº†javaå¯¹è±¡çš„å†…å­˜åœ°å€</li><li class="lvl-4">å¼•ç”¨å’Œå¯¹è±¡è¦åŒºåˆ†å¼€ã€‚å¯¹è±¡åœ¨JVMå †ä¸­ã€‚å¼•ç”¨æ˜¯ä¿å­˜å¯¹è±¡åœ°å€çš„å˜é‡</li></ul></li><li class="lvl-2"><p>å¯¹è±¡çš„ä½¿ç”¨</p><ul class="lvl-2"><li class="lvl-4">è¯»å–å±æ€§å€¼ï¼š<a href="http://s2.name">s2.name</a></li><li class="lvl-4">ä¿®æ”¹å±æ€§å€¼ï¼š<a href="http://s2.name">s2.name</a> = â€œå¾å‡¤å¹´â€;</li></ul></li><li class="lvl-2"><p>é€šè¿‡ä¸€ä¸ªç±»å¯ä»¥å®ä¾‹åŒ–å¤šä¸ªå¯¹è±¡ , å¦‚ï¼šStudentç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>ä¸Šè¿°ä»£ç ä¸­çš„ name å’Œ age ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨ <code>ç±»å.</code>â€‹å»è®¿é—®</p><ul class="lvl-2"><li class="lvl-4">å®ä¾‹å˜é‡è¦æƒ³è®¿é—® ï¼Œå¿…é¡»å…ˆnew å¯¹è±¡ã€‚é€šè¿‡å¼•ç”¨æ¥è®¿é—®å®ä¾‹å˜é‡</li><li class="lvl-4">å®ä¾‹å˜é‡æ˜¯ä¸èƒ½é€šè¿‡ç±»åç›´æ¥è®¿é—®çš„</li></ul></li></ul><h2 id="3-å¯¹è±¡çš„å†…å­˜åˆ†æ-å¯¹è±¡ä¸å¼•ç”¨">3. å¯¹è±¡çš„å†…å­˜åˆ†æ(å¯¹è±¡ä¸å¼•ç”¨)</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240203122036-gy75lv6.png" alt="image">â€‹</p><ol><li class="lvl-3"><p>newè¿ç®—ç¬¦ä¼šåœ¨JVMçš„å †å†…å­˜ä¸­åˆ†é…ç©ºé—´ç”¨æ¥å­˜å‚¨å®ä¾‹å˜é‡ã€‚newåˆ†é…çš„ç©ºé—´å°±æ˜¯Javaå¯¹è±¡ã€‚</p></li><li class="lvl-3"><p>åœ¨JVMä¸­å¯¹è±¡åˆ›å»ºåä¼šæœ‰å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œå°†å†…å­˜åœ°å€èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡è¢«ç§°ä¸ºå¼•ç”¨ã€‚</p></li><li class="lvl-3"><p>Javaä¸­çš„GCä¸»è¦é’ˆå¯¹çš„æ˜¯JVMçš„å †å†…å­˜ã€‚</p></li><li class="lvl-3"><p>ç©ºæŒ‡é’ˆå¼‚å¸¸æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Ÿ</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PetTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå® ç‰©å¯¹è±¡</span></span><br><span class="line">        <span class="type">Pet</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pet</span>();</span><br><span class="line">        <span class="comment">// ç»™å±æ€§èµ‹å€¼</span></span><br><span class="line">        dog.name = <span class="string">&quot;å°é»‘&quot;</span>;</span><br><span class="line">        dog.birth = <span class="string">&quot;2012-10-11&quot;</span>;</span><br><span class="line">        dog.sex = <span class="string">&#x27;é›„&#x27;</span>;</span><br><span class="line">        <span class="comment">// è¯»å–å±æ€§çš„å€¼</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ç‹—ç‹—çš„åå­—ï¼š&quot;</span> + dog.name);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‹—ç‹—çš„ç”Ÿæ—¥ï¼š&quot;</span> + dog.birth);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‹—ç‹—çš„æ€§åˆ«ï¼š&quot;</span> + dog.sex);</span><br><span class="line">        dog = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šå¼•ç”¨ä¸€æ—¦ä¸ºnullï¼Œè¡¨ç¤ºå¼•ç”¨ä¸å†æŒ‡å‘å¯¹è±¡äº†ã€‚ä½†æ˜¯é€šè¿‡å¼•ç”¨è®¿é—®nameå±æ€§ï¼Œç¼–è¯‘å¯ä»¥é€šè¿‡ã€‚</span></span><br><span class="line">        <span class="comment">// è¿è¡Œæ—¶ä¼šå‡ºç°å¼‚å¸¸ï¼šç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚NullPointerExceptionã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸è‘—åçš„å¼‚å¸¸ã€‚</span></span><br><span class="line">        <span class="comment">// ä¸ºä»€ä¹ˆä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Ÿå› ä¸ºè¿è¡Œçš„æ—¶å€™ä¼šæ‰¾çœŸæ­£çš„å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡ä¸å­˜åœ¨äº†ï¼Œå°±ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸ã€‚</span></span><br><span class="line">        <span class="comment">//System.out.println(&quot;ç‹—ç‹—çš„åå­—ï¼š&quot; + dog.name);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</span></span><br><span class="line">        dog.eat();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</span></span><br><span class="line">        <span class="comment">//dog.run();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æ–¹æ³•è°ƒç”¨æ—¶å‚æ•°æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿå°†å˜é‡ä¸­ä¿å­˜çš„å€¼å¤åˆ¶ä¸€ä»½ä¼ é€’è¿‡å»ã€‚</p></li><li class="lvl-3"><p>åˆæ¬¡è®¤è¯†thiså…³é”®å­—ï¼šå‡ºç°åœ¨å®ä¾‹æ–¹æ³•ä¸­ï¼Œä»£è¡¨å½“å‰å¯¹è±¡ã€‚â€œthis.â€å¤§éƒ¨åˆ†æƒ…å†µä¸‹å¯ä»¥çœç•¥ã€‚thiså­˜å‚¨åœ¨å®ä¾‹æ–¹æ³•æ ˆå¸§çš„å±€éƒ¨å˜é‡è¡¨çš„0å·æ§½ä½ä¸Šã€‚</p></li></ol><h2 id="4-å°è£…">4. å°è£…</h2><p><strong>ä»€ä¹ˆæ˜¯å°è£…</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å°è£…æ˜¯å°†ä¸€ä¸ªå¯¹è±¡æ‰€æœ‰<mark>çŠ¶æ€(å±æ€§)</mark> , ä»¥åŠ <mark>è¡Œä¸º(æ–¹æ³•)</mark> ç»Ÿä¸€å°è£…åˆ°ä¸€ä¸ªç±»ä¸­ ï¼Œä»è€Œéšè—äº†å¯¹è±¡å†…éƒ¨çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œå‘å¤–ç•Œæä¾›äº†æœ‰é™çš„è®¿é—®æ¥å£ ï¼Œä»¥å®ç°å¯¹å¯¹è±¡çš„ä¿æŠ¤å’Œéš”ç¦»</p></li></ul><p><strong>å°è£…çš„å¥½å¤„</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å°è£…é€šè¿‡é™åˆ¶å¤–éƒ¨å¯¹å¯¹è±¡å†…éƒ¨çš„ç›´æ¥è®¿é—®å’Œä¿®æ”¹ï¼Œä¿è¯äº†æ•°æ®çš„å®‰å…¨æ€§ ï¼Œå¹¶æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯å¤ç”¨æ€§</p></li></ul><p><strong>åœ¨ä»£ç ä¸Šå¦‚ä½•å®ç°å°è£…</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å±æ€§ç§æœ‰åŒ–ï¼Œ å¯¹å¤–æä¾›getterå’Œsetteræ–¹æ³•</p></li></ul><p><strong>å®ç°å°è£…çš„æ­¥éª¤ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ç¬¬ä¸€æ­¥ï¼šå±æ€§ç§æœ‰åŒ–(ä»€ä¹ˆæ˜¯ç§æœ‰åŒ–ï¼Ÿä½¿ç”¨private è¿›è¡Œä¿®é¥°)</p><ul class="lvl-2"><li class="lvl-4">å±æ€§ç§æœ‰åŒ–çš„ä½œç”¨æ˜¯ï¼šç¦æ­¢å¤–éƒ¨ç¨‹åºå¯¹è¯¥å±æ€§è¿›è¡Œéšæ„è®¿é—®</li><li class="lvl-4">æ‰€æœ‰è¢«privateä¿®é¥°çš„ ï¼Œéƒ½æ˜¯ç§æœ‰çš„ ï¼Œç§æœ‰çš„åªèƒ½åœ¨æœ¬ç±»ä¸­è®¿é—®</li></ul></li><li class="lvl-2"><p>ç¬¬äºŒæ­¥ï¼šå¯¹å¤–æä¾›setterå’Œgetteræ–¹æ³•</p><ul class="lvl-2"><li class="lvl-4"><p>è®¿é—®ä¸€èˆ¬åŒ…æ‹¬ä¸¤ç§ï¼š</p><ol><li class="lvl-7"><p>è¯»ï¼šè¯»å±æ€§çš„å€¼ ï¼Œ è¯»çš„æ–¹æ³•æ ¼å¼ï¼šgetter , <code>getteræ–¹æ³•æ˜¯ç»å¯¹å®‰å…¨çš„ã€‚å› ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯è¯»å–å±æ€§çš„å€¼ï¼Œä¸ä¼šæ¶‰åŠä¿®æ”¹æ“ä½œã€‚</code>â€‹</p></li><li class="lvl-7"><p>æ”¹ï¼šä¿®æ”¹å±æ€§çš„å€¼ , æ”¹çš„æ–¹æ³•æ ¼å¼ï¼šsetter , <code>setteræ–¹æ³•å½“ä¸­å°±éœ€è¦ç¼–å†™æ‹¦æˆªè¿‡æ»¤ä»£ç ï¼Œæ¥ä¿è¯å±æ€§çš„å®‰å…¨ã€‚</code>â€‹</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(age &lt; <span class="number">0</span> || age &gt; <span class="number">100</span>) &#123;</span><br><span class="line">           System.out.println(<span class="string">&quot;å¯¹ä¸èµ·ï¼Œæ‚¨çš„å¹´é¾„å€¼ä¸åˆæ³•ï¼&quot;</span>);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// this. å¤§éƒ¨åˆ†æƒ…å†µä¸‹å¯ä»¥çœç•¥ã€‚</span></span><br><span class="line">       <span class="comment">// this. ä»€ä¹ˆæ—¶å€™ä¸èƒ½çœç•¥ï¼Ÿç”¨æ¥åŒºåˆ†å±€éƒ¨å˜é‡å’Œå®ä¾‹å˜é‡çš„æ—¶å€™ã€‚</span></span><br><span class="line">       <span class="built_in">this</span>.age = age;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul></li></ul><h2 id="5-æ„é€ æ–¹æ³•Constructorï¼ˆæ„é€ å™¨ï¼‰">5. æ„é€ æ–¹æ³•Constructorï¼ˆæ„é€ å™¨ï¼‰</h2><p><strong>æ„é€ æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä½œç”¨1ï¼šå¯¹è±¡çš„åˆ›å»º(é€šè¿‡è°ƒç”¨æ„é€ æ–¹æ³•å¯ä»¥å®Œæˆå¯¹è±¡çš„åˆ›å»º)</p></li><li class="lvl-2"><p>ä½œç”¨2ï¼šå¯¹è±¡çš„åˆå§‹åŒ–(ç»™å¯¹è±¡çš„æ‰€æœ‰å±æ€§èµ‹å€¼å°±æ˜¯å¯¹è±¡çš„åˆå§‹åŒ–)</p></li></ul><p>æ€ä¹ˆå®šä¹‰æ„é€ æ–¹æ³•å‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦åˆ—è¡¨] æ„é€ æ–¹æ³•å(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">æ„é€ æ–¹æ³•ä½“;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>æ³¨æ„ï¼š</p><ul class="lvl-2"><li class="lvl-4">æ„é€ æ–¹æ³•åå¿…é¡»å’Œç±»åä¸€è‡´ã€‚</li><li class="lvl-4">æ„é€ æ–¹æ³•ä¸éœ€è¦æä¾›è¿”å›å€¼ç±»å‹ã€‚</li><li class="lvl-4">å¦‚æœæä¾›äº†è¿”å›å€¼ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±ä¸æ˜¯æ„é€ æ–¹æ³•äº† ï¼Œå°±å˜æˆæ™®é€šæ–¹æ³•äº†ã€‚</li></ul></li></ul><p><strong>æ„é€ æ–¹æ³•æ€ä¹ˆè°ƒç”¨å‘¢ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä½¿ç”¨new è¿ç®—ç¬¦æ¥è°ƒç”¨</p></li><li class="lvl-2"><p>è¯­æ³•ï¼šnew æ„é€ æ–¹æ³•å(å®å‚)</p></li><li class="lvl-2"><p>æ³¨æ„ï¼šæ„é€ æ–¹æ³•æœ€ç»ˆæ‰§è¡Œç»“æŸä¹‹åï¼Œä¼šè‡ªåŠ¨å°†åˆ›å»ºçš„å¯¹è±¡å†…å­˜åœ°å€è¿”å›ã€‚ä½†æ„é€ æ–¹æ³•ä½“ä¸­ä¸éœ€è¦æä¾› <mark>&quot;return å€¼&quot;</mark> ï¼›è¿™æ ·çš„è¯­å¥</p></li></ul><p><strong>ç¼ºçœæ„é€ å™¨</strong></p><ul class="lvl-0"><li class="lvl-2"><p>åœ¨javaè¯­è¨€ä¸­ï¼Œå¦‚æœä¸€ä¸ªç±»æ²¡æœ‰æ˜¾ç¤ºçš„å»å®šä¹‰æ„é€ æ–¹æ³• , ç³»ç»Ÿä¼šé»˜è®¤æä¾›ä¸€ä¸ªæ— å‚çš„æ„é€ æ–¹æ³•ã€‚(é€šå¸¸æŠŠè¿™ä¸ªæ„é€ æ–¹æ³•å«åšç¼ºçœæ„é€ å™¨)</p></li></ul><p><strong>æ„é€ æ–¹æ³•ä¸­ç»™å±æ€§èµ‹å€¼äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å•ç‹¬å®šä¹‰setæ–¹æ³•ç»™å±æ€§èµ‹å€¼å‘¢ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p>åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹å€¼æ˜¯å¯¹è±¡ç¬¬ä¸€æ¬¡åˆ›å»ºæ—¶å±æ€§èµ‹çš„å€¼ã€‚setæ–¹æ³•å¯ä»¥åœ¨åæœŸçš„æ—¶å€™è°ƒç”¨ï¼Œæ¥å®Œæˆå±æ€§å€¼çš„ä¿®æ”¹</p></li></ul><p><strong>æ„é€ æ–¹æ³•çš„æ‰§è¡ŒåŸç†</strong></p><ul class="lvl-0"><li class="lvl-2"><p>æ„é€ æ–¹æ³•æ‰§è¡ŒåŒ…æ‹¬ä¸¤ä¸ªé‡è¦çš„é˜¶æ®µ</p><ul class="lvl-2"><li class="lvl-4">ç¬¬ä¸€é˜¶æ®µï¼šå¯¹è±¡çš„åˆ›å»º</li><li class="lvl-4">ç¬¬äºŒé˜¶æ®µï¼šå¯¹è±¡çš„åˆå§‹åŒ–</li></ul></li><li class="lvl-2"><p>å¯¹è±¡åœ¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">new çš„æ—¶å€™ ï¼Œä¼šç›´æ¥åœ¨å †å†…å­˜ä¸­å¼€è¾Ÿç©ºé—´ã€‚ç„¶åç»™æ‰€æœ‰å±æ€§èµ‹é»˜è®¤å€¼ï¼Œå®Œæˆå¯¹è±¡çš„åˆ›å»ºã€‚(<mark>è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨æ„é€ æ–¹æ³•ä½“æ‰§è¡Œä¹‹å‰å°±å®Œæˆäº†</mark>)</li></ul></li><li class="lvl-2"><p>å¯¹è±¡åˆå§‹åŒ–åœ¨ä»€ä¹ˆæ—¶å€™å®Œæˆçš„ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">æ„é€ æ–¹æ³•ä½“å¼€å§‹æ‰§è¡Œï¼Œæ ‡å¿—ç€å¼€å§‹è¿›è¡Œå¯¹è±¡åˆå§‹åŒ–ã€‚æ„é€ æ–¹æ³•ä½“æ‰§è¡Œå®Œæ¯•ï¼Œè¡¨ç¤ºå¯¹è±¡åˆå§‹åŒ–å®Œæˆã€‚</li></ul></li></ul><p><strong>æ„é€ ä»£ç å—ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p>è¯­æ³•æ ¼å¼ï¼š<code>&#123; &#125;</code>â€‹</p><p>ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„é€ ä»£ç å—</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//System.out.println(&quot;æ„é€ ä»£ç å—æ‰§è¡Œï¼&quot;);</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œèƒ½å¤Ÿä½¿ç”¨thisï¼Œè¿™è¯´æ˜ï¼Œæ„é€ ä»£ç å—æ‰§è¡Œä¹‹å‰å¯¹è±¡å·²ç»åˆ›å»ºå¥½äº†ï¼Œå¹¶ä¸”ç³»ç»Ÿä¹Ÿå®Œæˆäº†é»˜è®¤èµ‹å€¼ã€‚</span></span><br><span class="line">    <span class="comment">//System.out.println(this.name);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;iiiiiiiiiii = &quot;</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>æ„é€ ä»£ç å—ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œæ‰§è¡Œå‡ æ¬¡ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">æ¯ä¸€æ¬¡åœ¨newçš„æ—¶å€™ï¼Œéƒ½ä¼šå…ˆæ‰§è¡Œä¸€æ¬¡æ„é€ ä»£ç å—</li><li class="lvl-4">æ„é€ ä»£ç å—æ˜¯åœ¨æ„é€ æ–¹æ³•ä¹‹å‰æ‰§è¡Œçš„</li></ul></li></ul><h2 id="6-this-å…³é”®å­—">6. this å…³é”®å­—</h2><p><strong>thiså…³é”®å­—çš„ç®€å•ä»‹ç»</strong></p><ul class="lvl-0"><li class="lvl-2"><p>this æ˜¯ä¸€ä¸ªå…³é”®å­—</p></li><li class="lvl-2"><p>this å‡ºç°åœ¨å®ä¾‹æ–¹æ³•ä¸­ï¼Œä»£è¡¨å½“å‰å¯¹è±¡ã€‚è¯­æ³•æ˜¯ï¼šthis</p></li><li class="lvl-2"><p>é€šè¿‡this å¯ä»¥è®¿é—®å®ä¾‹å˜é‡ ï¼Œå¯ä»¥è°ƒç”¨å®ä¾‹æ–¹æ³•</p></li><li class="lvl-2"><p>this å¤§éƒ¨åˆ†æƒ…å†µä¸‹å¯ä»¥çœç•¥ ï¼Œç”¨äºåŒºåˆ†å±€éƒ¨å˜é‡å’Œå®ä¾‹å˜é‡æ—¶ä¸èƒ½çœç•¥</p></li><li class="lvl-2"><p>this ä¸èƒ½å‡ºç°åœ¨é™æ€æ–¹æ³•ä¸­</p></li><li class="lvl-2"><p>thisï¼ˆå®å‚ï¼‰ è¯­æ³•ï¼š</p><ul class="lvl-2"><li class="lvl-4"><code>åªèƒ½å‡ºç°åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œ</code>â€‹</li><li class="lvl-4">é€šè¿‡å½“å‰æ„é€ æ–¹æ³•è°ƒç”¨æœ¬ç±»ä¸­å…¶ä»–çš„æ„é€ æ–¹æ³•</li><li class="lvl-4">ä½œç”¨æ˜¯ï¼šä»£ç å¤ç”¨</li></ul></li><li class="lvl-2"><p>this æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¼•ç”¨</p></li><li class="lvl-2"><p>this ä¸­ä¿å­˜çš„ä¹Ÿæ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€</p></li><li class="lvl-2"><p>this ä¸­ä¿å­˜çš„æ˜¯å½“å‰å¯¹è±¡çš„å†…å­˜åœ°å€</p></li></ul><h2 id="7-static-å…³é”®å­—">7. static å…³é”®å­—</h2><p><strong>static å…³é”®å­—ç®€å•ä»‹ç»</strong></p><ul class="lvl-0"><li class="lvl-2"><p>static ç¿»è¯‘ä¸ºé™æ€çš„</p></li><li class="lvl-2"><p>static ä¿®é¥°çš„å˜é‡ ï¼Œé™æ€å˜é‡</p></li><li class="lvl-2"><p>static ä¿®é¥°çš„æ–¹æ³• ï¼Œé™æ€æ–¹æ³•</p></li><li class="lvl-2"><p>æ‰€æœ‰staticä¿®é¥°çš„ï¼Œè®¿é—®çš„æ—¶å€™ï¼Œç›´æ¥é‡‡ç”¨&quot;ç±»å.&quot; , ä¸éœ€è¦new å¯¹è±¡</p></li></ul><p><strong>ä»€ä¹ˆæƒ…å†µä¸‹æŠŠæˆå‘˜å˜é‡å®šä¹‰ä¸ºé™æ€æˆå‘˜å˜é‡ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å½“ä¸€ä¸ªå±æ€§æ˜¯å¯¹è±¡çº§åˆ«çš„ ï¼Œè¿™ä¸ªå±æ€§é€šå¸¸å®šä¹‰ä¸ºå®ä¾‹å˜é‡ã€‚(å®ä¾‹å˜é‡æ—¶ä¸€ä¸ªå¯¹è±¡ä¸€ä»½ã€‚100ä¸ªå¯¹è±¡å°±åº”è¯¥æœ‰100ä¸ªç©ºé—´)</p></li><li class="lvl-2"><p>å½“ä¸€ä¸ªå±æ€§æ˜¯ç±»çº§åˆ«çš„(æ‰€æœ‰å¯¹è±¡éƒ½æœ‰è¿™ä¸ªå±æ€§) ï¼Œå¹¶ä¸”è¿™ä¸ªå±æ€§çš„å€¼æ˜¯ä¸€æ ·çš„ ï¼Œå»ºè®®å°†å…¶å®šä¹‰ä¸ºé™æ€å˜é‡ ï¼Œåœ¨å†…å­˜ç©ºé—´ä¸Šåªæœ‰ä¸€ä»½ ï¼ŒèŠ‚çœå†…å­˜å¼€å§‹ï¼Œè¿™ç§ç±»çº§åˆ«çš„å±æ€§ä¸éœ€è¦newå¯¹è±¡ï¼Œç›´æ¥é€šè¿‡ç±»åè®¿é—®</p></li></ul><p><strong>é™æ€å˜é‡å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿé™æ€å˜é‡åœ¨ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–ï¼Ÿ(ä»€ä¹ˆæ—¶å€™å¼€è¾Ÿç©ºé—´)</strong></p><ul class="lvl-0"><li class="lvl-2"><p>JDK8 ä¹‹å ï¼Œé™æ€å˜é‡å­˜å‚¨åœ¨å †å†…å­˜ä¸­</p></li><li class="lvl-2"><p>ç±»åŠ è½½æ—¶åˆå§‹åŒ–</p></li></ul><p><strong>é™æ€å˜é‡å¯ä»¥é‡‡ç”¨&quot;å¼•ç”¨.&quot; æ¥è®¿é—®å—ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å¯ä»¥ï¼ˆä½†ä¸å»ºè®®ï¼šä¼šç»™ç¨‹åºå‘˜é€ æˆå›°æƒ‘ï¼Œç¨‹åºå‘˜ä¼šè®¤ä¸ºcountryæ˜¯ä¸€ä¸ªå®ä¾‹å˜é‡ã€‚ï¼‰</p></li><li class="lvl-2"><p>å»ºè®®è¿˜æ˜¯ä½¿ç”¨â€œç±»å.â€æ¥è®¿é—®ã€‚è¿™æ˜¯æ­£è§„çš„ã€‚</p></li></ul><p><strong>ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä¸€ä¸ªç©ºå¼•ç”¨è®¿é—®å®ä¾‹ç›¸å…³çš„ï¼Œéƒ½ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p></li></ul><p><strong>é™æ€ä»£ç å—</strong></p><ul class="lvl-0"><li class="lvl-2"><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>é™æ€ä»£ç å—ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿæ‰§è¡Œå‡ æ¬¡ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">é™æ€ä»£ç å—åœ¨ç±»åŠ è½½æ—¶æ‰§è¡Œ ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡</li></ul></li><li class="lvl-2"><p>é™æ€ä»£ç å—å¯ä»¥ç¼–å†™å¤šä¸ª ï¼Œå¹¶ä¸”éµå¾ªè‡ªä¸Šè€Œä¸‹çš„é¡ºåºä¾æ¬¡æ‰§è¡Œ</p></li><li class="lvl-2"><p>é™æ€ä»£ç å—ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">æœ¬è´¨ä¸Šï¼Œé™æ€ä»£ç å—å°±æ˜¯ä¸ºç¨‹åºå‘˜é¢„ç•™çš„ä¸€ä¸ªç‰¹æ®Šçš„æ—¶é—´ç‚¹ï¼šç±»åŠ è½½æ—¶åˆ»</li><li class="lvl-4">å¦‚æœä½ éœ€è¦å†ç±»åŠ è½½æ—¶åˆ»æ‰§è¡Œä¸€æ®µç¨‹åºçš„è¯ï¼Œè¿™æ®µä»£ç å°±å¯ä»¥å†™åˆ°é™æ€ä»£ç å—å½“ä¸­ã€‚</li><li class="lvl-4">ä¾‹å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šè¯·åœ¨ç±»åŠ è½½æ—¶ï¼Œè®°å½•æ—¥å¿—ã€‚é‚£ä¹ˆè®°å½•æ—¥å¿—çš„ä»£ç å°±å¯ä»¥ç¼–å†™åˆ°é™æ€ä»£ç å—å½“ä¸­ã€‚</li></ul></li></ul><h2 id="8-JVMä½“ç³»ç»“æ„">8. JVMä½“ç³»ç»“æ„</h2><p><strong>JVMå¯¹åº”äº†ä¸€å¥—è§„èŒƒï¼ˆJavaè™šæ‹Ÿæœºè§„èŒƒï¼‰ï¼Œå®ƒå¯ä»¥æœ‰ä¸åŒçš„å®ç°</strong></p><ul class="lvl-0"><li class="lvl-2"><p>JVMè§„èŒƒæ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥æœ‰å¤šç§ä¸åŒçš„å®ç°ã€‚ä¾‹å¦‚ï¼š</p><ol><li class="lvl-5">HotSpotï¼šHotSpot ç”± Oracle å…¬å¸å¼€å‘ï¼Œæ˜¯ç›®å‰æœ€å¸¸ç”¨çš„è™šæ‹Ÿæœºå®ç°ï¼Œä¹Ÿæ˜¯é»˜è®¤çš„ Java è™šæ‹Ÿæœºï¼Œé»˜è®¤åŒ…å«åœ¨ Oracle JDK å’Œ OpenJDK ä¸­</li><li class="lvl-5">JRockitï¼šJRockit ä¹Ÿæ˜¯ç”± Oracle å…¬å¸å¼€å‘ã€‚å®ƒæ˜¯ä¸€æ¬¾é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–çš„ JVM å®ç°ï¼Œèƒ½å¤Ÿæä¾›é«˜æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§</li><li class="lvl-5">IBM JDKï¼šIBM JDK æ˜¯ IBM å…¬å¸å¼€å‘çš„ Java ç¯å¢ƒï¼Œé‡‡ç”¨äº†ä¸ HotSpot ä¸åŒçš„ J9 VMï¼Œèƒ½å¤Ÿæä¾›æ›´å°çš„å†…å­˜å ç”¨å’Œæ›´è¿…é€Ÿçš„å¯åŠ¨æ—¶é—´</li><li class="lvl-5">Azul Zingï¼šAzul Zing æ˜¯é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–çš„è™šæ‹Ÿæœºå®ç°ï¼Œèƒ½å¤Ÿæä¾›é«˜æ€§èƒ½å’Œå®æ—¶å¤„ç†èƒ½åŠ›ï¼Œé€‚åˆäºé«˜è´Ÿè½½çš„ä¼ä¸šåº”ç”¨å’Œå®æ—¶åˆ†æç­‰åœºæ™¯</li><li class="lvl-5">OpenJ9ï¼šOpenJ9 æ˜¯ç”± IBM å¼€å‘çš„ä¼˜åŒ–çš„ Java è™šæ‹Ÿæœºå®ç°ï¼Œæ”¯æŒé«˜åº¦è½»é‡çº§ã€ä½æ—¶å»¶çš„ GCã€ä¼˜åŒ–çš„ JIT ç¼–è¯‘å™¨å’Œç”¨äºå¥åº·åº¦æµ‹è¯•çš„å¯è§‚å¯Ÿæ€§ä»ªè¡¨æ¿</li></ol></li><li class="lvl-2"><p>å³å›¾æ˜¯ä»oracleå®˜ç½‘ä¸Šæˆªå–çš„Javaè™šæ‹Ÿæœºè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ã€‚ï¼ˆå¤§å®¶ä¹Ÿå¯ä»¥æ‰¾ä¸€ä¸‹oracleå®˜æ–¹æ–‡æ¡£ï¼‰</p></li><li class="lvl-2"><p>æˆ‘ä»¬ä¸»è¦ç ”ç©¶è¿è¡Œæ—¶æ•°æ®åŒºã€‚è¿è¡Œæ—¶æ•°æ®åŒºåŒ…æ‹¬6éƒ¨åˆ†ï¼š</p><ol><li class="lvl-5">The pc Registerï¼ˆç¨‹åºè®¡æ•°å™¨ï¼‰</li><li class="lvl-5">Java Virtual Machine Stacksï¼ˆJavaè™šæ‹Ÿæœºæ ˆï¼‰</li><li class="lvl-5">Heapï¼ˆå †ï¼‰</li><li class="lvl-5">Method Areaï¼ˆæ–¹æ³•åŒºï¼‰</li><li class="lvl-5">Run-Time Constant Poolï¼ˆè¿è¡Œæ—¶å¸¸é‡æ± ï¼‰</li><li class="lvl-5">Native Method Stacksï¼ˆæœ¬åœ°æ–¹æ³•æ ˆï¼‰</li></ol></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240204143027-9myyxjn.png" alt="image">â€‹</p><p>â€</p><p><strong>JVMè§„èŒƒä¸­çš„è¿è¡Œæ—¶æ•°æ®åŒº</strong></p><ol><li class="lvl-3"><p>The pc Registerï¼ˆç¨‹åºè®¡æ•°å™¨ï¼‰ï¼šæ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œæ­¤è®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼›</p></li><li class="lvl-3"><p>Java Virtual Machine Stacksï¼ˆJavaè™šæ‹Ÿæœºæ ˆï¼‰ï¼šJavaè™šæ‹Ÿæœºæ ˆç”¨äºå­˜å‚¨æ ˆå¸§ã€‚æ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚</p></li><li class="lvl-3"><p>Heapï¼ˆå †ï¼‰ï¼šæ˜¯Javaè™šæ‹Ÿæœºæ‰€ç®¡ç†çš„æœ€å¤§çš„ä¸€å—å†…å­˜ã€‚å †å†…å­˜ç”¨äºå­˜æ”¾Javaå¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„ã€‚å †æ˜¯åƒåœ¾æ”¶é›†å™¨æ”¶é›†åƒåœ¾çš„ä¸»è¦åŒºåŸŸã€‚</p></li><li class="lvl-3"><p>Method Areaï¼ˆæ–¹æ³•åŒºï¼‰ï¼šç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚</p></li><li class="lvl-3"><p>Run-Time Constant Poolï¼ˆè¿è¡Œæ—¶å¸¸é‡æ± ï¼‰ï¼šæ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡ä¸ç¬¦å·å¼•ç”¨ã€‚</p></li><li class="lvl-3"><p>Native Method Stacksï¼ˆæœ¬åœ°æ–¹æ³•æ ˆï¼‰ï¼šåœ¨æœ¬åœ°æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨åˆ°æœ¬åœ°æ–¹æ³•æ ˆã€‚å’Œ Java è™šæ‹Ÿæœºæ ˆååˆ†ç›¸ä¼¼ã€‚</p></li><li class="lvl-3"><p><mark>æ€»ç»“ï¼šè¿™äº›è¿è¡Œæ—¶æ•°æ®åŒºè™½ç„¶åœ¨åŠŸèƒ½ä¸Šæœ‰æ‰€åŒºåˆ«ï¼Œä½†åœ¨æ•´ä¸ª Java è™šæ‹Ÿæœºå¯åŠ¨æ—¶éƒ½éœ€è¦è¢«åˆ›å»ºï¼Œå¹¶ä¸”åœ¨è™šæ‹Ÿæœºè¿è¡ŒæœŸé—´å§‹ç»ˆå­˜åœ¨ï¼Œç›´åˆ°è™šæ‹Ÿæœºåœæ­¢è¿è¡Œæ—¶è¢«é”€æ¯ã€‚åŒæ—¶ï¼Œä¸åŒçš„ JVM å®ç°å¯¹è¿è¡Œæ—¶æ•°æ®åŒºçš„åˆ†é…å’Œç®¡ç†æ–¹å¼ä¹Ÿå¯èƒ½ä¸åŒï¼Œä¼šå¯¹æ€§èƒ½å’ŒåŠŸèƒ½äº§ç”Ÿå½±å“ã€‚</mark></p></li></ol><p>JVMä½“ç³»ç»“æ„å›¾ï¼ˆè¯¥å›¾å±äºJVMè§„èŒƒï¼Œä¸æ˜¯å…·ä½“çš„å®ç°ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240204143209-8c8bxhc.png" alt="image">â€‹</p><p>â€</p><p><strong>JVMè§„èŒƒçš„å®ç°ï¼šHotSpotï¼ˆOracle JDK/Open JDKå†…éƒ¨ä½¿ç”¨çš„JVMå°±æ˜¯HotSpotï¼‰</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä»¥ä¸‹æ˜¯JDK6çš„HotSpot</p><ul class="lvl-2"><li class="lvl-4">å¹´è½»ä»£ï¼šåˆšnewå‡ºæ¥çš„å¯¹è±¡æ”¾åœ¨è¿™é‡Œã€‚</li><li class="lvl-4">è€å¹´ä»£ï¼šç»è¿‡åƒåœ¾å›æ”¶ä¹‹åä»ç„¶å­˜æ´»çš„å¯¹è±¡ã€‚</li><li class="lvl-4">ç¬¦å·å¼•ç”¨ï¼šç±»å…¨åï¼Œå­—æ®µå…¨åï¼Œæ–¹æ³•å…¨åç­‰ã€‚</li><li class="lvl-4">è¿™ä¸ªæ—¶æœŸçš„æ°¸ä¹…ä»£å’Œå †æ˜¯ç›¸é‚»çš„ï¼Œä½¿ç”¨è¿ç»­çš„ç‰©ç†å†…å­˜ï¼Œä½†æ˜¯å†…å­˜ç©ºé—´æ˜¯éš”ç¦»çš„ã€‚</li><li class="lvl-4">æ°¸ä¹…ä»£çš„åƒåœ¾æ”¶é›†æ˜¯å’Œè€å¹´ä»£æ†ç»‘åœ¨ä¸€èµ·çš„ï¼Œå› æ­¤æ— è®ºè°æ»¡äº†ï¼Œéƒ½ä¼šè§¦å‘æ°¸ä¹…ä»£å’Œè€å¹´ä»£çš„åƒåœ¾æ”¶é›†ã€‚</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240204143318-6jltd96.png" alt="image">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>ä»¥ä¸‹æ˜¯JDK7çš„HotSpotï¼Œè¿™æ˜¯ä¸€ä¸ªè¿‡æ¸¡çš„ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬ç›¸å¯¹äºJDK6æ¥è¯´ï¼Œå˜åŒ–å¦‚ä¸‹ï¼š</p><ol><li class="lvl-5">ç±»çš„é™æ€å˜é‡è½¬ç§»åˆ°å †ä¸­äº†</li><li class="lvl-5">å­—ç¬¦ä¸²å¸¸é‡æ± è½¬ç§»åˆ°å †ä¸­äº†</li><li class="lvl-5">è¿è¡Œæ—¶å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨è½¬ç§»åˆ°æœ¬åœ°å†…å­˜äº†</li></ol></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240204143837-tb66scc.png" alt="image">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>ä»¥ä¸‹æ˜¯JDK8åŠæ›´é«˜ç‰ˆæœ¬çš„HotSpotï¼Œç›¸å¯¹äºJDK7æ¥è¯´å‘ç”Ÿäº†å¦‚ä¸‹å˜åŒ–ï¼š</p><ol><li class="lvl-5">å½»åº•åˆ é™¤æ°¸ä¹…ä»£ï¼ˆä¸ºäº†é¿å…OOMé”™è¯¯çš„å‘ç”Ÿï¼‰</li><li class="lvl-5">å°†æ–¹æ³•åŒºçš„å®ç°è½¬ç§»åˆ°æœ¬åœ°å†…å­˜</li><li class="lvl-5">å°†ç¬¦å·å¼•ç”¨é‡æ–°æ”¾å›è¿è¡Œæ—¶å¸¸é‡æ± </li></ol></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240204143934-bo7qciw.png" alt="image">â€‹</p><h2 id="9-å•ä¾‹æ¨¡å¼">9. å•ä¾‹æ¨¡å¼</h2><p><strong>è®¾è®¡æ¨¡å¼æ¦‚è¿°</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">è®¾è®¡æ¨¡å¼ï¼ˆDesign Patternï¼‰æ˜¯ä¸€å¥—è¢«å¹¿æ³›æ¥å—çš„ã€ç»è¿‡è¯•éªŒéªŒè¯çš„ã€å¯åå¤ä½¿ç”¨çš„åŸºäºé¢å‘å¯¹è±¡çš„è½¯ä»¶è®¾è®¡ç»éªŒæ€»ç»“ï¼Œå®ƒæ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œå¯¹å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„æ€»ç»“å’ŒæŠ½è±¡ã€‚è®¾è®¡æ¨¡å¼æ˜¯é’ˆå¯¹è½¯ä»¶å¼€å‘ä¸­å¸¸è§é—®é¢˜å’Œæ¨¡å¼çš„é€šç”¨è§£å†³æ–¹æ¡ˆ</li></ul></li><li class="lvl-2"><p>è®¾è®¡æ¨¡å¼æœ‰å“ªäº›ï¼Ÿ</p><ol><li class="lvl-5">GoFè®¾è®¡æ¨¡å¼ï¼šã€ŠDesign Patterns: Elements of Reusable Object-Oriented Softwareã€‹ï¼ˆå³åè¿°ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ï¼‰ï¼Œç”± Erich Gammaã€Richard Helmã€Ralph Johnson å’Œ John Vlissides åˆè‘—ï¼ˆAddison-Wesleyï¼Œ1995ï¼‰ã€‚è¿™å‡ ä½ä½œè€…å¸¸è¢«ç§°ä¸ºå››äººç»„ï¼ˆGang of Fourï¼‰ã€‚</li><li class="lvl-5">æ¶æ„è®¾è®¡æ¨¡å¼ï¼ˆArchitectural Patternï¼‰ï¼šä¸»è¦ç”¨äºè½¯ä»¶ç³»ç»Ÿçš„æ•´ä½“æ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬å¤šå±‚æ¶æ„ã€MVCæ¶æ„ã€å¾®æœåŠ¡æ¶æ„ã€RESTæ¶æ„å’Œå¤§æ•°æ®æ¶æ„ç­‰ã€‚</li><li class="lvl-5">ä¼ä¸šçº§è®¾è®¡æ¨¡å¼ï¼ˆEnterprise Patternï¼‰ï¼šä¸»è¦ç”¨äºä¼ä¸šçº§åº”ç”¨ç¨‹åºè®¾è®¡ï¼ŒåŒ…æ‹¬åŸºäºæœåŠ¡çš„æ¶æ„ï¼ˆSOAï¼‰ã€ä¼ä¸šé›†æˆæ¨¡å¼ï¼ˆEIPï¼‰ã€ä¸šåŠ¡æµç¨‹å»ºæ¨¡ï¼ˆBPMï¼‰å’Œä¼ä¸šè§„åˆ™å¼•æ“ï¼ˆBREï¼‰ç­‰ã€‚</li><li class="lvl-5">é¢†åŸŸé©±åŠ¨è®¾è®¡æ¨¡å¼ï¼ˆDomain Driven Design Patternï¼‰ï¼šä¸»è¦ç”¨äºé¢†åŸŸå»ºæ¨¡å’Œå¼€å‘ï¼ŒåŒ…æ‹¬èšåˆã€å®ä½“ã€å€¼å¯¹è±¡ã€é¢†åŸŸäº‹ä»¶å’Œé¢†åŸŸæœåŠ¡ç­‰ã€‚</li><li class="lvl-5">å¹¶å‘è®¾è®¡æ¨¡å¼ï¼ˆConcurrency Patternï¼‰ï¼šä¸»è¦ç”¨äºå¤„ç†å¹¶å‘æ€§é—®é¢˜ï¼ŒåŒ…æ‹¬äº’æ–¥ã€çº¿ç¨‹æ± ã€ç®¡é“ã€å¤šçº¿ç¨‹ç®—æ³•å’ŒActoræ¨¡å‹ç­‰ã€‚</li><li class="lvl-5">æ•°æ®è®¿é—®æ¨¡å¼ï¼ˆData Access Patternï¼‰ï¼šä¸»è¦ç”¨äºå¤„ç†æ•°æ®è®¿é—®å±‚æ¬¡ç»“æ„ï¼ŒåŒ…æ‹¬æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰ã€ä»“åº“æ¨¡å¼å’Œæ´»åŠ¨è®°å½•æ¨¡å¼ç­‰ã€‚</li></ol></li><li class="lvl-2"><p>GoFè®¾è®¡æ¨¡å¼çš„åˆ†ç±»ï¼Ÿ</p><ol><li class="lvl-5">åˆ›å»ºå‹ï¼šä¸»è¦è§£å†³å¯¹è±¡çš„åˆ›å»ºé—®é¢˜</li><li class="lvl-5">ç»“æ„å‹ï¼šé€šè¿‡è®¾è®¡å’Œæ„å»ºå¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œä»¥è¾¾åˆ°æ›´å¥½çš„é‡ç”¨æ€§ã€æ‰©å±•æ€§å’Œçµæ´»æ€§</li><li class="lvl-5">è¡Œä¸ºå‹ï¼šä¸»è¦ç”¨äºå¤„ç†å¯¹è±¡ä¹‹é—´çš„ç®—æ³•å’Œè´£ä»»åˆ†é…</li></ol></li></ul><p><strong>å•ä¾‹æ¨¡å¼ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>é¥¿æ±‰å¼ï¼šç±»åŠ è½½æ—¶å¯¹è±¡å°±åˆ›å»ºå¥½äº†ã€‚ä¸ç®¡è¿™ä¸ªå¯¹è±¡ç”¨è¿˜æ˜¯ä¸ç”¨ã€‚æå‰å…ˆæŠŠå¯¹è±¡åˆ›å»ºå¥½</p><ul class="lvl-2"><li class="lvl-4"><p>å®ç°æ­¥éª¤ï¼š</p><ul class="lvl-4"><li class="lvl-6"><p>ç¬¬ä¸€æ­¥ï¼šæ„é€ æ–¹æ³•ç§æœ‰åŒ–</p></li><li class="lvl-6"><p>ç¬¬äºŒæ­¥ï¼šå¯¹å¤–æä¾›ä¸€ä¸ªå…¬å¼€çš„é™æ€çš„æ–¹æ³• ï¼Œç”¨è¿™ä¸ªæ–¹æ³•è·å–å•ä¸ªå®ä¾‹</p></li><li class="lvl-6"><p>ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰ä¸€ä¸ªé™æ€å˜é‡ ï¼Œåœ¨ç±»åŠ è½½çš„æ—¶å€™ ï¼Œåˆå§‹åŒ–é™æ€å˜é‡(åªåˆå§‹åŒ–ä¸€æ¬¡)</p></li><li class="lvl-6"><p>ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li class="lvl-2"><p>æ‡’æ±‰å¼ï¼šç”¨åˆ°è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™å†åˆ›å»ºå¯¹è±¡ ï¼Œåˆ«åœ¨ç±»åŠ è½½çš„æ—¶å€™åˆ›å»ºå¯¹è±¡</p><ul class="lvl-2"><li class="lvl-4"><p>å®ç°æ­¥éª¤ï¼š</p><ul class="lvl-4"><li class="lvl-6"><p>ç¬¬ä¸€æ­¥ï¼šæ„é€ æ–¹æ³•ç§æœ‰åŒ–</p></li><li class="lvl-6"><p>ç¬¬äºŒæ­¥ï¼šå¯¹å¤–æä¾›ä¸€ä¸ªé™æ€æ–¹æ³• ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥è·å–åˆ° Singleton å¯¹è±¡</p></li><li class="lvl-6"><p>ç¬¬ä¸‰æ­¥ï¼šæä¾›ä¸€ä¸ªé™æ€å˜é‡ ï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡å€¼ä¸º null</p></li><li class="lvl-6"><p>ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="literal">null</span>) &#123;</span><br><span class="line">            s = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">            System.out.println(<span class="string">&quot;å¯¹è±¡åˆ›å»ºäº†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="10-ç»§æ‰¿">10. ç»§æ‰¿</h2><p><strong>ç»§æ‰¿çš„ç®€å•ä»‹ç»ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼šç»§æ‰¿</p></li><li class="lvl-2"><p>javaåªæ”¯æŒå•ç»§æ‰¿ ï¼Œä¸€ä¸ªç±»åªèƒ½ç›´æ¥ç»§æ‰¿ä¸€ä¸ªç±»</p></li><li class="lvl-2"><p>javaä¸æ”¯æŒå¤šç»§æ‰¿ ï¼Œä½†æ”¯æŒå¤šé‡ç»§æ‰¿(å¤šå±‚ç»§æ‰¿)</p></li><li class="lvl-2"><p>å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œé™¤ç§æœ‰çš„ä¸æ”¯æŒç»§æ‰¿ ï¼Œæ„é€ æ–¹æ³•ä¸æ”¯æŒç»§æ‰¿ , å…¶ä»–çš„å…¨éƒ¨ä¼šç»§æ‰¿</p></li><li class="lvl-2"><p>ä¸€ä¸ªç±»æ²¡æœ‰æ˜¾ç¤ºç»§æ‰¿ä»»ä½•ç±»æ—¶ ï¼Œé»˜è®¤ç»§æ‰¿<mark>java.lang.Object</mark>â€‹</p></li></ul><p><strong>ç»§æ‰¿çš„ä½œç”¨</strong></p><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬ä½œç”¨ï¼šä»£ç å¤ç”¨</p></li><li class="lvl-2"><p>é‡è¦ä½œç”¨ï¼šæœ‰äº†ç»§æ‰¿ ï¼Œæ‰æœ‰äº†æ–¹æ³•è¦†ç›–(æ–¹æ³•é‡å†™)å’Œå¤šæ€æœºåˆ¶</p></li></ul><p><strong>ç»§æ‰¿åœ¨javaä¸­å¦‚ä½•å®ç°</strong></p><ul class="lvl-0"><li class="lvl-2"><p>[ä¿®é¥°ç¬¦åˆ—è¡¨] class ç±»å extends çˆ¶ç±»å() { }</p></li><li class="lvl-2"><p>extends ç¿»è¯‘ä¸ºæ‰©å±• ï¼Œè¡¨ç¤ºå­ç±»ç»§æ‰¿çˆ¶ç±»å ï¼Œå­ç±»æ˜¯å¯¹çˆ¶ç±»çš„æ‰©å±•</p></li></ul><p><strong>ç»§æ‰¿ç›¸å…³çš„æœ¯è¯­ï¼šå½“Bç±»ç»§æ‰¿Aç±»æ—¶</strong></p><ul class="lvl-0"><li class="lvl-2"><p>Aç±»ç§°ä¸ºï¼šçˆ¶ç±» ï¼Œè¶…ç±» ï¼ŒåŸºç±» ï¼Œ superclass</p></li><li class="lvl-2"><p>Bç±»ç§°ä¸ºï¼šå­ç±» ï¼Œæ´¾ç”Ÿç±» ï¼Œsubclass</p></li></ul><h2 id="11-æ–¹æ³•è¦†ç›–">11. æ–¹æ³•è¦†ç›–</h2><p><strong>å›é¡¾æ–¹æ³•é‡è½½ overload</strong></p><ol><li class="lvl-3"><p>ä»€ä¹ˆæ—¶å€™è€ƒè™‘ä½¿ç”¨æ–¹æ³•é‡è½½</p><ul class="lvl-2"><li class="lvl-6">åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¦‚æœåŠŸèƒ½ç›¸ä¼¼ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ–¹æ³•é‡è½½ã€‚</li><li class="lvl-6">è¿™æ ·åšçš„ç›®çš„æ˜¯ï¼šä»£ç ç¾è§‚ï¼Œæ–¹ä¾¿ç¼–ç¨‹ã€‚</li></ul></li><li class="lvl-3"><p>å½“æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™æ„æˆæ–¹æ³•é‡è½½</p><ul class="lvl-2"><li class="lvl-6">æ¡ä»¶1ï¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚</li><li class="lvl-6">æ¡ä»¶2ï¼šç›¸åŒçš„æ–¹æ³•åã€‚</li><li class="lvl-6">æ¡ä»¶3ï¼šä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼šç±»å‹ï¼Œä¸ªæ•°ï¼Œé¡ºåº</li></ul></li><li class="lvl-3"><p>æ–¹æ³•é‡è½½æœºåˆ¶å±äºç¼–è¯‘é˜¶æ®µçš„åŠŸèƒ½</p><ul class="lvl-2"><li class="lvl-6">æ–¹æ³•é‡è½½æœºåˆ¶æ˜¯ç»™ç¼–è¯‘å™¨çœ‹çš„ã€‚</li></ul></li></ol><p><strong>æ–¹æ³•è¦†ç›–/override/æ–¹æ³•é‡å†™/overwrite</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä»€ä¹ˆæ—¶å€™è€ƒè™‘ä½¿ç”¨æ–¹æ³•é‡å†™ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å½“ä»çˆ¶ç±»ä¸­ç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•ï¼Œæ— æ³•æ»¡è¶³å­ç±»çš„ä¸šåŠ¡éœ€æ±‚æ—¶ã€‚</li></ul></li><li class="lvl-2"><p>å½“æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™ ï¼Œæ„æˆæ–¹æ³•é‡å†™ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">æ¡ä»¶1ï¼šæ–¹æ³•è¦†ç›–å‘ç”Ÿåœ¨å…·æœ‰ç»§æ‰¿å…³ç³»çš„çˆ¶å­ç±»ä¹‹é—´ã€‚</li><li class="lvl-4">æ¡ä»¶2ï¼šå…·æœ‰ç›¸åŒçš„æ–¹æ³•åï¼ˆå¿…é¡»ä¸¥æ ¼ä¸€æ ·ï¼‰</li><li class="lvl-4">æ¡ä»¶3ï¼šå…·æœ‰ç›¸åŒçš„å½¢å‚åˆ—è¡¨ï¼ˆå¿…é¡»ä¸¥æ ¼ä¸€æ ·ï¼‰</li><li class="lvl-4">æ¡ä»¶4ï¼šå…·æœ‰ç›¸åŒçš„è¿”å›å€¼ç±»å‹ï¼ˆå¯ä»¥æ˜¯å­ç±»å‹ï¼‰</li></ul></li><li class="lvl-2"><p>å…³äºæ–¹æ³•è¦†ç›–çš„ç»†èŠ‚</p><ul class="lvl-2"><li class="lvl-4"><p>å½“å­ç±»å°†çˆ¶ç±»æ–¹æ³•è¦†ç›–ä¹‹åï¼Œå°†æ¥å­ç±»å¯¹è±¡è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œä¸€å®šä¼šæ‰§è¡Œé‡å†™ä¹‹åçš„æ–¹æ³•ã€‚</p></li><li class="lvl-4"><p>åœ¨javaè¯­è¨€ä¸­ï¼Œæœ‰ä¸€ä¸ªæ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µæ£€æŸ¥è¿™ä¸ªæ–¹æ³•æ˜¯å¦æ˜¯é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ã€‚</p><ul class="lvl-4"><li class="lvl-6">@Overrideæ³¨è§£æ˜¯JDK5å¼•å…¥ï¼Œç”¨æ¥æ ‡æ³¨æ–¹æ³•ï¼Œè¢«æ ‡æ³¨çš„æ–¹æ³•å¿…é¡»æ˜¯é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¦‚æœä¸æ˜¯é‡å†™çš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</li><li class="lvl-6">@Overrideæ³¨è§£åªåœ¨ç¼–è¯‘é˜¶æ®µæœ‰ç”¨ï¼Œå’Œè¿è¡ŒæœŸæ— å…³ã€‚</li></ul></li><li class="lvl-4"><p>å¦‚æœè¿”å›å€¼ç±»å‹æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿”å›å€¼ç±»å‹å¯ä»¥æ˜¯åŸç±»å‹çš„å­ç±»å‹</p></li><li class="lvl-4"><p>è®¿é—®æƒé™ä¸èƒ½å˜ä½ï¼Œå¯ä»¥å˜é«˜ã€‚</p></li><li class="lvl-4"><p>æŠ›å‡ºå¼‚å¸¸ä¸èƒ½å˜å¤šï¼Œå¯ä»¥å˜å°‘ã€‚ï¼ˆåé¢å­¦ä¹ å¼‚å¸¸çš„æ—¶å€™å†è¯´ã€‚ï¼‰</p></li><li class="lvl-4"><p>ç§æœ‰çš„æ–¹æ³•ï¼Œä»¥åŠæ„é€ æ–¹æ³•ä¸èƒ½ç»§æ‰¿ï¼Œå› æ­¤ä»–ä»¬ä¸å­˜åœ¨æ–¹æ³•è¦†ç›–ã€‚</p></li><li class="lvl-4"><p>æ–¹æ³•è¦†ç›–é’ˆå¯¹çš„æ˜¯å®ä¾‹æ–¹æ³•ã€‚å’Œé™æ€æ–¹æ³•æ— å…³ã€‚ï¼ˆè®²å®Œå¤šæ€å†è¯´ã€‚ï¼‰</p></li><li class="lvl-4"><p>æ–¹æ³•è¦†ç›–é’ˆå¯¹çš„æ˜¯å®ä¾‹æ–¹æ³•ã€‚å’Œå®ä¾‹å˜é‡æ²¡æœ‰å…³ç³»ã€‚</p></li></ul></li><li class="lvl-2"><p>ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Bird</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Birdå¯¹ç»§æ‰¿è¿‡æ¥çš„move()æ–¹æ³•ä¸æ»¡æ„ã€‚</span></span><br><span class="line"><span class="comment">     * Birdç±»æœ‰æƒåˆ©å°†move()æ–¹æ³•è¿›è¡Œé‡å†™/è¦†ç›–ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é¸Ÿå„¿åœ¨é£ç¿”ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getObj</span><span class="params">(<span class="type">long</span> a, String b)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h2 id="12-å¤šæ€">12. å¤šæ€</h2><p><strong>å…³äºåŸºæœ¬æ•°æ®ç±»å‹ä¹‹é—´çš„ç±»å‹è½¬æ¢</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ç¬¬ä¸€ç§ï¼šå°å®¹é‡è½¬æ¢æˆå¤§å®¹é‡ï¼Œå«åšè‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚</p><ul class="lvl-2"><li class="lvl-4"><p>å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">x</span> <span class="operator">=</span> i;</span><br></pre></td></tr></table></figure></li></ul></li><li class="lvl-2"><p>ç¬¬äºŒç§ï¼šå¤§å®¹é‡è½¬æ¢æˆå°å®¹é‡ï¼Œä¸èƒ½è‡ªåŠ¨è½¬æ¢ï¼Œå¿…é¡»æ·»åŠ å¼ºåˆ¶ç±»å‹è½¬æ¢ç¬¦æ‰è¡Œã€‚å«åšå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> (<span class="type">int</span>)x;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>é™¤äº†åŸºæœ¬æ•°æ®ç±»å‹ä¹‹é—´çš„ç±»å‹è½¬æ¢ä¹‹å¤–ï¼Œå¯¹äºå¼•ç”¨æ•°æ®ç±»å‹æ¥è¯´ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œç±»å‹è½¬æ¢ã€‚</p><p>åªä¸è¿‡ä¸å«åšè‡ªåŠ¨ç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚æˆ‘ä»¬ä¸€èˆ¬ç§°ä¸ºå‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ã€‚</p></blockquote><p><strong>å…³äºJavaè¯­è¨€ä¸­çš„å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å‘ä¸Šè½¬å‹(upcasting)ï¼šå­ â€”&gt; çˆ¶ ï¼ˆå¯ä»¥ç­‰åŒçœ‹åšè‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚ï¼‰</p></li><li class="lvl-2"><p>å‘ä¸‹è½¬å‹(downcasting)ï¼šçˆ¶ â€”&gt; å­ ï¼ˆå¯ä»¥ç­‰åŒçœ‹åšå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ï¼‰</p></li><li class="lvl-2"><p>æ³¨æ„ï¼š<code>ä¸ç®¡æ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹è½¬å‹ï¼Œä¸¤ç§ç±»å‹ä¹‹é—´å¿…é¡»è¦æœ‰ç»§æ‰¿å…³ç³»ï¼Œç¼–è¯‘å™¨æ‰èƒ½ç¼–è¯‘é€šè¿‡ã€‚è¿™æ˜¯æœ€åŸºæœ¬çš„å¤§å‰æã€‚</code></p></li></ul><p><strong>å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å¤šæ€çš„å‘ä¸Šè½¬å‹ ï¼š ç¼–è¯‘çœ‹å·¦è¾¹ ï¼Œè¿è¡Œçœ‹å³è¾¹</p></li><li class="lvl-2"><p>å…¶ä¸­åœ¨å¤šæ€çš„å‘ä¸Šè½¬å‹ä¸­ä½¿ç”¨å¯¹è±¡å»è°ƒç”¨æ–¹æ³•æ—¶åªèƒ½è°ƒç”¨å­ç±»ä»çˆ¶ç±»é‚£é‡Œç»§æ‰¿çš„æ–¹æ³•æˆ–è€…æ—¶é‡å†™çš„æ–¹æ³• ï¼Œè€Œä¸èƒ½è°ƒç”¨å­ç±»è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨è¿™ä¸ªç¨‹åºä¸­ ï¼Œæ‰€åˆ›å»ºçš„å¯¹è±¡å¯ä»¥å»è°ƒç”¨ä»çˆ¶ç±»é‚£é‡Œç»§æ‰¿ä¸‹æ¥çš„æ–¹æ³•ï¼Œè€Œä¸èƒ½è°ƒç”¨scratch()æ–¹æ³•ã€‚é™¤éä½¿ç”¨å‘ä¸‹è½¬å‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="comment">// å†™ä¸€ä¸‹Catè‡ªå·±çš„è¡Œä¸º</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«åœ¨çˆ¬æ ‘&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«åœ¨åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">scratch</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«æŠ“è€é¼ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>å‘ä¸‹è½¬å‹çš„ä½¿ç”¨å‰ææ˜¯è¦å…ˆå­˜åœ¨å‘ä¸Šè½¬å‹ ï¼Œåˆ©ç”¨å¼ºè½¬ä½¿å‘ä¸Šè½¬æ¢æ—¶ç©¿ä»¶çš„å¯¹è±¡è¿›é¡¹åˆ›å»ºæ–°çš„å¯¹è±¡æ¥è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        cat.run();</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// å‘ä¸Šè½¬å‹</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">tom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        tom.eat();</span><br><span class="line">        tom.move();</span><br><span class="line">        tom.run();</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// å¤šæ€ â€”â€” å‘ä¸‹è½¬å‹</span></span><br><span class="line">        <span class="type">Cat</span> <span class="variable">jerry</span> <span class="operator">=</span> (Cat) tom;</span><br><span class="line">        jerry.scratch();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>å‘ä¸Šè½¬å‹(upcasting)ï¼š</strong></p><ol><li class="lvl-3"><p>å­ --&gt; çˆ¶</p></li><li class="lvl-4"><p>ä¹Ÿå¯ä»¥ç­‰åŒçœ‹åšè‡ªåŠ¨ç±»å‹è½¬æ¢</p></li><li class="lvl-4"><p>å‰æï¼šä¸¤ç§ç±»å‹ä¹‹é—´è¦æœ‰ç»§æ‰¿å…³ç³»</p></li><li class="lvl-4"><p>çˆ¶ç±»å‹å¼•ç”¨æŒ‡å‘å­ç±»å‹å¯¹è±¡ã€‚è¿™ä¸ªå°±æ˜¯å¤šæ€æœºåˆ¶æœ€æ ¸å¿ƒçš„è¯­æ³•ã€‚</p></li></ol><p><strong>javaç¨‹åºåŒ…æ‹¬ä¸¤ä¸ªé‡è¦çš„é˜¶æ®µï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ç¬¬ä¸€é˜¶æ®µï¼šç¼–è¯‘é˜¶æ®µ</p><ul class="lvl-2"><li class="lvl-4">åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨åªçŸ¥é“a2çš„ç±»å‹æ˜¯Animalç±»å‹ã€‚å› æ­¤åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šå»Animalç±»ä¸­æ‰¾move()æ–¹æ³•ã€‚æ‰¾åˆ°ä¹‹åï¼Œç»‘å®šä¸Šå»ï¼Œæ­¤æ—¶å‘ç”Ÿé™æ€ç»‘å®šã€‚èƒ½å¤Ÿç»‘å®šæˆåŠŸï¼Œè¡¨ç¤ºç¼–è¯‘é€šè¿‡ã€‚</li></ul></li><li class="lvl-2"><p>ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œé˜¶æ®µ</p><ul class="lvl-2"><li class="lvl-4">åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå †å†…å­˜ä¸­çœŸå®çš„javaå¯¹è±¡æ˜¯Catç±»å‹ã€‚æ‰€ä»¥move()çš„è¡Œä¸ºä¸€å®šæ˜¯Catå¯¹è±¡å‘ç”Ÿçš„ã€‚å› æ­¤è¿è¡Œçš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è°ƒç”¨Catå¯¹è±¡çš„move()æ–¹æ³•ã€‚è¿™ç§ç»‘å®šç§°ä¸ºè¿è¡ŒæœŸç»‘å®š/åŠ¨æ€ç»‘å®šã€‚</li></ul></li></ul><blockquote><p>å› ä¸ºç¼–è¯‘é˜¶æ®µæ˜¯ä¸€ç§å½¢æ€ï¼Œè¿è¡Œçš„æ—¶å€™æ˜¯å¦ä¸€ç§å½¢æ€ã€‚å› æ­¤å¾—åï¼šå¤šæ€ã€‚</p></blockquote><p>â€</p><p><strong>instanceof è¿ç®—ç¬¦çš„è¯­æ³•è§„åˆ™ï¼š</strong></p><ol><li class="lvl-3"><p>instanceofè¿ç®—ç¬¦çš„ç»“æœä¸€å®šæ˜¯ï¼štrue/false</p></li><li class="lvl-3"><p>è¯­æ³•æ ¼å¼ï¼š<mark>(å¼•ç”¨ instanceof ç±»å‹)</mark></p></li><li class="lvl-3"><p>ä¾‹å¦‚ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(a <span class="keyword">instanceof</span> Cat)</span><br><span class="line"><span class="literal">true</span>è¡¨ç¤ºä»€ä¹ˆï¼Ÿ</span><br><span class="line">aå¼•ç”¨æŒ‡å‘çš„å¯¹è±¡æ˜¯Catç±»å‹ã€‚</span><br><span class="line"><span class="literal">false</span>è¡¨ç¤ºä»€ä¹ˆï¼Ÿ</span><br><span class="line">aå¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ä¸æ˜¯Catç±»å‹ã€‚</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æ³¨æ„ï¼š<mark>åšå‘ä¸‹è½¬å‹ä¹‹å‰ï¼Œä¸ºäº†é¿å…ClassCastExceptionçš„å‘ç”Ÿï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨instanceofè¿›è¡Œåˆ¤</mark></p></li></ol><p><strong>è½¯ä»¶å¼€å‘ä¸ƒå¤§åŸåˆ™</strong></p><ul class="lvl-0"><li class="lvl-2"><p>è½¯ä»¶å¼€å‘åŸåˆ™æ—¨åœ¨å¼•å¯¼è½¯ä»¶è¡Œä¸šçš„ä»ä¸šè€…åœ¨ä»£ç è®¾è®¡å’Œå¼€å‘è¿‡ç¨‹ä¸­ï¼Œéµå¾ªä¸€äº›åŸºæœ¬åŸåˆ™ï¼Œä»¥è¾¾åˆ°é«˜è´¨é‡ã€æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•ã€å®‰å…¨æ€§å¼ºç­‰ç›®æ ‡ã€‚è½¯ä»¶å¼€å‘åŸåˆ™ä¸å…·ä½“çš„ç¼–ç¨‹è¯­è¨€æ— å…³çš„ï¼Œå±äºè½¯ä»¶è®¾è®¡æ–¹é¢çš„çŸ¥è¯†ã€‚</p></li><li class="lvl-2"><p>è½¯ä»¶å¼€å‘ä¸ƒå¤§åŸåˆ™ï¼Ÿ</p><ol><li class="lvl-5"><mark>å¼€é—­åŸåˆ™ (Open-Closed Principleï¼ŒOCP)ï¼šä¸€ä¸ªè½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å³åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æ·»åŠ æ–°çš„ä»£ç æ¥æ‰©å±•åŠŸèƒ½ã€‚ï¼ˆæœ€åŸºæœ¬çš„åŸåˆ™ï¼Œå…¶å®ƒåŸåˆ™éƒ½æ˜¯ä¸ºè¿™ä¸ªåŸåˆ™æœåŠ¡çš„ã€‚ï¼‰</mark></li><li class="lvl-5">å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç±»åªè´Ÿè´£å•ä¸€çš„èŒè´£ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚</li><li class="lvl-5">é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šå­ç±»å¯¹è±¡å¯ä»¥æ›¿æ¢å…¶åŸºç±»å¯¹è±¡å‡ºç°çš„ä»»ä½•åœ°æ–¹ï¼Œå¹¶ä¸”ä¿è¯åŸæœ‰ç¨‹åºçš„æ­£ç¡®æ€§ã€‚</li><li class="lvl-5">æ¥å£éš”ç¦»åŸåˆ™ï¼šå®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚</li><li class="lvl-5">ä¾èµ–å€’ç½®åŸåˆ™ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–åº•å±‚æ¨¡å—ï¼Œå®ƒä»¬éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡æ¥å£ã€‚æ¢è¨€ä¹‹ï¼Œé¢å‘æ¥å£ç¼–ç¨‹ã€‚</li><li class="lvl-5">è¿ªç±³ç‰¹æ³•åˆ™ï¼šä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶å®ƒå¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£ã€‚å³ä¸€ä¸ªç±»åº”è¯¥å¯¹è‡ªå·±éœ€è¦è€¦åˆæˆ–è°ƒç”¨çš„ç±»çŸ¥é“å¾—æœ€å°‘ã€‚</li><li class="lvl-5">åˆæˆå¤ç”¨åŸåˆ™ï¼šå°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆå’Œèšåˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„ã€‚ç»„åˆå’Œèšåˆå¯ä»¥åœ¨è·å–å¤–éƒ¨å¯¹è±¡çš„æ–¹æ³•ä¸­è¢«è°ƒç”¨ï¼Œæ˜¯ä¸€ç§è¿è¡Œæ—¶å…³è”ï¼Œè€Œç»§æ‰¿åˆ™æ˜¯ä¸€ç§ç¼–è¯‘æ—¶å…³è”ã€‚</li></ol></li></ul><p><strong>å¤šæ€åœ¨å¼€å‘ä¸­çš„ä½œç”¨</strong></p><ul class="lvl-0"><li class="lvl-2"><p>é™ä½ç¨‹åºçš„è€¦åˆåº¦ ï¼Œæé«˜ç¨‹åºçš„æ‰©å±•èƒ½åŠ›</p></li><li class="lvl-2"><p>å°½é‡ä½¿ç”¨å¤šæ€ ï¼Œé¢å‘æŠ½è±¡ç¼–ç¨‹ ï¼Œä¸è¦é¢å‘å…·ä½“ç¼–ç¨‹</p></li><li class="lvl-2"><p>ä»£ç æ¼”ç¤ºï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>åº”ç”¨ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> North</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2024/2/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Master</span> <span class="variable">lisi</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Master</span>();</span><br><span class="line">        lisi.feed(<span class="keyword">new</span> <span class="title class_">Cat</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>å® ç‰©ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> North</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2024/2/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>çŒ«ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> North</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2024/2/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Pet</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«åƒé±¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>ç‹—ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> North</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2024/2/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Pet</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‹—å•ƒéª¨å¤´&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>ä¸»äººç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> North</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2024/2/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Master</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">feed</span><span class="params">(Pet pet)</span> &#123;</span><br><span class="line">        pet.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><p>â€</p><h2 id="13-superå…³é”®å­—">13. superå…³é”®å­—</h2><p><strong>superå…³é”®å­—ä»‹ç»</strong></p><ul class="lvl-0"><li class="lvl-2"><p>thisä»£è¡¨çš„æ˜¯å½“å‰å¯¹è±¡ ï¼Œsuperä»£è¡¨çš„æ˜¯å½“å‰å¯¹è±¡ä¸­çš„çˆ¶ç±»å‹ç‰¹å¾</p></li><li class="lvl-2"><p>super ä¸èƒ½ä½¿ç”¨åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­ ï¼ŒåŒæ—¶thisä¹Ÿæ˜¯</p></li><li class="lvl-2"><p>superå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯å¯ä»¥çœç•¥çš„ï¼Œ==å…¶ä¸­ä¸èƒ½çœç•¥çš„æƒ…å†µä¸ºï¼š==â€‹</p><ul class="lvl-2"><li class="lvl-4">å½“çˆ¶ç±»å’Œå­ç±»ä¸­å®šä¹‰äº†ç›¸åŒçš„å±æ€§ï¼ˆå®ä¾‹å˜é‡ï¼‰æˆ–è€…ç›¸åŒæ–¹æ³•ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰æ—¶ï¼Œå¦‚æœéœ€è¦åœ¨å­ç±»ä¸­è®¿é—®çˆ¶ç±»çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œsuper.ä¸èƒ½çœç•¥ã€‚</li></ul></li><li class="lvl-2"><p>thiså¯ä»¥å•ç‹¬è¾“å‡ºï¼Œsuperä¸èƒ½å•ç‹¬è¾“å‡ºã€‚</p></li><li class="lvl-2"><p>super(å®å‚); é€šè¿‡å­ç±»çš„æ„é€ æ–¹æ³•è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œ==ç›®çš„æ˜¯ä¸ºäº†å®Œæˆçˆ¶ç±»å‹ç‰¹å¾çš„åˆå§‹åŒ–ã€‚==â€‹</p></li><li class="lvl-2"><p>å½“ä¸€ä¸ªæ„é€ æ–¹æ³•ç¬¬ä¸€è¡Œæ²¡æœ‰æ˜¾ç¤ºçš„è°ƒç”¨â€œsuper(å®å‚);â€ï¼Œä¹Ÿæ²¡æœ‰æ˜¾ç¤ºçš„è°ƒç”¨â€œthis(å®å‚)â€ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨super()ã€‚å› æ­¤ä¸€ä¸ªç±»ä¸­çš„æ— å‚æ•°æ„é€ æ–¹æ³•å»ºè®®æ˜¾ç¤ºçš„å®šä¹‰å‡ºæ¥ã€‚</p></li><li class="lvl-2"><p><code>super(å®å‚); è¿™ä¸ªè¯­æ³•åªèƒ½å‡ºç°åœ¨æ„é€ æ–¹æ³•ç¬¬ä¸€è¡Œã€‚</code>â€‹</p></li><li class="lvl-2"><p>åœ¨Javaè¯­è¨€ä¸­åªè¦newå¯¹è±¡ï¼ŒObjectçš„æ— å‚æ•°æ„é€ æ–¹æ³•ä¸€å®šä¼šæ‰§è¡Œã€‚</p></li></ul><p>éƒ¨åˆ†ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// é‡å†™çš„è¦æ±‚ï¼šè¦æ±‚åœ¨çˆ¶ç±»æ–¹æ³•çš„æ‰§è¡ŒåŸºç¡€ä¹‹ä¸Šé¢å¤–å†æ·»åŠ ä¸€äº›ä»£ç ã€‚</span></span><br><span class="line">System.out.println(<span class="string">&quot;do someå¼€å§‹æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line"><span class="comment">// super. ä»€ä¹ˆæ—¶å€™ä¸èƒ½çœç•¥ï¼Ÿçˆ¶ä¸­æœ‰ï¼Œå­ä¸­æœ‰ç›¸åŒçš„ï¼Œä½†æ˜¯æƒ³åœ¨å­ç±»ä¸­è®¿é—®çˆ¶çš„ï¼Œå¿…é¡»æ·»åŠ  super.</span></span><br><span class="line"><span class="built_in">super</span>.doSome();</span><br><span class="line">System.out.println(<span class="string">&quot;do someæ–¹æ³•æ‰§è¡Œç»“æŸäº†&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// thisæœ¬èº«æ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚æ‰€ä»¥å¯ä»¥ç›´æ¥è¾“å‡ºã€‚</span></span><br><span class="line">System.out.println(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">// superæœ¬èº«ä¸æ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚superåªæ˜¯ä»£è¡¨äº†å½“å‰å¯¹è±¡çš„çˆ¶ç±»å‹ç‰¹å¾é‚£éƒ¨åˆ†ã€‚</span></span><br><span class="line"><span class="comment">// super ä¸èƒ½å¤Ÿå•ç‹¬çš„è¾“å‡ºã€‚</span></span><br><span class="line"><span class="comment">//System.out.println(super); // ç¼–è¯‘æŠ¥é”™ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="14-finalå…³é”®å­—">14. finalå…³é”®å­—</h2><p><strong>finalå…³é”®å­—ä»‹ç»</strong></p><ul class="lvl-0"><li class="lvl-2"><p>finalè¡¨ç¤ºæœ€ç»ˆçš„ï¼Œä¸å¯å˜çš„ã€‚</p></li><li class="lvl-2"><p>finalä¿®é¥°çš„ç±»æ— æ³•è¢«ç»§æ‰¿ã€‚</p></li><li class="lvl-2"><p>finalä¿®é¥°çš„å˜é‡ä¸€æ—¦èµ‹å€¼ï¼Œä¸èƒ½é‡æ–°èµ‹å€¼ã€‚</p></li><li class="lvl-2"><p>finalä¿®é¥°çš„æ–¹æ³•æ— æ³•è¦†ç›–ã€‚</p></li><li class="lvl-2"><p>finalä¿®é¥°çš„å®ä¾‹å˜é‡ã€‚å¿…é¡»åœ¨æ„é€ æ–¹æ³•æ‰§è¡Œå®Œä¹‹å‰æ‰‹åŠ¨èµ‹ä¸Šå€¼ã€‚ï¼ˆä¸å…è®¸é‡‡ç”¨ç³»ç»Ÿé»˜è®¤å€¼ï¼‰ ä¸€èˆ¬ä¸å­˜åœ¨è¿™ç§æƒ…å†µã€‚</p></li><li class="lvl-2"><p>finalä¿®é¥°çš„å®ä¾‹å˜é‡ä¸€èˆ¬å’Œstaticè”åˆä½¿ç”¨ï¼Œè¿™å°±æ˜¯è‘—åçš„ï¼šå¸¸é‡ã€‚</p></li><li class="lvl-2"><p>finalä¿®é¥°çš„å¼•ç”¨ï¼šä¸€æ—¦æŒ‡å‘äº†æŸä¸ªå¯¹è±¡ï¼Œåˆ™ä¸èƒ½å†æŒ‡å‘å…¶å®ƒå¯¹è±¡ã€‚ä½†æŒ‡å‘çš„å¯¹è±¡å†…éƒ¨çš„æ•°æ®æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚</p></li></ul><p><strong>å¸¸é‡çš„å‘½åï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">MATH_PAI</span> <span class="operator">=</span> <span class="number">3.1415926</span>;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>å¸¸é‡çš„å®šä¹‰ï¼š<mark>public static final æ•°æ®ç±»å‹ å¸¸é‡å = å¸¸é‡å€¼;</mark></p></li><li class="lvl-2"><p>å¸¸é‡åçš„å‘½åè§„èŒƒï¼šå…¨éƒ¨å•è¯å¤§å†™ï¼Œæ¯ä¸ªå•è¯é‡‡ç”¨â€œ_â€è¡”æ¥ã€‚</p></li></ul><h2 id="15-æŠ½è±¡ç±»">15. æŠ½è±¡ç±»</h2><p><strong>ä»€ä¹ˆæ—¶å€™è€ƒè™‘å°†ç±»å®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Ÿ</strong></p><ul class="lvl-0"><li class="lvl-2"><p><code>å¦‚æœç±»ä¸­æœ‰äº›æ–¹æ³•æ— æ³•å®ç°æˆ–è€…æ²¡æœ‰æ„ä¹‰ï¼Œå¯ä»¥å°†æ–¹æ³•å®šä¹‰ä¸ºæŠ½è±¡æ–¹æ³•ã€‚ç±»å®šä¹‰ä¸ºæŠ½è±¡ç±»ã€‚</code>â€‹è¿™æ ·åœ¨æŠ½è±¡ç±»ä¸­åªæä¾›å…¬å…±ä»£ç ï¼Œå…·ä½“çš„å®ç°å¼ºè¡Œäº¤ç»™å­ç±»å»åšã€‚</p></li><li class="lvl-2"><p>æ¯”å¦‚ä¸€ä¸ªPersonç±»æœ‰ä¸€ä¸ªé—®å€™çš„æ–¹æ³•greet()ï¼Œä½†æ˜¯ä¸åŒå›½å®¶çš„äººé—®å€™çš„æ–¹å¼ä¸åŒï¼Œå› æ­¤greet()æ–¹æ³•å…·ä½“å®ç°åº”è¯¥äº¤ç»™å­ç±»ã€‚å†æ¯”å¦‚ä¸»äººå–‚å…»å® ç‰©çš„ä¾‹å­ä¸­çš„å® ç‰©Petï¼ŒPetä¸­çš„eat()æ–¹æ³•çš„æ–¹æ³•ä½“å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p></li></ul><p><strong>æŠ½è±¡ç±»å¦‚ä½•å®šä¹‰ï¼Ÿ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> class ç±»å&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æŠ½è±¡ç±»æœ‰æ„é€ æ–¹æ³•ï¼Œä½†æ— æ³•å®ä¾‹åŒ–ã€‚æŠ½è±¡ç±»çš„æ„é€ æ–¹æ³•æ˜¯ç»™å­ç±»ä½¿ç”¨çš„ã€‚</p></blockquote><p><strong>æŠ½è±¡æ–¹æ³•å¦‚ä½•å®šä¹‰ï¼Ÿ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> æ–¹æ³•è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å‚);</span><br></pre></td></tr></table></figure><blockquote><p>æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†å¦‚æœæœ‰æŠ½è±¡æ–¹æ³•é‚£ä¹ˆç±»è¦æ±‚å¿…é¡»æ˜¯æŠ½è±¡ç±»ã€‚</p></blockquote><p>ä¸€ä¸ªéæŠ½è±¡çš„ç±»ç»§æ‰¿æŠ½è±¡ç±»ï¼Œè¦æ±‚å¿…é¡»å°†æŠ½è±¡æ–¹æ³•è¿›è¡Œå®ç°/é‡å†™ã€‚</p><p>abstractå…³é”®å­—ä¸èƒ½å’Œprivateï¼Œfinalï¼Œstaticå…³é”®å­—å…±å­˜ã€‚</p><h2 id="16-æ¥å£">16. æ¥å£</h2><p><strong>æ¥å£çš„ç®€å•ä»‹ç»</strong></p><ul class="lvl-0"><li class="lvl-2"><p>æ¥å£ï¼ˆinterfaceï¼‰åœ¨Javaä¸­è¡¨ç¤ºä¸€ç§è§„èŒƒæˆ–å¥‘çº¦ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„æŠ½è±¡æ–¹æ³•å’Œå¸¸é‡ï¼Œç”¨æ¥æè¿°ä¸€äº›å®ç°è¿™ä¸ªæ¥å£çš„ç±»åº”è¯¥å…·æœ‰å“ªäº›è¡Œä¸ºå’Œå±æ€§ã€‚</p></li><li class="lvl-2"><p>æ¥å£å’Œç±»ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹</p></li><li class="lvl-2"><p>æ¥å£æ€ä¹ˆå®šä¹‰ï¼Ÿ[ä¿®é¥°ç¬¦åˆ—è¡¨] interface æ¥å£å{}</p></li><li class="lvl-2"><p>æŠ½è±¡ç±»æ˜¯åŠæŠ½è±¡çš„ï¼Œæ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ã€‚æ¥å£æ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œä¹Ÿæ— æ³•å®ä¾‹åŒ–</p></li><li class="lvl-2"><p>(JDK8ä¹‹å‰çš„è¯­æ³•è§„åˆ™) æ¥å£ä¸­åªèƒ½å®šä¹‰ï¼šå¸¸é‡+æŠ½è±¡æ–¹æ³•ã€‚æ¥å£ä¸­çš„å¸¸é‡çš„static finalå¯ä»¥çœç•¥ã€‚æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•çš„abstractå¯ä»¥çœç•¥ã€‚æ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•å’Œå˜é‡éƒ½æ˜¯publicä¿®é¥°çš„</p></li><li class="lvl-2"><p>æ¥å£å’Œæ¥å£ä¹‹é—´å¯ä»¥å¤šç»§æ‰¿</p></li><li class="lvl-2"><p>ç±»å’Œæ¥å£çš„å…³ç³»æˆ‘ä»¬å«åšå®ç°ï¼ˆè¿™é‡Œçš„å®ç°ä¹Ÿå¯ä»¥ç­‰åŒçœ‹åšç»§æ‰¿ï¼‰ã€‚ä½¿ç”¨implementså…³é”®å­—è¿›è¡Œæ¥å£çš„å®ç°ã€‚</p></li><li class="lvl-2"><p>ä¸€ä¸ªéæŠ½è±¡çš„ç±»å®ç°æ¥å£å¿…é¡»å°†æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•å…¨éƒ¨å®ç°ï¼ˆå¼ºåˆ¶è¦æ±‚çš„ï¼Œå¿…é¡»çš„ï¼Œè¦ä¸ç„¶ç¼–è¯‘å™¨æŠ¥é”™ã€‚ï¼‰</p></li><li class="lvl-2"><p>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚è¯­æ³•æ˜¯ï¼šclass ç±» implements æ¥å£A,æ¥å£B{}</p></li><li class="lvl-2"><p>Java8ä¹‹åï¼Œæ¥å£ä¸­å…è®¸å‡ºç°é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•(JDK8æ–°ç‰¹æ€§)</p><ul class="lvl-2"><li class="lvl-4"><p>é»˜è®¤æ–¹æ³•ï¼š</p><ul class="lvl-4"><li class="lvl-6">å¼•å…¥é»˜è®¤æ–¹å¼æ˜¯ä¸ºäº†è§£å†³æ¥å£æ¼”å˜é—®é¢˜ï¼šæ¥å£å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯ä¸èƒ½å®ç°è¿™äº›æ–¹æ³•ã€‚</li><li class="lvl-6">æ‰€æœ‰å®ç°æ¥å£çš„ç±»éƒ½å¿…é¡»å®ç°è¿™äº›æŠ½è±¡æ–¹æ³•ã€‚è¿™ä¼šå¯¼è‡´æ¥å£å‡çº§çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬å‘æ¥å£æ·»åŠ æˆ–åˆ é™¤ä¸€ä¸ªæŠ½è±¡æ–¹æ³•æ—¶ï¼Œ</li><li class="lvl-6">è¿™ä¼šç ´åè¯¥æ¥å£çš„æ‰€æœ‰å®ç°ï¼Œå¹¶ä¸”æ‰€æœ‰è¯¥æ¥å£çš„ç”¨æˆ·éƒ½å¿…é¡»ä¿®æ”¹å…¶ä»£ç æ‰èƒ½é€‚åº”æ›´æ”¹ã€‚è¿™å°±æ˜¯æ‰€è°“çš„&quot;æ¥å£æ¼”å˜&quot;é—®é¢˜</li></ul></li><li class="lvl-4"><p>é™æ€æ–¹æ³•ï¼š</p><ul class="lvl-4"><li class="lvl-6">æ³¨æ„ï¼šjavaä¸­è§„å®šï¼Œåœ¨JDK8ä¹‹åï¼Œæ¥å£ä¸­å¯ä»¥ä¸€å®šé™æ€æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡â€œè¯¥æ¥å£åâ€å»è°ƒç”¨çš„ã€‚åˆ«çš„éƒ½æ— æ³•è°ƒç”¨ã€‚</li></ul></li></ul></li><li class="lvl-2"><p>åœ¨JDK8ä¹‹åå¼•å…¥æ¥å£å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ï¼Œå®é™…ä¸Šæƒ³è¡¨è¾¾ä¸€ä¸ªæ„æ€ï¼šæ¥å£ä¹Ÿå¯ä»¥ä½œä¸ºå·¥å…·æ¥ä½¿ç”¨äº†ã€‚</p></li><li class="lvl-2"><p>JDK9ä¹‹åå…è®¸æ¥å£ä¸­å®šä¹‰ç§æœ‰çš„å®ä¾‹æ–¹æ³•ï¼ˆä¸ºé»˜è®¤æ–¹æ³•æœåŠ¡çš„ï¼‰å’Œç§æœ‰çš„é™æ€æ–¹æ³•ï¼ˆä¸ºé™æ€æ–¹æ³•æœåŠ¡çš„ï¼‰</p></li><li class="lvl-2"><p>æ‰€æœ‰çš„æ¥å£éšå¼çš„ç»§æ‰¿Objectã€‚å› æ­¤æ¥å£ä¹Ÿå¯ä»¥è°ƒç”¨Objectç±»çš„ç›¸å…³æ–¹æ³•</p></li></ul><p><strong>æ¥å£çš„ä½œç”¨</strong></p><ul class="lvl-0"><li class="lvl-2"><p>é¢å‘æ¥å£è°ƒç”¨çš„ç§°ä¸ºï¼šæ¥å£è°ƒç”¨è€…</p></li><li class="lvl-2"><p>é¢å‘æ¥å£å®ç°çš„ç§°ä¸ºï¼šæ¥å£å®ç°è€…</p></li><li class="lvl-2"><p>è°ƒç”¨è€…å’Œå®ç°è€…é€šè¿‡æ¥å£è¾¾åˆ°äº†è§£è€¦åˆã€‚ä¹Ÿå°±æ˜¯è¯´è°ƒç”¨è€…ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„å®ç°è€…ï¼Œå®ç°è€…ä¹Ÿä¸éœ€è¦å…³å¿ƒå…·ä½“çš„è°ƒç”¨è€…ï¼ŒåŒæ–¹éƒ½éµå¾ªè§„èŒƒï¼Œé¢å‘æ¥å£è¿›è¡Œå¼€å‘ã€‚</p></li><li class="lvl-2"><p>==é¢å‘æŠ½è±¡ç¼–ç¨‹ï¼Œé¢å‘æ¥å£ç¼–ç¨‹ï¼Œå¯ä»¥é™ä½ç¨‹åºçš„è€¦åˆåº¦ï¼Œæé«˜ç¨‹åºçš„æ‰©å±•åŠ›ã€‚==â€‹</p></li><li class="lvl-2"><p>ä¾‹å¦‚å®šä¹‰ä¸€ä¸ªUsbæ¥å£ï¼Œæä¾›read()å’Œwrite()æ–¹æ³•ï¼Œé€šè¿‡read()æ–¹æ³•è¯»ï¼Œé€šè¿‡write()æ–¹æ³•å†™ï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>å®šä¹‰ä¸€ä¸ªç”µè„‘ç±»Computerï¼Œå®ƒæ˜¯è°ƒç”¨è€…ï¼Œé¢å‘Usbæ¥å£æ¥è°ƒç”¨ã€‚</p></li><li class="lvl-4"><p>Usbæ¥å£çš„å®ç°å¯ä»¥æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ï¼šæ‰“å°æœºï¼ˆPrinterï¼‰ï¼Œç¡¬ç›˜ï¼ˆHardDriveï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">conn</span><span class="params">(Usb usb)</span>&#123;</span><br><span class="line">  </span><br><span class="line">usb.read();</span><br><span class="line">usb.write();</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li class="lvl-2"><p>å†æƒ³æƒ³ï¼Œæˆ‘ä»¬å¹³æ—¶å»é¥­åº—åƒé¥­ï¼Œè¿™ä¸ªåœºæ™¯ä¸­æœ‰æ²¡æœ‰æ¥å£å‘¢ï¼Ÿé£Ÿè°±èœå•å°±æ˜¯æ¥å£ã€‚é¡¾å®¢æ˜¯è°ƒç”¨è€…ã€‚å¨å¸ˆæ˜¯å®ç°è€…ã€‚</p></li></ul><p><strong>æ¥å£ä¸æŠ½è±¡ç±»å¦‚ä½•é€‰æ‹©</strong></p><ul class="lvl-0"><li class="lvl-2"><p>æŠ½è±¡ç±»å’Œæ¥å£è™½ç„¶åœ¨ä»£ç è§’åº¦éƒ½èƒ½è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œä½†é€‚ç”¨åœºæ™¯ä¸åŒï¼š</p><ul class="lvl-2"><li class="lvl-4">æŠ½è±¡ç±»ä¸»è¦é€‚ç”¨äºå…¬å…±ä»£ç çš„æå–ã€‚å½“å¤šä¸ªç±»ä¸­æœ‰å…±åŒçš„å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œä¸ºäº†è¾¾åˆ°ä»£ç çš„å¤ç”¨ï¼Œå»ºè®®ä¸ºè¿™å‡ ä¸ªç±»æå–å‡ºæ¥ä¸€ä¸ªçˆ¶ç±»ï¼Œåœ¨è¯¥çˆ¶ç±»ä¸­ç¼–å†™å…¬å…±çš„ä»£ç ã€‚å¦‚æœæœ‰ä¸€äº›æ–¹æ³•æ— æ³•åœ¨è¯¥ç±»ä¸­å®ç°ï¼Œå¯ä»¥å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚è¿™æ ·çš„ç±»å°±åº”è¯¥ä½¿ç”¨æŠ½è±¡ç±»ã€‚</li><li class="lvl-4">æ¥å£ä¸»è¦ç”¨äºåŠŸèƒ½çš„æ‰©å±•ã€‚ä¾‹å¦‚æœ‰å¾ˆå¤šç±»ï¼Œä¸€äº›ç±»éœ€è¦è¿™ä¸ªæ–¹æ³•ï¼Œå¦å¤–ä¸€äº›ç±»ä¸éœ€è¦è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¯ä»¥å°†è¯¥æ–¹æ³•å®šä¹‰åˆ°æ¥å£ä¸­ã€‚éœ€è¦è¿™ä¸ªæ–¹æ³•çš„ç±»å°±å»å®ç°è¿™ä¸ªæ¥å£ï¼Œä¸éœ€è¦è¿™ä¸ªæ–¹æ³•çš„å°±å¯ä»¥ä¸å®ç°è¿™ä¸ªæ¥å£ã€‚æ¥å£ä¸»è¦è§„å®šçš„æ˜¯è¡Œä¸ºã€‚</li></ul></li></ul><h2 id="17-UML">17. UML</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240214101255-rl5xbtp.png" alt="image">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240214101313-8lva3y9.png" alt="image">â€‹</p><h2 id="18-è®¿é—®æ§åˆ¶æƒé™">18. è®¿é—®æ§åˆ¶æƒé™</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240214101348-e839l6o.png" alt="image">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>privateï¼šç§æœ‰çš„ï¼Œåªèƒ½åœ¨æœ¬ç±»ä¸­è®¿é—®ã€‚</p></li><li class="lvl-2"><p>ç¼ºçœï¼šé»˜è®¤çš„ï¼ŒåŒä¸€ä¸ªåŒ…ä¸‹å¯ä»¥è®¿é—®ã€‚</p></li><li class="lvl-2"><p>protectedï¼šå—ä¿æŠ¤çš„ï¼Œå­ç±»ä¸­å¯ä»¥è®¿é—®ã€‚ï¼ˆå—ä¿æŠ¤çš„é€šå¸¸å°±æ˜¯ç»™å­å­™ç”¨çš„ã€‚ï¼‰</p></li><li class="lvl-2"><p>publicï¼šå…¬å…±çš„ï¼Œåœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®ã€‚</p><p>â€</p></li><li class="lvl-2"><p>ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•è®¿é—®æƒé™å…±æœ‰å››ç§ï¼šprivateã€ç¼ºçœã€protectedå’Œpublicã€‚</p></li><li class="lvl-2"><p>ç±»çš„è®¿é—®æƒé™åªæœ‰ä¸¤ç§ï¼špublicå’Œ ç¼ºçœã€‚</p></li><li class="lvl-2"><p>è®¿é—®æƒé™æ§åˆ¶ç¬¦ä¸èƒ½ä¿®é¥°å±€éƒ¨å˜é‡ã€‚</p></li></ul><h2 id="19-Object-ç±»">19. Object ç±»</h2><ul class="lvl-0"><li class="lvl-2"><p>java.lang.Objectæ˜¯æ‰€æœ‰ç±»çš„è¶…ç±»ã€‚javaä¸­æ‰€æœ‰ç±»éƒ½å®ç°äº†è¿™ä¸ªç±»ä¸­çš„æ–¹æ³•ã€‚</p></li><li class="lvl-2"><p>ç°é˜¶æ®µObjectç±»ä¸­éœ€è¦æŒæ¡çš„æ–¹æ³•ï¼š</p><ul class="lvl-2"><li class="lvl-4">toStringï¼šå°†javaå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</li><li class="lvl-4">equalsï¼šåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚</li></ul></li><li class="lvl-2"><p>ç°é˜¶æ®µObjectç±»ä¸­éœ€è¦äº†è§£çš„æ–¹æ³•ï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>hashCodeï¼šè¿”å›ä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œé€šå¸¸ä½œä¸ºåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¯¥å¯¹è±¡çš„é”®å€¼ã€‚Objectç±»çš„é»˜è®¤å®ç°æ˜¯æ ¹æ®å¯¹è±¡çš„å†…å­˜åœ°å€ç”Ÿæˆä¸€ä¸ªå“ˆå¸Œç ï¼ˆå³å°†å¯¹è±¡çš„å†…å­˜åœ°å€è½¬æ¢ä¸ºæ•´æ•°ä½œä¸ºå“ˆå¸Œå€¼ï¼‰ã€‚hashCode()æ–¹æ³•æ˜¯ä¸ºäº†HashMapã€Hashtableã€HashSetç­‰é›†åˆç±»è¿›è¡Œä¼˜åŒ–è€Œè®¾ç½®çš„ï¼Œä»¥ä¾¿æ›´å¿«åœ°æŸ¥æ‰¾å’Œå­˜å‚¨å¯¹è±¡ã€‚</p></li><li class="lvl-4"><p>finalizeï¼šå½“javaå¯¹è±¡è¢«å›æ”¶æ—¶ï¼Œç”±GCè‡ªåŠ¨è°ƒç”¨è¢«å›æ”¶å¯¹è±¡çš„finalizeæ–¹æ³•ï¼Œé€šå¸¸åœ¨è¯¥æ–¹æ³•ä¸­å®Œæˆé”€æ¯å‰çš„å‡†å¤‡ã€‚</p></li><li class="lvl-4"><p>cloneï¼šå¯¹è±¡çš„æ‹·è´ã€‚ï¼ˆæµ…æ‹·è´ï¼Œæ·±æ‹·è´ï¼‰</p><ul class="lvl-4"><li class="lvl-6">protectedä¿®é¥°çš„åªèƒ½åœ¨åŒä¸€ä¸ªåŒ…ä¸‹æˆ–è€…å­ç±»ä¸­è®¿é—®ã€‚</li><li class="lvl-6">åªæœ‰å®ç°äº†Cloneableæ¥å£çš„å¯¹è±¡æ‰èƒ½è¢«å…‹éš†ã€‚</li></ul></li></ul></li></ul><p><strong>Objectç±»ä¸­çš„toString()æ–¹æ³•</strong></p><ol><li class="lvl-3"><p>Objectç±»è®¾è®¡toString()æ–¹æ³•çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul class="lvl-2"><li class="lvl-6">è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯ï¼šå°†javaå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²çš„è¡¨ç¤ºå½¢å¼ã€‚</li></ul></li><li class="lvl-3"><p>Objectç±»ä¸­toString()æ–¹æ³•çš„é»˜è®¤å®ç°æ˜¯æ€æ ·çš„ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-6"><p>é»˜è®¤å®ç°æ˜¯ï¼šå®Œæ•´ç±»å + @ + åå…­è¿›åˆ¶çš„æ•°å­—</p></li><li class="lvl-6"><p>è¿™ä¸ªè¾“å‡ºç»“æœå¯ä»¥ç­‰åŒçœ‹åšä¸€ä¸ªjavaå¯¹è±¡çš„å†…å­˜åœ°å€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> getClass().getName() + <span class="string">&quot;@&quot;</span> + Integer.toHexString(hashCode());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><p><strong>Objectç±»ä¸­çš„equalsæ–¹æ³•ï¼š</strong></p><ol><li class="lvl-3"><p>Objectç±»è®¾è®¡equalsæ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul class="lvl-2"><li class="lvl-6"><p>equalsæ–¹æ³•çš„ä½œç”¨æ˜¯ï¼šåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚</p></li><li class="lvl-6"><p>equalsæ–¹æ³•çš„è¿”å›å€¼æ˜¯true/false</p><ul class="lvl-4"><li class="lvl-8">trueä»£è¡¨ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ã€‚</li><li class="lvl-8">falseä»£è¡¨ä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ã€‚</li></ul></li></ul></li><li class="lvl-3"><p>Objectç±»ä¸­å¯¹equalsæ–¹æ³•çš„é»˜è®¤å®ç°æ˜¯æ€æ ·çš„ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-6"><p>a.equals(b) è¡¨é¢æ˜¯aå’Œbçš„æ¯”è¾ƒã€‚å®é™…ä¸Šæ–¹æ³•ä½“å½“ä¸­æ˜¯ï¼šthiså’Œobjçš„æ¯”è¾ƒã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="built_in">this</span> == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li class="lvl-3"><p>å…³äº == è¿ç®—ç¬¦çš„è¿ç®—è§„åˆ™ï¼š</p><ul class="lvl-2"><li class="lvl-6"><code>== æ°¸è¿œåªæœ‰ä¸€ä¸ªè¿ç®—è§„åˆ™ï¼Œæ°¸è¿œæ¯”è¾ƒçš„æ˜¯å˜é‡ä¸­ä¿å­˜çš„å€¼ä¹‹é—´çš„æ¯”è¾ƒã€‚</code>â€‹</li><li class="lvl-6">åªä¸è¿‡æœ‰çš„æ—¶å€™è¿™ä¸ªå€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚æœ‰çš„æ—¶å€™è¿™ä¸ªå€¼æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li></ul></li><li class="lvl-3"><p>equalsæ–¹æ³•ä¸ºä»€ä¹ˆè¦é‡å†™ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-6">å› ä¸ºObjectç±»ä¸­çš„equalsæ–¹æ³•åœ¨è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªjavaå¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li><li class="lvl-6">æˆ‘ä»¬å¸Œæœ›æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å®¹ã€‚åªè¦å¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºæ˜¯ç›¸åŒçš„ã€‚</li></ul></li><li class="lvl-3"><p>å­—ç¬¦ä¸²çš„æ¯”è¾ƒä¸èƒ½ä½¿ç”¨ <code>==</code>â€‹, å¿…é¡»ä½¿ç”¨equalsæ–¹æ³•è¿›è¡Œæ¯”è¾ƒ</p></li><li class="lvl-3"><p>å­—ç¬¦ä¸²Stringç±»å‹å·²ç»é‡å†™äº†equalsæ–¹æ³•</p></li></ol><p><strong>å…³äºObjectç±»çš„hashCode()æ–¹æ³•ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>hashCodeï¼šè¿”å›ä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œé€šå¸¸ä½œä¸ºåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¯¥å¯¹è±¡çš„é”®å€¼ã€‚</p></li><li class="lvl-2"><p>Objectç±»çš„é»˜è®¤å®ç°æ˜¯æ ¹æ®å¯¹è±¡çš„å†…å­˜åœ°å€ç”Ÿæˆä¸€ä¸ªå“ˆå¸Œç ï¼ˆå³å°†å¯¹è±¡çš„å†…å­˜åœ°å€è½¬æ¢ä¸ºæ•´æ•°ä½œä¸ºå“ˆå¸Œå€¼ï¼‰ã€‚</p></li><li class="lvl-2"><p>hashCode()æ–¹æ³•æ˜¯ä¸ºäº†HashMapã€Hashtableã€HashSetç­‰é›†åˆç±»è¿›è¡Œä¼˜åŒ–è€Œè®¾ç½®çš„ï¼Œä»¥ä¾¿æ›´å¿«åœ°æŸ¥æ‰¾å’Œå­˜å‚¨å¯¹è±¡</p></li><li class="lvl-2"><p>hashCode()æ–¹æ³•åœ¨Objectç±»ä¸­çš„é»˜è®¤å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><ul class="lvl-2"><li class="lvl-4"><p>è¿™æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨äº†C++å†™çš„åŠ¨æ€é“¾æ¥åº“ç¨‹åºï¼šxxx.dll</p></li></ul></li></ul><p><strong>å…³äºObjectç±»ä¸­çš„clone()æ–¹æ³•ï¼š</strong></p><ol><li class="lvl-3"><p>cloneæ–¹æ³•ä½œç”¨ï¼šå¯¹è±¡æ‹·è´ã€‚é€šå¸¸åœ¨å¼€å‘ä¸­éœ€è¦ä¿æŠ¤åŸå¯¹è±¡æ•°æ®ç»“æ„ã€‚é€šå¸¸å¤åˆ¶ä¸€ä»½ï¼Œç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¯¹æ–°å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p></li><li class="lvl-3"><p>Objectç±»ä¸­çš„é»˜è®¤å®ç°ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException;</span><br><span class="line"> *      å—ä¿æŠ¤çš„æ–¹æ³•ï¼Œä¸“é—¨ç»™å­ç±»ä½¿ç”¨çš„ã€‚</span><br><span class="line"> *      æœ¬åœ°æ–¹æ³•ã€‚</span><br><span class="line"> *      åº•å±‚è°ƒç”¨C++ç¨‹åºå·²ç»å¯ä»¥å®Œæˆå¯¹è±¡çš„åˆ›å»ºäº†ã€‚</span><br><span class="line"> *      æˆ‘ä»¬ç°åœ¨è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼šæ€ä¹ˆè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æ€ä¹ˆè§£å†³clone()æ–¹æ³•çš„è°ƒç”¨é—®é¢˜ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-6">åœ¨å­ç±»ä¸­é‡å†™è¯¥clone()æ–¹æ³•ã€‚</li><li class="lvl-6">ä¸ºäº†ä¿è¯clone()æ–¹æ³•åœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥è°ƒç”¨ï¼Œå»ºè®®å°†å…¶ä¿®é¥°ç¬¦ä¿®æ”¹ä¸ºï¼špublic</li></ul></li><li class="lvl-3"><p>å‡¡äº‹å‚åŠ å…‹éš†çš„å¯¹è±¡ï¼Œå¿…é¡»å®ç°ä¸€ä¸ªæ ‡å¿—æ¥å£ï¼šjava.lang.Cloneable</p><ol><li class="lvl-7"><p>javaä¸­æ¥å£åŒ…æ‹¬ä¸¤å¤§ç±»ï¼š</p><ol><li class="lvl-11">ä¸€ç±»æ˜¯ï¼šèµ·åˆ°æ ‡å¿—çš„ä½œç”¨ï¼Œæ ‡å¿—å‹æ¥å£ã€‚</li><li class="lvl-11">å¦ä¸€ç±»æ˜¯ï¼šæ™®é€šæ¥å£ã€‚</li></ol></li></ol></li></ol><p><strong>å†…éƒ¨ç±»</strong></p><ul class="lvl-0"><li class="lvl-2"><p>ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">å®šä¹‰åœ¨ä¸€ä¸ªç±»ä¸­çš„ç±»ã€‚</li></ul></li><li class="lvl-2"><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å†…éƒ¨ç±»ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4">ä¸€ä¸ªç±»ç”¨åˆ°äº†å¦å¤–ä¸€ä¸ªç±»ï¼Œè€Œè¿™ä¸¤ä¸ªç±»çš„è”ç³»æ¯”è¾ƒå¯†åˆ‡ï¼Œä½†æ˜¯å¦‚æœæŠŠè¿™ä¸¤ä¸ªç±»å®šä¹‰ä¸ºç‹¬ç«‹çš„ç±»ï¼Œä¸ä½†å¢åŠ äº†ç±»çš„æ•°é‡ï¼Œä¹Ÿä¸åˆ©äºä»£ç çš„é˜…è¯»å’Œç»´æŠ¤ã€‚</li><li class="lvl-4">å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æˆå‘˜ï¼Œè¿™æ ·å¯ä»¥å°†ç›¸å…³çš„ç±»å’Œæ¥å£éšè—åœ¨å¤–éƒ¨ç±»çš„å†…éƒ¨ï¼Œä»è€Œæé«˜å°è£…æ€§ã€‚</li><li class="lvl-4">åŒ¿åå†…éƒ¨ç±»æ˜¯æŒ‡æ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œé€šå¸¸ç”¨äºå®šä¹‰ä¸€ä¸ªåªä½¿ç”¨ä¸€æ¬¡çš„ç±»ï¼Œæ¯”å¦‚åœ¨äº‹ä»¶å¤„ç†ä¸­ã€‚</li></ul></li><li class="lvl-2"><p>å†…éƒ¨ç±»åŒ…æ‹¬å“ªå‡ ç§ï¼Ÿ</p><ul class="lvl-2"><li class="lvl-4"><p>é™æ€å†…éƒ¨ç±»ï¼šå’Œé™æ€å˜é‡ä¸€ä¸ªçº§åˆ«</p><ul class="lvl-4"><li class="lvl-6">é™æ€å†…éƒ¨ç±»å¦‚ä½•å®ä¾‹åŒ–ï¼šOuterClass.StaticInnerClass staticInnerClass = new OuterClass.StaticInnerClass();</li><li class="lvl-6">æ— æ³•ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­å®ä¾‹å˜é‡å’Œå®ä¾‹æ–¹æ³•ã€‚</li></ul></li><li class="lvl-4"><p>å®ä¾‹å†…éƒ¨ç±»ï¼šå’Œå®ä¾‹å˜é‡ä¸€ä¸ªçº§åˆ«</p><ul class="lvl-4"><li class="lvl-6">å®ä¾‹å†…éƒ¨ç±»å¦‚ä½•å®ä¾‹åŒ–ï¼šOuterClass.InnerClass innerClass = new OuterClass().new InnerClass();</li><li class="lvl-6">å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­æ‰€æœ‰çš„å®ä¾‹å˜é‡ï¼Œå®ä¾‹æ–¹æ³•ï¼Œé™æ€å˜é‡ï¼Œé™æ€æ–¹æ³•ã€‚</li></ul></li><li class="lvl-4"><p>å±€éƒ¨å†…éƒ¨ç±»ï¼šå’Œå±€éƒ¨å˜é‡ä¸€ä¸ªçº§åˆ«</p><ul class="lvl-4"><li class="lvl-6">å±€éƒ¨å†…éƒ¨ç±»æ–¹å¤–ç±»å¤–éƒ¨çš„å±€éƒ¨å˜é‡æ—¶ï¼Œå±€éƒ¨å˜é‡éœ€è¦è¢«finalä¿®é¥°ã€‚</li><li class="lvl-6">ä»JDK8å¼€å§‹ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ finaläº†ï¼Œä½†JVMä¼šè‡ªåŠ¨æ·»åŠ ã€‚</li></ul></li><li class="lvl-4"><p>åŒ¿åå†…éƒ¨ç±»ï¼šç‰¹æ®Šçš„å±€éƒ¨å†…éƒ¨ç±»ï¼Œæ²¡æœ‰åå­—ï¼Œåªèƒ½ç”¨ä¸€æ¬¡ã€‚</p><ul class="lvl-4"><li class="lvl-6">åŒ¿åå†…éƒ¨ç±»ï¼šç‰¹æ®Šçš„å±€éƒ¨å†…éƒ¨ç±»ï¼Œæ²¡æœ‰åå­—ï¼Œåªèƒ½ç”¨ä¸€æ¬¡ã€‚</li></ul></li></ul></li></ul><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬å››ç« ï¼šæ•°ç»„</title>
      <link href="/posts/a9867134.html"/>
      <url>/posts/a9867134.html</url>
      
        <content type="html"><![CDATA[<h1>ç¬¬å››ç« ï¼šæ•°ç»„</h1><h2 id="1-æ•°ç»„çš„æ¦‚è¿°">1. æ•°ç»„çš„æ¦‚è¿°</h2><ul class="lvl-0"><li class="lvl-2"><p>æ•°ç»„çš„æ¦‚å¿µï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>æ•°ç»„ï¼šæ•°ç»„æ˜¯å¤šä¸ªç›¸åŒç±»å‹æŒ‰ä¸€å®šé¡ºåºæ’åˆ—çš„é›†åˆ ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªåå­—å‘½åå¹¶é€šè¿‡ç¼–å·çš„æ–¹å¼å¯¹è¿™äº›æ•°æ®è¿›è¡Œç»Ÿä¸€ç®¡ç†</p></li><li class="lvl-4"><p>æ•°ç»„ä¸­çš„æ¦‚å¿µ</p><ul class="lvl-4"><li class="lvl-6">æ•°ç»„å</li><li class="lvl-6">ä¸‹æ ‡(æˆ–ç´¢å¼•)</li><li class="lvl-6">å…ƒç´ </li><li class="lvl-6">æ•°ç»„çš„é•¿åº¦</li></ul></li></ul></li><li class="lvl-2"><p>æ•°ç»„çš„ç‰¹ç‚¹ï¼š</p><ul class="lvl-2"><li class="lvl-4">æ•°ç»„æœ¬èº«æ˜¯<code>å¼•ç”¨æ•°æ®ç±»å‹</code>â€‹ï¼Œè€Œæ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯<code>ä»»ä½•æ•°æ®ç±»å‹</code>â€‹ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚</li><li class="lvl-4">åˆ›å»ºæ•°ç»„å¯¹è±¡ä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€æ•´å—<code>è¿ç»­çš„ç©ºé—´</code>â€‹ã€‚å æ®çš„ç©ºé—´çš„å¤§å°ï¼Œå–å†³äºæ•°ç»„çš„é•¿åº¦å’Œæ•°ç»„ä¸­å…ƒç´ çš„ç±»å‹ã€‚</li><li class="lvl-4">æ•°ç»„ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯ä¾æ¬¡ç´§å¯†æ’åˆ—çš„ï¼Œæœ‰åºçš„ã€‚</li><li class="lvl-4">æ•°ç»„ï¼Œä¸€æ—¦åˆå§‹åŒ–å®Œæˆï¼Œå…¶é•¿åº¦å°±æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„çš„<code>é•¿åº¦ä¸€æ—¦ç¡®å®šï¼Œå°±ä¸èƒ½ä¿®æ”¹</code>â€‹ã€‚</li><li class="lvl-4">æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ä¸‹æ ‡(æˆ–ç´¢å¼•)çš„æ–¹å¼è°ƒç”¨æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚</li><li class="lvl-4">æ•°ç»„åä¸­å¼•ç”¨çš„æ˜¯è¿™å—è¿ç»­ç©ºé—´çš„é¦–åœ°å€</li></ul></li><li class="lvl-2"><p>æ•°ç»„çš„åˆ†ç±»</p><ul class="lvl-2"><li class="lvl-4"><p>æŒ‰ç…§å…ƒç´ ç±»å‹åˆ†ï¼š</p><ul class="lvl-4"><li class="lvl-6"><span data-type="text" style="color: var(--b3-font-color4);">åŸºæœ¬æ•°æ®ç±»å‹å…ƒç´ çš„æ•°ç»„</span>ï¼šæ¯ä¸ªå…ƒç´ ä½ç½®å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼</li><li class="lvl-6"><span data-type="text" style="color: var(--b3-font-color2);">å¼•ç”¨æ•°æ®ç±»å‹å…ƒç´ çš„æ•°ç»„</span>ï¼šæ¯ä¸ªå…ƒç´ ä½ç½®å­˜å‚¨å¯¹è±¡ï¼ˆæœ¬è´¨æ˜¯å­˜å‚¨å¯¹è±¡çš„é¦–åœ°å€ï¼‰ï¼ˆåœ¨é¢å‘å¯¹è±¡éƒ¨åˆ†è®²è§£ï¼‰</li></ul></li><li class="lvl-4"><p>æŒ‰ç…§ç»´åº¦åˆ†ï¼š</p><ul class="lvl-4"><li class="lvl-6"><span data-type="text" style="color: var(--b3-font-color3);">ä¸€ç»´æ•°ç»„</span>ï¼šå­˜å‚¨ä¸€ç»„æ•°æ®</li><li class="lvl-6"><span data-type="text" style="color: var(--b3-font-color1);">äºŒç»´æ•°ç»„</span>ï¼šå­˜å‚¨å¤šç»„æ•°æ®ï¼Œç›¸å½“äºäºŒç»´è¡¨ï¼Œä¸€è¡Œä»£è¡¨ä¸€ç»„æ•°æ®ï¼Œåªæ˜¯è¿™é‡Œçš„äºŒç»´è¡¨æ¯ä¸€è¡Œé•¿åº¦ä¸è¦æ±‚ä¸€æ ·ã€‚</li></ul></li></ul></li></ul><h2 id="2-ä¸€ç»´æ•°ç»„çš„ä½¿ç”¨">2. ä¸€ç»´æ•°ç»„çš„ä½¿ç”¨</h2><h3 id="2-1-ä¸€ç»´æ•°ç»„çš„å£°æ˜">2.1 ä¸€ç»´æ•°ç»„çš„å£°æ˜</h3><ul class="lvl-0"><li class="lvl-2"><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¨è</span></span><br><span class="line">å…ƒç´ çš„æ•°æ®ç±»å‹[] ä¸€ç»´æ•°ç»„çš„åç§°;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸æ¨è</span></span><br><span class="line">å…ƒç´ çš„æ•°æ®ç±»å‹  ä¸€ç»´æ•°ç»„å[];</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>æ•°ç»„çš„å£°æ˜ ï¼Œéœ€è¦æ˜ç¡®ï¼š</p><ul class="lvl-2"><li class="lvl-4"><span data-type="text" style="color: var(--b3-font-color1);">æ•°ç»„çš„ç»´åº¦</span>ï¼šåœ¨Javaä¸­æ•°ç»„çš„ç¬¦å·æ˜¯[ ]ï¼Œ[ ]è¡¨ç¤ºä¸€ç»´ï¼Œ[ ][ ]è¡¨ç¤ºäºŒç»´ã€‚</li><li class="lvl-4"><span data-type="text" style="color: var(--b3-font-color3);">æ•°ç»„çš„å…ƒç´ ç±»å‹</span>ï¼šå³åˆ›å»ºçš„æ•°ç»„å®¹å™¨å¯ä»¥å­˜å‚¨ä»€ä¹ˆæ•°æ®ç±»å‹çš„æ•°æ®ã€‚å…ƒç´ çš„ç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„Javaçš„æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼šintã€Stringã€Studentç­‰ã€‚</li><li class="lvl-4"><span data-type="text" style="background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);">æ•°ç»„å</span>ï¼šå°±æ˜¯ä»£è¡¨æŸä¸ªæ•°ç»„çš„æ ‡è¯†ç¬¦ï¼Œæ•°ç»„åå…¶å®ä¹Ÿæ˜¯å˜é‡åï¼ŒæŒ‰ç…§å˜é‡çš„å‘½åè§„èŒƒæ¥å‘½åã€‚æ•°ç»„åæ˜¯ä¸ªå¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡ï¼Œå› ä¸ºå®ƒä»£è¡¨ä¸€ç»„æ•°æ®ã€‚</li></ul></li></ul><h3 id="2-2-ä¸€ç»´æ•°ç»„çš„åˆå§‹åŒ–">2.2 ä¸€ç»´æ•°ç»„çš„åˆå§‹åŒ–</h3><p><span data-type="text" style="color: var(--b3-font-color4);">é™æ€åˆå§‹åŒ–ï¼š</span></p><ul class="lvl-0"><li class="lvl-2"><p>å¦‚æœæ•°ç»„å˜é‡çš„åˆå§‹åŒ–å’Œæ•°ç»„å…ƒç´ çš„èµ‹å€¼æ“ä½œåŒæ—¶è¿›è¡Œ ï¼Œé‚£å°±ç§°ä¸ºæ•°ç»„åˆå§‹åŒ–</p></li><li class="lvl-2"><p>é™æ€åˆå§‹åŒ–ï¼Œæœ¬è´¨æ˜¯ç”¨é™æ€æ•°æ®ä¸ºæ•°ç»„åˆå§‹åŒ–ï¼Œæ­¤æ—¶æ•°ç»„çš„é•¿åº¦ç”±é™æ€æ•°æ®çš„ä¸ªæ•°å†³å®š</p></li><li class="lvl-2"><p><span data-type="text" style="color: var(--b3-font-color3);">ä¸€ç»´æ•°ç»„å£°æ˜å’Œé™æ€åˆå§‹åŒ–æ ¼å¼1ï¼š</span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®ç±»å‹[] æ•°ç»„å = <span class="keyword">new</span> æ•°æ®ç±»å‹[]&#123;å…ƒç´ <span class="number">1</span>,å…ƒç´ <span class="number">2</span>,å…ƒç´ <span class="number">3</span>,...&#125;;</span><br><span class="line"></span><br><span class="line">æˆ–</span><br><span class="line"></span><br><span class="line">æ•°æ®ç±»å‹[] æ•°ç»„å;</span><br><span class="line">æ•°ç»„å = <span class="keyword">new</span> æ•°æ®ç±»å‹[]&#123;å…ƒç´ <span class="number">1</span>,å…ƒç´ <span class="number">2</span>,å…ƒç´ <span class="number">3</span>,...&#125;;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>newï¼šå…³é”®å­—ï¼Œåˆ›å»ºæ•°ç»„ä½¿ç”¨çš„å…³é”®å­—ã€‚å› ä¸ºæ•°ç»„æœ¬èº«æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥è¦ç”¨newåˆ›å»ºæ•°ç»„å®ä½“ã€‚</p></li><li class="lvl-2"><p><span data-type="text" style="color: var(--b3-font-color3);">ä¸€ç»´æ•°ç»„å£°æ˜å’Œé™æ€åˆå§‹åŒ–æ ¼å¼2ï¼š</span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®ç±»å‹[] æ•°ç»„å = &#123;å…ƒç´ <span class="number">1</span>,å…ƒç´ <span class="number">2</span>,å…ƒç´ <span class="number">3.</span>..&#125;;<span class="comment">//å¿…é¡»åœ¨ä¸€ä¸ªè¯­å¥ä¸­å®Œæˆï¼Œä¸èƒ½åˆ†æˆä¸¤ä¸ªè¯­å¥å†™</span></span><br></pre></td></tr></table></figure></li></ul><p><span data-type="text" style="color: var(--b3-font-color4);">åŠ¨æ€åˆå§‹åŒ–ï¼š</span></p><ul class="lvl-0"><li class="lvl-2"><p>æ•°ç»„å˜é‡çš„åˆå§‹åŒ–å’Œæ•°ç»„å…ƒç´ çš„èµ‹å€¼æ“ä½œåˆ†å¼€è¿›è¡Œï¼Œå³ä¸ºåŠ¨æ€åˆå§‹åŒ–ã€‚</p></li><li class="lvl-2"><p>åŠ¨æ€åˆå§‹åŒ–ä¸­ï¼Œåªç¡®å®šäº†å…ƒç´ çš„ä¸ªæ•°ï¼ˆå³æ•°ç»„çš„é•¿åº¦ï¼‰ï¼Œè€Œå…ƒç´ å€¼æ­¤æ—¶åªæ˜¯é»˜è®¤å€¼ï¼Œè¿˜å¹¶æœªçœŸæ­£èµ‹è‡ªå·±æœŸæœ›çš„å€¼ã€‚çœŸæ­£æœŸæœ›çš„æ•°æ®éœ€è¦åç»­å•ç‹¬ä¸€ä¸ªä¸€ä¸ªèµ‹å€¼ã€‚</p></li><li class="lvl-2"><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">æ•°ç»„å­˜å‚¨çš„å…ƒç´ çš„æ•°æ®ç±»å‹[] æ•°ç»„åå­— = <span class="keyword">new</span> æ•°ç»„å­˜å‚¨çš„å…ƒç´ çš„æ•°æ®ç±»å‹[é•¿åº¦];</span><br><span class="line"></span><br><span class="line">æˆ–</span><br><span class="line"></span><br><span class="line">æ•°ç»„å­˜å‚¨çš„æ•°æ®ç±»å‹[] æ•°ç»„åå­—;</span><br><span class="line">æ•°ç»„åå­— = <span class="keyword">new</span> æ•°ç»„å­˜å‚¨çš„æ•°æ®ç±»å‹[é•¿åº¦];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¾ä¾‹ï¼šåŠ¨æ€åˆå§‹åŒ–çš„å†™æ³•</span></span><br><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>[é•¿åº¦]ï¼šæ•°ç»„çš„é•¿åº¦ï¼Œè¡¨ç¤ºæ•°ç»„å®¹å™¨ä¸­å¯ä»¥æœ€å¤šå­˜å‚¨å¤šå°‘ä¸ªå…ƒç´ ã€‚</p></li><li class="lvl-2"><p><strong>æ³¨æ„ï¼šæ•°ç»„æœ‰å®šé•¿ç‰¹æ€§ï¼Œé•¿åº¦ä¸€æ—¦æŒ‡å®šï¼Œä¸å¯æ›´æ”¹ã€‚</strong> å’Œæ°´æ¯é“ç†ç›¸åŒï¼Œä¹°äº†ä¸€ä¸ª2å‡çš„æ°´æ¯ï¼Œæ€»å®¹é‡å°±æ˜¯2å‡æ˜¯å›ºå®šçš„ã€‚</p></li></ul><h3 id="2-3-ä¸€ç»´æ•°ç»„çš„ä½¿ç”¨">2.3 ä¸€ç»´æ•°ç»„çš„ä½¿ç”¨</h3><p><span data-type="text" style="color: var(--b3-font-color4);">æ•°ç»„çš„é•¿åº¦ï¼š</span></p><ul class="lvl-0"><li class="lvl-2"><p>æ•°ç»„å…ƒç´ çš„æ€»ä¸ªæ•°ï¼Œå³æ•°ç»„çš„é•¿åº¦</p></li><li class="lvl-2"><p>æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªå±æ€§lengthæŒ‡æ˜å®ƒçš„é•¿åº¦ ã€‚å¦‚ï¼š<span data-type="text" style="color: var(--b3-font-color3);">arr.length</span> æŒ‡æ˜æ•°ç»„arrçš„é•¿åº¦(å³å…ƒç´ ä¸ªæ•°)</p></li><li class="lvl-2"><p>æ¯ä¸ªæ•°ç»„éƒ½æœ‰é•¿åº¦ï¼Œè€Œä¸”ä¸€æ—¦åˆå§‹åŒ–ï¼Œå…¶é•¿åº¦å°±æ˜¯ç¡®å®šï¼Œä¸”ä¸å¯å˜çš„</p></li></ul><p><span data-type="text" style="color: var(--b3-font-color4);">æ•°ç»„å…ƒç´ çš„å¼•ç”¨ï¼š</span>æ•°ç»„å[ç´¢å¼•æˆ–ä¸‹æ ‡]</p><p>æ•°ç»„çš„ä¸‹æ ‡èŒƒå›´ï¼šjavaä¸­æ•°ç»„çš„å°æ ‡æ˜¯ä»[0] å¼€å§‹ ï¼Œ ä¸‹æ ‡èŒƒå›´æ˜¯[0 , æ•°ç»„é•¿åº¦ - 1] ï¼Œ å³[0 , æ•°ç»„å.length - 1]</p><p><span data-type="text" style="color: var(--b3-font-color7);">æ•°ç»„å…ƒç´ ä¸‹æ ‡å¯ä»¥æ˜¯æ•´å½¢å¸¸é‡æˆ–æ•´å½¢è¡¨è¾¾å¼</span></p><h3 id="2-4-ä¸€ç»´æ•°ç»„çš„éå†">2.4 ä¸€ç»´æ•°ç»„çš„éå†</h3><blockquote><p>éå†ï¼šå°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åˆ†åˆ«å–å‡ºæ¥å°±æ˜¯éå†ã€‚forå¾ªç¯ä¸æ•°ç»„çš„éå†æ˜¯ç»é…</p></blockquote><h3 id="2-5-æ•°ç»„å…ƒç´ çš„é»˜è®¤å€¼">2.5 æ•°ç»„å…ƒç´ çš„é»˜è®¤å€¼</h3><p>æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ ï¼Œå½“ä½¿ç”¨åŠ¨æ€åˆå§‹åŒ–æ–¹å¼åˆ›å»ºæ•°ç»„æ—¶ ï¼Œå…ƒç´ åªæœ‰é»˜è®¤å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayTest6</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String argv[])</span>&#123;</span><br><span class="line"><span class="type">int</span> a[]= <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>]; </span><br><span class="line">System.out.println(a[<span class="number">3</span>]); <span class="comment">//a[3]çš„é»˜è®¤å€¼ä¸º0</span></span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240120153059-ljjarm7.png" alt="image">â€‹</p><h2 id="3-ä¸€ç»´æ•°ç»„å†…å­˜åˆ†æ">3. ä¸€ç»´æ•°ç»„å†…å­˜åˆ†æ</h2><h3 id="3-1-Javaè™šæ‹Ÿæœºçš„å†…å­˜åˆ’åˆ†">3.1 Javaè™šæ‹Ÿæœºçš„å†…å­˜åˆ’åˆ†</h3><p>ä¸ºäº†æé«˜è¿ç®—æ•ˆç‡ï¼Œå°±å¯¹ç©ºé—´è¿›è¡Œäº†ä¸åŒåŒºåŸŸçš„åˆ’åˆ†ï¼Œå› ä¸ºæ¯ä¸€ç‰‡åŒºåŸŸéƒ½æœ‰ç‰¹å®šçš„å¤„ç†æ•°æ®æ–¹å¼å’Œå†…å­˜ç®¡ç†æ–¹å¼ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240120153208-b3q0fg9.png" alt="image">â€‹</p><table><thead><tr><th>åŒºåŸŸåç§°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>â€‹<code>è™šæ‹Ÿæœºæ ˆ</code>â€‹</td><td>ç”¨äºå­˜å‚¨æ­£åœ¨æ‰§è¡Œçš„æ¯ä¸ªJavaæ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ç­‰ã€‚å±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥é•¿åº¦<br />çš„å„ç§åŸºæœ¬æ•°æ®ç±»å‹ã€å¯¹è±¡å¼•ç”¨ï¼Œæ–¹æ³•æ‰§è¡Œå®Œï¼Œè‡ªåŠ¨é‡Šæ”¾ã€‚</td></tr><tr><td>â€‹<code>å †å†…å­˜</code>â€‹</td><td>å­˜å‚¨å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„å¯¹è±¡ï¼‰ï¼Œnewæ¥åˆ›å»ºçš„ï¼Œéƒ½å­˜å‚¨åœ¨å †å†…å­˜ã€‚</td></tr><tr><td>â€‹<code>æ–¹æ³•åŒº</code>â€‹</td><td>å­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€ï¼ˆé™æ€å˜é‡ï¼‰ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚</td></tr><tr><td>æœ¬åœ°æ–¹æ³•æ ˆ</td><td>å½“ç¨‹åºä¸­è°ƒç”¨äº†nativeçš„æœ¬åœ°æ–¹æ³•æ—¶ï¼Œæœ¬åœ°æ–¹æ³•æ‰§è¡ŒæœŸé—´çš„å†…å­˜åŒºåŸŸ</td></tr><tr><td>ç¨‹åºè®¡æ•°å™¨</td><td>ç¨‹åºè®¡æ•°å™¨æ˜¯CPUä¸­çš„å¯„å­˜å™¨ï¼Œå®ƒåŒ…å«æ¯ä¸€ä¸ªçº¿ç¨‹ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€</td></tr></tbody></table><h2 id="4-å¤šç»´æ•°ç»„çš„ä½¿ç”¨">4. å¤šç»´æ•°ç»„çš„ä½¿ç”¨</h2><p><span data-type="text" style="color: var(--b3-font-color3);">å£°æ˜ä¸åˆå§‹åŒ–</span></p><ul class="lvl-0"><li class="lvl-2"><p>äºŒä½æ•°ç»„å£°æ˜çš„è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¨è</span></span><br><span class="line">å…ƒç´ çš„æ•°æ®ç±»å‹[][] äºŒç»´æ•°ç»„çš„åç§°;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸æ¨è</span></span><br><span class="line">å…ƒç´ çš„æ•°æ®ç±»å‹  äºŒç»´æ•°ç»„å[][];</span><br><span class="line"><span class="comment">//ä¸æ¨è</span></span><br><span class="line">å…ƒç´ çš„æ•°æ®ç±»å‹[]  äºŒç»´æ•°ç»„å[];</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>é™æ€åˆå§‹åŒ–</p><ul class="lvl-2"><li class="lvl-4"><p>æ ¼å¼ï¼š<span data-type="text" style="color: var(--b3-font-color4);"><input type="checkbox" id="checkbox0"><label for="checkbox0">[ ] arr = new int [ ] [ ] {3 , 8 , 2} , {2 , 7} , {9 , 0 , 1 , 6};</label></span></p></li><li class="lvl-4"><p>è§£é‡Šï¼š</p><p>å®šä¹‰ä¸€ä¸ªåç§°ä¸ºarrçš„äºŒç»´æ•°ç»„ï¼ŒäºŒç»´æ•°ç»„ä¸­æœ‰ä¸‰ä¸ªä¸€ç»´æ•°ç»„</p><ul class="lvl-4"><li class="lvl-6"><p>æ¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­å…·ä½“å…ƒç´ ä¹Ÿéƒ½å·²åˆå§‹åŒ–</p><ul class="lvl-6"><li class="lvl-8">ç¬¬ä¸€ä¸ªä¸€ç»´æ•°ç»„ arr[0] = {3,8,2};</li><li class="lvl-8">ç¬¬äºŒä¸ªä¸€ç»´æ•°ç»„ arr[1] = {2,7};</li><li class="lvl-8">ç¬¬ä¸‰ä¸ªä¸€ç»´æ•°ç»„ arr[2] = {9,0,1,6};</li></ul></li><li class="lvl-6"><p>ç¬¬ä¸‰ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦è¡¨ç¤ºæ–¹å¼ï¼šarr[2].length;</p></li><li class="lvl-6"><p><input type="checkbox" id="checkbox1"><label for="checkbox1">x , y[ ] ; x æ˜¯ä¸€ç»´æ•°ç»„ ï¼Œy æ˜¯äºŒç»´æ•°ç»„</label></p></li></ul></li></ul></li><li class="lvl-2"><p>åŠ¨æ€åˆå§‹åŒ–ï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>æ ¼å¼1 ï¼š è§„åˆ™äºŒç»´è¡¨ ï¼Œæ¯ä¸€è¡Œçš„åˆ—æ•°æ˜¯æƒ³åŒçš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ï¼ˆ1ï¼‰ç¡®å®šè¡Œæ•°å’Œåˆ—æ•°</span></span><br><span class="line">å…ƒç´ çš„æ•°æ®ç±»å‹[][] äºŒç»´æ•°ç»„å = <span class="keyword">new</span> å…ƒç´ çš„æ•°æ®ç±»å‹[m][n];</span><br><span class="line"><span class="comment">//å…¶ä¸­ï¼Œm:è¡¨ç¤ºè¿™ä¸ªäºŒç»´æ•°ç»„æœ‰å¤šå°‘ä¸ªä¸€ç»´æ•°ç»„ã€‚æˆ–è€…è¯´ä¸€å…±äºŒç»´è¡¨æœ‰å‡ è¡Œ</span></span><br><span class="line"><span class="comment">//å…¶ä¸­ï¼Œn:è¡¨ç¤ºæ¯ä¸€ä¸ªä¸€ç»´æ•°ç»„çš„å…ƒç´ æœ‰å¤šå°‘ä¸ªã€‚æˆ–è€…è¯´æ¯ä¸€è¡Œå…±æœ‰ä¸€ä¸ªå•å…ƒæ ¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­¤æ—¶åˆ›å»ºå®Œæ•°ç»„ï¼Œè¡Œæ•°ã€åˆ—æ•°ç¡®å®šï¼Œè€Œä¸”å…ƒç´ ä¹Ÿéƒ½æœ‰é»˜è®¤å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ï¼ˆ2ï¼‰å†ä¸ºå…ƒç´ èµ‹æ–°å€¼</span></span><br><span class="line">äºŒç»´æ•°ç»„å[è¡Œä¸‹æ ‡][åˆ—ä¸‹æ ‡] = å€¼;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>æ ¼å¼2 ï¼šä¸è§„åˆ™ ï¼Œæ¯ä¸€è¡Œçš„åˆ—æ•°ä¸ä¸€æ ·</p></li></ul><p>â€</p></li></ul><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸‰ç« ï¼šæµç¨‹æ§åˆ¶è¯­å¥</title>
      <link href="/posts/1fcb7e57.html"/>
      <url>/posts/1fcb7e57.html</url>
      
        <content type="html"><![CDATA[<h1>ç¬¬ä¸‰ç« ï¼šæµç¨‹æ§åˆ¶è¯­å¥</h1><h2 id="1-é¡ºåºç»“æ„">1. é¡ºåºç»“æ„</h2><ul class="lvl-0"><li class="lvl-2"><p>ç‰¹ç‚¹ï¼šä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œ ï¼Œä¸­é—´æ²¡æœ‰ä»»ä½•åˆ¤æ–­å’Œè·³è½¬</p></li></ul><h2 id="2-åˆ†æ”¯è¯­å¥">2. åˆ†æ”¯è¯­å¥</h2><h4 id="2-1-span-data-type-text-style-color-var-b3-font-color2-if-else-æ¡ä»¶åˆ¤æ–­ç»“æ„-span">2.1 <span data-type="text" style="color: var(--b3-font-color2);">if-else æ¡ä»¶åˆ¤æ–­ç»“æ„</span></h4><ul class="lvl-0"><li class="lvl-2"><p>ç»“æ„ä¸€ï¼š å•åˆ†æ”¯æ¡ä»¶åˆ¤æ–­ ï¼šif</p><ul class="lvl-2"><li class="lvl-4"><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶è¡¨è¾¾å¼) &#123;</span><br><span class="line">è¯­å¥å—;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>è¯´æ˜ï¼šæ¡ä»¶è¡¨è¾¾å¼å¿…é¡»æ˜¯å¸ƒå°”è¡¨è¾¾å¼(å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼)æˆ–å¸ƒå°”å˜é‡</p></li></ul></li><li class="lvl-2"><p>ç»“æ„äºŒï¼šåŒåˆ†æ”¯æ¡ä»¶åˆ¤æ–­ï¼š if-else</p><ul class="lvl-2"><li class="lvl-4"><p>æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶è¡¨è¾¾å¼) &#123; </span><br><span class="line">  è¯­å¥å—<span class="number">1</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">  è¯­å¥å—<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li class="lvl-2"><p>æ ¼å¼ä¸‰ï¼š å¤šåˆ†æ”¯æ¡ä»¶åˆ¤æ–­ï¼š ifâ€¦else ifâ€¦else</p><ul class="lvl-2"><li class="lvl-4"><p>æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (æ¡ä»¶è¡¨è¾¾å¼<span class="number">1</span>) &#123;</span><br><span class="line">  è¯­å¥å—<span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (æ¡ä»¶è¡¨è¾¾å¼<span class="number">2</span>) &#123;</span><br><span class="line">  è¯­å¥å—<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (æ¡ä»¶è¡¨è¾¾å¼n) &#123;</span><br><span class="line"> è¯­å¥å—n;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  è¯­å¥å—n+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>è¯´æ˜ï¼šä¸€æ—¦è¡¨è¾¾å¼ä¸ºtrue , åˆ™è¿›å…¥æ‰§è¡Œç›¸åº”çš„è¯­å¥å—ï¼Œæ‰§è¡Œå®Œæˆå¯¹åº”çš„è¯­å¥å—ä¹‹å ï¼Œå°±è·³å‡ºå½“å‰ç»“æ„</p></li><li class="lvl-4"><p>æ³¨æ„ï¼š</p><ul class="lvl-4"><li class="lvl-6">å½“æ¡ä»¶è¡¨è¾¾å¼ä¹‹é—´æ˜¯â€œ<code>äº’æ–¥</code>â€‹â€å…³ç³»æ—¶ï¼ˆå³å½¼æ­¤æ²¡æœ‰äº¤é›†ï¼‰ï¼Œæ¡ä»¶åˆ¤æ–­è¯­å¥åŠæ‰§è¡Œè¯­å¥é—´é¡ºåºæ— æ‰€è°“ã€‚</li><li class="lvl-6">å½“æ¡ä»¶è¡¨è¾¾å¼ä¹‹é—´æ˜¯â€œ<code>åŒ…å«</code>â€‹â€å…³ç³»æ—¶ï¼Œâ€œ<code>å°ä¸Šå¤§ä¸‹ / å­ä¸Šçˆ¶ä¸‹</code>â€‹â€ï¼Œå¦åˆ™èŒƒå›´å°çš„æ¡ä»¶è¡¨è¾¾å¼å°†ä¸å¯èƒ½è¢«æ‰§è¡Œã€‚</li></ul></li></ul></li></ul><h4 id="2-2-span-data-type-text-style-color-var-b3-font-color2-ifâ€¦else-åµŒå¥—-span">2.2 <span data-type="text" style="color: var(--b3-font-color2);">ifâ€¦else åµŒå¥—</span></h4><ul class="lvl-0"><li class="lvl-2"><p>æ‰§è¡Œçš„ç‰¹ç‚¹</p><ol><li class="lvl-5">å¦‚æœæ˜¯åµŒå¥—åœ¨ifè¯­å¥å—ä¸­çš„ï¼Œåªæœ‰å½“å¤–éƒ¨çš„ifæ¡ä»¶æ»¡è¶³ï¼Œæ‰ä¼šå»åˆ¤æ–­å†…éƒ¨çš„æ¡ä»¶</li><li class="lvl-5">å¦‚æœæ˜¯åµŒå¥—åœ¨elseè¯­å¥å—ä¸­çš„ï¼Œåªæœ‰å½“å¤–éƒ¨çš„ifæ¡ä»¶ä¸æ»¡è¶³ï¼Œè¿›å…¥elseåï¼Œæ‰ä¼šå»åˆ¤æ–­å†…éƒ¨çš„æ¡ä»¶</li></ol></li></ul><p><span data-type="text" style="color: var(--b3-font-color4);">å…¶ä»–è¯´æ˜ï¼š</span></p><ul class="lvl-0"><li class="lvl-2"><p>è¯­å¥å—åªæœ‰ä¸€æ¡æ‰§è¡Œè¯­å¥æ—¶ï¼Œä¸€å¯¹<code>&#123;&#125;å¯ä»¥çœç•¥</code>â€‹ï¼Œä½†å»ºè®®ä¿ç•™</p></li><li class="lvl-2"><p>å½“ if-else ç»“æ„æ˜¯ â€œå¤šé€‰ä¸€â€æ—¶ ï¼Œæœ€å elseæ˜¯å¯é€‰çš„ ï¼Œ æ ¹æ®éœ€è¦å¯ä»¥çœç•¥</p></li></ul><h4 id="2-3-switch-case-é€‰æ‹©ç»“æ„">2.3 switch-case é€‰æ‹©ç»“æ„</h4><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬è¯­æ³•</p><ul class="lvl-2"><li class="lvl-4"><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(è¡¨è¾¾å¼)&#123;</span><br><span class="line">    <span class="keyword">case</span> å¸¸é‡å€¼<span class="number">1</span>:</span><br><span class="line">        è¯­å¥å—<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> å¸¸é‡å€¼<span class="number">2</span>:</span><br><span class="line">        è¯­å¥å—<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//break; </span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">   [<span class="keyword">default</span>:</span><br><span class="line">        è¯­å¥å—n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>ä½¿ç”¨æ³¨æ„ç‚¹ï¼š</p><ul class="lvl-4"><li class="lvl-6">switch(è¡¨è¾¾å¼)ä¸­è¡¨è¾¾å¼çš„å€¼å¿…é¡»æ˜¯ä¸‹è¿°å‡ ç§ç±»å‹ä¹‹ä¸€ï¼šbyteï¼Œshortï¼Œcharï¼Œintï¼Œæšä¸¾ (jdk 5.0)ï¼ŒString (jdk 7.0)ï¼›</li><li class="lvl-6"><mark>caseå­å¥ä¸­çš„å€¼å¿…é¡»æ˜¯å¸¸é‡</mark>â€‹ï¼Œä¸èƒ½æ˜¯å˜é‡åæˆ–ä¸ç¡®å®šçš„è¡¨è¾¾å¼å€¼æˆ–èŒƒå›´ï¼›</li><li class="lvl-6">åŒä¸€ä¸ªswitchè¯­å¥ï¼Œæ‰€æœ‰caseå­å¥ä¸­çš„å¸¸é‡å€¼äº’ä¸ç›¸åŒï¼›</li><li class="lvl-6">breakè¯­å¥ç”¨æ¥åœ¨æ‰§è¡Œå®Œä¸€ä¸ªcaseåˆ†æ”¯åä½¿ç¨‹åºè·³å‡ºswitchè¯­å¥å—ï¼›<br>å¦‚æœæ²¡æœ‰breakï¼Œç¨‹åºä¼šé¡ºåºæ‰§è¡Œåˆ°switchç»“å°¾ï¼›</li><li class="lvl-6">defaultå­å¥æ˜¯å¯é€‰çš„ã€‚åŒæ—¶ï¼Œä½ç½®ä¹Ÿæ˜¯çµæ´»çš„ã€‚å½“æ²¡æœ‰åŒ¹é…çš„caseæ—¶ï¼Œæ‰§è¡Œdefaultè¯­å¥ã€‚</li></ul></li></ul></li><li class="lvl-2"><p>åˆ©ç”¨caseçš„ç©¿é€æ€§ï¼š</p><ul class="lvl-2"><li class="lvl-4">åœ¨switchè¯­å¥ä¸­ï¼Œå¦‚æœcaseçš„åé¢ä¸å†™breakï¼Œå°†å‡ºç°ç©¿é€ç°è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸€æ—¦åŒ¹é…æˆåŠŸï¼Œä¸ä¼šåœ¨åˆ¤æ–­ä¸‹ä¸€ä¸ªcaseçš„å€¼ï¼Œç›´æ¥å‘åè¿è¡Œï¼Œç›´åˆ°é‡åˆ°breakæˆ–è€…æ•´ä¸ªswitchè¯­å¥ç»“æŸï¼Œæ‰§è¡Œç»ˆæ­¢ã€‚</li></ul></li></ul><h4 id="2-4-if-else-è¯­å¥ä¸switch-caseè¯­å¥æ¯”è¾ƒ">2.4 if-else è¯­å¥ä¸switch-caseè¯­å¥æ¯”è¾ƒ</h4><ul class="lvl-0"><li class="lvl-2"><p>ç»“è®ºï¼šå‡¡æ˜¯ä½¿ç”¨switch-caseçš„ç»“æ„éƒ½å¯ä»¥è½¬æ¢ä¸ºif-elseç»“æ„ã€‚åä¹‹ï¼Œä¸æˆç«‹ã€‚</p></li><li class="lvl-2"><p>å¼€å‘ç»éªŒï¼šå¦‚æœæ—¢å¯ä»¥ä½¿ç”¨switch-caseï¼Œåˆå¯ä»¥ä½¿ç”¨if-elseï¼Œå»ºè®®ä½¿ç”¨switch-caseã€‚å› ä¸ºæ•ˆç‡ç¨é«˜ã€‚</p></li><li class="lvl-2"><p>ç»†èŠ‚å¯¹æ¯”ï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>if-elseè¯­å¥ä¼˜åŠ¿</p><ul class="lvl-4"><li class="lvl-6">ifè¯­å¥çš„æ¡ä»¶æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹å€¼ï¼Œifæ¡ä»¶è¡¨è¾¾å¼ä¸ºtrueåˆ™è¿›å…¥åˆ†æ”¯ï¼Œå¯ä»¥ç”¨äºèŒƒå›´çš„åˆ¤æ–­ï¼Œä¹Ÿå¯ä»¥ç”¨äºç­‰å€¼çš„åˆ¤æ–­ï¼Œ<code>ä½¿ç”¨èŒƒå›´æ›´å¹¿</code>â€‹ã€‚</li><li class="lvl-6">switchè¯­å¥çš„æ¡ä»¶æ˜¯ä¸€ä¸ªå¸¸é‡å€¼ï¼ˆbyte,short,int,char,æšä¸¾,Stringï¼‰ï¼Œåªèƒ½åˆ¤æ–­æŸä¸ªå˜é‡æˆ–è¡¨è¾¾å¼çš„ç»“æœæ˜¯å¦ç­‰äºæŸä¸ªå¸¸é‡å€¼ï¼Œ<code>ä½¿ç”¨åœºæ™¯è¾ƒç‹­çª„</code>â€‹ã€‚</li></ul></li><li class="lvl-4"><p>switchè¯­å¥ä¼˜åŠ¿</p><ul class="lvl-4"><li class="lvl-6">å½“æ¡ä»¶æ˜¯åˆ¤æ–­æŸä¸ªå˜é‡æˆ–è¡¨è¾¾å¼æ˜¯å¦ç­‰äºæŸä¸ªå›ºå®šçš„å¸¸é‡å€¼æ—¶ï¼Œä½¿ç”¨ifå’Œswitchéƒ½å¯ä»¥ï¼Œä¹ æƒ¯ä¸Šä½¿ç”¨switchæ›´å¤šã€‚å› ä¸º<code>æ•ˆç‡ç¨é«˜</code>â€‹ã€‚å½“æ¡ä»¶æ˜¯åŒºé—´èŒƒå›´çš„åˆ¤æ–­æ—¶ï¼Œåªèƒ½ä½¿ç”¨ifè¯­å¥ã€‚</li><li class="lvl-6">ä½¿ç”¨switchå¯ä»¥åˆ©ç”¨<code>ç©¿é€æ€§</code>â€‹ï¼ŒåŒæ—¶æ‰§è¡Œå¤šä¸ªåˆ†æ”¯ï¼Œè€Œifâ€¦elseæ²¡æœ‰ç©¿é€æ€§ã€‚</li></ul></li></ul></li></ul><h2 id="3-å¾ªç¯è¯­å¥">3. å¾ªç¯è¯­å¥</h2><ul class="lvl-0"><li class="lvl-2"><p>ç†è§£ï¼šå¾ªç¯è¯­å¥å…·æœ‰åœ¨æŸäº›æ¡ä»¶ä¸‹æ»¡è¶³çš„æƒ…å†µä¸‹ ï¼Œåå¤æ‰§è¡Œç‰¹å®šä»£ç çš„åŠŸèƒ½</p></li><li class="lvl-2"><p>å¾ªç¯ç»“æ„åˆ†ç±»ï¼š</p><ul class="lvl-2"><li class="lvl-4">forå¾ªç¯</li><li class="lvl-4">whileå¾ªç¯</li><li class="lvl-4">do-whileå¾ªç¯</li></ul></li><li class="lvl-2"><p>å¾ªç¯ç»“æ„å››è¦ç´ </p><ul class="lvl-2"><li class="lvl-4">åˆå§‹éƒ¨åˆ†</li><li class="lvl-4">å¾ªç¯æ¡ä»¶éƒ¨åˆ†</li><li class="lvl-4">å¾ªç¯ä½“éƒ¨åˆ†</li><li class="lvl-4">è¿­ä»£éƒ¨åˆ†</li></ul></li></ul><h4 id="3-1-forå¾ªç¯">3.1 forå¾ªç¯</h4><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬è¯­æ³•ï¼š</p></li><li class="lvl-2"><p>è¯­æ³•æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (â‘ åˆå§‹åŒ–éƒ¨åˆ†; â‘¡å¾ªç¯æ¡ä»¶éƒ¨åˆ†; â‘£è¿­ä»£éƒ¨åˆ†)ï½›</span><br><span class="line">         â‘¢å¾ªç¯ä½“éƒ¨åˆ†;</span><br><span class="line">ï½</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p><strong>æ‰§è¡Œè¿‡ç¨‹ï¼š</strong> â‘ -â‘¡-â‘¢-â‘£-â‘¡-â‘¢-â‘£-â‘¡-â‘¢-â‘£-â€¦-â‘¡</p></li><li class="lvl-2"><p>å›¾ç¤º</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240116121208-l5klzbz.png" alt="image"></p></li><li class="lvl-2"><p>è¯´æ˜ï¼š</p><ul class="lvl-2"><li class="lvl-4">for(;;)ä¸­çš„ä¸¤ä¸ªï¼›ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘</li><li class="lvl-4">â‘ åˆå§‹åŒ–éƒ¨åˆ†å¯ä»¥å£°æ˜å¤šä¸ªå˜é‡ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œç”¨é€—å·åˆ†éš”</li><li class="lvl-4">â‘¡å¾ªç¯æ¡ä»¶éƒ¨åˆ†ä¸ºbooleanç±»å‹è¡¨è¾¾å¼ï¼Œå½“å€¼ä¸ºfalseæ—¶ï¼Œé€€å‡ºå¾ªç¯</li><li class="lvl-4">â‘£å¯ä»¥æœ‰å¤šä¸ªå˜é‡æ›´æ–°ï¼Œç”¨é€—å·åˆ†éš”</li></ul></li></ul><h4 id="3-2-while-å¾ªç¯">3.2 while å¾ªç¯</h4><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬è¯­æ³•</p><ul class="lvl-2"><li class="lvl-4"><p>è¯­æ³•æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â‘ åˆå§‹åŒ–éƒ¨åˆ†</span><br><span class="line"><span class="keyword">while</span>(â‘¡å¾ªç¯æ¡ä»¶éƒ¨åˆ†)ï½›</span><br><span class="line">    â‘¢å¾ªç¯ä½“éƒ¨åˆ†;</span><br><span class="line">    â‘£è¿­ä»£éƒ¨åˆ†;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p><strong>æ‰§è¡Œè¿‡ç¨‹ï¼š</strong> â‘ -â‘¡-â‘¢-â‘£-â‘¡-â‘¢-â‘£-â‘¡-â‘¢-â‘£-â€¦-â‘¡</p></li><li class="lvl-4"><p>å›¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240116122000-1xvk6bl.png" alt="image"></p></li><li class="lvl-4"><p>è¯´æ˜ï¼š</p><ul class="lvl-4"><li class="lvl-6">while(å¾ªç¯æ¡ä»¶)ä¸­å¾ªç¯æ¡ä»¶å¿…é¡»æ˜¯booleanç±»å‹ã€‚</li><li class="lvl-6">æ³¨æ„ä¸è¦å¿˜è®°å£°æ˜â‘£è¿­ä»£éƒ¨åˆ†ã€‚å¦åˆ™ï¼Œå¾ªç¯å°†ä¸èƒ½ç»“æŸï¼Œå˜æˆæ­»å¾ªç¯ã€‚</li><li class="lvl-6">forå¾ªç¯å’Œwhileå¾ªç¯å¯ä»¥ç›¸äº’è½¬æ¢ã€‚äºŒè€…æ²¡æœ‰æ€§èƒ½ä¸Šçš„å·®åˆ«ã€‚å®é™…å¼€å‘ä¸­ï¼Œæ ¹æ®å…·ä½“ç»“æ„çš„æƒ…å†µï¼Œé€‰æ‹©å“ªä¸ªæ ¼å¼æ›´åˆé€‚ã€ç¾è§‚ã€‚</li><li class="lvl-6">forå¾ªç¯ä¸whileå¾ªç¯çš„åŒºåˆ«ï¼šåˆå§‹åŒ–æ¡ä»¶éƒ¨åˆ†çš„ä½œç”¨åŸŸä¸åŒã€‚</li></ul></li></ul></li></ul><h4 id="3-3-do-while-å¾ªç¯">3.3 do-while å¾ªç¯</h4><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬è¯­æ³•</p><ul class="lvl-2"><li class="lvl-4"><p>è¯­æ³•æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â‘ åˆå§‹åŒ–éƒ¨åˆ†;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">â‘¢å¾ªç¯ä½“éƒ¨åˆ†</span><br><span class="line">â‘£è¿­ä»£éƒ¨åˆ†</span><br><span class="line">&#125;<span class="keyword">while</span>(â‘¡å¾ªç¯æ¡ä»¶éƒ¨åˆ†); </span><br></pre></td></tr></table></figure></li><li class="lvl-4"><p>æ‰§è¡Œè¿‡ç¨‹ï¼šâ‘ -â‘¢-â‘£-â‘¡-â‘¢-â‘£-â‘¡-â‘¢-â‘£-â€¦-â‘¡</p></li><li class="lvl-4"><p>å›¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240117112328-8c3hhrd.png" alt="image"></p></li><li class="lvl-4"><p>è¯´æ˜ï¼š</p><ul class="lvl-4"><li class="lvl-6">ç»“å°¾while(å¾ªç¯æ¡ä»¶)ä¸­å¾ªç¯æ¡ä»¶å¿…é¡»æ˜¯booleanç±»å‹</li><li class="lvl-6">do{}while();æœ€åæœ‰ä¸€ä¸ªåˆ†å·</li><li class="lvl-6">do-whileç»“æ„çš„å¾ªç¯ä½“è¯­å¥æ˜¯è‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè¿™ä¸ªå’Œforå’Œwhileæ˜¯ä¸ä¸€æ ·çš„</li><li class="lvl-6">å¾ªç¯çš„ä¸‰ä¸ªç»“æ„forã€whileã€do-whileä¸‰è€…æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ã€‚</li></ul></li></ul></li></ul><h4 id="3-4-å¯¹æ¯”ä¸‰ç§å¾ªç¯ç»“æ„">3.4 å¯¹æ¯”ä¸‰ç§å¾ªç¯ç»“æ„</h4><ul class="lvl-0"><li class="lvl-2"><p><strong>ä¸‰ç§å¾ªç¯ç»“æ„éƒ½å…·æœ‰å››ä¸ªè¦ç´ ï¼š</strong></p><ul class="lvl-2"><li class="lvl-4">å¾ªç¯å˜é‡çš„åˆå§‹åŒ–æ¡ä»¶</li><li class="lvl-4">å¾ªç¯æ¡ä»¶</li><li class="lvl-4">å¾ªç¯ä½“è¯­å¥å—</li><li class="lvl-4">å¾ªç¯å˜é‡çš„ä¿®æ”¹çš„è¿­ä»£è¡¨è¾¾å¼</li></ul></li><li class="lvl-2"><p><strong>ä»å¾ªç¯æ¬¡æ•°è§’åº¦åˆ†æ</strong></p><ul class="lvl-2"><li class="lvl-4">do-whileå¾ªç¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“è¯­å¥ã€‚</li><li class="lvl-4">forå’Œwhileå¾ªç¯å…ˆåˆ¤æ–­å¾ªç¯æ¡ä»¶è¯­å¥æ˜¯å¦æˆç«‹ï¼Œç„¶åå†³å®šæ˜¯å¦æ‰§è¡Œå¾ªç¯ä½“ã€‚</li></ul></li><li class="lvl-2"><p><strong>å¦‚ä½•é€‰æ‹©</strong></p><ul class="lvl-2"><li class="lvl-4">éå†æœ‰æ˜æ˜¾çš„å¾ªç¯æ¬¡æ•°ï¼ˆèŒƒå›´ï¼‰çš„éœ€æ±‚ï¼Œé€‰æ‹©forå¾ªç¯</li><li class="lvl-4">éå†æ²¡æœ‰æ˜æ˜¾çš„å¾ªç¯æ¬¡æ•°ï¼ˆèŒƒå›´ï¼‰çš„éœ€æ±‚ï¼Œé€‰æ‹©whileå¾ªç¯</li><li class="lvl-4">å¦‚æœå¾ªç¯ä½“è¯­å¥å—è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨do-whileå¾ªç¯</li><li class="lvl-4">æœ¬è´¨ä¸Šï¼šä¸‰ç§å¾ªç¯ä¹‹é—´å®Œå…¨å¯ä»¥äº’ç›¸è½¬æ¢ï¼Œéƒ½èƒ½å®ç°å¾ªç¯çš„åŠŸèƒ½</li></ul></li></ul><h4 id="3-5-æ— é™å¾ªç¯">3.5 æ— é™å¾ªç¯</h4><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬è¯­æ³•</p><ul class="lvl-2"><li class="lvl-4"><p>è¯­æ³•æ ¼å¼ï¼šæœ€ç®€å•çš„æ— é™å¾ªç¯æ ¼å¼ï¼š==while(true) , for( ; ;)==â€‹</p></li><li class="lvl-4"><p>é€‚ç”¨åœºæ™¯</p><ul class="lvl-4"><li class="lvl-6">å¼€å‘ä¸­ï¼Œæœ‰æ—¶å¹¶ä¸ç¡®å®šéœ€è¦å¾ªç¯å¤šå°‘æ¬¡ï¼Œéœ€è¦æ ¹æ®å¾ªç¯ä½“å†…éƒ¨æŸäº›æ¡ä»¶ï¼Œæ¥æ§åˆ¶å¾ªç¯çš„ç»“æŸï¼ˆä½¿ç”¨breakï¼‰ã€‚</li><li class="lvl-6">å¦‚æœæ­¤å¾ªç¯ç»“æ„ä¸èƒ½ç»ˆæ­¢ï¼Œåˆ™æ„æˆäº†æ­»å¾ªç¯ï¼å¼€å‘ä¸­è¦é¿å…å‡ºç°æ­»å¾ªç¯ã€‚</li></ul></li></ul></li></ul><h4 id="3-6-åµŒå¥—å¾ªç¯">3.6 åµŒå¥—å¾ªç¯</h4><ul class="lvl-0"><li class="lvl-2"><p><strong>æ‰€è°“åµŒå¥—å¾ªç¯</strong>ï¼Œæ˜¯æŒ‡ä¸€ä¸ªå¾ªç¯ç»“æ„Açš„å¾ªç¯ä½“æ˜¯å¦ä¸€ä¸ªå¾ªç¯ç»“æ„Bã€‚æ¯”å¦‚ï¼Œforå¾ªç¯é‡Œé¢è¿˜æœ‰ä¸€ä¸ªforå¾ªç¯ï¼Œå°±æ˜¯åµŒå¥—å¾ªç¯ã€‚å…¶ä¸­ï¼Œfor ,while ,do-whileå‡å¯ä»¥ä½œä¸ºå¤–å±‚å¾ªç¯æˆ–å†…å±‚å¾ªç¯ã€‚</p><ul class="lvl-2"><li class="lvl-4">å¤–å±‚å¾ªç¯ï¼šå¾ªç¯ç»“æ„A</li><li class="lvl-4">å†…å±‚å¾ªç¯ï¼šå¾ªç¯ç»“æ„B</li></ul></li><li class="lvl-2"><p>å®è´¨ä¸Šï¼Œ<code>åµŒå¥—å¾ªç¯å°±æ˜¯æŠŠå†…å±‚å¾ªç¯å½“æˆå¤–å±‚å¾ªç¯çš„å¾ªç¯ä½“</code>â€‹ã€‚åªæœ‰å½“å†…å±‚å¾ªç¯çš„å¾ªç¯æ¡ä»¶ä¸ºfalseæ—¶ï¼Œæ‰ä¼šå®Œå…¨è·³å‡ºå†…å±‚å¾ªç¯ï¼Œæ‰å¯ç»“æŸå¤–å±‚çš„å½“æ¬¡å¾ªç¯ï¼Œå¼€å§‹ä¸‹ä¸€æ¬¡çš„å¤–å±‚å¾ªç¯ã€‚</p></li><li class="lvl-2"><p>è®¾å¤–å±‚å¾ªç¯æ¬¡æ•°ä¸º<code>m</code>â€‹æ¬¡ï¼Œå†…å±‚ä¸º<code>n</code>â€‹æ¬¡ï¼Œåˆ™å†…å±‚å¾ªç¯ä½“å®é™…ä¸Šéœ€è¦æ‰§è¡Œ<code>m*n</code>â€‹æ¬¡ã€‚</p></li><li class="lvl-2"><p><strong>æŠ€å·§ï¼š</strong> ä»äºŒç»´å›¾å½¢çš„è§’åº¦çœ‹ï¼Œå¤–å±‚å¾ªç¯æ§åˆ¶<code>è¡Œæ•°</code>â€‹ï¼Œå†…å±‚å¾ªç¯æ§åˆ¶<code>åˆ—æ•°</code>â€‹ã€‚</p></li><li class="lvl-2"><p><strong>å¼€å‘ç»éªŒï¼š</strong> å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æœ€å¤šè§åˆ°çš„åµŒå¥—å¾ªç¯æ˜¯ä¸¤å±‚ã€‚ä¸€èˆ¬ä¸ä¼šå‡ºç°è¶…è¿‡ä¸‰å±‚çš„åµŒå¥—å¾ªç¯ã€‚å¦‚æœå°†è¦å‡ºç°ï¼Œä¸€å®šè¦åœä¸‹æ¥é‡æ–°æ¢³ç†ä¸šåŠ¡é€»è¾‘ï¼Œé‡æ–°æ€è€ƒç®—æ³•çš„å®ç°ï¼Œæ§åˆ¶åœ¨ä¸‰å±‚ä»¥å†…ã€‚å¦åˆ™ï¼Œå¯è¯»æ€§ä¼šå¾ˆå·®ã€‚</p></li></ul><h2 id="4-å…³é”®å­—break-å’Œ-coutinue-çš„ä½¿ç”¨">4. å…³é”®å­—break å’Œ coutinue çš„ä½¿ç”¨</h2><table><thead><tr><th>å…³é”®å­—</th><th>é€‚ç”¨èŒƒå›´</th><th>åœ¨å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨çš„ä½œç”¨</th></tr></thead><tbody><tr><td>break</td><td>switch-caseå¾ªç¯ç»“æ„</td><td>ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç»“æŸ(æˆ–è·³å‡º)<strong>å½“å‰</strong>å¾ªç¯ç»“æ„</td></tr><tr><td>continue</td><td>å¾ªç¯ç»“æ„</td><td>ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç»“æŸ(æˆ–è·³å‡º)<strong>å½“æ¬¡</strong>å¾ªç¯ç»“æ„</td></tr></tbody></table><blockquote><p>æ­¤å¤–ï¼Œå¾ˆå¤šè¯­è¨€éƒ½æœ‰gotoè¯­å¥ï¼Œgotoè¯­å¥å¯ä»¥éšæ„å°†æ§åˆ¶è½¬ç§»åˆ°ç¨‹åºä¸­çš„ä»»æ„ä¸€æ¡è¯­å¥ä¸Šï¼Œç„¶åæ‰§è¡Œå®ƒï¼Œä½†ä½¿ç¨‹åºå®¹æ˜“å‡ºé”™ã€‚Javaä¸­çš„breakå’Œcontinueæ˜¯ä¸åŒäºgotoçš„ã€‚</p></blockquote><h2 id="5-Scanner-é”®ç›˜è¾“å…¥åŠŸèƒ½çš„å®ç°">5. Scanner: é”®ç›˜è¾“å…¥åŠŸèƒ½çš„å®ç°</h2><ul class="lvl-0"><li class="lvl-2"><p>é”®ç›˜è¾“å…¥ä»£ç çš„å››ä¸ªæ­¥éª¤</p><ol><li class="lvl-5">å¯¼åŒ…ï¼š<code>import java.util.Scanner;</code>â€‹</li><li class="lvl-5">åˆ›å»ºScannerç±»å‹çš„å¯¹è±¡ï¼š<code>Scanner scan = new Scanner(System.in);</code>â€‹</li><li class="lvl-5">è°ƒç”¨Scannerç±»çš„ç›¸å…³æ–¹æ³•ï¼ˆ<code>next() / nextXxx()</code>â€‹ï¼‰ï¼Œæ¥è·å–æŒ‡å®šç±»å‹çš„å˜é‡</li><li class="lvl-5">é‡Šæ”¾èµ„æºï¼š<code>scan.close();</code>â€‹</li></ol></li><li class="lvl-2"><p>æ³¨æ„ï¼šéœ€è¦æ ¹æ®ç›¸åº”çš„æ–¹æ³•ï¼Œæ¥è¾“å…¥æŒ‡å®šç±»å‹çš„å€¼ ï¼Œå¦‚æœè¾“å…¥çš„æ•°æ®ç±»å‹ä¸è¦æ±‚çš„ç±»å‹ä¸åŒ¹é…æ—¶ ï¼Œä¼šæŠ¥å¼‚å¸¸å¯¼è‡´ç¨‹åºç»ˆæ­¢</p></li></ul><p>è·å–éšæœºæ•°ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MathRandomTest</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="type">double</span> <span class="variable">value</span> <span class="operator">=</span> Math.random();</span><br><span class="line">System.out.println(value);</span><br><span class="line"></span><br><span class="line"><span class="comment">//[1,6]</span></span><br><span class="line"><span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> (<span class="type">int</span>)(Math.random() * <span class="number">6</span>) + <span class="number">1</span>; <span class="comment">//</span></span><br><span class="line">System.out.println(number);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-è°·ç²’è®°è´¦">6. è°·ç²’è®°è´¦</h2><p>åº”ç”¨ç±»ï¼šNorthAccount</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.north;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Stone</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/1/17$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NorthAccount</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">details</span> <span class="operator">=</span> <span class="string">&quot;æ”¶æ”¯\t è´¦æˆ·é‡‘é¢\t æ”¶æ”¯é‡‘é¢\t è¯´æ˜\n&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">acount</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">        <span class="keyword">while</span> (flag) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;-------------------------------è°·ç²’è®°è´¦è½¯ä»¶-----------------------------------&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                                1.æ”¶æ”¯æ˜ç»†                                    &quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                                2.ç™»è®°æ”¶å…¥                                    &quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                                3.ç™»è®°æ”¯å‡º                                    &quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                                4.é€€å‡º \n                                      &quot;</span>);</span><br><span class="line">            System.out.print(<span class="string">&quot;                                è¯·é€‰æ‹©(1-4):&quot;</span>);</span><br><span class="line">            <span class="type">char</span> <span class="variable">selection</span> <span class="operator">=</span> Utility.readMenuSelection(); <span class="comment">// è¿›è¡Œé€‰æ‹©</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">switch</span> (selection) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;-------------------------å½“å‰æ‰‹æŒ‡æ˜ç»†è®°å½•-------------------------------&quot;</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;-----------------------------------------------------------------------&quot;</span>);</span><br><span class="line">                    System.out.println(details);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡è¾“å…¥é‡‘é¢ï¼š&quot;</span>);</span><br><span class="line">                    <span class="type">int</span> <span class="variable">amount1</span> <span class="operator">=</span> Utility.readNumber();</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¶å…¥è¯´æ˜ï¼š&quot;</span>);</span><br><span class="line">                    <span class="type">String</span> <span class="variable">desc1</span> <span class="operator">=</span> Utility.readString();</span><br><span class="line"></span><br><span class="line">                    acount += amount1;</span><br><span class="line">                    details += <span class="string">&quot;æ”¶å…¥\t&quot;</span> + acount + <span class="string">&quot;\t\t&quot;</span> + amount1 + <span class="string">&quot;\t\t&quot;</span> + desc1 + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¯å‡ºé‡‘é¢ï¼š&quot;</span>);</span><br><span class="line">                    <span class="type">int</span> <span class="variable">amount2</span> <span class="operator">=</span> Utility.readNumber();</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¯å‡ºè¯´æ˜ï¼š&quot;</span>);</span><br><span class="line">                    <span class="type">String</span> <span class="variable">desc2</span> <span class="operator">=</span> Utility.readString();</span><br><span class="line"></span><br><span class="line">                    acount -= amount2;</span><br><span class="line">                    details += <span class="string">&quot;æ”¯å‡º\t&quot;</span> + acount + <span class="string">&quot;\t\t&quot;</span> + amount2 + <span class="string">&quot;\t\t&quot;</span> + desc2 + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;4&#x27;</span>:</span><br><span class="line">                    System.out.print(<span class="string">&quot;ç¡®è®¤æ˜¯å¦é€€å‡º(Y/N): &quot;</span>);</span><br><span class="line">                    <span class="type">char</span> <span class="variable">confirmSelection</span> <span class="operator">=</span> Utility.readConfirmSelection();</span><br><span class="line">                    <span class="keyword">if</span> (confirmSelection == <span class="string">&#x27;Y&#x27;</span>)&#123;</span><br><span class="line">                        flag = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å·¥å…·ç±»ï¼šUtility</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.north;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Stone</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/1/17$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Utility</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     ç”¨äºç•Œé¢èœå•çš„é€‰æ‹©ã€‚è¯¥æ–¹æ³•è¯»å–é”®ç›˜ï¼Œå¦‚æœç”¨æˆ·é”®å…¥â€™1â€™-â€™4â€™ä¸­çš„ä»»æ„å­—ç¬¦ï¼Œåˆ™æ–¹æ³•è¿”å›ã€‚è¿”å›å€¼ä¸ºç”¨æˆ·é”®å…¥å­—ç¬¦ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span> <span class="title function_">readMenuSelection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">char</span> c;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">1</span>);</span><br><span class="line">            c = str.charAt(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="string">&#x27;1&#x27;</span> &amp;&amp; c != <span class="string">&#x27;2&#x27;</span> &amp;&amp; c != <span class="string">&#x27;3&#x27;</span> &amp;&amp; c != <span class="string">&#x27;4&#x27;</span>) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;é€‰æ‹©é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     ç”¨äºæ”¶å…¥å’Œæ”¯å‡ºé‡‘é¢çš„è¾“å…¥ã€‚è¯¥æ–¹æ³•ä»é”®ç›˜è¯»å–ä¸€ä¸ªä¸è¶…è¿‡4ä½é•¿åº¦çš„æ•´æ•°ï¼Œå¹¶å°†å…¶ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">readNumber</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">4</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                n = Integer.parseInt(str);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;æ•°å­—è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     ç”¨äºæ”¶å…¥å’Œæ”¯å‡ºè¯´æ˜çš„è¾“å…¥ã€‚è¯¥æ–¹æ³•ä»é”®ç›˜è¯»å–ä¸€ä¸ªä¸è¶…è¿‡8ä½é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">readString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">8</span>);</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     ç”¨äºç¡®è®¤é€‰æ‹©çš„è¾“å…¥ã€‚è¯¥æ–¹æ³•ä»é”®ç›˜è¯»å–â€˜Yâ€™æˆ–â€™Nâ€™ï¼Œå¹¶å°†å…¶ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span> <span class="title function_">readConfirmSelection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">char</span> c;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">1</span>).toUpperCase();</span><br><span class="line">            c = str.charAt(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;Y&#x27;</span> || c == <span class="string">&#x27;N&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;é€‰æ‹©é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">readKeyBoard</span><span class="params">(<span class="type">int</span> limit)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">            line = scanner.nextLine();</span><br><span class="line">            <span class="keyword">if</span> (line.length() &lt; <span class="number">1</span> || line.length() &gt; limit) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;è¾“å…¥é•¿åº¦ï¼ˆä¸å¤§äº&quot;</span> + limit + <span class="string">&quot;ï¼‰é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> line;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬äºŒç« ï¼šå˜é‡ä¸è¿ç®—ç¬¦</title>
      <link href="/posts/28b3fa6.html"/>
      <url>/posts/28b3fa6.html</url>
      
        <content type="html"><![CDATA[<h1>ç¬¬äºŒç« ï¼šå˜é‡ä¸è¿ç®—ç¬¦</h1><h2 id="1-å…³é”®å­—">1. å…³é”®å­—</h2><ul class="lvl-0"><li class="lvl-2"><p>å®šä¹‰ï¼šè¢«javaè¯­è¨€èµ‹äºˆäº†ç‰¹æ®Šå«ä¹‰ ï¼Œç”¨ä½œä¸“é—¨ç”¨é€”çš„å­—ç¬¦ä¸²(æˆ–å•è¯)</p></li><li class="lvl-2"><p>ç‰¹ç‚¹ï¼šå…¨éƒ¨å…³é”®å­—éƒ½æ˜¯<code>å°å†™å­—æ¯</code>â€‹</p></li><li class="lvl-2"><p><a href="%20https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html">å®˜ç½‘åœ°å€</a></p></li><li class="lvl-2"><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240115172006-m537akt.png" alt="image">â€‹</p></li><li class="lvl-2"><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240115172016-bu9ire4.png" alt="image">â€‹</p></li></ul><h2 id="2-æ ‡è¯†ç¬¦">2. æ ‡è¯†ç¬¦</h2><ul class="lvl-0"><li class="lvl-2"><p>å®šä¹‰ï¼šjavaä¸­å˜é‡ ï¼Œæ–¹æ³• ï¼Œç±»ç­‰è¦ç´ å‘½åæ—¶ä½¿ç”¨çš„å­—ç¬¦åºåˆ—æˆä¸ºæ ‡è¯†ç¬¦</p></li><li class="lvl-2"><p>æŠ€å·§ï¼šå‡¡æ˜¯è‡ªå·±å¯ä»¥èµ·åå­—çš„åœ°æ–¹éƒ½å«æ ‡è¯†ç¬¦ ã€‚<strong>æœ€å¥½æ˜¯è§åçŸ¥ä¹‰</strong></p></li></ul><p><strong>æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™(ç¡¬æ€§è¦æ±‚)</strong></p><blockquote><ul class="lvl-1"><li class="lvl-2"><p>ç”±26ä¸ªè‹±æ–‡å­—æ¯å¤§å°å†™ï¼Œ0-9 ï¼Œ_æˆ– $ ç»„æˆ</p></li><li class="lvl-2"><p>æ•°å­—ä¸å¯ä»¥å¼€å¤´</p></li><li class="lvl-2"><p>ä¸å¯ä»¥ä½¿ç”¨javaå…³é”®å­—å’Œä¿ç•™å­— ï¼Œä½†èƒ½åŒ…å«å…³é”®å­—å’Œä¿ç•™å­—</p></li><li class="lvl-2"><p>Javaä¸­ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œé•¿åº¦æ— é™åˆ¶</p></li><li class="lvl-2"><p>æ ‡è¯†ç¬¦ä¸èƒ½åŒ…å«ç©ºæ ¼</p></li></ul></blockquote><p><strong>æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ ï¼š</strong></p><blockquote><ul class="lvl-1"><li class="lvl-2"><p>åŒ…åï¼šå¤šå•è¯ç»„æˆæ—¶æ‰€æœ‰å­—æ¯éƒ½è¦å°å†™</p></li><li class="lvl-2"><p>ç±»åï¼Œæ¥å£åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œæ‰€æœ‰å•è¯çš„é¦–å­—æ¯å¤§å†™</p></li><li class="lvl-2"><p>å˜é‡åï¼Œæ–¹æ³•åï¼šå¤šå•è¯ç»„æˆæ—¶ ï¼Œç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ ï¼Œç¬¬äºŒä¸ªå•è¯å¼€å§‹æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™</p></li><li class="lvl-2"><p>å¸¸é‡åï¼šæ‰€æœ‰å­—æ¯éƒ½è¦å¤§å†™ ï¼Œå¤šå•è¯æ—¶æ¯ä¸ªå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥ï¼šXXX_YYY_ZZZ</p></li></ul></blockquote><h2 id="3-å˜é‡">3. å˜é‡</h2><ul class="lvl-0"><li class="lvl-2"><p>å˜é‡çš„æ¦‚å¿µï¼š</p><ul class="lvl-2"><li class="lvl-4">å†…å­˜ä¸­çš„ä¸€ä¸ª<strong>å­˜å‚¨åŒºåŸŸ</strong>ï¼Œè¯¥åŒºåŸŸçš„æ•°æ®å¯ä»¥åœ¨åŒä¸€ç±»å‹èŒƒå›´å†…ä¸æ–­å˜åŒ–</li><li class="lvl-4">å˜é‡çš„æ„æˆåŒ…å«ä¸‰ä¸ªå…ƒç´ ï¼š <span data-type="text" style="color: var(--b3-font-color2);">æ•°æ®ç±»å‹</span> ï¼Œ<span data-type="text" style="color: var(--b3-font-color3);">å˜é‡å</span> ï¼Œ<span data-type="text" style="color: var(--b3-font-color4);"> å­˜å‚¨çš„å€¼</span></li><li class="lvl-4">Javaä¸­å˜é‡çš„å£°æ˜æ ¼å¼ï¼š<code>æ•°æ®ç±»å‹ å˜é‡å = å˜é‡å€¼</code>â€‹</li></ul></li><li class="lvl-2"><p>å˜é‡çš„ä½œç”¨ï¼šç”¨äºåœ¨å†…å­˜ä¸­ä¿å­˜æ•°æ®</p></li><li class="lvl-2"><p>ä½¿ç”¨å˜é‡æ³¨æ„ï¼š</p><ul class="lvl-2"><li class="lvl-4">Javaä¸­æ¯ä¸ªå˜é‡å¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ã€‚</li><li class="lvl-4">ä½¿ç”¨å˜é‡åæ¥è®¿é—®è¿™å—åŒºåŸŸçš„æ•°æ®ã€‚</li><li class="lvl-4">å˜é‡çš„ä½œç”¨åŸŸï¼šå…¶å®šä¹‰æ‰€åœ¨çš„ä¸€å¯¹{ }å†…ã€‚</li><li class="lvl-4">å˜é‡åªæœ‰åœ¨å…¶<code>ä½œç”¨åŸŸ</code>â€‹å†…æ‰æœ‰æ•ˆã€‚å‡ºäº†ä½œç”¨åŸŸï¼Œå˜é‡ä¸å¯ä»¥å†è¢«è°ƒç”¨ã€‚</li><li class="lvl-4">åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œä¸èƒ½å®šä¹‰é‡åçš„å˜é‡ã€‚</li></ul></li><li class="lvl-2"><p>Javaä¸­å˜é‡çš„æ•°æ®ç±»å‹</p><ul class="lvl-2"><li class="lvl-4">åŸºæœ¬æ•°æ®ç±»å‹ï¼šåŒ…æ‹¬ æ•´æ•°ç±»å‹ ï¼Œæµ®ç‚¹æ•°ç±»å‹ ï¼Œå­—ç¬¦ç±»å‹ ï¼Œå¸ƒå°”ç±»å‹</li><li class="lvl-4">å¼•ç”¨æ•°æ®ç±»å‹ï¼šåŒ…æ‹¬ æ•°ç»„ ï¼Œç±» ï¼Œæ¥å£ ï¼Œæšä¸¾ ï¼Œæ³¨è§£ ï¼Œè®°å½•</li><li class="lvl-4"><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240115173506-2t04upj.png" alt="image">â€‹</li></ul></li></ul><h2 id="4-åŸºæœ¬æ•°æ®ç±»å‹">4. åŸºæœ¬æ•°æ®ç±»å‹</h2><p>æ•´æ•°ç±»å‹ï¼šbyte ,short ,int , long</p><p>æµ®ç‚¹ç±»å‹ï¼šfloat , double</p><p>å­—ç¬¦ç±»å‹ï¼š char</p><p>å¸ƒå°”ç±»å‹ï¼šboolean</p><h2 id="5-åŸºæœ¬æ•°æ®ç±»å‹å˜é‡é—´çš„è¿ç®—è§„åˆ™">5. åŸºæœ¬æ•°æ®ç±»å‹å˜é‡é—´çš„è¿ç®—è§„åˆ™</h2><p>è‡ªåŠ¨ç±»å‹è½¬æ¢ ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>è§„åˆ™ï¼šå°†å–å€¼èŒƒå›´å°(æˆ–å®¹é‡å°)çš„ç±»å‹è‡ªåŠ¨æå‡ä¸ºå–å€¼èŒƒå›´å¤§(æˆ–å®¹é‡å¤§)çš„ç±»å‹</p></li><li class="lvl-2"><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240115192932-g1w4z5j.png" alt="image">â€‹</p></li></ul><p>â€</p><p>å¼ºåˆ¶ç±»å‹è½¬æ¢</p><ul class="lvl-0"><li class="lvl-2"><p>è§„åˆ™ï¼šå°†å–å€¼èŒƒå›´å¤§(æˆ–å®¹é‡å¤§)çš„ç±»å‹å¼ºåˆ¶è½¬æ¢æˆå–å€¼èŒƒå›´å°(æˆ–å®¹é‡å°)çš„ç±»å‹</p></li><li class="lvl-2"><p>è½¬æ¢æ ¼å¼ï¼š æ•°æ®ç±»å‹ å˜é‡å = (æ•°æ®ç±»å‹) è¢«å¼ºè½¬æ•°æ®å€¼</p></li><li class="lvl-2"><p>æ³¨æ„ï¼š</p><ul class="lvl-2"><li class="lvl-4">å½“æŠŠå­˜å‚¨èŒƒå›´å¤§çš„å€¼å¼ºåˆ¶è½¬æ¢ä¸ºèŒƒå›´å°çš„å˜é‡æ—¶ ï¼Œå¯èƒ½ä¼šæŸå¤±ç²¾åº¦æˆ–æº¢å‡º</li></ul></li></ul><p>åŸºæœ¬æ•°æ®ç±»å‹ä¸Stringçš„è¿ç®—</p><ul class="lvl-0"><li class="lvl-2"><p>å­—ç¬¦ä¸²ç±»å‹ï¼šString</p><ul class="lvl-2"><li class="lvl-4">Stringä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ ï¼Œå±äºå¼•ç”¨æ•°æ®ç±»å‹</li><li class="lvl-4">ä½¿ç”¨ä¸€å¯¹ <code>&quot;&quot;</code>â€‹æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸² ï¼Œ å†…éƒ¨å¯ä»¥åŒ…å«0ä¸ª ï¼Œ1ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li><li class="lvl-4">å£°æ˜æ–¹å¼ä¸åŸºæœ¬æ•°æ®ç±»å‹ç±»ä¼¼</li></ul></li><li class="lvl-2"><p>è¿ç®—è§„åˆ™</p><ul class="lvl-2"><li class="lvl-4">ä»»æ„å…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®ä¸Stringç±»å‹åªèƒ½è¿›è¡Œè¿æ¥â€œ+â€è¿ç®—ï¼Œä¸”ç»“æœä¸€å®šä¹Ÿæ˜¯Stringç±»å‹</li><li class="lvl-4">Stringç±»å‹ä¸èƒ½é€šè¿‡å¼ºåˆ¶ç±»å‹()è½¬æ¢ï¼Œè½¬ä¸ºå…¶ä»–çš„ç±»å‹</li></ul></li></ul><h2 id="6-è¿ç®—ç¬¦">6. è¿ç®—ç¬¦</h2><p>è¿ç®—ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¬¦å·ï¼Œç”¨ä»¥è¡¨ç¤ºæ•°æ®çš„è¿ç®—ã€èµ‹å€¼å’Œæ¯”è¾ƒç­‰ã€‚</p><p>è¿ç®—ç¬¦çš„åˆ†ç±»ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p><strong>æŒ‰ç…§</strong>â€‹<code>åŠŸèƒ½</code>â€‹åˆ†ä¸ºï¼šç®—æœ¯è¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦ã€æ¯”è¾ƒ(æˆ–å…³ç³»)è¿ç®—ç¬¦ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦ã€æ¡ä»¶è¿ç®—ç¬¦ã€Lambdaè¿ç®—ç¬¦</p></li></ul><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>è¿ç®—ç¬¦</strong></th></tr></thead><tbody><tr><td><strong>ç®—æœ¯è¿ç®—ç¬¦ï¼ˆ7ä¸ªï¼‰</strong></td><td><strong>+ã€-ã€*ã€/ã€%ã€++ã€â€“</strong></td></tr><tr><td><strong>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ12ä¸ªï¼‰</strong></td><td><strong>=ã€+=ã€-=ã€*=ã€/=ã€%=ã€&gt;&gt;=ã€&lt;&lt;=ã€&gt;&gt;&gt;=ã€&amp;=ã€</strong></td></tr><tr><td><strong>æ¯”è¾ƒ(æˆ–å…³ç³»)è¿ç®—ç¬¦ï¼ˆ6ä¸ªï¼‰</strong></td><td><strong>&gt;ã€&gt;=ã€&lt;ã€&lt;=ã€==ã€!=</strong></td></tr><tr><td><strong>é€»è¾‘è¿ç®—ç¬¦ï¼ˆ6ä¸ªï¼‰</strong></td><td><strong>&amp;ã€</strong></td></tr><tr><td><strong>ä½è¿ç®—ç¬¦ï¼ˆ7ä¸ªï¼‰</strong></td><td><strong>&amp;ã€</strong></td></tr><tr><td><strong>æ¡ä»¶è¿ç®—ç¬¦ï¼ˆ1ä¸ªï¼‰</strong></td><td><strong>(æ¡ä»¶è¡¨è¾¾å¼)?ç»“æœ1:ç»“æœ2</strong></td></tr><tr><td><strong>Lambdaè¿ç®—ç¬¦ï¼ˆ1ä¸ªï¼‰</strong></td><td><strong>-&gt;ï¼ˆç¬¬18ç« æ—¶è®²è§£ï¼‰</strong></td></tr></tbody></table><ul class="lvl-0"><li class="lvl-2"><p><strong>æŒ‰ç…§</strong>â€‹<code>æ“ä½œæ•°ä¸ªæ•°</code>â€‹åˆ†ä¸ºï¼šä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå•ç›®è¿ç®—ç¬¦ï¼‰ã€äºŒå…ƒè¿ç®—ç¬¦ï¼ˆåŒç›®è¿ç®—ç¬¦ï¼‰ã€ä¸‰å…ƒè¿ç®—ç¬¦ ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰</p></li></ul><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>è¿ç®—ç¬¦</strong></th></tr></thead><tbody><tr><td><strong>ä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå•ç›®è¿ç®—ç¬¦ï¼‰</strong></td><td><strong>æ­£å·ï¼ˆ+ï¼‰ã€è´Ÿå·ï¼ˆ-ï¼‰ã€++ã€â€“ã€!ã€~</strong></td></tr><tr><td><strong>äºŒå…ƒè¿ç®—ç¬¦ï¼ˆåŒç›®è¿ç®—ç¬¦ï¼‰</strong></td><td><strong>é™¤äº†ä¸€å…ƒå’Œä¸‰å…ƒè¿ç®—ç¬¦å‰©ä¸‹çš„éƒ½æ˜¯äºŒå…ƒè¿ç®—ç¬¦</strong></td></tr><tr><td><strong>ä¸‰å…ƒè¿ç®—ç¬¦ ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰</strong></td><td><strong>(æ¡ä»¶è¡¨è¾¾å¼)?ç»“æœ1:ç»“æœ2</strong></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é—²è¨€ç¢è¯­</title>
      <link href="/posts/8ebfad52.html"/>
      <url>/posts/8ebfad52.html</url>
      
        <content type="html"><![CDATA[<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>å°åŒ—ã®ç¢ç¢å¿µ</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-31 18:21</p></div></div><div class='timeline-item-content'><p>çœ‹ä¸‹ä¸€ä¸‹åˆçš„å°è¯´ ï¼Œç½ªæ¶å•Šï¼ğŸ¥±ğŸ¥±ğŸ¥±</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-31 11:24</p></div></div><div class='timeline-item-content'><p>å¹´å°‘è½»ç‹‚çš„å²æœˆï¼Œæ²‰æ·€ä¸‹æ¥çš„æ˜¯é‚£äº›å†ä¹Ÿå›ä¸åˆ°çš„è¿‡å»ï¼Œæ€»è®©äººæ„Ÿå¹ï¼Œè¿™æ˜¯æœªæ›¾çæƒœè€Œé‚£å¤±å»çš„é‚£äº›ï¼Œä½†è¿™äº›æ°æ°ä¹Ÿæ˜¯æˆ‘ä»¬æƒ³è®©ä½ å»ä½“ä¼šçš„ï¼Œå› ä¸ºå¹´å°‘è½»ç‹‚çš„å²æœˆï¼Œä¸€ç”Ÿåªæœ‰ä¸€æ¬¡ï¼Œä¸–é—´æœ€çè´µçš„ï¼Œä¸æ˜¯å¾—ä¸åˆ°å’Œå·²å¤±å»çš„ï¼Œè€Œæ˜¯ç°åœ¨èƒ½æŠŠæ¡çš„ï¼Œæˆ‘ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ªå¤æ‚è€Œåˆå……æ»¡æ— å¥ˆçš„ä¸–ç•Œï¼Œèº«ä¸ŠèƒŒè´Ÿå¤ªå¤šå¤ªå¤šçš„è´£ä»»å’Œä½¿å‘½ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¤„ç†ä¸å½“ï¼Œå°±ä¼šä¸å ªé‡è´Ÿï¼Œéš¾ä»¥å¿å—ï¼Œæœ€å®½é˜”çš„æ˜¯æµ·æ´‹ï¼Œæ¯”æµ·æ´‹æ›´å®½é˜”çš„æ˜¯å¤©ç©ºï¼Œæ¯”å¤©ç©ºæ›´å®½é˜”çš„æ˜¯äººçš„èƒ¸æ€€ï¼Œå½“ä½ ç´§æ¡åŒæ‰‹é‡Œé¢ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œå½“ä½ æ‰“å¼€åŒæ‰‹ï¼Œä¸–ç•Œå°±åœ¨ä½ æ‰‹ä¸­</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-29 18:42</p></div></div><div class='timeline-item-content'><p>è‡ªä»Šæ—¥èµ· ï¼Œæ¢å¤é”»ç‚¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-28 20:52</p></div></div><div class='timeline-item-content'><p>ç»™åšå®¢åˆ†ç±»å’Œæ ‡ç­¾é¡µé¢æ¢ä¸ªæ ·å¼ ï¼Œåé¢å·®ä¸å¤šåº”è¯¥ä¸ä¼šè¿›è¡Œæ ·å¼ç¾åŒ–äº† ï¼Œä¸»è¦åŸå› å‚è€ƒï¼š<a href="https://northpoet.github.io/posts/undefined.html">Butterfly ä¸»é¢˜ç¾åŒ–ä¹‹æ—…ï¼šä»ç»šçƒ‚å›å½’è´¨æœ´</a></p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-28 10:52</p></div></div><div class='timeline-item-content'><p>è¿˜æ˜¯ä¸è¦ç†¬å¤œçš„å¥½ ï¼Œæ˜¨å¤©ç¡å¤ªæ™šäº† ï¼Œå¯¼è‡´ä»Šå¤©çš„ç²¾ç¥çŠ¶æ€éƒ½ä¸æ˜¯å¾ˆå¥½ğŸ˜´ğŸ˜´ğŸ˜´</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-27 16:12</p></div></div><div class='timeline-item-content'><p>åŠ äº†ä¸ªå¡ç‰‡èƒŒæ™¯ ï¼Œçœ‹èµ·æ¥å¥½çœ‹å¤šäº†</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-27 15:27</p></div></div><div class='timeline-item-content'><p>èŠ±äº†ä¸€å°ç‚¹æ—¶é—´å°†åšå®¢è¿›è¡Œäº†ä¸‹ç®€å•çš„é‡æ„ï¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-25 10:38</p></div></div><div class='timeline-item-content'><p>äº‰å–ä¸¤å¤©æ—¶é—´å­¦å®Œé»‘é©¬ç‚¹è¯„ï¼ï¼ï¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-23 10:36</p></div></div><div class='timeline-item-content'><p>ç¨‹åºå‘˜çš„æ‚²å“€æ˜¯ä»€ä¹ˆï¼Ÿæ²¾æ²¾è‡ªå–œå­¦äº†ä¸€è¾ˆå­æŠ€æœ¯ï¼Œæœ€ç»ˆä¸è¿‡æ˜¯ä¸€ä¸ªè‡ªå¸¦ä¼˜è¶Šæ„Ÿçš„å·¥å…·äººã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-23 10:36</p></div></div><div class='timeline-item-content'><p>ç¨‹åºå‘˜çš„æ‚²å“€æ˜¯ä»€ä¹ˆï¼Ÿæ²¾æ²¾è‡ªå–œå­¦äº†ä¸€è¾ˆå­æŠ€æœ¯ï¼Œæœ€ç»ˆä¸è¿‡æ˜¯ä¸€ä¸ªè‡ªå¸¦ä¼˜è¶Šæ„Ÿçš„å·¥å…·äººã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-22 06:53</p></div></div><div class='timeline-item-content'><p>å¥½åƒå¿«ä¸€ä¸ªæœˆæ²¡æœ‰å­¦ä¹ äº†ï¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-19 20:20</p></div></div><div class='timeline-item-content'><p>ç”µå­æ¸¸æˆæ— æ„Ÿäº†ï¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-20 19:20</p></div></div><div class='timeline-item-content'><p>åé¢çš„è¯ ï¼Œä¹Ÿæ‰“ç®—å¼€å§‹è®°å½•è‡ªå·±çš„å­¦ä¹ ç”Ÿæ´»äº† ï¼Œå¸Œæœ›è‡ªå·±å¯ä»¥åšæŒä¸‹æ¥å§ï¼<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/027EB789.jpg" alt="img"></p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-19 20:20</p></div></div><div class='timeline-item-content'><p>ä»Šå¤©äº‹æƒ…è¿˜æŒºå¤šçš„ ï¼Œçœ‹äº†ä¸‹æ‰‹æœº ï¼Œæœ€ç»ˆè¿˜æ˜¯æ²¡æœ‰æŠµæŒ¡ä½ä¼˜æƒ çš„è¯±æƒ‘ ï¼Œè¦æ˜¯æ²¡æœ‰è¿™äº›æ‰‹æœºæ¢æ—§çš„è¯ ï¼Œæˆ‘å¯èƒ½ä¼šæ¯«ä¸çŠ¹è±«çš„å»é€‰æ‹©çº¢ç±³K70è‡³å°Šç‰ˆäº†å§ ï¼Œæœ‰é—æ†¾æ˜¯æ­£å¸¸çš„ ï¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-18 20:55</p></div></div><div class='timeline-item-content'><p>é”»ç‚¼å®Œæ„Ÿè§‰æˆ‘çŠ¶æ€åˆå›æ¥äº† ï¼Œæ˜å¤©å‡†å¤‡æ—©èµ·å­¦ä¹  âœ¨âœ¨âœ¨</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-18 17:20</p></div></div><div class='timeline-item-content'><p>çœŸçš„çƒ¦ ï¼Œå‘ç°è‡ªå·±å¥½åƒåˆå›åˆ°äº†ä¹‹å‰çš„çŠ¶æ€äº† ï¼Œä¸è¡Œ ï¼Œæˆ‘è¦ç»™è‡ªå·±æ¥ä¸ªå¼ºåˆ¶å¼€æœº ï¼Œå…ˆå‡†å¤‡é”»ç‚¼å»ğŸ¦‰</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-18 13:33</p></div></div><div class='timeline-item-content'><p>å…¶å®äººä¸€è¾ˆå­æ˜¯éœ€è¦ä¸€äº›å»ºè®®çš„ï¼Œå¯»æ±‚ç­”æ¡ˆï¼Œå°±æ˜¯å½“è‡ªå·±å¯»æ‰¾ä¸å‡ºç­”æ¡ˆåšä¸å‡ºæ­£ç¡®çš„é€‰æ‹©æ—¶ï¼Œéœ€è¦å€Ÿé‰´åˆ«äººçš„å»ºè®®ï¼Œä¾›è‡ªå·±åšå‡ºé€‰æ‹©ï¼Œä»–äººçš„é«˜åº¦ç¡®å®å¯èƒ½é™åˆ¶äº†ä½ çš„è§†é‡ï¼Œä½†å¦‚æœå½“è‡ªå·±æ²¡æœ‰åˆ«äººçš„é«˜åº¦æ—¶ï¼Œæ˜¯å¯ä»¥å€Ÿé‰´åˆ«äººçš„è§†é‡æ¥ï¼Œçœ‹æ¸…è‡ªå·±ï¼Œç­”æ¡ˆæ°¸è¿œæ˜¯è‡ªå·±è®¤åŒï¼Œå¹¶ä¸éœ€è¦è¿½æ±‚åˆ«äººçš„è®¤åŒï¼Œè¿™æ ·æ‰ä¸èƒ½è¢«ä¸–äººçš„é«˜å¢™å›´ä½ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-18 09:37</p></div></div><div class='timeline-item-content'><p>å…ˆè¿ç§»ä¸€éƒ¨åˆ†å­¦ä¹ ç¬”è®° ï¼Œæœ‰æ—¶é—´çš„è¯ ï¼Œå†æŠŠå¦å¤–çš„ç¬”è®°ä¹Ÿç»™è¿ç§»ä¸Šé¢å»</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-18 07:26</p></div></div><div class='timeline-item-content'><p>å‡†å¤‡ç»§ç»­é”»ç‚¼ ï¼Œå¼€å§‹è‡ªå¾‹ ï¼Œè¿˜æ˜¯ç»§ç»­ä¸‰åˆ†åŒ–è®­ç»ƒåŠ æ—©èµ·ç©ºè…¹æœ‰æ°§è¿åŠ¨ ï¼Œè´µåœ¨åšæŒ ï¼Œå†²å†²å†²ï¼ï¼ï¼<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/000CDDD2.gif" alt="img"></p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-17 23:09</p></div></div><div class='timeline-item-content'><p>æ˜å¤©å‡†å¤‡åšä¸€ä¸‹ç¬”è®°çš„è¿ç§» ï¼ŒæŠŠå¤§éƒ¨åˆ†çš„å­¦ä¹ ç¬”è®°éƒ½è¿ç§»åˆ°è¯¥åšå®¢ä¸Šé¢å»ï¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-17 22:48</p></div></div><div class='timeline-item-content'><p>é‡äº‹ä¸å†³ ï¼Œå¯é—®æ˜¥é£</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2024-07-17 22:37</p></div></div><div class='timeline-item-content'><p>æˆ‘æ°¸è¿œå–œæ¬¢å–œå¤šå·æµ·æ¢¦ï¼ï¼<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2022_1010_28debabfj00rjijyi005wd001hc00u0p.jpg" alt="2022_1010_28debabfj00rjijyi005wd001hc00u0p"></p></div></div></div>]]></content>
      
      
      <categories>
          
          <category> å‹äººå¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆ‘åœ¨äººé—´å‡‘æ•°çš„æ—¥å­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ¿æµ‹è¯•</title>
      <link href="/posts/d6a434b9.html"/>
      <url>/posts/d6a434b9.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨Javaä¸­ï¼Œâ€œåˆ†å¸ƒå¼â€é€šå¸¸æŒ‡çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿæˆ–åˆ†å¸ƒå¼è®¡ç®—çš„æ¦‚å¿µã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªå›¢é˜Ÿåˆä½œçš„æƒ…æ™¯ï¼šåœ¨ä¸€ä¸ªå¤§å‹é¡¹ç›®ä¸­ï¼Œä¸åŒçš„å›¢é˜Ÿæˆå‘˜å¯èƒ½åˆ†å¸ƒåœ¨ä¸åŒçš„åœ°ç‚¹ï¼Œä½†ä»–ä»¬éœ€è¦ååŒå·¥ä½œï¼Œå…±äº«ä¿¡æ¯ï¼Œä»¥å®Œæˆæ•´ä¸ªé¡¹ç›®çš„æ„å»ºã€‚åŒæ ·çš„ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå°±æ˜¯ç”±å¤šå°è®¡ç®—æœºï¼ˆèŠ‚ç‚¹ï¼‰ç»„æˆï¼Œè¿™äº›è®¡ç®—æœºé€šè¿‡ç½‘ç»œè¿æ¥åœ¨ä¸€èµ·ï¼Œå…±åŒå®Œæˆä¸€ä¸ªå¤æ‚ä»»åŠ¡ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ">ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ</h3><p>åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±å¤šä¸ªç›¸äº’è¿æ¥çš„è®¡ç®—æœºç»„æˆçš„é›†åˆï¼Œè¿™äº›è®¡ç®—æœºå„è‡ªç‹¬ç«‹è¿è¡Œï¼Œä½†åˆé€šè¿‡ç½‘ç»œäº’ç›¸é€šä¿¡å’Œåä½œï¼Œå¯¹å¤–éƒ¨çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå•ä¸€çš„ç³»ç»Ÿã€‚æ¯å°è®¡ç®—æœºéƒ½å¯ä»¥æœ‰è‡ªå·±çš„å¤„ç†å™¨ã€å†…å­˜å’Œå­˜å‚¨ï¼Œå®ƒä»¬é€šè¿‡äº¤æ¢æ•°æ®å’ŒæŒ‡ä»¤æ¥åè°ƒå·¥ä½œã€‚</p><h3 id="åˆ†å¸ƒå¼çš„ä½œç”¨">åˆ†å¸ƒå¼çš„ä½œç”¨</h3><ol><li class="lvl-3"><p><strong>æé«˜æ€§èƒ½</strong>ï¼šé€šè¿‡å°†ä»»åŠ¡åˆ†å‰²å¹¶åˆ†é…ç»™å¤šå°è®¡ç®—æœºï¼Œå¯ä»¥å¹¶è¡Œå¤„ç†ï¼Œå¤§å¤§æé«˜äº†å¤„ç†é€Ÿåº¦å’Œæ•ˆç‡ã€‚</p></li><li class="lvl-3"><p><strong>å¢å¼ºå¯é æ€§</strong>ï¼šå¦‚æœæœ‰æŸä¸€å°è®¡ç®—æœºå‡ºæ•…éšœï¼Œå…¶ä»–è®¡ç®—æœºå¯ä»¥ç»§ç»­å·¥ä½œï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„æ•´ä½“ç¨³å®šæ€§å’Œå®¹é”™èƒ½åŠ›ã€‚</p></li><li class="lvl-3"><p><strong>èµ„æºæ‰©å±•</strong>ï¼šå¯ä»¥æ ¹æ®éœ€æ±‚åŠ¨æ€å¢åŠ æˆ–å‡å°‘å‚ä¸çš„è®¡ç®—æœºæ•°é‡ï¼Œä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿå¤„ç†æ›´å¤§çš„å·¥ä½œé‡æˆ–æ›´å¤æ‚çš„é—®é¢˜ã€‚</p></li><li class="lvl-3"><p><strong>èµ„æºå…±äº«</strong>ï¼šä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„ç¡¬ä»¶èµ„æºï¼ˆå¦‚CPUã€å­˜å‚¨ï¼‰å’Œè½¯ä»¶èµ„æºï¼ˆå¦‚æ•°æ®ã€åº”ç”¨ç¨‹åºï¼‰å¯ä»¥è¢«å…±äº«ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ã€‚</p></li></ol><h3 id="ä½¿ç”¨åœºæ™¯æ¡ˆä¾‹">ä½¿ç”¨åœºæ™¯æ¡ˆä¾‹</h3><ol><li class="lvl-3"><p><strong>ç”µå­å•†åŠ¡ç½‘ç«™</strong>ï¼šåƒäºšé©¬é€Šæˆ–æ·˜å®è¿™æ ·çš„ç½‘ç«™ï¼Œåœ¨é«˜å³°æœŸä¼šæœ‰å¤§é‡ç”¨æˆ·åŒæ—¶è®¿é—®ã€‚ä¸ºäº†åº”å¯¹è¿™ç§é«˜å¹¶å‘ï¼Œç½‘ç«™ä¼šä½¿ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå°†è¯·æ±‚åˆ†å¸ƒåˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šå¤„ç†ï¼Œç¡®ä¿ç½‘ç«™å“åº”è¿…é€Ÿä¸”ç¨³å®šã€‚</p></li><li class="lvl-3"><p><strong>ç¤¾äº¤åª’ä½“å¹³å°</strong>ï¼šä¾‹å¦‚Facebookæˆ–Twitterï¼Œå®ƒä»¬éœ€è¦å¤„ç†æµ·é‡çš„æ•°æ®å’Œç”¨æˆ·äº¤äº’ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿå¯ä»¥å°†ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ä¸Šï¼ŒåŒæ—¶ä½¿ç”¨åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼ˆå¦‚Apache Hadoopï¼‰æ¥å¤„ç†å’Œåˆ†ææ•°æ®ã€‚</p></li><li class="lvl-3"><p><strong>åœ¨çº¿æ”¯ä»˜ç³»ç»Ÿ</strong>ï¼šæ”¯ä»˜å®æˆ–PayPalè¿™ç±»æ”¯ä»˜å¹³å°éœ€è¦åœ¨å¤šä¸ªåœ°åŒºæä¾›æœåŠ¡ï¼Œå¹¶ä¿è¯äº¤æ˜“çš„å®æ—¶æ€§å’Œå®‰å…¨æ€§ã€‚é€šè¿‡åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¯ä»¥å®ç°æ•°æ®çš„ä¸€è‡´æ€§ã€äº¤æ˜“çš„å¿«é€Ÿç¡®è®¤å’Œç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚</p></li><li class="lvl-3"><p><strong>äº‘è®¡ç®—æœåŠ¡</strong>ï¼šåƒAWSã€Azureæˆ–Google Cloudè¿™æ ·çš„äº‘æœåŠ¡æä¾›å•†ï¼Œä½¿ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿæ¥ç®¡ç†è™šæ‹Ÿèµ„æºï¼Œä¸ºç”¨æˆ·æä¾›å¼¹æ€§çš„è®¡ç®—ã€å­˜å‚¨å’Œç½‘ç»œæœåŠ¡ã€‚</p></li><li class="lvl-3"><p><strong>å¤§æ•°æ®å¤„ç†</strong>ï¼šå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†æ—¶ï¼Œå¦‚ç‰©è”ç½‘è®¾å¤‡äº§ç”Ÿçš„æ•°æ®ï¼Œåˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼ˆå¦‚Apache Sparkï¼‰å¯ä»¥å¹¶è¡Œå¤„ç†æ•°æ®ï¼ŒåŠ é€Ÿæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ ä»»åŠ¡ã€‚</p></li></ol><p>é€šè¿‡è¿™äº›æ¡ˆä¾‹ï¼Œä½ å¯ä»¥çœ‹åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ç°ä»£äº’è”ç½‘å’Œä¼ä¸šçº§åº”ç”¨ä¸­æ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ï¼Œå®ƒä¸ä»…æé«˜äº†å¤„ç†èƒ½åŠ›å’Œç³»ç»Ÿçš„å¯é æ€§ï¼Œè¿˜ä¿ƒè¿›äº†èµ„æºçš„æœ‰æ•ˆåˆ©ç”¨ã€‚</p><hr><div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div><div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div><div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div><div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div><div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div><div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>è¿™æ˜¯æµ‹è¯•é¡µé¢</p></div></div></div>]]></content>
      
      
      <categories>
          
          <category> ç‰ˆæœ¬æ§åˆ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹å’Œç¯å¢ƒé…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸€ç« ï¼šJavaè¯­è¨€æ¦‚è¿°</title>
      <link href="/posts/f7c947df.html"/>
      <url>/posts/f7c947df.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-æ³¨é‡Š">1. æ³¨é‡Š</h2><p>æ³¨é‡Šçš„ç±»å‹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>å•è¡Œæ³¨é‡Š</p></li><li class="lvl-2"><p>å¤šè¡Œæ³¨é‡Š</p></li><li class="lvl-2"><p>æ–‡æ¡£æ³¨é‡Š</p></li></ul><p>æ³¨é‡Šçš„ä½œç”¨ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æé«˜äº†ç¨‹åºçš„å¯é˜…è¯»æ€§</p></li><li class="lvl-2"><p>ç”¨äºè°ƒè¯•ç¨‹åºçš„é‡è¦æ–¹æ³•</p></li></ul><h2 id="2-Javaæ ¸å¿ƒæœºåˆ¶ï¼šJVM">2. Javaæ ¸å¿ƒæœºåˆ¶ï¼šJVM</h2><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>è·¨å¹³å°æ€§</p></li><li class="lvl-2"><p>é¢å‘å¯¹è±¡æ€§</p></li><li class="lvl-2"><p>å¥å£®æ€§</p></li><li class="lvl-2"><p>å®‰å…¨æ€§é«˜</p></li><li class="lvl-2"><p>ç®€å•æ€§</p></li><li class="lvl-2"><p>é«˜æ€§èƒ½</p></li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>è¯­æ³•è¿‡äºå¤æ‚ä¸¥è°¨</p></li><li class="lvl-2"><p>ä¸€èˆ¬é€‚ç”¨äºå¤§å‹ç½‘ç«™å¼€å‘ ï¼Œç»´æŠ¤æˆæœ¬é«˜</p></li><li class="lvl-2"><p>å¹¶éé€‚ç”¨äºæ‰€æœ‰é¢†åŸŸ</p></li></ul><h3 id="2-1-JVMåŠŸèƒ½è¯´æ˜">2.1 JVMåŠŸèƒ½è¯´æ˜</h3><p>â€</p><blockquote><p><strong>JVM</strong>ï¼ˆ<code>J</code>â€‹ava <code>V</code>â€‹irtual <code>M</code>â€‹achine ï¼ŒJavaè™šæ‹Ÿæœºï¼‰ï¼šæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è®¡ç®—æœºï¼Œæ˜¯Javaç¨‹åºçš„è¿è¡Œç¯å¢ƒã€‚JVMå…·æœ‰æŒ‡ä»¤é›†å¹¶ä½¿ç”¨ä¸åŒçš„å­˜å‚¨åŒºåŸŸï¼Œè´Ÿè´£æ‰§è¡ŒæŒ‡ä»¤ï¼Œç®¡ç†æ•°æ®ã€å†…å­˜ã€å¯„å­˜å™¨ã€‚</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20240113110750-zdsmamv.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>åŠŸèƒ½ä¸€ï¼šå®ç°Javaç¨‹åºçš„è·¨å¹³å°æ€§</p></li><li class="lvl-2"><p>åŠŸèƒ½äºŒï¼šè‡ªåŠ¨å†…å­˜ç®¡ç†(å†…å­˜åˆ†é… ï¼Œå†…å­˜å›æ”¶)</p></li></ul><h2 id="3-é¢è¯•é¢˜ï¼š">3. é¢è¯•é¢˜ï¼š</h2><blockquote><p>Javaç¨‹åºè¿˜ä¼šå‡ºç°å†…å­˜æº¢å‡ºå’Œå†…å­˜æ³„éœ²é—®é¢˜å—ï¼Ÿ</p><p>ç­”ï¼šYes</p></blockquote><p>â€</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå¤ä¹ </title>
      <link href="/posts/f7d3a65a.html"/>
      <url>/posts/f7d3a65a.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€ç« -ï¼š-Javaå¼€å‘å…¥é—¨">ç¬¬ä¸€ç«  ï¼š Javaå¼€å‘å…¥é—¨</h2><ol><li class="lvl-3"><p>Javaè¯­è¨€æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€</p></li><li class="lvl-3"><p>Javaè¯­è¨€çš„ç‰¹ç‚¹æœ‰ï¼š é¢å‘å¯¹è±¡ ï¼Œ è·¨å¹³å°æ€§ ï¼Œ å®‰å…¨æ€§ ï¼Œæ”¯æŒå¤šçº¿ç¨‹å’Œåˆ†å¸ƒå¼</p></li><li class="lvl-3"><p>å°†.javaæºæ–‡ä»¶ç¼–è¯‘ä¸º.classæ–‡ä»¶çš„å‘½ä»¤æ˜¯ï¼š JavaC</p></li><li class="lvl-3"><p>Javaç¨‹åºçš„è¿è¡Œç¯å¢ƒä¸º ï¼š JRE</p></li><li class="lvl-3"><p>ç®€è¿°Javaè¯­è¨€çš„ç‰¹ç‚¹</p><blockquote><p>ç®€å•æ€§ ï¼Œ é¢å‘å¯¹è±¡ ï¼Œ å®‰å…¨æ€§ ï¼Œ è·¨å¹³å°æ€§ ï¼Œ æ”¯æŒå¤šçº¿ç¨‹ ï¼Œ åˆ†å¸ƒæ€§</p></blockquote></li><li class="lvl-3"><p>ç®€è¿°Javaçš„è¿è¡Œæœºåˆ¶</p><blockquote><p>Javaç¨‹åºè¿è¡Œæ—¶ ï¼Œ å¿…é¡»ç»è¿‡ç¼–è¯‘å’Œè¿è¡Œä¸¤ä¸ªæ­¥éª¤ ï¼Œ é¦–å…ˆå°†åç¼€åä¸º .javaçš„æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ ï¼Œ ç”Ÿæˆåç¼€åä¸º .class çš„å­—èŠ‚ç æ–‡ä»¶ ï¼Œ ç„¶åJavaè™šæ‹Ÿæœºå°†å­—èŠ‚ç æ–‡ä»¶è¿›è¡Œè§£é‡Šæ‰§è¡Œ ï¼Œå¹¶å°†ç»“æœè¿è¡Œå‡ºæ¥</p></blockquote></li><li class="lvl-3"><p>ç¼–å†™ä¸€ä¸ªHello World ç¨‹åº</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="ç¬¬äºŒç« -ï¼š-Javaç¼–ç¨‹åŸºç¡€">ç¬¬äºŒç«  ï¼š Javaç¼–ç¨‹åŸºç¡€</h2><ol><li class="lvl-3"><p>Javaä¸­çš„å¸¸é‡æœ‰ ï¼š æ•´å½¢å¸¸é‡ ï¼Œ æµ®ç‚¹æ•°å¸¸é‡ ï¼Œå­—ç¬¦å¸¸é‡ ï¼Œ å­—ç¬¦ä¸²å¸¸æ¥é‚£ä¸ª ï¼Œ å¸ƒå°”å¸¸é‡ ï¼Œ nullå¸¸é‡</p></li><li class="lvl-3"><p>è¿›åˆ¶è½¬æ¢ ï¼ˆè¿˜æœªçœ‹ï¼‰</p></li><li class="lvl-3"><p>å˜é‡çš„æ•°æ®ç±»å‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231218153955-n95axyq.png" alt="image"></p></li><li class="lvl-3"><p>å˜é‡çš„è‡ªåŠ¨ç±»å‹è½¬æ¢</p><ol><li class="lvl-7">è‡ªåŠ¨ç±»å‹è½¬æ¢ (å°çš„å¾€å¤§çš„è½¬æ¢)</li><li class="lvl-7">å¼ºåˆ¶ç±»å‹è½¬æ¢</li></ol></li><li class="lvl-3"><p>Javaä¸­çš„è¿ç®—ç¬¦ ï¼š ç®—æœ¯è¿ç®—ç¬¦ ï¼Œ èµ‹å€¼è¿ç®—ç¬¦ ï¼Œ æ¯”è¾ƒè¿ç®—ç¬¦ ï¼Œ é€»è¾‘è¿ç®—ç¬¦</p></li><li class="lvl-3"><p><a href="siyuan://blocks/20230929073410-i2qr594">æµç¨‹æ§åˆ¶è¯­å¥</a></p></li><li class="lvl-3"><p>æ•°ç»„çš„åŸºæœ¬å…ƒç´  ï¼š æ•°ç»„åç§° ï¼Œ æ•°ç»„å…ƒç´  ï¼Œ å…ƒç´ ç´¢å¼• ï¼Œ æ•°æ®ç±»å‹</p></li><li class="lvl-3"><p>Javaç¨‹åºä»£ç å¿…é¡»æ”¾åœ¨ä¸€ä¸ªç±»ä¸­ ï¼Œ ç±»ä½¿ç”¨ Class å…³é”®è¯å®šä¹‰</p></li><li class="lvl-3"><p>Javaä¸­çš„æ³¨é‡Šæœ‰3ç±» ï¼Œ åˆ†åˆ«æ˜¯ å•è¡Œæ³¨é‡Š ï¼Œ å¤šè¡Œæ³¨é‡Š ï¼Œ æ–‡æ¡£æ³¨é‡Š</p></li><li class="lvl-4"><p>intç±»å‹æ‰€å çš„å­˜å‚¨ç©ºé—´ä¸º ï¼š 4ä¸ªå­—èŠ‚</p></li><li class="lvl-4"><p>ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•´æ•°æ˜¯å¦ç›¸ç­‰çš„è¿ç®—ç¬¦æ˜¯ ï¼š ==</p></li><li class="lvl-4"><p>æ•°ç»„æ˜¯ä¸€ä¸ªå®¹å™¨ ï¼Œ å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„è‡ªåŠ¨ç¼–å· ï¼Œ æœ€å°å€¼ä¸ºï¼š0</p></li><li class="lvl-4"><p>String  ä¸å±äºåŸºæœ¬æ•°æ®ç±»å‹</p></li><li class="lvl-4"><p>ç®€è¿°Java ä¸­çš„8ä¸­åŸºæœ¬æ•°æ®ç±»å‹ ï¼Œ å¹¶è¯´æ˜æ¯ç§æ•°æ®ç±»å‹æ‰€å çš„å­˜å‚¨ç©ºé—´å¤§å°</p><blockquote><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>æ‰€å ç©ºé—´å¤§å°</th></tr></thead><tbody><tr><td>byte å­—èŠ‚å‹</td><td>ä¸€ä¸ªå­—èŠ‚</td></tr><tr><td>short çŸ­æ•´å‹</td><td>2ä¸ªå­—èŠ‚</td></tr><tr><td>int æ•´å½¢</td><td>4 ä¸ªå­—èŠ‚</td></tr><tr><td>long é•¿æ•´å‹</td><td>8 ä¸ªå­—èŠ‚</td></tr><tr><td>float å•ç²¾åº¦æµ®ç‚¹å‹</td><td>4 ä¸ªå­—èŠ‚</td></tr><tr><td>double åŒç²¾åº¦æµ®ç‚¹å‹</td><td>8 ä¸ªå­—èŠ‚</td></tr><tr><td>char å­—ç¬¦å‹</td><td>2 ä¸ªå­—èŠ‚</td></tr><tr><td>booblean å‹ è¡¨ç¤ºé€»è¾‘å€¼</td><td>true , false åˆ†åˆ«å ä¸€ä¸ªå­—èŠ‚</td></tr></tbody></table></blockquote></li><li class="lvl-4"><p>ç®€è¿°è·³è½¬è¯­å¥ break ä¸ continue çš„ä½œç”¨å’ŒåŒºåˆ«</p><blockquote><p>åœ¨Switch æ¡ä»¶è¯­å¥å’Œå¾ªç¯è¯­å¥ä¸­éƒ½å¯ä»¥ä½¿ç”¨breakè¯­å¥ ï¼Œ å½“å®ƒå‡ºç°åœ¨Switch æ¡ä»¶è¯­å¥ä¸­æ—¶ ï¼Œ ä½œç”¨æ˜¯ç»ˆæ­¢æŸä¸ªcase å¹¶è·³å‡ºswtich ç»“æ„ ï¼Œ å½“å®ƒå‡ºç°åœ¨å¾ªç¯è¯­å¥ä¸­ ï¼Œ ä½œç”¨æ˜¯è·³å‡ºå¾ªç¯è¯­å¥ ï¼Œ æ‰§è¡Œå¾ªç¯åé¢çš„ä»£ç  ï¼Œ continue è¯­å¥ç”¨åœ¨å¾ªç¯è¯­å¥ä¸­ ï¼Œ å®ƒçš„ä½œç”¨æ˜¯ç»ˆæ­¢æœ¬æ¬¡å¾ªç¯ ï¼Œ å¹¶æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯</p></blockquote></li><li class="lvl-4"><p>ç¼–ç¨‹é¢˜</p><ol><li class="lvl-8"><p>ç¼–å†™ç¨‹åº ï¼Œè®¡ç®— 1 + 3 + â€¦+ 99 çš„å€¼ ï¼Œ è¦æ±‚å¦‚ä¸‹ï¼š</p><ol><li class="lvl-12"><p>ä½¿ç”¨å¾ªç¯è¯­å¥å®ç°1\x7e99 çš„éå†</p></li><li class="lvl-12"><p>åœ¨éå†è¿‡ç¨‹ä¸­ ï¼Œé€šè¿‡æ¡ä»¶åˆ¤æ–­å½“å‰çš„æ•°æ˜¯å¦ä¸ºå¥‡æ•° ï¼Œ å¦‚æœæ˜¯å°±ç´¯åŠ  ï¼Œ å¦åˆ™ä¸åŠ </p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(sum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li><li class="lvl-8"><p>ä½¿ç”¨doâ€¦while å¾ªç¯è¯­å¥è®¡ç®—æ­£æ•°5çš„é˜¶ä¹˜</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DoWhileDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            sum *= i;</span><br><span class="line">            i ++;</span><br><span class="line">        &#125; <span class="keyword">while</span> (i &lt;= <span class="number">5</span>);</span><br><span class="line">            System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="ç¬¬ä¸‰ç« -ï¼šé¢å‘å¯¹è±¡-ä¸Š">ç¬¬ä¸‰ç«  ï¼šé¢å‘å¯¹è±¡(ä¸Š)</h2><ol><li class="lvl-3"><p>é¢å‘å¯¹è±¡çš„æ€æƒ³ ï¼š å°è£…æ€§ ï¼Œ ç»§æ‰¿æ€§ ï¼Œ å¤šæ€æ€§</p></li><li class="lvl-3"><p>ç±»çš„å®šä¹‰</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class ç±»å &#123;</span><br><span class="line">æˆå‘˜å˜é‡;</span><br><span class="line">æˆå‘˜æ–¹æ³•;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>è®¿é—®æ§åˆ¶æƒé™</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231220102158-1s9pblr.png" alt="image"></p></li><li class="lvl-3"><p>ä¸€ä¸ªç±»å¯ä»¥å®šä¹‰å¤šä¸ªæ„é€ æ–¹æ³• ï¼Œ åªè¦æ¯ä¸ªæ„é€ æ–¹æ³•çš„ å‚æ•°ç±»å‹ æˆ– å‚æ•°ä¸ªæ•° ä¸åŒ ï¼Œ å³å¯å®ç°é‡è½½</p></li><li class="lvl-3"><p>å°è£…å°±æ˜¯éšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ ï¼Œä»…å¯¹å¤–æä¾›å…¬æœ‰çš„æ–¹æ³•</p></li><li class="lvl-3"><p>å¯¹äºå£°æ˜ä¸º private , protected åŠpublic çš„ç±»æˆå‘˜åœ¨ç±»å¤–éƒ¨ ï¼Œ éƒ½ä¸èƒ½è®¿é—®</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜ï¼š</p><ol><li class="lvl-7"><p>ç®€è¿°ä½ å¯¹é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾çš„ç†è§£</p><blockquote><p>é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ä¸»è¦å¯ä»¥æ¦‚æ‹¬ä¸º å°è£…æ€§ ï¼Œ ç»§æ‰¿æ€§å’Œå¤šæ€æ€§</p><p>å…¶ä¸­å°è£…æ˜¯é¢å‘å¯¹è±¡æ ¸å¿ƒæ€æƒ³ ï¼Œ å°†å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºå°è£…èµ·æ¥ ï¼Œ ä¸éœ€è¦è®©å¤–ç•ŒæŒ‡å¯¼å…·ä½“å®ç°ç»†èŠ‚ ï¼Œ è¿™å°±æ˜¯å°è£…çš„æ€æƒ³</p><p>ç»§æ‰¿æ€§ä¸»è¦é¢ç†Ÿçš„æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³» ï¼Œ é€šè¿‡ç»§æ‰¿ å¯ä»¥åœ¨æ— éœ€é‡è½½ç¼–å†™åŸæœ‰ç±»çš„æƒ…å†µä¸‹ ï¼Œ å¯¹åŸæœ‰ç±»çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•</p><p>å¤šæ€æ€§æŒ‡çš„æ˜¯åœ¨ç¨‹åºä¸­å…è®¸å‡ºç°é‡åç°è±¡ ï¼Œ å®ƒæŒ‡åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„</p><p>å±æ€§å’Œæ–¹æ³•è¢«å…¶ä»–ç±»ç»§æ‰¿å ï¼Œ ä»–ä»¬å¯ä»¥å…·æœ‰ä¸åŒçš„æ•°æ®ç±»å‹æˆ–è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸º ï¼Œ è¿™ä½¿å¾—åŒä¸€ä¸ªå±æ€§å’Œæ–¹æ³•åœ¨ä¸åŒçš„ç±»ä¸­å…·æœ‰ä¸åŒçš„è¯­ä¹‰</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°æ„é€ æ–¹æ³•çš„ç‰¹ç‚¹</p><blockquote><ol><li class="lvl-3">æ„é€ æ–¹æ³•ä¸ç±»åç›¸åŒ</li><li class="lvl-3">åœ¨æ„é€ æ–¹æ³•åçš„å‰é¢æ²¡æœ‰è¿”å›å€¼ç±»å‹çš„å£°æ˜</li><li class="lvl-3">åœ¨æ„é€ æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨return è¯­å¥è¿”å›ä¸€ä¸ªå€¼</li></ol></blockquote></li></ol></li><li class="lvl-3"><p>ç¼–ç¨‹é¢˜ï¼š</p><ol><li class="lvl-7"><p>æŸå…¬å¸æ­£åœ¨è¿›è¡Œæ‹›è˜å·¥ä½œ ï¼Œ è¢«æ‹›è˜äººå‘˜éœ€è¦å¡«å†™ä¸ªäººä¿¡æ¯ ï¼Œç¼–å†™ä¸ªäººç®€å†çš„å°è£…ç±»Resume , å¹¶ç¼–å†™æµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.north.chapter03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Resume</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Resume</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Resume</span><span class="params">(String name, String sex, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">introdece</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å§“åï¼š&quot;</span> + <span class="built_in">this</span>.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ€§åˆ«ï¼š&quot;</span> + <span class="built_in">this</span>.getSex());</span><br><span class="line">        System.out.println(<span class="string">&quot;å¹´é¾„:&quot;</span> + <span class="built_in">this</span>.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.north.chapter03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Resume</span> <span class="variable">resume</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Resume</span>(<span class="string">&quot;æå››&quot;</span> , <span class="string">&quot;ç”·&quot;</span> , <span class="number">20</span>);</span><br><span class="line">        resume.introdece();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="ç¬¬å››ç« ï¼šé¢å‘å¯¹è±¡-ä¸‹">ç¬¬å››ç« ï¼šé¢å‘å¯¹è±¡(ä¸‹)</h2><ol><li class="lvl-3"><p>ä¸€ä¸ªç±»å¦‚æœè¦å®ç°ä¸€ä¸ªæ¥å£ ï¼Œ é‚£ä¹ˆå®ƒå°±éœ€è¦é‡å†™æ¥å£ä¸­å®šä¹‰çš„å…¨éƒ¨æ–¹æ³• ï¼Œ å¦åˆ™è¯¥ç±»å°±å¿…é¡»å®šä¹‰æˆ æŠ½è±¡ç±»</p></li><li class="lvl-3"><p>æ¥å£ä¸­å®šä¹‰çš„å˜é‡é»˜è®¤æ˜¯ public static final å‹ ï¼Œ ä¸”å¿…é¡»èµ‹åˆå€¼</p></li><li class="lvl-3"><p>javaä¸­çš„ instanceof å…³é”®å­—å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæŸä¸ªç±»(æˆ–æ¥å£) çš„å®ä¾‹</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-7"><p>ç®€è¿°javaä¸­ç»§æ‰¿çš„æ¦‚å¿µä»¥åŠä½¿ç”¨ç»§æ‰¿çš„å¥½å¤„</p><blockquote><p>æ¦‚å¿µï¼š åœ¨javaä¸­ ï¼Œ ç±»çš„ç»§æ‰¿æ˜¯æŒ‡åœ¨ä¸€ä¸ªç°æœ‰ç±»çš„åŸºç¡€ä¸Šæ„å»ºä¸€ä¸ªæ–°çš„ç±» ï¼Œ æ„å»ºå‡ºæ¥çš„æ–°ç±»è¢«ä½œå­ç±» ï¼Œ ç°æœ‰ç±»è¢«ä½œä¸ºçˆ¶ç±» ï¼Œ å­ç±»ä¼šè‡ªåŠ¨æ‹¥æœ‰çˆ¶ç±»æ‰€æœ‰å¯ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><p>å¥½å¤„ï¼šç»§æ‰¿æ€§ä¸»è¦æè¿°çš„æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³» ï¼Œ é€šè¿‡ç»§æ‰¿ ï¼Œ å¯ä»¥æ— éœ€é‡æ–°ç¼–å†™åŸæœ‰ç±»çš„æƒ…å†µä¸‹ ï¼Œ å¯¹åŸæœ‰ç±»çš„åŠŸèƒ½è¿›è¡Œä½¿ç”¨å’Œæ‰©å±•</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°å¤šæ€çš„ä½œç”¨</p><blockquote><p>javaä¸­çš„å¤šæ€æ€§èƒ½å¤Ÿæé«˜ä»£ç çš„çµæ´»æ€§ ï¼Œ å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ ï¼Œ æ˜¯çš„ç¨‹åºè®¾è®¡æ›´ç¬¦åˆé¢å‘å¯¹è±¡çš„æ€æƒ³</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«</p><blockquote><ol><li class="lvl-3">æ¥å£åªèƒ½å®šä¹‰æŠ½è±¡æ–¹æ³• ï¼Œ è€ŒæŠ½è±¡ç±»å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•å’ŒéæŠ½è±¡æ–¹æ³•</li><li class="lvl-3">ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ ï¼Œ ä½†åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»</li><li class="lvl-3">æ¥å£ä¸­çš„æˆå‘˜é»˜è®¤æ˜¯ public  , æŠ½è±¡ç±»ä¸­çš„æˆå‘˜å¯ä»¥æœ‰å¤šç§è®¿é—®æƒé™</li><li class="lvl-3">æŠ½è±¡ç±»å¯ä»¥æœ‰æ„é€ æ–¹æ³• ï¼Œ è€Œæ¥å£ä¸èƒ½æœ‰æ„é€ æ–¹æ³•</li></ol></blockquote></li></ol></li></ol><p>â€</p><h2 id="ç¬¬äº”ç« ï¼š-å¼‚å¸¸">ç¬¬äº”ç« ï¼š å¼‚å¸¸</h2><ol><li class="lvl-3"><p>Java ä¸­çš„å¼‚å¸¸æ˜¯æŒ‡Javaç¨‹åºåœ¨è¿è¡Œæ—¶å¯èƒ½å‡ºç°çš„é”™è¯¯æˆ–éæ­£å¸¸æƒ…å†µ</p></li><li class="lvl-3"><p>Throwable ç±»çš„ç»§æ‰¿ä½“ç³»å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231221172526-4vr5bcn.png" alt="image">â€‹</p></li><li class="lvl-3"><p>RuntimeException ç±»åŠå…¶å­ç±»ç”¨äºè¡¨ç¤ºè¿è¡Œæ—¶å¼‚å¸¸</p></li><li class="lvl-3"><p>å¼‚å¸¸åˆ†ä¸ºä¸¤ç§ ï¼Œ åˆ†åˆ«æ˜¯ è¿è¡Œæ—¶å¼‚å¸¸ å’Œ ç¼–è¯‘æ—¶å¼‚å¸¸</p></li><li class="lvl-3"><p>è‡ªå®šä¹‰å¼‚å¸¸éœ€è¦ç»§æ‰¿</p></li><li class="lvl-3"><p>Exception ç±»</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-7"><p>å†™å‡ºå¤„ç†å¼‚å¸¸çš„5ä¸ªå…³é”®å­—</p><blockquote><p>try , catch , finally , throw , throws</p></blockquote></li><li class="lvl-7"><p>ç®€è¿° try â€¦ catch è¯­å¥çš„å¼‚å¸¸å¤„ç†æµç¨‹å¹¶ç”»å‡ºæµç¨‹å›¾</p><blockquote><p>ç¨‹åºé€šè¿‡tryè¯­å¥æ•è·å¯èƒ½å‡ºç°çš„å¼‚å¸¸ï¼Œå¦‚æœtryè¯­å¥æ²¡æœ‰æ•è·åˆ°å¼‚å¸¸ï¼Œåˆ™ç›´æ¥è·³å‡ºtryâ€¦catchè¯­å¥å—æ‰§è¡Œå…¶ä»–ç¨‹åºï¼›å¦‚æœåœ¨tryè¯­å¥ä¸­æ•è·åˆ°äº†å¼‚å¸¸ï¼Œåˆ™ç¨‹åºä¼šè‡ªåŠ¨è·³è½¬åˆ°catchè¯­å¥ä¸­æ‰¾åˆ°åŒ¹é…çš„å¼‚å¸¸ç±»å‹è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚å¦‚æœtryè¯­å¥æ•è·åˆ°çš„å¼‚å¸¸ä¸catchè¯­å¥ä¾‹çš„å¼‚å¸¸åŒ¹é…ï¼Œåˆ™å…ˆæ‰§è¡Œcatchä¸­çš„è¯­å¥ï¼Œæœ€åæ‰§è¡Œå…¶ä»–ç¨‹åºè¯­å¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231221174731-8n6gjcs.png" alt="image">â€‹</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°å¤„ç†ç¼–è¯‘æ—¶å¼‚å¸¸çš„ä¸¤ç§æ–¹å¼</p><blockquote><ol><li class="lvl-3">ä½¿ç”¨try â€¦ catch è¯­å¥å¯¹å¼‚å¸¸è¿›è¡Œæ•è·å¤„ç†</li><li class="lvl-3">ä½¿ç”¨throws å…³é”®å­—å£°æ˜æŠ›å‡ºå¼‚å¸¸ ï¼Œ è°ƒç”¨è€…å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†</li></ol></blockquote></li></ol></li></ol><h2 id="ç¬¬å…­ç« ï¼šJava-API">ç¬¬å…­ç« ï¼šJava API</h2><ol><li class="lvl-3"><p>API æŒ‡çš„æ˜¯åº”ç”¨ç¨‹åºå˜æˆæ¥å£</p></li><li class="lvl-3"><p>åœ¨Javaä¸­å®šä¹‰3ä¸ªç±» ï¼Œ ç”¨æ¥å°è£…å¯¹å­—ç¬¦ä¸²çš„æ“ä½œ ï¼Œ åˆ†åˆ«æ˜¯ String , StringBuffer , StringBuilder</p></li><li class="lvl-3"><p>javaä¸­ç”¨æ¥è·å–Stringå­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•æ˜¯ ï¼š length();</p></li><li class="lvl-3"><p>Javaä¸­ç”¨äºå°†æ—¥æœŸæ ¼å¼æˆ–ä¸ºå­—ç¬¦ä¸²çš„ç±»æ˜¯ ï¼š DateFormat</p></li><li class="lvl-3"><p>Javaä¸­ç”¨äºäº§ç”Ÿéšæœºæ•°çš„ç±»ä½äº java.utilåŒ…ä¸­çš„Random</p></li><li class="lvl-3"><p>Pattern ç±»ç”¨äºåˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ ï¼Œ ä¹Ÿå¯ä»¥è¯´åˆ›å»ºä¸€ä¸ªåŒ¹é…æ¨¡å¼ ï¼Œå®ƒçš„æ„é€ æ–¹æ³•æ˜¯ç§æœ‰çš„ ï¼Œ ä¸å¯ä»¥ç›´æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜ï¼š</p><ol><li class="lvl-7"><p>ç®€è¿° String , StringBuffer å’Œ StringBuilder ä¸‰è€…çš„åŒºåˆ«</p><blockquote><p>Stringç±»è¡¨ç¤ºçš„å­—ç¬¦ä¸²æ˜¯å¸¸é‡ï¼Œä¸€æ—¦åˆ›å»ºåï¼Œå†…å®¹å’Œé•¿åº¦éƒ½æ˜¯æ— æ³•æ”¹å˜çš„ã€‚è€ŒStringBuilderå’ŒStringBufferè¡¨ç¤ºå­—ç¬¦å®¹å™¨ï¼Œå…¶å†…å®¹å’Œé•¿åº¦å¯ä»¥éšæ—¶ä¿®æ”¹ã€‚åœ¨æ“ä½œå­—ç¬¦ä¸²æ—¶ï¼Œå¦‚æœè¯¥å­—ç¬¦ä¸²ä»…ç”¨äºè¡¨ç¤ºæ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨Stringç±»å³å¯ï¼Œä½†æ˜¯å¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦è¿›è¡Œå¢åˆ æ“ä½œï¼Œåˆ™ä½¿ç”¨StringBufferä¸StringBuilderç±»ã€‚å¦‚æœæœ‰å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œï¼Œä¸è¦æ±‚çº¿ç¨‹å®‰å…¨çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨StringBuilderæ›´é«˜æ•ˆã€‚ç›¸åå¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨åˆ™éœ€è¦ä½¿ç”¨StringBufferã€‚</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°8ä¸­åŸºæœ¬æ•°æ®ç±»å‹åŠå…¶å¯¹åº”çš„åŒ…è£…ç±»</p><table><thead><tr><th><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong></th><th><strong>å¯¹åº”çš„åŒ…è£…ç±»</strong></th></tr></thead><tbody><tr><td>byte</td><td>Byte</td></tr><tr><td>char</td><td>Character</td></tr><tr><td>int</td><td>Integer</td></tr><tr><td>short</td><td>Short</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>float</td><td>Float</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>boolean</td><td>Boolean</td></tr></tbody></table></li></ol></li><li class="lvl-3"><p>ç¼–ç¨‹é¢˜</p><ol><li class="lvl-7"><p>æ¯æ¬¡éšæœºç”Ÿæˆ10ä¸ª0~100çš„éšæœºæ­£æ•´æ•°</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">100</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-7"><p>è®¡ç®—ä»ä»Šå¤©ç®—èµ·100å¤©ä»¥åæ˜¯å‡ æœˆå‡ æ—¥ ï¼Œ å¹¶æ ¼å¼åŒ–æˆxxxxå¹´xæœˆxæ—¥çš„å½¢å¼æ‰“å°å‡ºæ¥</p><p>æç¤ºï¼š</p><ol><li class="lvl-11"><p>è°ƒç”¨Calendarç±»çš„add()æ–¹æ³•è®¡ç®—100å¤©ä»¥åå¾—æ—¥æœŸ</p></li><li class="lvl-11"><p>è°ƒç”¨Calendarç±»çš„getTime()æ–¹æ³•è¿”å›Dateç±»å‹çš„å¯¹è±¡</p></li><li class="lvl-11"><p>æ•™å¸ˆç”¨FULLæ ¼å¼çš„DateFormatå¯¹è±¡ ï¼Œ è°ƒç”¨format()æ–¹æ³•æ ¼å¼åŒ–Dateå¯¹è±¡</p></li></ol> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        calendar.add(Calendar.DATE , <span class="number">100</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> calendar.getTime();</span><br><span class="line">        <span class="type">DateFormat</span> <span class="variable">format</span> <span class="operator">=</span> DateFormat.getDateInstance(DateFormat.FULL);</span><br><span class="line">        <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> format.format(date);</span><br><span class="line">        System.out.println(string);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="ç¬¬ä¸ƒç« ï¼š-é›†åˆ">ç¬¬ä¸ƒç« ï¼š é›†åˆ</h2><ol><li class="lvl-3"><p>é›†åˆçš„æ ¸å¿ƒç»§æ‰¿ä½“ç³»å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231221194231-tpgiwrj.png" alt="image"></p></li><li class="lvl-3"><p>Collection æ˜¯æ‰€æœ‰å•åˆ—é›†åˆçš„çˆ¶æ¥å£</p></li><li class="lvl-3"><p>ä½¿ç”¨Iterator éå†é›†åˆæ—¶ ï¼Œ é¦–å…ˆéœ€è¦è°ƒç”¨ hashNext() æ–¹æ³•åŒºåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´  ï¼Œ è‹¥å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´  ï¼Œ åˆ™è°ƒç”¨ next() æ–¹æ³•å–å‡ºè¯¥å…ƒç´ </p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line"><span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>å¦‚æœè¦å¯¹TreeSeté›†åˆä¸­çš„å¯¹è±¡è¿›è¡Œæ’åº ï¼Œ å¿…é¡»å®ç° Comparable æ¥å£</p></li><li class="lvl-3"><p>ArrayList å†…éƒ¨å°è£…äº†ä¸€ä¸ªé•¿åº¦å¯å˜çš„ æ•°ç»„</p></li><li class="lvl-3"><p>ArrayList é›†åˆæŸ¥è¯¢å…ƒç´ çš„é€Ÿåº¦å¾ˆå¿« ï¼Œ ä½†æ˜¯å¢åˆ æ”¹æŸ¥æ•ˆç‡è¾ƒä½</p></li><li class="lvl-3"><p>List é›†åˆçš„ç‰¹ç‚¹æ˜¯å…ƒç´ æœ‰åºå¹¶ä¸”å¯é‡å¤</p></li><li class="lvl-3"><p>Seté›†åˆçš„å¥¹ç‚¹äº‹å…ƒç´ æ— åºå¹¶ä¸”ä¸å¯é‡å¤</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-7"><p>ç®€è¿°é›†åˆList ï¼Œ Set å’ŒMap çš„åŒºåˆ«</p><blockquote><p>Listçš„ç‰¹ç‚¹æ˜¯å…ƒç´ æœ‰åºã€å¯é‡å¤ã€‚Listæ¥å£çš„ä¸»è¦å®ç°ç±»æœ‰ArrayListå’ŒLinkedListã€‚</p><p>Setçš„ç‰¹ç‚¹æ˜¯å…ƒç´ æ— åºã€ä¸å¯é‡å¤ã€‚Setæ¥å£çš„ä¸»è¦å®ç°ç±»æœ‰HashSetå’ŒTreeSetã€‚Mapçš„ç‰¹ç‚¹æ˜¯å­˜å‚¨çš„å…ƒç´ æ˜¯é”®(Key)ã€å€¼(Value)æ˜ å°„å…³ç³»ï¼Œå…ƒç´ éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ã€‚Mapæ¥å£çš„ä¸»è¦å®ç°ç±»æœ‰HashMapå’ŒTreeMapã€‚</p></blockquote></li><li class="lvl-7"><p>ä¸ºä»€ä¹ˆArrayList çš„å¢åˆ æ”¹æŸ¥æ“ä½œæ¯”è¾ƒæ…¢ ï¼Œ è€ŒæŸ¥æ‰¾æ“ä½œæ¯”è¾ƒå¿«</p><blockquote><p>ç”±äºArrayListé›†åˆçš„åº•å±‚æ˜¯ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜å…ƒç´ ï¼Œåœ¨å¢åŠ æˆ–åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ æ—¶ï¼Œä¼šå¯¼è‡´åˆ›å»ºæ–°çš„æ•°ç»„ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œå› æ­¤ä¸é€‚åˆåšå¤§é‡çš„å¢åˆ æ“ä½œã€‚ä½†è¿™ç§æ•°ç»„çš„ç»“æ„å…è®¸ç¨‹åºé€šè¿‡ç´¢å¼•çš„æ–¹å¼æ¥è®¿é—®å…ƒç´ ï¼Œå› æ­¤ä½¿ç”¨ArrayListé›†åˆæŸ¥æ‰¾å…ƒç´ å¾ˆä¾¿æ·ã€‚</p></blockquote></li></ol></li><li class="lvl-4"><p>ç¼–ç¨‹é¢˜</p><ol><li class="lvl-8"><p>ç¼–å†™ç¨‹åºï¼Œå‘ArmsListé›†åˆä¸­æ·»åŠ å…ƒç´ ï¼Œç„¶åéå†å¹¶è¾“å‡ºè¿™äº›å…ƒç´ ã€‚</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-8"><p>æŒ‰ç…§ä¸‹åˆ—è¦æ±‚ç¼–å†™ç¨‹åº</p><ol><li class="lvl-12"><p>å†™ä¸€ä¸ªStudentç±»ï¼ŒåŒ…å«nameå’Œageå±æ€§ï¼Œæä¾›æœ‰å‚æ„é€ æ–¹æ³•ã€‚</p></li><li class="lvl-12"><p>åœ¨Snudent ç±»ä¸­ï¼Œé‡å†™ toString()æ–¹æ³•ï¼Œè¾“å‡ºageå’Œnameçš„å€¼ã€‚</p></li><li class="lvl-12"><p>åœ¨Studentç±»ä¸­ï¼Œé‡å†™hashCode()å’Œequals()æ–¹æ³•ã€‚</p><ol><li class="lvl-16">.hshCode()çš„è¿”å›å€¼æ˜¯nameçš„å“ˆå¸Œå€¼ä¸ageçš„å’Œã€‚</li><li class="lvl-16">.equals()åˆ¤æ–­å¯¹è±¡çš„nameå’Œageæ˜¯å¦ç›¸åŒï¼Œç›¸åŒåˆ™è¿”å›trueï¼Œä¸åŒåˆ™è¿”å›falseã€‚</li></ol></li><li class="lvl-12"><p>ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåˆ›å»ºä¸€ä¸ªHashSetï¼œStudentï¼å¯¹è±¡hsï¼Œå‘hsä¸­æ·»åŠ å¤šä¸ªsatå¯¹è±¡ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªStudentå¯¹è±¡ç›¸ç­‰ã€‚è¾“å‡ºHashSeté›†åˆï¼Œè§‚å¯ŸStudentå¯¹è±¡æ˜¯å¦æ·»åŠ æˆåŠŸã€‚</p><p><strong>Studentç±»</strong></p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">             <span class="keyword">package</span> com.north.chapter07;</span><br><span class="line">             </span><br><span class="line">             <span class="keyword">import</span> java.util.*;</span><br><span class="line">             </span><br><span class="line">             </span><br><span class="line">             <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">             </span><br><span class="line">                 <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">             </span><br><span class="line">                 <span class="keyword">private</span> String name;</span><br><span class="line">             </span><br><span class="line">             </span><br><span class="line">                 <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> age, String name)</span> &#123;</span><br><span class="line">                     <span class="built_in">this</span>.age = age;</span><br><span class="line">                     <span class="built_in">this</span>.name = name;</span><br><span class="line">             </span><br><span class="line">                 &#125;</span><br><span class="line">             </span><br><span class="line">             </span><br><span class="line">                 <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">                     <span class="keyword">return</span> age + <span class="string">&quot;:&quot;</span> + name;</span><br><span class="line">             </span><br><span class="line">                 &#125;</span><br><span class="line">             </span><br><span class="line">             </span><br><span class="line">                 <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">                     <span class="keyword">return</span> name.hashCode() + age;</span><br><span class="line">             </span><br><span class="line">                 &#125;</span><br><span class="line">             </span><br><span class="line">             </span><br><span class="line">                 <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">                     <span class="keyword">if</span> (<span class="built_in">this</span> == obj)</span><br><span class="line">                         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                     <span class="keyword">if</span> (!(obj <span class="keyword">instanceof</span> Student))</span><br><span class="line">                         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                     <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> (Student) obj;</span><br><span class="line">                     <span class="keyword">return</span> <span class="built_in">this</span>.name.equals(stu.name) &amp;&amp; <span class="built_in">this</span>.age == stu.age;</span><br><span class="line">             </span><br><span class="line">                 &#125;</span><br><span class="line">             </span><br><span class="line">             &#125;</span><br><span class="line">             </span><br><span class="line"></span><br><span class="line">## ç¬¬å…«ç« ï¼š æ³›å‹</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> ä½¿ç”¨æ³›å‹çš„å¥½å¤„</span><br><span class="line"></span><br><span class="line">    &gt; <span class="number">1.</span> æé«˜ç±»å‹çš„å®‰å…¨æ€§</span><br><span class="line">    &gt; <span class="number">2.</span> æ¶ˆé™¤å¼ºåˆ¶ç±»å‹è½¬æ¢</span><br><span class="line">    &gt; <span class="number">3.</span> æé«˜ä»£ç çš„å¤ç”¨æ€§</span><br><span class="line">    &gt; <span class="number">4.</span> æ‹¥æœ‰æ›´é«˜çš„è¿è¡Œæ•ˆç‡</span><br><span class="line">    &gt;</span><br><span class="line"><span class="number">2.</span> æ³›å‹ç±»</span><br><span class="line"></span><br><span class="line">    ```java</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol></li><li class="lvl-3"><p>æ³›å‹æ¥å£</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">North</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æ³›å‹æ–¹æ³•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è®¿é—®æƒé™ä¿®é¥°ç¬¦ <span class="keyword">static</span> <span class="keyword">final</span> &lt;ç±»å‹å½¢è±¡&gt; è¿”å›å€¼ç±»å‹ æ–¹æ³•å (å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æ³›å‹ä½¿ç”¨ ? è¡¨ç¤º å‚æ•°åŒ–</p></li><li class="lvl-3"><p>æ³›å‹å¯ä»¥ç”¨åœ¨ç±» ï¼Œ æ¥å£å’Œæ–¹æ³•çš„å®šä¹‰ä¸­ ï¼Œåˆ†åˆ«ç§°ä¸º æ³›å‹ç±» ï¼Œ æ³›å‹æ¥å£ å’Œ æ³›å‹æ–¹æ³•</p></li><li class="lvl-3"><p>åœ¨javaç¨‹åºä¸­ ï¼Œ ç»å¸¸ä¼šæœ‰å‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹ä¸ç¡®å®šçš„æ–¹æ³• ï¼Œ è¿™ç§æ–¹æ³•åœ¨javaä¸­ç»Ÿç§°ä¸º æ³›å‹æ–¹æ³•</p></li><li class="lvl-3"><p>æ³›å‹æ¥å£çš„å®ç°ç±»æœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ ï¼Œ ä¸€ç§æ˜¯ç›´æ¥æ¥å£ä¸­æ˜ç¡®ç»™å‡ºæ³›å‹ç±»å‹ ï¼Œ å¦ä¸€ç§æ˜¯ç›´æ¥åœ¨ å®ç° åå£°æ˜æ³›å‹</p></li><li class="lvl-3"><p>åœ¨å®é™…åº”ç”¨ä¸­ ï¼Œ åªæœ‰æ³›å‹ç±»è¢«ä½¿ç”¨æ—¶ ï¼Œ è¯¥ç±»æ‰€å±çš„ç±»å‹æ‰èƒ½ç¡®å®š</p></li><li class="lvl-4"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-8"><p>ç®€è¿°æ³›å‹çš„æœ‰</p><blockquote><ol><li class="lvl-3"><p>æé«˜ç±»å‹çš„å®‰å…¨æ€§ã€‚</p><p>æ³›å‹çš„ä¸»è¦ç›®æ ‡æ˜¯æé«˜Javaç¨‹åºçš„ç±»å‹å®‰å…¨æ€§ï¼Œå³å¯ä»¥é€šè¿‡æ³›å‹å®šä¹‰å¯¹å˜é‡ç±»å‹è¿›è¡Œé™åˆ¶ï¼Œåœ¨å¯¹å˜é‡ç±»å‹é™åˆ¶ä¹‹åç¼–è¯‘å™¨å¯ä»¥æ›´å¥½çš„è¿›è¡Œç±»å‹éªŒè¯ã€‚</p></li><li class="lvl-3"><p>é¿å…å¼ºåˆ¶ç±»å‹è½¬æ¢</p><p>ä½¿ç”¨æ³›å‹çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯é¿å…æºä»£ç ä¸­çš„è®¸å¤šå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚è¿™ä½¿å¾—ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œå¹¶ä¸”å‡å°‘å‡ºé”™æœºä¼šã€‚å°½ç®¡å‡å°‘å¼ºåˆ¶ç±»å‹è½¬æ¢å¯ä»¥é™ä½ä½¿ç”¨æ³›å‹ç±»ä»£ç çš„å¤æ‚åº¦ï¼Œä½†æ˜¯å£°æ˜æ³›å‹å˜é‡ä¼šå¸¦æ¥ç›¸åº”çš„å¤æ‚æ“ä½œã€‚</p></li></ol></blockquote></li></ol></li><li class="lvl-4"><p>ç¼–ç¨‹é¢˜</p><ol><li class="lvl-8"><p>æŒ‰ç…§ä¸‹åˆ—æç¤ºç¼–å†™ä¸€ä¸ªæ³›å‹æ¥å£ä»¥åŠå…¶å®ç°ç±»</p><ol><li class="lvl-12"><p>åˆ›å»ºæ³›å‹æ¥å£Generic<T>,å¹¶åˆ›å»ºæŠ½è±¡æ–¹æ³•get(T t)</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Generic</span>&lt;T&gt; &#123;</span><br><span class="line">      <span class="keyword">void</span> <span class="title function_">get</span><span class="params">(T t)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-12"><p>åˆ›å»ºå®ç°ç±»GenericImpl<T> , å¹¶å®ç°get(T t)æ–¹æ³•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericeImple</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Generic</span>&lt;T&gt;  &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">(T t)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Received: &quot;</span> + t.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol></li></ol><h2 id="ç¬¬ä¹ç« ï¼š-åå°„">ç¬¬ä¹ç« ï¼š åå°„</h2><ol><li class="lvl-3"><p>åå°„æœºåˆ¶çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘</p></li><li class="lvl-3"><p>å¦‚æœé€šè¿‡Classç±»å®ä¾‹åŒ–å…¶ä»–ç±»çš„å¯¹è±¡ ï¼Œ åˆ™å¯ä»¥ä½¿ç”¨ newInstance() æ–¹æ³• ï¼Œ ä½†æ˜¯å¿…é¡»ä¿è¯è¢«å®ä¾‹åŒ–çš„ç±»ä¸­å­˜åœ¨ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•</p></li><li class="lvl-3"><p>é€šè¿‡åå°„å¯ä»¥å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰æ–¹æ³• ï¼Œ éœ€è¦ç”¨åˆ° java.lang.reflect åŒ…ä¸­çš„ Method ç±»</p></li><li class="lvl-3"><p>åœ¨åå°„æ“ä½œä¸­ ï¼Œ é€šè¿‡ getDeclaredFields() æ–¹æ³•å¯ä»¥å»çš„æœ¬ç±»ä¸­çš„å…¨éƒ¨å±æ€§</p></li><li class="lvl-3"><p>è¦å–å¾—ä¸€ä¸ªç±»ä¸­çš„å…¨éƒ¨æ–¹æ³• ï¼Œ å¯ä»¥ä½¿ç”¨Class ç±»ä¸­çš„ getMethods() æ–¹æ³•</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-7"><p>ç®€è¿°åå°„æœºåˆ¶</p><blockquote><p>Javaçš„åå°„ï¼ˆreflectionï¼‰æœºåˆ¶æ˜¯æŒ‡åœ¨ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯ä»¥æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¯ä»¥å¾—åˆ°ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»çš„ä¿¡æ¯ï¼Œå¯ä»¥è°ƒç”¨ä»»æ„ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œå¯ä»¥è·å–ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚è¿™ç§åŠ¨æ€è·å–ç¨‹åºä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„åŠŸèƒ½ç§°ä¸ºJavaè¯­è¨€çš„åå°„æœºåˆ¶</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°å®ä¾‹åŒ–Class å¯¹è±¡çš„ä¸‰ç§æ–¹å¼</p><blockquote><p>ï¼ˆ1ï¼‰æ ¹æ®ç±»åè·å–ï¼šç±»å.classï¼›</p><p>ï¼ˆ2ï¼‰æ ¹æ®å¯¹è±¡è·å–ï¼šå¯¹è±¡.getClass()ï¼›</p><p>ï¼ˆ3ï¼‰æ ¹æ®å…¨é™å®šç±»åè·å–ï¼šClass.forName(â€œå…¨é™å®šç±»åâ€)ã€‚</p></blockquote></li></ol></li></ol><h2 id="ç¬¬åç« ï¼š-I-Oæµ">ç¬¬åç« ï¼š I/Oæµ</h2><ol><li class="lvl-3"><p>Javaä¸­çš„IOæµæŒ‰ç…§ä¼ è¾“æ•°æ®çš„ä¸åŒå¯åˆ†ä¸º å­—èŠ‚æµ å’Œ å­—ç¬¦æµ</p></li><li class="lvl-3"><p><a href="http://java.io">java.io</a> åŒ…ä¸­å¯ä»¥ç”¨äºä»æ–‡ä»¶ç›´æ¥è¯»å–å­—ç¬¦çš„ç±»æ˜¯ Reader</p></li><li class="lvl-3"><p>IOç³»ç»Ÿæä¾›äº†ä¸¤ä¸ªå¸¦ç¼“å†²çš„å­—èŠ‚æµ ï¼Œ åˆ†åˆ«æ˜¯ BufferedInputStream å’Œ BufferedOutputStream</p></li><li class="lvl-3"><p>åœ¨JDKä¸­æä¾›äº†ä¸¤ä¸ªå¯å°†å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµçš„ç±»åˆ†åˆ«æ˜¯ ï¼š InputStreamReader å’Œ OutputStreamWriter</p></li><li class="lvl-3"><p>java.io.FileOutputStream æ˜¯ OutputStream çš„å­ç±» ï¼Œ å®ƒæ˜¯æ“ä½œæ–‡ä»¶çš„å­—èŠ‚è¾“å‡ºæµ</p></li><li class="lvl-3"><p>è½¬æ¢æµå®ç°äº†å­—èŠ‚æµå’Œå­—ç¬¦æµçš„ç›¸äº’è½¬æ¢</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-7"><p>ç®€è¿°å­—ç¬¦æµä¸å­—èŠ‚æµçš„åŒºåˆ«</p><blockquote><p>å­—èŠ‚æµçš„ä¸¤ä¸ªåŸºç±»æ˜¯InputStreamå’ŒOutputStreamï¼Œå­—ç¬¦æµçš„ä¸¤ä¸ªåŸºç±»æ˜¯Readerå’ŒWriterï¼Œå®ƒä»¬éƒ½æ˜¯Objectç±»çš„ç›´æ¥å­ç±»ï¼Œå­—èŠ‚æµæ˜¯å¤„ç†ä»¥8ä½å­—èŠ‚ä¸ºåŸºæœ¬å•ä½çš„å­—èŠ‚æµç±»ï¼›Readerå’ŒWriterç±»æ˜¯ä¸“é—¨å¤„ç†16ä½å­—èŠ‚çš„å­—ç¬¦æµç±»ã€‚</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°InputStreamReader ç±»ä¸ OutputStreamWriterç±»çš„ä½œç”¨</p><blockquote><p>InputStreamReaderæ˜¯Readerçš„å­ç±»ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªå­—èŠ‚è¾“å…¥æµè½¬æ¢æˆå­—ç¬¦è¾“å…¥æµï¼Œæ–¹ä¾¿ç›´æ¥è¯»å–å­—ç¬¦ã€‚OutputStreamWriteræ˜¯Writerçš„å­ç±»ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµè½¬æ¢æˆå­—ç¬¦è¾“å‡ºæµï¼Œæ–¹ä¾¿ç›´æ¥å†™å…¥å­—ç¬¦ã€‚</p></blockquote></li></ol></li></ol><h2 id="ç¬¬åä¸€ç« ï¼šJDBC">ç¬¬åä¸€ç« ï¼šJDBC</h2><ol><li class="lvl-3"><p>JDBC é©±åŠ¨ç¨‹åºç®¡ç†å™¨ä¸“é—¨è´Ÿè´£æ³¨å†Œç‰¹å®šçš„JDBCé©±åŠ¨ç¨‹åº ï¼Œ ä¸»è¦é€šè¿‡ java.sql.DriverManager ç±»å®ç°çš„</p></li><li class="lvl-3"><p>åœ¨ç¼–å†™JDBCåº”ç”¨ç¨‹åºæ—¶ ï¼Œ å¿…é¡»è¦æŠŠåˆ¶å®šæ•°æ®åº“é©±åŠ¨ç¨‹åºæˆ–ç±»åº“åŠ è½½åˆ° classpath ä¸­</p></li><li class="lvl-3"><p>PreparedStatement æ˜¯Statement çš„å­æ¥å£ ï¼Œ ç”¨äºæ‰§è¡Œ é¢„ç¼–è¯‘ çš„SQLè¯­å¥</p></li><li class="lvl-3"><p>åˆ›å»ºStatement å¯¹è±¡çš„ä½œç”¨æ˜¯ ï¼š æ‰§è¡ŒSQLè¯­å¥</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜ï¼š</p><ol><li class="lvl-7"><p>ç®€è¿°JDBCç¼–ç¨‹çš„6ä¸ªå¼€å‘è®°å½•</p><blockquote><ol><li class="lvl-3">åŠ è½½å¹¶æ³¨å†Œæ•°æ®åº“é©±åŠ¨ï¼›</li><li class="lvl-3">é€šè¿‡DriverManagerè·å–æ•°æ®åº“è¿æ¥ï¼›</li><li class="lvl-3">é€šè¿‡Connectionå¯¹è±¡è·å–Statementå¯¹è±¡ï¼›</li><li class="lvl-3">ä½¿ç”¨Statementæ‰§è¡ŒSQLè¯­å¥ï¼›</li><li class="lvl-3">æ“ä½œResultSetç»“æœé›†ï¼›</li><li class="lvl-3">å›æ”¶æ•°æ®åº“èµ„æºã€‚</li></ol></blockquote></li><li class="lvl-7"><p>ä»€ä¹ˆæ˜¯é¢„ç¼–è¯‘</p><blockquote><p>æ‰€è°“é¢„ç¼–è¯‘,å°±æ˜¯è¯´å½“ç›¸åŒçš„SQLè¯­å¥å†æ¬¡æ‰§è¡Œæ—¶,æ•°æ®åº“åªéœ€ä½¿ç”¨ç¼“å†²åŒºä¸­çš„æ•°æ®,è€Œä¸éœ€è¦å¯¹SQLè¯­å¥å†æ¬¡ç¼–è¯‘,ä»è€Œæœ‰æ•ˆæé«˜æ•°æ®çš„è®¿é—®æ•ˆç‡ã€‚</p></blockquote></li></ol></li></ol><h2 id="ç¬¬åäºŒç« ï¼š-å¤šçº¿ç¨‹">ç¬¬åäºŒç« ï¼š å¤šçº¿ç¨‹</h2><ol><li class="lvl-3"><p>å®ç°å¤šçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼æ˜¯ç»§æ‰¿ Thread å’Œ å®ç° Runnable æ¥å£</p></li><li class="lvl-3"><p>çº¿ç¨‹çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåˆ†ä¸º5ä¸ªé˜¶æ®µ ï¼Œ åˆ†åˆ«æ˜¯ æ–°å»ºçŠ¶æ€ ï¼Œ å°±ç»ªçŠ¶æ€ ï¼Œ è¿è¡ŒçŠ¶æ€ ï¼Œ å µå¡çŠ¶æ€ å’Œ æ­»äº¡çŠ¶æ€</p></li><li class="lvl-3"><p>åœ¨Thread ç±»ä¸­ ï¼Œ æä¾›äº† start() æ–¹æ³•ç”¨äºå¯åŠ¨æ–°çº¿ç¨‹</p></li><li class="lvl-3"><p>æ‰§è¡Œ sleep() æ–¹æ³• ï¼Œ å¯ä»¥è®©çº¿ç¨‹åœ¨è§„å®šçš„æ—¶é—´å†…ä¼‘çœ </p></li><li class="lvl-3"><p>åŒæ­¥ä»£ç å—ä½¿ç”¨ synchronized å…³é”®å­—ä¿®é¥°</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜ï¼š</p><ol><li class="lvl-7"><p>ç®€è¿°åˆ›å»ºå¤šçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼</p><blockquote><p>ä¸€ç§æ˜¯ç»§æ‰¿java.langåŒ…ä¸‹çš„Threadç±»ï¼Œè¦†å†™Threadç±»çš„run()æ–¹æ³•ï¼Œåœ¨run()æ–¹æ³•ä¸­å®ç°è¿è¡Œåœ¨çº¿ç¨‹ä¸Šçš„ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>() &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">&#125;.start();</span><br></pre></td></tr></table></figure><p>å¦ä¸€ç§å°±æ˜¯å®ç°java.lang.Runnableæ¥å£ï¼ŒåŒæ ·æ˜¯åœ¨run()æ–¹æ³•ä¸­å®ç°è¿è¡Œåœ¨çº¿ç¨‹ä¸Šçš„ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote></li><li class="lvl-7"><p>ç®€è¿°åŒæ­¥ä»£ç å—çš„ä½œç”¨</p><blockquote><p>åŒæ­¥ä»£ç å—çš„ä½œç”¨æ˜¯æ§åˆ¶çº¿ç¨‹ï¼Œä¿è¯åŒæ­¥ä»£ç å—ä¸­åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œä¿è¯äº†å¤šçº¿ç¨‹æ“ä½œæ•°æ®çš„å®‰å…¨æ€§</p></blockquote></li></ol></li><li class="lvl-3"><p>ç¼–ç¨‹é¢˜</p><ol><li class="lvl-7"><p>ç¼–å†™ä¸€ä¸ªå¤šçº¿ç¨‹ç¨‹åº ï¼Œ æ¨¡æ‹Ÿç«è½¦å”®ç¥¨çª—å£çš„å”®ç¥¨åŠŸèƒ½ ï¼Œ åˆ›å»ºçº¿ç¨‹1 å’Œ çº¿ç¨‹2 ï¼Œ é€šè¿‡è¿™ä¸¤ä¸ªçº¿ç¨‹å…±åŒå”®å‡º100å¼ ç¥¨</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TicketWindow</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰100å¼ ç¥¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">th</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">            <span class="type">String</span> <span class="variable">th_name</span> <span class="operator">=</span> th.getName();</span><br><span class="line">            System.out.println(th_name + <span class="string">&quot; æ­£åœ¨å‘å”®ç¬¬ &quot;</span>  + num-- + <span class="string">&quot; å¼ ç¥¨&quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">TicketWindow</span> <span class="variable">ticketWindow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TicketWindow</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(ticketWindow , <span class="string">&quot;çº¿ç¨‹1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(ticketWindow , <span class="string">&quot;çº¿ç¨‹2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="ç¬¬åä¸‰ç« -ï¼š-ç½‘ç»œç¼–ç¨‹">ç¬¬åä¸‰ç«  ï¼š ç½‘ç»œç¼–ç¨‹</h2><ol><li class="lvl-3"><p>åŸºäºTCP/IPçš„ç½‘ç»œè‰è€ƒæ¨¡å‹è¢«åˆ†ä¸º4å±‚ ï¼Œ åˆ†åˆ«æ˜¯ é“¾è·¯å±‚ ï¼Œ ç½‘ç»œå±‚ ï¼Œ è¿è¾“å±‚ å’Œåº”ç”¨å±‚</p></li><li class="lvl-3"><p>åœ¨è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶ ï¼Œ ä¼ è¾“å±‚å¯ä»¥é‡‡ç”¨TCP ï¼Œ ä¹Ÿå¯ä»¥é‡‡ç”¨UDP</p></li><li class="lvl-3"><p>åœ¨ä¸‹è½½æ–‡ä»¶æ—¶ ï¼Œå¿…é¡»é‡‡ç”¨TCP</p></li><li class="lvl-3"><p>JDKæä¾›äº† DatagramSocket ç±» ï¼Œ è¯¥ç±»å¯ä»¥å‘é€å’Œæ¥å—æ•°æ®åŒ…</p></li><li class="lvl-3"><p>åœ¨JDKä¸­æä¾›äº†ä¸¤ä¸ªç”¨äºå®ç°TCPç¨‹åºçš„ç±» ï¼Œ ä¸€ä¸ªæ˜¯ ServerSocket ç±» ï¼Œ ç”¨äºè¡¨ç¤ºæœåŠ¡ç«¯ ï¼Œ å¦ä¸€ä¸ªæ˜¯Socketç±» ï¼Œ ç”¨äºè¡¨ç¤ºå®¢æˆ·ç«¯</p></li><li class="lvl-3"><p>ç®€ç­”é¢˜</p><ol><li class="lvl-7"><p>ç®€è¿°TCPé€šä¿¡ä¸UDPé€šä¿¡çš„ä¸»è¦åŒºåˆ«</p><blockquote><p>UDPé€šä¿¡ä¸TCPé€šä¿¡çš„åŒºåˆ«åœ¨äºï¼ŒUDPä¸­åªæœ‰å‘é€ç«¯å’Œæ¥æ”¶ç«¯ï¼Œä¸åŒºåˆ†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ï¼Œè®¡ç®—æœºä¹‹é—´å¯ä»¥ä»»æ„åœ°å‘é€æ•°æ®ï¼›è€ŒTCPé€šä¿¡æ˜¯ä¸¥æ ¼åŒºåˆ†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯çš„ï¼Œåœ¨é€šä¿¡æ—¶ï¼Œå¿…é¡»å…ˆç”±å®¢æˆ·ç«¯å»è¿æ¥æœåŠ¡å™¨ç«¯æ‰èƒ½å®ç°é€šä¿¡ï¼ŒæœåŠ¡å™¨ç«¯ä¸å¯ä»¥ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”æœåŠ¡å™¨ç«¯ç¨‹åºéœ€è¦äº‹å…ˆå¯åŠ¨ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ã€‚</p></blockquote></li><li class="lvl-7"><p>ç®€è¿°TCPä¸­æœåŠ¡å™¨ç«¯ä¸å®¢æˆ·ç«¯çš„è¿æ¥è¿‡ç¨‹</p><blockquote><p>åœ¨TCPè¿æ¥ä¸­å¿…é¡»è¦æ˜ç¡®å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ï¼Œç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œæ¯æ¬¡è¿æ¥çš„åˆ›å»ºéƒ½éœ€è¦ç»è¿‡â€œä¸‰æ¬¡æ¡æ‰‹â€ã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å›é€ä¸€ä¸ªå“åº”ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æ”¶åˆ°äº†è¿æ¥è¯·æ±‚ï¼›ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å†æ¬¡å‘æœåŠ¡å™¨ç«¯å‘é€ç¡®è®¤ä¿¡æ¯ï¼Œç¡®è®¤è¿æ¥ã€‚</p></blockquote></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Javaè¯¾ç¨‹ä½œä¸š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºç‹¬å¤„</title>
      <link href="/posts/750cb0cc.html"/>
      <url>/posts/750cb0cc.html</url>
      
        <content type="html"><![CDATA[<p>ä½ å¼€å§‹æœ‰ä¸€ç‚¹æŠ‘éƒçš„è¿¹è±¡äº†ï¼Œæ˜¯ä¸æ˜¯æœ€è¿‘å­¦ä¹ å‹åŠ›å¤§ï¼Œæˆ–è€…æ˜¯ä¸å®¿å‹åŒå­¦çš„å…³ç³»å¤„ç†ä¸å¤ªå¥½ï¼Œå»ºè®®ä½ ä¸è¦æ€»æ˜¯æŠŠè‡ªå·±å°é—­åœ¨ä¸€ä¸ªç‹­å°çš„ç©ºé—´ï¼Œå¤šå‡ºå»èµ°èµ°ï¼Œä¹Ÿå¯ä»¥å‡ºå»åšåšè¿åŠ¨ï¼Œæˆ–è€…æ˜¯å‚åŠ å­¦æ ¡ä¸€äº›é›†ä½“æ´»åŠ¨ï¼Œæˆ–è€…å»å›¾ä¹¦é¦†å‡ æœ¬ä¹¦çœ‹ï¼Œå¿ƒæƒ…ä¼šèˆ’ç•…å¾ˆå¤šï¼Œå­¤ç‹¬æ„Ÿä¹Ÿä¼šè‡ªç„¶è€Œç„¶æ¶ˆé™¤äº†ï¼Œå¦‚æœä½ æ€»æ˜¯ä¹ æƒ¯æ€§çš„å›åˆ°å®¿èˆèººåœ¨åºŠä¸Šç©æ‰‹æœºï¼Œä¹…è€Œä¹…ä¹‹ä½ ä¼šå¯¹æ‰‹æœºäº§ç”Ÿä¾èµ–ï¼Œç”šè‡³ç½‘ç»œä¸Šçš„ä¸€äº›é”™è¯¯çš„è§‚å¿µä¼šç›´æ¥å½±å“ä½ çš„æ€æƒ³ï¼Œæ²‰è¿·ä¸çŸ­è§†é¢‘åï¼Œå®ƒä¼šå ç”¨ä½ å¤§é‡çš„ä¸ªäººæ—¶é—´ï¼Œä¸€æ—¦äº§ç”Ÿä¾èµ–ï¼Œå°±æ˜¯å¾ˆéš¾ä¸“æ³¨çš„å­¦ä¹ ï¼Œåˆ¶å®šçš„å­¦ä¹ è®¡åˆ’ä¹Ÿä¼šæ²‰è¿·ç½‘ç»œéš¾ä»¥æ‰§è¡Œä¸‹å»ï¼Œç”šè‡³ä¼šå› ä¸ºç½‘ç»œä¸Šä¸€äº›é”™è¯¯çš„è§‚å¿µä¸­é€”åœæ­¢è®¡åˆ’ã€‚è¿˜æœ‰å°±æ˜¯ä½ çš„èº«ä½“ï¼Œç”±äºä½ ä¹ æƒ¯æ€§èººåœ¨åºŠä¸Šç©æ‰‹æœºï¼Œæ²‰è¿·äºç½‘ç»œï¼Œä¹…è€Œä¹…ä¹‹ä½ çš„èº«ä½“ç´ è´¨ä¼šæ…¢æ…¢å˜å·®ï¼Œèº«ä½“å¼€å§‹ä¼šå‡ºç°ä¸€äº›ç–¾ç—…ï¼Œåˆ°åæœŸçš„è¯ä½ å¯èƒ½å°±éœ€è¦ç»å¸¸å»åŒ»é™¢äº†ã€‚ä½ çš„ç¤¾äº¤åœˆä¹Ÿä¼šå› ä¸ºä½ ç»å¸¸å°é—­åœ¨ä¸€ä¸ªç©ºé—´é‡Œé¢æ— æ³•æ‹“å±•ï¼Œä½ çš„æ€ç»´èƒ½åŠ›ä¸è¡¨è¾¾èƒ½åŠ›ä¹Ÿä¼šé€æ¸è¡°é€€ã€‚è¿˜æœ‰å°±æ˜¯ä½ è®¤ä¸ºäºŒæœ¬ä¸å¥½ï¼Œé‚£ä½ çŸ¥ä¸çŸ¥é“å…¶å®åœ¨ä¸­å›½ï¼Œèƒ½å¤Ÿæœ‰æ‹¥æœ‰æœ¬ç§‘å­¦å†çš„æ¯”ä¾‹å…¶å®å¹¶ä¸é«˜ï¼Œç»å¤§å¤šäººå­¦å†åªæœ‰åˆä¸­åˆ°å¤§ä¸“çš„å­¦å†ï¼Œä½ è¿™ä¸ªå­¦å†ï¼Œä½ å»é‚£äº›çŸ¥åçš„å…¬å¸ä¸æ”¿åºœå•ä½å¯èƒ½ä¸ä¼šå—å¾…è§ï¼Œä½†å¦‚æœæ˜¯å»ä¸€äº›æ™®é€šçš„å·¥å‚ï¼Œä½ å·²ç»æ˜¯ç®—æ˜¯é«˜å­¦å†çš„äººæ‰ï¼Œèƒ½å¤Ÿèƒœä»»æŠ€æœ¯å·¥ç¨‹å¸ˆä¸åŠå…¬å®¤çš„æ–‡èŒå·¥ä½œï¼Œè€Œä¸æ˜¯å»æµæ°´çº¿æ‰“èºä¸ã€‚è¿˜æœ‰å°±æ˜¯ä½ è§‰å¾—äºŒæœ¬ä¸å¥½ï¼Œå¯èƒ½æ˜¯åˆ«äººç»™ä½ çŒè¾“çš„è§‚å¿µï¼Œä½†å¦‚æœä½ æ¥å—äº†è¿™ç§è§‚å¿µï¼Œä½ çš„æ€æƒ³ä¸è¡Œä¸ºä¼šæ”¶åˆ°å¾ˆå¤§å½±å“ï¼Œæ€æƒ³ä¼šå˜å¾—è‡ªå‘ï¼Œä¸æ€è¿›å–ï¼Œè¡Œä¸ºä¹Ÿä¼šå˜å¾—ç¼ºä¹åŠ¨åŠ›ï¼Œå› ä¸ºä»å¿ƒç†ä¸Šä½ å·²ç»å®šä¹‰äº†ä½ è‡ªå·±æ˜¯ä¸è¡Œï¼Œä½ ç»™è‡ªå·±è´´ä¸Šçš„æ ‡ç­¾ï¼Œä¼šå¾ˆå¤§ç¨‹åº¦å½±å“æ—¥åçš„æ‰€æœ‰è¡ŒåŠ¨ã€‚ä¸è¦å°ç§å¿ƒç†å¯¹äººçš„å½±å“ï¼Œå¾€æ­£é¢çœ‹ä»–å¯ä»¥ä½¿ä¸€ä¸ªäººå˜å¾—è¶Šæ¥è¶Šä¸Šè¿›ï¼Œå¾€è´Ÿé¢çœ‹å®ƒä¹Ÿå¯ä»¥åœ¨æ— å½¢ä¸­åºŸæ‰ä¸€ä¸ªäººã€‚æŠ±æ€¨æ˜¯ä¸ä¼šå¯¹ç°çŠ¶æœ‰ä»»ä½•æ”¹å˜çš„ï¼Œåªä¼šé€æ¸è®©ä½ ä¸§å¤±æ–—å¿—å¯¹ç”Ÿæ´»å¤±å»å¸Œæœ›ï¼Œä½ å”¯æœ‰æŠ±æœ‰ä¸€ç§æ°¸ä¸æœè¾“çš„ç²¾ç¥ï¼Œä½ æ‰ä¼šæœ‰é‚£å‹‡æ°”ï¼Œæ’å¿ƒï¼Œæ¯…åŠ›å»å…‹æœé˜»ç¢å‰è¿›é“è·¯çš„æ‰€æœ‰å›°éš¾ã€‚å…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½æ‚²å“€ï¼Œå¦‚æœæ˜¯ç”Ÿæ´»ç»™ä½ åˆ¶é€ å„ç§å›°éš¾ï¼Œé‚£ä½ åº”è¯¥æƒ³ç€å¦‚ä½•è§£å†³è¿™ä¸ªå›°éš¾ï¼Œåˆæˆ–è€…æ˜¯æŸäº›äººç»™ä½ åˆ¶é€ äº†é—®é¢˜ï¼Œä½ å°±è¦æƒ³å¦‚ä½•å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå½“ä½ èƒ½å¤Ÿå‡­å€Ÿä½ çš„æ™ºæ…§æŠŠå›°éš¾è§£å†³ï¼Œé‚£ä¹ˆåœ¨ä½ å‰è¿›é“è·¯ä¸Šçš„é˜»ç¢å°±å˜å°‘äº†ï¼Œä½ çš„äººç”Ÿé“è·¯ä¼šè¶Šæ¥è¶Šé¡ºç•…ã€‚ç”šè‡³ä¸€äº›æ›¾ç»çš„ç¼ºç‚¹ä¹Ÿä¼šå› ä¸ºç»è¿‡æ”¹å˜åå˜æˆä½ çš„ä¼˜ç‚¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆ‘åœ¨äººé—´å‡‘æ•°çš„æ—¥å­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitçš„å­¦ä¹ ç¬”è®°</title>
      <link href="/posts/92d0de5b.html"/>
      <url>/posts/92d0de5b.html</url>
      
        <content type="html"><![CDATA[<h2 id="Gitçš„ç®€å•ä»‹ç»">Gitçš„ç®€å•ä»‹ç»</h2><p>â€</p><blockquote><p>Gitæ˜¯ä¸€ä¸ªå…è´¹çš„ã€å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°å¤„ç†ä»å°å‹åˆ°å¤§å‹çš„å„ç§é¡¹ç›®</p></blockquote><p>â€</p><h2 id="Gitçš„å¸¸ç”¨å‘½ä»¤">Gitçš„å¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤åç§°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>git config --global <a href="http://user.name">user.name</a> â€˜ç”¨æˆ·åâ€™</td><td>è®¾ç½®ç”¨æˆ·ç­¾å</td></tr><tr><td>git config --global user.email â€˜é‚®ç®±â€™</td><td>è®¾ç½®ç”¨æˆ·ç­¾å</td></tr><tr><td>git init</td><td>åˆå§‹åŒ–æœ¬åœ°åº“</td></tr><tr><td>git status</td><td>æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€</td></tr><tr><td>git add æ–‡ä»¶å</td><td>æ·»åŠ åˆ°ç¼“å­˜åŒº</td></tr><tr><td>git commit -m â€œæ—¥å¿—ä¿¡æ¯â€ æ–‡ä»¶å</td><td>æäº¤åˆ°æœ¬åœ°åº“</td></tr><tr><td>git reflog</td><td>æŸ¥çœ‹å†å²è®°å½•</td></tr><tr><td>git rest --hard ç‰ˆæœ¬å·</td><td>ç‰ˆæœ¬ç©¿æ¢­</td></tr><tr><td>git log</td><td>æŸ¥çœ‹ç‰ˆæœ¬è¯¦ç»†ä¿¡æ¯</td></tr></tbody></table><h2 id="Gitçš„åˆ†æ”¯æ“ä½œ">Gitçš„åˆ†æ”¯æ“ä½œ</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231204092707-wduhj78.png" alt="image">â€‹</p><p>â€</p><p><strong>ä»€ä¹ˆäº‹æ˜¯åˆ†æ”¯</strong></p><blockquote><p>åœ¨ç‰ˆæœ¬æ§åˆ¶è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæ¯ä¸ªä»»åŠ¡çš„å•ç‹¬åˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ç¨‹åºå‘˜å¯ä»¥æŠŠè‡ªå·±çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œå¼€å‘è‡ªå·±åˆ†æ”¯çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“ä¸»çº¿åˆ†æ”¯çš„è¿è¡Œã€‚å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œåˆ†æ”¯å¯ä»¥ç®€å•ç†è§£ä¸ºå‰¯æœ¬ï¼Œä¸€ä¸ªåˆ†æ”¯å°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„å‰¯æœ¬ã€‚ï¼ˆåˆ†æ”¯åº•å±‚å…¶å®ä¹Ÿæ˜¯æŒ‡é’ˆçš„å¼•ç”¨ï¼‰</p></blockquote><p>â€</p><p><strong>åˆ†æ”¯çš„å¥½å¤„</strong></p><blockquote><ul class="lvl-1"><li class="lvl-2"><p>åŒæ—¶å¹¶è¡Œæ¨è¿›å¤šä¸ªåŠŸèƒ½å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p></li><li class="lvl-2"><p>å„ä¸ªåˆ†æ”¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸä¸€ä¸ªåˆ†æ”¯å¼€å‘å¤±è´¥ï¼Œä¸ä¼šå¯¹å…¶ä»–åˆ†æ”¯æœ‰ä»»ä½•å½±å“ã€‚å¤±è´¥çš„åˆ†æ”¯åˆ é™¤é‡æ–°å¼€å§‹å³å¯</p></li></ul></blockquote><p>â€</p><h2 id="åˆ†æ”¯æ“ä½œå‘½ä»¤">åˆ†æ”¯æ“ä½œå‘½ä»¤</h2><p>â€</p><table><thead><tr><th>å‘½ä»¤åç§°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>git branch åˆ†æ”¯å</td><td>åˆ›å»ºåˆ†æ”¯</td></tr><tr><td>git branch -v</td><td>æŸ¥çœ‹åˆ†æ”¯</td></tr><tr><td>git checkout åˆ†æ”¯å</td><td>åˆ‡æ¢åˆ†æ”¯</td></tr><tr><td>git merge åˆ†æ”¯å</td><td>æŠŠæŒ‡å®šçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸Š</td></tr></tbody></table><h3 id="å†²çªçš„äº§ç”Ÿå’Œè§£å†³">å†²çªçš„äº§ç”Ÿå’Œè§£å†³</h3><p>å†²çªçš„äº§ç”ŸåŸå› ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>åˆå¹¶åˆ†æ”¯æ—¶ï¼Œä¸¤ä¸ªåˆ†æ”¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªä½ç½®æœ‰ä¸¤å¥—å®Œå…¨ä¸åŒçš„ä¿®æ”¹ã€‚Gitæ— æ³•æ›¿æˆ‘ä»¬å†³å®šä½¿ç”¨å“ªä¸€ä¸ªã€‚å¿…é¡»äººä¸ºå†³å®šæ–°ä»£ç å†…å®¹</p></li></ul><p>è§£å†³å†²çªï¼š</p><ol><li class="lvl-3"><p>ç¼–è¾‘æœ‰å†²çªçš„æ–‡ä»¶ï¼Œåˆ é™¤ç‰¹æ®Šç¬¦å·ï¼Œå†³å®šè¦ä½¿ç”¨çš„å†…å®¹</p><ol><li class="lvl-7">ç‰¹æ®Šç¬¦å·ï¼š&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADå½“å‰åˆ†æ”¯çš„ä»£ç =======åˆå¹¶è¿‡æ¥çš„ä»£ç &gt;&gt;&gt;&gt;&gt;&gt;&gt; hot-fix</li></ol></li></ol><h2 id="Gieå›¢é˜Ÿåä½œæœºåˆ¶">Gieå›¢é˜Ÿåä½œæœºåˆ¶</h2><p><strong>å›¢é˜Ÿå†…åä½œ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231210083125-rvhdytr.png" alt="image">â€‹</p><p><strong>è·¨å›¢é˜Ÿåä½œ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231210083141-3c07vsv.png" alt="image">â€‹</p>]]></content>
      
      
      <categories>
          
          <category> ç‰ˆæœ¬æ§åˆ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7. ç‰¹æ®ŠSQLçš„æ‰§è¡Œ</title>
      <link href="/posts/51361b40.html"/>
      <url>/posts/51361b40.html</url>
      
        <content type="html"><![CDATA[<h1>1. æ¨¡ç³ŠæŸ¥è¯¢</h1><p>â€</p><p>æ¼”ç¤ºä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æµ‹è¯•æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> mohu</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">testMohu</span><span class="params">(<span class="meta">@Param(&quot;mohu&quot;)</span> String mohu)</span>;</span><br></pre></td></tr></table></figure><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; testMohu(@Param(&quot;mohu&quot;) String mohu);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;testMohu&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ¨¡ç³ŠæŸ¥è¯¢çš„è¯­å¥--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--select * from t_user where username like &#x27;%$&#123;mohu&#125;%&#x27;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--select * from t_user where username like concat(&#x27;%&#x27;,#&#123;mohu&#125;,&#x27;%&#x27;)--&gt;</span></span><br><span class="line">select * from t_user where username like &quot;%&quot;#&#123;mohu&#125;&quot;%&quot;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h1>2. æ‰¹é‡åˆ é™¤</h1><p>â€</p><p>æ¼”ç¤ºä»£ç  ï¼š</p><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ‰¹é‡åˆ é™¤</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> ids</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteMore</span><span class="params">(<span class="meta">@Param(&quot;ids&quot;)</span> String ids)</span>;</span><br></pre></td></tr></table></figure><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int deleteMore(@Param(&quot;ids&quot;) String ids);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteMore&quot;</span>&gt;</span></span><br><span class="line">delete from t_user where id in ($&#123;ids&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h1>3. åŠ¨æ€è®¾ç½®è¡¨å</h1><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åŠ¨æ€è®¾ç½®è¡¨åï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> tableName</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getAllUser</span><span class="params">(<span class="meta">@Param(&quot;tableName&quot;)</span> String tableName)</span>;</span><br></pre></td></tr></table></figure><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getAllUser(@Param(&quot;tableName&quot;) String tableName);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">select * from $&#123;tableName&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h1>4. æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</h1><p>â€</p><p>æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”® â€”â€”&gt; è·å–å—å½±å“çš„è¡Œæ•°</p><p>â€</p><p><strong>åœºæ™¯æ¨¡æ‹Ÿï¼š</strong></p><p><strong>t_clazz(clazz_id,clazz_name)</strong></p><p><strong>t_student(student_id,student_name,clazz_id)</strong></p><p><strong>1ã€æ·»åŠ ç­çº§ä¿¡æ¯</strong></p><p><strong>2ã€è·å–æ–°æ·»åŠ çš„ç­çº§çš„id</strong></p><p><strong>3ã€ä¸ºç­çº§åˆ†é…å­¦ç”Ÿï¼Œå³å°†æŸå­¦çš„ç­çº§idä¿®æ”¹ä¸ºæ–°æ·»åŠ çš„ç­çº§çš„id</strong></p><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ·»åŠ ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">* useGeneratedKeysï¼šè®¾ç½®ä½¿ç”¨è‡ªå¢çš„ä¸»é”®</span></span><br><span class="line"><span class="comment">* keyPropertyï¼šå› ä¸ºå¢åˆ æ”¹æœ‰ç»Ÿä¸€çš„è¿”å›å€¼æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå› æ­¤åªèƒ½å°†è·å–çš„è‡ªå¢çš„ä¸»é”®æ”¾åœ¨ä¼ è¾“çš„å‚æ•°userå¯¹è±¡çš„æŸä¸ªå±æ€§ä¸­</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">insertUser</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int insertUser(User user);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">insert into t_user values(null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;sex&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°†Javaé¡¹ç›®æ‰“åŒ…æˆexeå¯æ‰§è¡Œæ–‡ä»¶</title>
      <link href="/posts/8e1cab8e.html"/>
      <url>/posts/8e1cab8e.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™é‡Œå°†ä»¥ ideaä¸­é¡¹ç›®æ‰“åŒ…æˆexeå¯æ‰§è¡Œæ–‡ä»¶ä¸ºä¾‹</p></blockquote><p>â€</p><h2 id="æ‰€é€‰å·¥å…·">æ‰€é€‰å·¥å…·</h2><blockquote><p>IDEA , JDK , exe4j</p></blockquote><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><a href="https://www.jetbrains.com/idea/">IDEAå®˜ç½‘</a></p></li><li class="lvl-2"><p><a href="https://www.cnblogs.com/NorthPoet/p/16553157.html">JDKå®‰è£…æ•™ç¨‹</a></p></li><li class="lvl-2"><p><a href="https://exe4j.apponic.com/download/">exe4jä¸‹è½½åœ°å€</a></p></li></ul><h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2><blockquote><p>é¦–å…ˆç¡®ä¿è¯¥ç¨‹åºèƒ½å¤Ÿæ­£å¸¸è¿è¡Œ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118153539-os7aecx.png" alt="image">â€‹</p><p>â€</p><blockquote><p>æ‰“åŒ…æµç¨‹ç®€è¿°</p></blockquote><ul class="lvl-0"><li class="lvl-2"><p>æŠŠjavaé¡¹ç›®æ‰“åŒ…æˆexeå¯æ‰§è¡Œæ–‡ä»¶ç®€å•æ¥è¯´åªè¦ä¸¤ä¸ªæ­¥éª¤</p><ol><li class="lvl-5">æŠŠjavaé¡¹ç›®æ‰“åŒ…æˆjaråŒ…</li><li class="lvl-5">ä½¿ç”¨exe4jæŠŠjaråŒ…åŠ å·¥æˆexeå¯æ‰§è¡Œæ–‡ä»¶</li></ol></li></ul><h2 id="æ‰“åŒ…æµç¨‹">æ‰“åŒ…æµç¨‹</h2><blockquote><p>é¦–å…ˆå°†Javaé¡¹ç›®æ‰“åŒ…æˆjaråŒ…</p></blockquote><p><strong>è¿›å…¥Project Structure</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118153836-dso6vvp.png" alt="image">â€‹â€‹</p><p>â€</p><p><strong>æ¥ä¸‹æ¥æŒ‰ç…§å¦‚å›¾æ‰€ç¤ºåˆ›å»ºä¸€ä¸ªmodule</strong></p><p>â€‹â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118154256-l4654eu.png" alt="image">â€‹â€‹â€‹â€‹</p><p>â€</p><p><strong>ä¸‹ä¸€æ­¥ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118154726-sc4dzqj.png" alt="image">â€‹</p><p>â€</p><blockquote><p>è®¾ç½®å®Œä¹‹åå‡ºç°è¯¥é¡µé¢ ï¼Œ ç„¶åç‚¹å‡»OKå°±è¡Œ</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118154823-2flippv.png" alt="image">â€‹</p><p>â€</p><blockquote><p>å‡†å¤‡ç”ŸæˆjaråŒ… ï¼Œ ç‚¹å‡»ideaå·¥å…·æ ä¸Šçš„Buildâ€“&gt;Build Artifacts</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118155128-tysr5rg.png" alt="image">â€‹â€‹</p><p>â€</p><blockquote><p>ç‚¹å‡»å®Œä¹‹åä¼šæœ‰è¿™æ ·ä¸€ä¸ªå¼¹çª— ï¼Œéšåç‚¹å‡»Buildå°±è¡Œ</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118155251-bxjtwo5.png" alt="image">â€‹â€‹</p><p>â€</p><blockquote><p>ä¹‹åå°±ä¼šç”Ÿæˆä¸€ä¸ªjaråŒ… ï¼Œ åœ¨classesé‡Œé¢</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118155358-vgf2e74.png" alt="image">â€‹</p><p>â€</p><h2 id="ä½¿ç”¨exe4jå°†jaråŒ…åŠ å·¥æˆä¸ºexeæ–‡ä»¶">ä½¿ç”¨exe4jå°†jaråŒ…åŠ å·¥æˆä¸ºexeæ–‡ä»¶</h2><blockquote><p>è¿™é‡Œå°±ä¸å¯¹exe4jåšè¿‡å¤šçš„è§£é‡Šäº† ï¼Œè·Ÿç€ç…§åšå°±è¡Œ</p></blockquote><p>â€</p><p><strong>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€exe4jè¿™ä¸ªè½¯ä»¶</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118155933-6ky4eyu.png" alt="image">â€‹</p><p>â€</p><blockquote><p>é€‰æ‹©è¦æ‰“åŒ…çš„ç±»å‹ï¼Œé€‰æ‹©JAR in EXE modeï¼Œç„¶ånext</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118160647-wylv66h.png" alt="image">â€‹</p><p>â€</p><blockquote><p>ç»™è¦æ‰“åŒ…å‡ºæ¥çš„ç¨‹åºæ–‡ä»¶èµ·ä¸ªåï¼Œå†æŒ‡å®šä¸€ä¸‹è·¯å¾„ ï¼Œè®¾ç½®å®Œæˆä¹‹åç‚¹å‡»next</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118161020-b72tbij-20231118162138-t5ds870.png" alt="image-20231118161020-b72tbij">â€‹â€‹</p><p>â€‹â€‹â€‹</p><blockquote><p><strong>ç‰¹åˆ«æ³¨æ„å¦‚æœç”µè„‘æ˜¯64ä½çš„éœ€è¦å»è®¾ç½®æˆ64ä½ ï¼Œ è®¾ç½®å®Œä¹‹åç‚¹next</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118161449-k0wv0mk.png" alt="image">â€‹</p><p>â€</p><blockquote><p>exeæ–‡ä»¶çš„æ ¼å¼é€‰æ‹© ï¼Œ é€‰æ‹©ä¹‹åç‚¹å‡»next</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118161823-ptrmtur.png" alt="image">â€‹</p><p>â€</p><blockquote><p>æŒ‰ä¸‹å›¾æ·»åŠ jaråŒ…ï¼Œé€‰æ‹©é¡¹ç›®å¯åŠ¨çš„ç±»ï¼Œå¦‚æœé¡¹ç›®è¿˜æœ‰å¯¼å…¥é¢å¤–çš„jaråŒ…ï¼Œä¹Ÿè¦è¿›è¡Œæ·»åŠ </p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118162443-9jl9gev.png" alt="image">â€‹</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118162600-yc2l08p.png" alt="image">â€‹</p><p>â€</p><blockquote><p>æœ€åçš„ç•Œé¢æ˜¯è¿™ä¸ªæ ·å­çš„ ï¼Œ ç„¶åç‚¹å‡»next</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231130184755375.png" alt="image-20231130184755375"></p><p>â€</p><blockquote><p>è®¾ç½®jdk/jreçš„æœ€é«˜æœ€ä½ç‰ˆæœ¬ï¼Œè¿è¡Œé¡¹ç›®æ—¶ä½¿ç”¨çš„ç¯å¢ƒé¡ºåº , è®¾ç½®å®Œæˆä¹‹å , ç‚¹å‡»next</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118163016-08j5ak9.png" alt="image">â€‹</p><p>â€</p><blockquote><p>ç„¶åå°±ä¸€ç›´next ï¼Œ ç›´è‡³å‡ºç°æ­¤é¡µé¢</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118163243-jqnfdsa.png" alt="image">â€‹â€‹</p><p>â€</p><blockquote><p>æœ€åç‚¹å‡»Exitå°±å¤§åŠŸå‘Šæˆäº† ï¼Œ å¼¹å‡ºçš„é¡µé¢å¯ä»¥ç‚¹å‡»yes ï¼Œ ä¹Ÿå¯ä»¥ç‚¹å‡»NO</p></blockquote><p>â€</p><h2 id="è¿è¡Œæ¼”ç¤º">è¿è¡Œæ¼”ç¤º</h2><blockquote><p>å®Œæˆä¸Šè¿°æ­¥éª¤ ï¼Œ å¯ä»¥å»æŸ¥çœ‹æ˜¯å¦ç”Ÿæˆexeæ–‡ä»¶</p></blockquote><p>å¯ä»¥çœ‹å‡º ï¼Œ å·²ç»ç”Ÿæˆäº†exeæ–‡ä»¶</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118163601-ff3pll0.png" alt="image">â€‹</p><p>â€</p><blockquote><p>è¿è¡Œè¯¥exe ï¼Œ çœ‹æ˜¯å¦èƒ½å¤Ÿè¿è¡ŒæˆåŠŸ</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118163653-vhwrogz.png" alt="image">â€‹</p><p>â€</p><p>æ­å–œå®Œæˆï¼</p><p>â€‹â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/0172CA8B-20231118163837-wp1y3w9.gif" alt="0172CA8B">â€‹</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹å’Œç¯å¢ƒé…ç½® </tag>
            
            <tag> Javaè¯¾ç¨‹ä½œä¸š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5. Mybatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼</title>
      <link href="/posts/edd0080.html"/>
      <url>/posts/edd0080.html</url>
      
        <content type="html"><![CDATA[<p>â€</p><p><strong>MyBatis è·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š<strong>â€‹ ==</strong>${} å’Œ #{}</strong>==</p><ul class="lvl-0"><li class="lvl-3"><p><strong>${}çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ#{}çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼</strong></p></li><li class="lvl-3"><p><strong>${}ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æ‹¼æ¥ sqlï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•</strong></p></li><li class="lvl-2"><p><strong>å·ï¼›ä½†æ˜¯#{}ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥ sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œ</strong></p></li><li class="lvl-2"><p><strong>å¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</strong></p></li></ul><p>â€</p><p><strong>#{}ï¼šå…ˆç¼–è¯‘ sql è¯­å¥ï¼Œå†ç»™å ä½ç¬¦ä¼ å€¼ï¼Œåº•å±‚æ˜¯ PreparedStatement å®ç°ã€‚å¯ä»¥é˜²æ­¢ sql æ³¨å…¥ï¼Œæ¯”è¾ƒå¸¸ç”¨ã€‚</strong></p><p><strong>${}ï¼šå…ˆè¿›è¡Œ sql è¯­å¥æ‹¼æ¥ï¼Œç„¶åå†ç¼–è¯‘ sql è¯­å¥ï¼Œåº•å±‚æ˜¯ Statement å®ç°ã€‚å­˜åœ¨ sql æ³¨å…¥ç°è±¡ã€‚åªæœ‰åœ¨éœ€è¦è¿›è¡Œ sql è¯­å¥å…³é”®å­—æ‹¼æ¥çš„æƒ…å†µä¸‹æ‰ä¼šç”¨åˆ°ã€‚</strong></p><p>â€</p><p>Mybatis ä¸­çš„ <code>$&#123;&#125;</code>â€‹ å’Œ <code>#&#123;&#125;</code>â€‹ éƒ½æ˜¯ç”¨äº SQL è¯­å¥ä¸­å‚æ•°çš„æ›¿ä»£ã€‚</p><p><code>#&#123;&#125;</code>â€‹ ä½¿ç”¨çš„æ˜¯é¢„ç¼–è¯‘è¯­å¥ï¼Œç”¨äºå°†è¾“å…¥å‚æ•°çš„å€¼ä¸ SQL è¯­å¥åˆ†å¼€å¤„ç†ï¼Œé˜²æ­¢ SQL æ³¨å…¥ç­‰å®‰å…¨é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿæœ‰æ•ˆçš„æé«˜äº† SQL è¯­å¥çš„æŸ¥è¯¢æ€§èƒ½ã€‚åœ¨ SQL è§£æè¿‡ç¨‹ä¸­ï¼Œ#{} ä¼šå°†å‚æ•°å€¼è¿›è¡Œä¸€å®šçš„å¤„ç†ï¼Œæ¯”å¦‚è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ã€å¤„ç†æˆç›¸åº”çš„æ•°æ®ç±»å‹ç­‰ã€‚</p><p><code>$ &#123;&#125;</code>â€‹ åœ¨ SQL ä¸­æ˜¯ç›´æ¥æ›¿æ¢ä¸ºå‚æ•°çš„å€¼ï¼Œä¸åšä»»ä½•è½¬ä¹‰å’Œä¿®æ”¹ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯çµæ´»æ€§å¼ºï¼Œå¯ä»¥ç”¨äºä¸åŒçš„åœºæ™¯ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å­˜åœ¨ SQL æ³¨å…¥çš„é£é™©ï¼Œå› ä¸ºè¾“å…¥çš„å‚æ•°è¢«ç›´æ¥æ‹¼æ¥åˆ° SQL è¯­å¥ä¸­ï¼Œå¦‚æœä¸å……åˆ†é˜²èŒƒï¼Œå¾ˆå®¹æ˜“è¢«æ”»å‡»è€…åˆ©ç”¨ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>#&#123;&#125;</code>â€‹ æ˜¯æ¯”è¾ƒå®‰å…¨çš„æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœåœ¨æŸäº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œç¡®å®éœ€è¦ä½¿ç”¨ <code>$&#123;&#125;</code>â€‹ï¼Œæ¯”å¦‚åœ¨åŠ¨æ€ SQL ä¸­ï¼Œå°†ä¸€äº›åŠ¨æ€çš„ SQL æ‹¼æ¥åˆ°ä¸» SQL ä¸­ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>#&#123;&#125;</code>â€‹ é€‚ç”¨äºå¤§å¤šæƒ…å†µä¸‹ï¼Œæ¯”å¦‚æŸ¥è¯¢ã€æ›´æ–°ç­‰ï¼›è€Œ <code>$&#123;&#125;</code>â€‹ é€‚ç”¨äºæŸäº›ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚åŠ¨æ€ SQLï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ SQL æ³¨å…¥çš„é—®é¢˜ã€‚</p><p>ä½¿ç”¨æ–¹å¼ç¤ºä¾‹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p><code>#&#123;&#125;</code>:</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">  select * from user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; param = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">param.put(<span class="string">&quot;id&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;getUserById&quot;</span>, param);</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p><code>$&#123;&#125;</code>:</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åŠ¨æ€ SQL æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">  select * from user where</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span></span><br><span class="line">    name = &#x27;$&#123;name&#125;&#x27;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null&quot;</span>&gt;</span></span><br><span class="line">    and age = &#x27;$&#123;age&#125;&#x27;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; param = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">param.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;John Doe&quot;</span>);</span><br><span class="line">param.put(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;getUserByCondition&quot;</span>, param);</span><br></pre></td></tr></table></figure><h1>1. å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h1><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>è‹¥ mapper æ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹</strong></p></li><li class="lvl-2"><p><strong>æ­¤æ—¶å¯ä»¥ä½¿ç”¨</strong>â€‹****â€‹ <strong>{}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</strong></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604180743222-1781818984-20231130182106-k7tovi2.png" alt="image">â€‹</p><p>â€</p><h1>2. å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h1><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>è‹¥ mapper æ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶</strong></p></li><li class="lvl-2"><p><strong>æ­¤æ—¶ MyBatis ä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ª map é›†åˆä¸­ï¼Œä»¥ arg0,arg1â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›ä»¥</strong></p></li><li class="lvl-2"><p><strong>param1,param2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›å› æ­¤åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—® map é›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸</strong></p></li><li class="lvl-2"><p><strong>å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</strong></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604180743653-251118378-20231130182106-qv2mpuf.png" alt="image">â€‹</p><p>â€</p><h1>3. map é›†åˆç±»å‹çš„å‚æ•°</h1><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>è‹¥ mapper æ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨åˆ›å»º map é›†åˆï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨ map ä¸­</strong></p></li><li class="lvl-2"><p><strong>åªéœ€è¦é€šè¿‡</strong>â€‹****â€‹ <strong>{}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</strong></p></li></ul><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604180743999-1122494194-20231130182106-si9c5pv.png" alt="image">â€‹</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604180744331-821332920-20231130182106-dfwe3li.png" alt="image">â€‹</p><p>â€</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCheckLoginMap</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtil.getSqlSession();</span><br><span class="line">    <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> mapper.checkLoginMap(map);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><h1>4. å®ä½“ç±»ç±»å‹çš„å‚æ•°</h1><p>â€</p><p>è‹¥ mapper æ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå®ä½“ç±»å¯¹è±¡æ—¶ ï¼Œ æ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ï¼Œé€šè¿‡è®¿é—®å®ä½“ç±»å¯¹è±¡ä¸­çš„å±æ€§åè·å–å±æ€§å€¼</p><p>â€</p><p>æ³¨æ„ ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>${} éœ€è¦æ‰‹åŠ¨æ·»åŠ å•å¼•å·</p></li></ul><p>â€</p><p><mark>æ ¹æ®å±æ€§åè·å–å±æ€§å€¼</mark></p><ul class="lvl-0"><li class="lvl-2"><p>è¿™é‡Œçš„å±æ€§åæŒ‡çš„æ˜¯å®ä½“ç±»å½“ä¸­<code>getåé¢çš„åå­—</code>â€‹ , å°±åƒ getAge è€Œè¿™é‡Œçš„å±æ€§åå€¼å¾—å°±æ˜¯ age , å¤§å°å†™æ— æ‰€è°“</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604180744754-1403164100-20231130182106-4kwn5kc.png" alt="image">â€‹</p></li></ul><p>â€</p><h1>5. ä½¿ç”¨@Param æ ‡è¯†å‚æ•°</h1><p>â€</p><p><strong>å¯ä»¥é€šè¿‡@Param æ³¨è§£æ ‡è¯† mapper æ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ï¼Œ æ­¤æ—¶ä¼šå°†è¿™äº›å‚æ•°æ”¾åœ¨ map é›†åˆä¸­ï¼Œä»¥@Param æ³¨è§£çš„ value å±æ€§å€¼ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›ä»¥ param1,param2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—® map é›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼</strong></p><p>â€</p><p><strong>æ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</strong></p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604180745153-1248402056-20231130182106-pn8hprs.png" alt="image">â€‹</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6. Mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</title>
      <link href="/posts/458f2701.html"/>
      <url>/posts/458f2701.html</url>
      
        <content type="html"><![CDATA[<h2 id="6-1ã€æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡">6.1ã€æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</h2><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">User <span class="title function_">getUserById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--User getUserById(@Param(&quot;id&quot;) int id);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-2ã€æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ">6.2ã€æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ</h2><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserList</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getUserList();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><p><strong>å½“æŸ¥è¯¢çš„æ•°æ®ä¸ºå¤šæ¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å®ä½“ç±»ä½œä¸ºè¿”å›å€¼ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸</strong></p><p>â€</p><p><strong>TooManyResultsExceptionï¼›ä½†æ˜¯è‹¥æŸ¥è¯¢çš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥ä½¿ç”¨å®ä½“ç±»æˆ–é›†åˆä½œä¸ºè¿”å›å€¼</strong></p><h2 id="6-3ã€æŸ¥è¯¢å•ä¸ªæ•°æ®">6.3ã€æŸ¥è¯¢å•ä¸ªæ•°æ®</h2><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æŸ¥è¯¢ç”¨æˆ·çš„æ€»è®°å½•æ•°</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">* åœ¨MyBatisä¸­ï¼Œå¯¹äºJavaä¸­å¸¸ç”¨çš„ç±»å‹éƒ½è®¾ç½®äº†ç±»å‹åˆ«å</span></span><br><span class="line"><span class="comment">* ä¾‹å¦‚ï¼š java.lang.Integer--&gt;int|integer</span></span><br><span class="line"><span class="comment">* ä¾‹å¦‚ï¼š int--&gt;_int|_integer</span></span><br><span class="line"><span class="comment">* ä¾‹å¦‚ï¼š Map--&gt;map,List--&gt;list</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int getCount();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getCount&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;_integer&quot;</span>&gt;</span></span><br><span class="line">    select count(id) from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-4ã€æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ">6.4ã€æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</h2><p>â€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">getUserToMap</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Map&lt;String, Object&gt; getUserToMap(@Param(&quot;id&quot;) int id);--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç»“æœï¼š &#123;password=123456, sex=ç”· , id=1, age=23, username=admin&#125;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserToMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-5ã€æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ">6.5ã€æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</h2><h3 id="â‘ æ–¹å¼ä¸€">â‘ æ–¹å¼ä¸€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">* å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤</span></span><br><span class="line"><span class="comment">æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">getAllUserToMap</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUserToMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="â‘¡æ–¹å¼äºŒ">â‘¡æ–¹å¼äºŒ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">* å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶</span></span><br><span class="line"><span class="comment">ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡<span class="doctag">@MapKey</span>æ³¨è§£è®¾ç½®mapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„</span></span><br><span class="line"><span class="comment">mapé›†åˆ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@MapKey(&quot;id&quot;)</span></span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">getAllUserToMap</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment"> Â  Â 1=&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;,</span></span><br><span class="line"><span class="comment"> Â  Â 2=&#123;password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰&#125;,</span></span><br><span class="line"><span class="comment"> Â  Â 3=&#123;password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUserToMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4. Mybatisçš„å¢åˆ æ”¹æŸ¥(CRUD)</title>
      <link href="/posts/852e85aa.html"/>
      <url>/posts/852e85aa.html</url>
      
        <content type="html"><![CDATA[<p>â€‹â€‹</p><h2 id="1ã€æ–°å¢">1ã€æ–°å¢</h2><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int insertUser();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span>&gt;</span></span><br><span class="line">    insert into t_user values(null,&#x27;admin&#x27;,&#x27;123456&#x27;,23,&#x27;ç”·&#x27;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2ã€åˆ é™¤">2ã€åˆ é™¤</h2><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int deleteUser();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span>&gt;</span></span><br><span class="line">    delete from t_user where id = 7</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3ã€ä¿®æ”¹">3ã€ä¿®æ”¹</h2><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int updateUser();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span></span><br><span class="line">    update t_user set username=&#x27;ybc&#x27;,password=&#x27;123&#x27; where id = 6</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4ã€æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡">4ã€æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</h2><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--User getUserById();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.bean.User&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user where id = 2</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5ã€æŸ¥è¯¢-list-é›†åˆ">5ã€æŸ¥è¯¢ list é›†åˆ</h2><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getUserList();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.bean.User&quot;</span>&gt;</span></span><br><span class="line">    select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><p><strong>æ³¨æ„ï¼š</strong></p><ol><li class="lvl-3"><p><strong>æŸ¥è¯¢çš„æ ‡ç­¾ select å¿…é¡»è®¾ç½®å±æ€§ resultType æˆ– resultMapï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„</strong></p></li><li class="lvl-3"><p><strong>å…³ç³»</strong></p><ul class="lvl-2"><li class="lvl-6"><strong>resultTypeï¼šè‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ</strong></li><li class="lvl-6"><strong>resultMapï¼šè‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</strong></li></ul></li></ol><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3. æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</title>
      <link href="/posts/f2f795cc.html"/>
      <url>/posts/f2f795cc.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.north.mybatis.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        &lt;mapper resource=&quot;mappers/UserMapper.xml&quot;&gt;&lt;/mapper&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.north.mybatis.mapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><h1>1. configuration</h1><p>â€</p><p>configuration : æ ¹æ ‡ç­¾ ï¼Œ è¡¨ç¤ºé…ç½®ä¿¡æ¯</p><p>â€</p><h1>2. environments</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604164922907-1234604158-20231130133524-ay6y1qe.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>environments : é…ç½®å¤šä¸ªè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ , ä»¥ &quot;s&quot; ç»“å°¾è¡¨ç¤ºå¤æ•° ï¼Œ ä¹Ÿå°±æ˜¯è¯´ mybatis çš„ç¯å¢ƒå¯ä»¥é…ç½®å¤šä¸ªæ•°æ®æº</strong></p></li><li class="lvl-2"><p><strong>default å±æ€§ ï¼š è¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒ ï¼Œ default åé¢å¡«å†™çš„æ˜¯</strong>â€‹<code>**environment **</code>â€‹**çš„ id , **â€‹<code>**defaultçš„å€¼åªéœ€è¦å’Œenvironmentçš„idå€¼ä¸€è‡´å³å¯**</code>â€‹</p></li><li class="lvl-2"><p>**environment : é…ç½®å…·ä½“çš„ç¯å¢ƒ(**â€‹<code>**ä¸»è¦åŒ…æ‹¬ ï¼š äº‹åŠ¡ç®¡ç†å™¨çš„é…ç½® + æ•°æ®æºçš„é…ç½®**</code>â€‹ <strong>)</strong></p><ul class="lvl-2"><li class="lvl-4"><strong>idï¼šè¡¨ç¤ºè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½é‡å¤ , è¯¥è¡¨ç¤ºç”¨åœ¨ environments çš„ default åé¢ ï¼Œç”¨æ¥æŒ‡å®šé»˜è®¤ç¯å¢ƒçš„é€‰æ‹©</strong></li></ul></li></ul><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>transactionManager ï¼š é…ç½®äº‹åŠ¡ç®¡ç†å™¨</strong></p><ul class="lvl-2"><li class="lvl-4"><p><strong>type å±æ€§ï¼šæŒ‡å®šäº‹åŠ¡ç®¡ç†å™¨å…·ä½“ä½¿ç”¨ä»€ä¹ˆæ–¹å¼ï¼Œå¯é€‰å€¼åŒ…æ‹¬ä¸¤ä¸ª</strong></p><ul class="lvl-4"><li class="lvl-6"><strong>JDBCï¼šä½¿ç”¨ JDBC åŸç”Ÿçš„äº‹åŠ¡ç®¡ç†æœºåˆ¶ã€‚åº•å±‚åŸç†ï¼šäº‹åŠ¡å¼€å¯ conn.setAutoCommit(false); â€¦å¤„ç†ä¸šåŠ¡â€¦äº‹åŠ¡æäº¤ conn.commit(); æ‰§è¡Œ SQL æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ JDBC ä¸­åŸç”Ÿçš„äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œäº‹åŠ¡çš„æäº¤æˆ–å›æ»šéœ€è¦æ‰‹åŠ¨å¤„ç†</strong></li><li class="lvl-6"><strong>MANAGEDï¼šäº¤ç»™å…¶å®ƒå®¹å™¨æ¥ç®¡ç†äº‹åŠ¡ï¼Œæ¯”å¦‚ WebLogicã€JBOSS ç­‰ã€‚å¦‚æœæ²¡æœ‰ç®¡ç†äº‹åŠ¡çš„å®¹å™¨ï¼Œåˆ™æ²¡æœ‰äº‹åŠ¡ã€‚æ²¡æœ‰äº‹åŠ¡çš„å«ä¹‰ï¼šåªè¦æ‰§è¡Œä¸€æ¡ DML è¯­å¥ï¼Œåˆ™æäº¤ä¸€æ¬¡ã€‚</strong></li></ul></li></ul></li><li class="lvl-2"><p><strong>dataSource ï¼š æŒ‡å®šæ•°æ®æº</strong></p><ul class="lvl-2"><li class="lvl-4"><p>**type : è®¾ç½®æ•°æ®æºçš„ç±»å‹ (**â€‹<code>**type=&quot;POOLED|UNPOOLED|JNDI&quot;**</code>â€‹ <strong>)</strong></p><ul class="lvl-4"><li class="lvl-6"><strong>POOLEDï¼šè¡¨ç¤ºä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ç¼“å­˜æ•°æ®åº“è¿æ¥</strong></li><li class="lvl-6"><strong>UNPOOLEDï¼šè¡¨ç¤ºä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± </strong></li><li class="lvl-6"><strong>JNDIï¼šè¡¨ç¤ºä½¿ç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº</strong></li></ul></li></ul></li></ul><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>property</strong></p><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„é©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„è¿æ¥åœ°å€--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>â€</p><h1>3. properties</h1><p>â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼•å…¥propertiesæ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604164923447-1807619326-20231130133524-r1wt2dn.png" alt="image">â€‹</p><p>â€</p><p><img src="assets/net-img-2942345-20230604164923824-192082376-20231130133524-113al8p.png" alt="image">â€‹</p><p>â€</p><h1>4. typeAliases</h1><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>typeAliasï¼šè®¾ç½®æŸä¸ªç±»å‹çš„åˆ«å</strong></p></li><li class="lvl-2"><p><strong>å±æ€§ ï¼š</strong></p><ul class="lvl-2"><li class="lvl-4"><strong>typeï¼šè®¾ç½®éœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹</strong></li><li class="lvl-4"><strong>aliasï¼šè®¾ç½®æŸä¸ªç±»å‹çš„åˆ«åï¼Œè‹¥ä¸è®¾ç½®è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™</strong></li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®ç±»å‹åˆ«å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">typeAliasï¼šè®¾ç½®æŸä¸ªç±»å‹çš„åˆ«å</span></span><br><span class="line"><span class="comment">å±æ€§ï¼š</span></span><br><span class="line"><span class="comment">typeï¼šè®¾ç½®éœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹</span></span><br><span class="line"><span class="comment">aliasï¼šè®¾ç½®æŸä¸ªç±»å‹çš„åˆ«åï¼Œè‹¥ä¸è®¾ç½®è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;typeAlias type=&quot;com.atguigu.mybatis.pojo.User&quot;&gt;&lt;/typeAlias&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ä»¥åŒ…ä¸ºå•ä½ï¼Œå°†åŒ…ä¸‹æ‰€æœ‰çš„ç±»å‹è®¾ç½®é»˜è®¤çš„ç±»å‹åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.atguigu.mybatis.pojo&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€</p><p>â€</p><h1>5. mappers</h1><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604164924218-1294231253-20231130133524-td0w73v.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>mappers : å¼•å…¥æ˜ å°„æ–‡ä»¶ ï¼Œ åœ¨ mappers æ ‡ç­¾ä¸­å¯ä»¥é…ç½®å¤šä¸ª SQL æ˜ å°„æ–‡ä»¶çš„è·¯å¾„</strong></p></li><li class="lvl-2"><p><strong>mapper : é…ç½®æŸä¸ª sql æ˜ å°„æ–‡ä»¶çš„è·¯å¾„</strong></p></li><li class="lvl-2"><p><strong>ä»¥åŒ…ä¸ºå•ä½å¼•å…¥æ˜ å°„æ–‡ä»¶çš„è¦æ±‚ ï¼š</strong></p><ol><li class="lvl-5"><strong>mapper æ¥å£æ‰€åœ¨çš„åŒ…è¦å’Œæ˜ å°„æ–‡ä»¶æ‰€åœ¨çš„åŒ…ä¸€è‡´</strong></li><li class="lvl-5"><strong>mapper æ¥å£è¦å’Œæ˜ å°„æ–‡ä»¶çš„åå­—ä¸€è‡´</strong></li></ol></li></ul><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2. æ­å»ºMybatis</title>
      <link href="/posts/7105be24.html"/>
      <url>/posts/7105be24.html</url>
      
        <content type="html"><![CDATA[<ol><li class="lvl-3"><p><mark>ç¡®è®¤å¼€å‘ç¯å¢ƒ</mark></p><ul class="lvl-2"><li class="lvl-6"><p><strong>MySQLä¸åŒç‰ˆæœ¬çš„æ³¨æ„äº‹é¡¹</strong></p><p><strong>1ã€é©±åŠ¨ç±»driver-class-name</strong></p><p><strong>MySQL 5ç‰ˆæœ¬ä½¿ç”¨jdbc5é©±åŠ¨ï¼Œé©±åŠ¨ç±»ä½¿ç”¨ï¼šcom.mysql.jdbc.Driver</strong></p><p><strong>MySQL 8ç‰ˆæœ¬ä½¿ç”¨jdbc8é©±åŠ¨ï¼Œé©±åŠ¨ç±»ä½¿ç”¨ï¼šcom.mysql.cj.jdbc.Driver</strong></p><p><strong>2ã€è¿æ¥åœ°å€url</strong></p><p><strong>MySQL 5ç‰ˆæœ¬çš„urlï¼š</strong></p><p><strong>jdbc:mysql://localhost:3306/ssm</strong></p><p><strong>MySQL 8ç‰ˆæœ¬çš„urlï¼š</strong></p><p><strong>jdbc:mysql://localhost:3306/ssm?serverTimezone=UTC</strong></p><p><strong>å¦åˆ™è¿è¡Œæµ‹è¯•ç”¨ä¾‹æŠ¥å‘Šå¦‚ä¸‹é”™è¯¯ï¼š</strong></p><p><strong>java.sql.SQLException: The server time zone value â€˜Ã–ÃÂ¹ÃºÂ±ÃªÃ—Â¼ÃŠÂ±Â¼Ã¤â€™ is unrecognized or</strong></p><p><strong>represents more</strong></p></li></ul></li><li class="lvl-3"><p><mark>åˆ›å»ºMavenå·¥ç¨‹</mark></p><ul class="lvl-2"><li class="lvl-6">æ‰“åŒ…æ–¹å¼ ï¼š jar</li><li class="lvl-6">å¼•å…¥ä¾èµ–</li></ul></li><li class="lvl-3"><p><mark>åˆ›å»ºMybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</mark></p><ul class="lvl-2"><li class="lvl-6"><p><strong>ä¹ æƒ¯ä¸Šå‘½åä¸ºmybatis-config.xmlï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆSpring</strong></p><p><strong>ä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥å¤§å®¶æ“ä½œæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶ã€ç²˜è´´ã€‚</strong></p><p><strong>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸»è¦ç”¨äºé…ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä»¥åŠMyBatisçš„å…¨å±€é…ç½®ä¿¡æ¯</strong></p><p><strong>æ ¸å¿ƒé…ç½®æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src/main/resourcesç›®å½•ä¸‹</strong></p></li></ul></li><li class="lvl-3"><p><mark>åˆ›å»ºmapperæ¥å£</mark></p><ul class="lvl-2"><li class="lvl-6"><p><strong>MyBatisä¸­çš„mapperæ¥å£ç›¸å½“äºä»¥å‰çš„daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼Œmapperä»…ä»…æ˜¯æ¥å£ï¼Œæˆ‘ä»¬ä¸éœ€è¦</strong></p><p><strong>æä¾›å®ç°ç±»ã€‚</strong></p></li></ul></li><li class="lvl-3"><p><mark>åˆ›å»ºMybatisçš„æ˜ å°„æ–‡ä»¶</mark></p><ul class="lvl-2"><li class="lvl-6"><p><strong>1ã€æ˜ å°„æ–‡ä»¶çš„å‘½åè§„åˆ™ï¼š</strong></p><p><strong>è¡¨æ‰€å¯¹åº”çš„å®ä½“ç±»çš„ç±»å+Mapper.xml</strong></p><p><strong>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸ºUserMapper.xml</strong></p><p><strong>å› æ­¤ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ</strong></p><p><strong>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®</strong></p><p><strong>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src/main/resources/mappersç›®å½•ä¸‹</strong></p><p><strong>2ã€ MyBatisä¸­å¯ä»¥é¢å‘æ¥å£æ“ä½œæ•°æ®ï¼Œè¦ä¿è¯ä¸¤ä¸ªä¸€è‡´ï¼š</strong></p><p><strong>a&gt;mapperæ¥å£çš„å…¨ç±»åå’Œæ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ä¿æŒä¸€è‡´</strong></p><p><strong>b&gt;mapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åå’Œæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§ä¿æŒä¸€è‡´</strong></p></li><li class="lvl-6"><p><strong>ç›¸å…³æ¦‚å¿µï¼šORM</strong>ï¼ˆ<strong>O</strong>bject <strong>R</strong>elationship <strong>M</strong>appingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ã€‚</p><ul class="lvl-4"><li class="lvl-8"><strong>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡</strong></li><li class="lvl-8"><strong>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</strong></li><li class="lvl-8"><strong>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</strong></li></ul><table><thead><tr><th><strong>Javaæ¦‚å¿µ</strong></th><th><strong>æ•°æ®åº“æ¦‚å¿µ</strong></th></tr></thead><tbody><tr><td><strong>ç±»</strong></td><td><strong>è¡¨</strong></td></tr><tr><td><strong>å±æ€§</strong></td><td><strong>å­—æ®µ/åˆ—</strong></td></tr><tr><td><strong>å¯¹è±¡</strong></td><td><strong>è®°å½•/è¡Œ</strong></td></tr></tbody></table></li></ul></li><li class="lvl-3"><p><mark>é€šè¿‡junitæµ‹è¯•åŠŸèƒ½</mark></p><ul class="lvl-2"><li class="lvl-6"><strong>SqlSessionï¼šä»£è¡¨Javaç¨‹åºå’Œ****æ•°æ®åº“</strong>ä¹‹é—´çš„<strong>ä¼šè¯</strong>ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li><li class="lvl-6"><strong>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€ã€‚</strong></li><li class="lvl-6"><strong>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„</strong></li></ul><p><strong>ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚</strong></p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line"><span class="comment">//åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡</span></span><br><span class="line"><span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span></span><br><span class="line"><span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line"><span class="comment">//é€šè¿‡æ ¸å¿ƒé…ç½®æ–‡ä»¶æ‰€å¯¹åº”çš„å­—èŠ‚è¾“å…¥æµåˆ›å»ºå·¥å‚ç±»SqlSessionFactoryï¼Œç”Ÿäº§SqlSessionå¯¹è±¡</span></span><br><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(is);</span><br><span class="line"><span class="comment">//åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½å¿…é¡»æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡</span></span><br><span class="line"><span class="comment">//SqlSession sqlSession = sqlSessionFactory.openSession();</span></span><br><span class="line"><span class="comment">//åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½ä¼šè‡ªåŠ¨æäº¤</span></span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//é€šè¿‡ä»£ç†æ¨¡å¼åˆ›å»ºUserMapperæ¥å£çš„ä»£ç†å®ç°ç±»å¯¹è±¡</span></span><br><span class="line"><span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line"><span class="comment">//è°ƒç”¨UserMapperæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æ ¹æ®UserMapperçš„å…¨ç±»ååŒ¹é…å…ƒç´ æ–‡ä»¶ï¼Œé€šè¿‡è°ƒç”¨çš„æ–¹æ³•ååŒ¹é…</span></span><br><span class="line">æ˜ å°„æ–‡ä»¶ä¸­çš„SQLæ ‡ç­¾ï¼Œå¹¶æ‰§è¡Œæ ‡ç­¾ä¸­çš„SQLè¯­å¥</span><br><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.insertUser();</span><br><span class="line"><span class="comment">//sqlSession.commit();</span></span><br><span class="line">System.out.println(<span class="string">&quot;ç»“æœï¼š&quot;</span>+result);</span><br></pre></td></tr></table></figure></li></ol><p>â€</p><ol start="7"><li class="lvl-3"><p><mark>åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½</mark></p><ul class="lvl-2"><li class="lvl-6"><p><strong>â‘ åŠ å…¥ä¾èµ–</strong></p></li><li class="lvl-6"><p><strong>â‘¡åŠ å…¥log4jçš„é…ç½®æ–‡ä»¶</strong></p><p><strong>log4jçš„é…ç½®æ–‡ä»¶åä¸ºlog4j.xmlï¼Œå­˜æ”¾çš„ä½ç½®æ˜¯src/main/resourcesç›®å½•ä¸‹</strong></p></li><li class="lvl-6"><p><strong>æ—¥å¿—çš„çº§åˆ«ï¼š</strong></p><p><strong>FATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•)</strong></p><p><strong>ä»å·¦åˆ°å³æ‰“å°çš„å†…å®¹è¶Šæ¥è¶Šè¯¦ç»†</strong></p></li></ul></li></ol><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1. Mybatis ç®€ä»‹</title>
      <link href="/posts/4e6d3c3b.html"/>
      <url>/posts/4e6d3c3b.html</url>
      
        <content type="html"><![CDATA[<h1>1. Mybatiså†å²</h1><p><strong>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis</strong>, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼Œ iBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</p><p><strong>iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚ iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰ã€‚</strong></p><p>â€</p><h1>2. MyBatisç‰¹æ€§</h1><p>â€</p><p><strong>1ï¼‰ MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶</strong></p><p><strong>2ï¼‰ MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†</strong></p><p><strong>3ï¼‰ MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java</strong></p><p><strong>Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</strong></p><p><strong>4ï¼‰ MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶</strong></p><p>â€</p><h1>3. å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</h1><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>JDBC</strong></p><ul class="lvl-2"><li class="lvl-4"><strong>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤</strong></li><li class="lvl-4"><strong>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</strong></li><li class="lvl-4"><strong>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</strong></li></ul></li><li class="lvl-2"><p><strong>Hibernate å’Œ JPA</strong></p><ul class="lvl-2"><li class="lvl-4"><strong>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜</strong></li><li class="lvl-4"><strong>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</strong></li><li class="lvl-4"><strong>å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</strong></li><li class="lvl-4"><strong>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚</strong></li><li class="lvl-4"><strong>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</strong></li></ul></li><li class="lvl-2"><p><strong>MyBatis</strong></p><ul class="lvl-2"><li class="lvl-4"><strong>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²</strong></li><li class="lvl-4"><strong>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</strong></li><li class="lvl-4"><strong>å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—</strong></li></ul></li></ul><p>â€</p><h1>4. ä¸‰å±‚æ¶æ„</h1><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604134708948-2091935458-20231130122208-yx7xbcg.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>è¡¨ç°å±‚ï¼ˆUIï¼‰ï¼šç›´æ¥è·Ÿå‰ç«¯æ‰“äº¤äº’ï¼ˆä¸€æ˜¯æ¥æ”¶å‰ç«¯ajaxè¯·æ±‚ï¼ŒäºŒæ˜¯è¿”å›jsonæ•°æ®ç»™å‰ç«¯ï¼‰</strong></p></li><li class="lvl-2"><p><strong>ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBLLï¼‰ï¼šä¸€æ˜¯å¤„ç†è¡¨ç°å±‚è½¬å‘è¿‡æ¥çš„å‰ç«¯è¯·æ±‚ï¼ˆä¹Ÿå°±æ˜¯å…·ä½“ä¸šåŠ¡ï¼‰ï¼ŒäºŒæ˜¯å°†ä»æŒä¹…å±‚è·å–çš„æ•°æ®è¿”å›åˆ°è¡¨ç°å±‚ã€‚</strong></p></li><li class="lvl-2"><p><strong>æ•°æ®è®¿é—®å±‚ï¼ˆDALï¼‰ï¼šç›´æ¥æ“ä½œæ•°æ®åº“å®ŒæˆCRUDï¼Œå¹¶å°†è·å¾—çš„æ•°æ®è¿”å›åˆ°ä¸Šä¸€å±‚ï¼ˆä¹Ÿå°±æ˜¯ä¸šåŠ¡é€»è¾‘å±‚ï¼‰ã€‚</strong></p></li><li class="lvl-2"><p><strong>JavaæŒä¹…å±‚æ¡†æ¶ï¼š</strong></p><ul class="lvl-2"><li class="lvl-4"><strong>MyBatis</strong></li><li class="lvl-4"><strong>Hibernateï¼ˆå®ç°äº†JPAè§„èŒƒï¼‰</strong></li><li class="lvl-4"><strong>jOOQ</strong></li><li class="lvl-4"><strong>Guzz</strong></li><li class="lvl-4"><strong>Spring Dataï¼ˆå®ç°äº†JPAè§„èŒƒï¼‰</strong></li><li class="lvl-4"><strong>ActiveJDBC</strong></li><li class="lvl-5"><strong>â€¦</strong></li></ul></li></ul><h1>5. ORMï¼š <strong>å¯¹è±¡å…³ç³»æ˜ å°„</strong></h1><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>Oï¼ˆObjectï¼‰ï¼šJavaè™šæ‹Ÿæœºä¸­çš„Javaå¯¹è±¡</strong></p></li><li class="lvl-2"><p><strong>Rï¼ˆRelationalï¼‰ï¼šå…³ç³»å‹æ•°æ®åº“</strong></p></li><li class="lvl-2"><p><strong>Mï¼ˆMappingï¼‰ï¼šå°†Javaè™šæ‹Ÿæœºä¸­çš„Javaå¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨ä¸­ä¸€è¡Œè®°å½•ï¼Œæˆ–æ˜¯å°†æ•°æ®åº“è¡¨ä¸­ä¸€è¡Œè®°å½•æ˜ å°„æˆJavaè™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªJavaå¯¹è±¡ã€‚</strong></p></li><li class="lvl-2"><p><strong>ORMå›¾ç¤º</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230604134708426-1388618453-20231130122208-rfy5gtt.png" alt="image">â€‹</p></li><li class="lvl-2"><p><strong>MyBatiså±äºåŠè‡ªåŠ¨åŒ–ORMæ¡†æ¶ã€‚</strong></p></li><li class="lvl-2"><p><strong>Hibernateå±äºå…¨è‡ªåŠ¨åŒ–çš„ORMæ¡†æ¶ã€‚</strong></p></li></ul><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBootåŸºç¡€ç¯‡</title>
      <link href="/posts/18bf100b.html"/>
      <url>/posts/18bf100b.html</url>
      
        <content type="html"><![CDATA[<h1>1. åˆå§‹SpringBoot</h1><p>SpringBootç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½åŠä¼˜ç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>èµ·æ­¥ä¾èµ–ï¼ˆç®€åŒ–ä¾èµ–é…ç½®ï¼‰</p><ul class="lvl-2"><li class="lvl-4">ä¾èµ–é…ç½®çš„ä¹¦å†™ç®€åŒ–å°±æ˜¯é è¿™ä¸ªèµ·æ­¥ä¾èµ–è¾¾æˆçš„</li></ul></li><li class="lvl-2"><p>è‡ªåŠ¨é…ç½®ï¼ˆç®€åŒ–å¸¸ç”¨å·¥ç¨‹ç›¸å…³é…ç½®ï¼‰</p><ul class="lvl-2"><li class="lvl-4">é…ç½®è¿‡äºç¹çï¼Œä½¿ç”¨è‡ªåŠ¨é…ç½®å°±å¯ä»¥åšå“åº”çš„ç®€åŒ–ï¼Œä½†æ˜¯å†…éƒ¨è¿˜æ˜¯å¾ˆå¤æ‚çš„</li></ul></li><li class="lvl-2"><p>è¾…åŠ©åŠŸèƒ½ï¼ˆå†…ç½®æœåŠ¡å™¨ï¼Œâ€¦â€¦ï¼‰</p><ul class="lvl-2"><li class="lvl-4">é™¤äº†ä¸Šé¢çš„åŠŸèƒ½ï¼Œå…¶å®SpringBootç¨‹åºè¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä¼˜åŠ¿ï¼Œæ¯”å¦‚æˆ‘ä»¬æ²¡æœ‰é…ç½®TomcatæœåŠ¡å™¨ï¼Œä½†æ˜¯èƒ½æ­£å¸¸è¿è¡Œï¼Œè¿™æ˜¯SpringBootç¨‹åºçš„ä¸€ä¸ªå¯ä»¥æ„ŸçŸ¥åˆ°çš„åŠŸèƒ½ï¼Œä¹Ÿæ˜¯SpringBootçš„è¾…åŠ©åŠŸèƒ½ä¹‹ä¸€ã€‚ä¸€ä¸ªè¾…åŠ©åŠŸèƒ½éƒ½èƒ½åšçš„è¿™ä¹ˆ6ï¼Œå¤ªç‰›äº†</li></ul></li></ul><p>SpringBoot ç®€åŒ–ä¸»è¦ä½“ç°åœ¨å››ä¸ªæ–¹é¢</p><ul class="lvl-0"><li class="lvl-2"><p>parent</p></li><li class="lvl-2"><p>starter</p></li><li class="lvl-2"><p>å¼•å¯¼ç±»</p></li><li class="lvl-2"><p>å†…åµŒtomcat</p></li></ul><h2 id="1-1-parent">1.1 parent</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>parent</strong>ä»…ä»…å¸®æˆ‘ä»¬è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œå®ƒä¸è´Ÿè´£å¸®ä½ å¯¼å…¥åæ ‡ï¼Œè¯´ç™½äº†ç”¨ä»€ä¹ˆè¿˜æ˜¯ä½ è‡ªå·±å®šï¼Œåªä¸è¿‡ç‰ˆæœ¬ä¸éœ€è¦ä½ ç®¡ç†äº†ã€‚æ•´ä½“ä¸Šæ¥è¯´ï¼Œ<strong>ä½¿ç”¨parentå¯ä»¥å¸®åŠ©å¼€å‘è€…è¿›è¡Œç‰ˆæœ¬çš„ç»Ÿä¸€ç®¡ç†</strong></p><blockquote><p><strong>å…³æ³¨</strong>ï¼šparentå®šä¹‰å‡ºæ¥ä»¥åï¼Œå¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨çš„ï¼Œä»…ä»…ç»™äº†å¼€å‘è€…ä¸€ä¸ªè¯´æ˜ä¹¦ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®é™…ä½¿ç”¨ï¼Œè¿™ä¸ªä¸€å®šè¦ç¡®è®¤æ¸…æ¥š</p></blockquote><h2 id="1-2-starter">1.2  starter</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>starterå®šä¹‰äº†ä½¿ç”¨æŸç§æŠ€æœ¯æ—¶å¯¹äºä¾èµ–çš„å›ºå®šæ­é…æ ¼å¼ï¼Œä¹Ÿæ˜¯ä¸€ç§æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œ<strong>ä½¿ç”¨starterå¯ä»¥å¸®åŠ©å¼€å‘è€…å‡å°‘ä¾èµ–é…ç½®</strong></p></blockquote><p><strong>starterä¸parentçš„åŒºåˆ«</strong><br>æœ¦æœ¦èƒ§èƒ§ä¸­æ„Ÿè§‰starterä¸parentå¥½åƒéƒ½æ˜¯å¸®åŠ©æˆ‘ä»¬ç®€åŒ–é…ç½®çš„ï¼Œä½†æ˜¯åŠŸèƒ½åˆä¸ä¸€æ ·ï¼Œæ¢³ç†ä¸€ä¸‹ã€‚<br><strong>starter</strong>æ˜¯ä¸€ä¸ªåæ ‡ä¸­å®šäº†è‹¥å¹²ä¸ªåæ ‡ï¼Œä»¥å‰å†™å¤šä¸ªçš„ï¼Œç°åœ¨å†™ä¸€ä¸ªï¼Œ<strong>æ˜¯ç”¨æ¥å‡å°‘ä¾èµ–é…ç½®çš„ä¹¦å†™é‡çš„</strong><br><strong>parent</strong>æ˜¯å®šä¹‰äº†å‡ ç™¾ä¸ªä¾èµ–ç‰ˆæœ¬å·ï¼Œä»¥å‰å†™ä¾èµ–éœ€è¦è‡ªå·±æ‰‹å·¥æ§åˆ¶ç‰ˆæœ¬ï¼Œç°åœ¨ç”±SpringBootç»Ÿä¸€ç®¡ç†ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨ç‰ˆæœ¬å†²çªäº†ï¼Œ<strong>æ˜¯ç”¨æ¥å‡å°‘ä¾èµ–å†²çªçš„</strong></p><p><strong>å®é™…å¼€å‘åº”ç”¨æ–¹å¼</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å®é™…å¼€å‘ä¸­å¦‚æœéœ€è¦ç”¨ä»€ä¹ˆæŠ€æœ¯ï¼Œå…ˆå»æ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªæŠ€æœ¯å¯¹åº”çš„starter</p><ul class="lvl-2"><li class="lvl-4"><code>å¦‚æœæœ‰å¯¹åº”çš„starterï¼Œç›´æ¥å†™starterï¼Œè€Œä¸”æ— éœ€æŒ‡å®šç‰ˆæœ¬ï¼Œç‰ˆæœ¬ç”±parentæä¾›</code>â€‹</li><li class="lvl-4">å¦‚æœæ²¡æœ‰å¯¹åº”çš„starterï¼Œæ‰‹å†™åæ ‡å³å¯</li></ul></li><li class="lvl-2"><p>å®é™…å¼€å‘ä¸­å¦‚æœå‘ç°åæ ‡å‡ºç°äº†å†²çªç°è±¡ï¼Œç¡®è®¤ä½ è¦ä½¿ç”¨çš„å¯è¡Œçš„ç‰ˆæœ¬å·ï¼Œä½¿ç”¨æ‰‹å·¥ä¹¦å†™çš„æ–¹å¼æ·»åŠ å¯¹åº”ä¾èµ–ï¼Œè¦†ç›–SpringBootæä¾›ç»™æˆ‘ä»¬çš„é…ç½®ç®¡ç†</p><ul class="lvl-2"><li class="lvl-4">æ–¹å¼ä¸€ï¼šç›´æ¥å†™åæ ‡</li><li class="lvl-4">æ–¹å¼äºŒï¼šè¦†ç›–<code>&lt;properties&gt;</code>â€‹ä¸­å®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œå°±æ˜¯ä¸‹é¢è¿™å †ä¸œè¥¿äº†ï¼Œå“ªä¸ªå†²çªäº†è¦†ç›–å“ªä¸ªå°±OKäº†</li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activemq.version</span>&gt;</span>5.16.3<span class="tag">&lt;/<span class="name">activemq.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aspectj.version</span>&gt;</span>1.9.7<span class="tag">&lt;/<span class="name">aspectj.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">assertj.version</span>&gt;</span>3.19.0<span class="tag">&lt;/<span class="name">assertj.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-codec.version</span>&gt;</span>1.15<span class="tag">&lt;/<span class="name">commons-codec.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-dbcp2.version</span>&gt;</span>2.8.0<span class="tag">&lt;/<span class="name">commons-dbcp2.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-lang3.version</span>&gt;</span>3.12.0<span class="tag">&lt;/<span class="name">commons-lang3.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-pool.version</span>&gt;</span>1.6<span class="tag">&lt;/<span class="name">commons-pool.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-pool2.version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">commons-pool2.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2.version</span>&gt;</span>1.4.200<span class="tag">&lt;/<span class="name">h2.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hibernate.version</span>&gt;</span>5.4.32.Final<span class="tag">&lt;/<span class="name">hibernate.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hibernate-validator.version</span>&gt;</span>6.2.0.Final<span class="tag">&lt;/<span class="name">hibernate-validator.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">httpclient.version</span>&gt;</span>4.5.13<span class="tag">&lt;/<span class="name">httpclient.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jackson-bom.version</span>&gt;</span>2.12.4<span class="tag">&lt;/<span class="name">jackson-bom.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">javax-jms.version</span>&gt;</span>2.0.1<span class="tag">&lt;/<span class="name">javax-jms.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">javax-json.version</span>&gt;</span>1.1.4<span class="tag">&lt;/<span class="name">javax-json.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">javax-websocket.version</span>&gt;</span>1.1<span class="tag">&lt;/<span class="name">javax-websocket.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jetty-el.version</span>&gt;</span>9.0.48<span class="tag">&lt;/<span class="name">jetty-el.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">junit.version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">junit.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-3-å¼•ç”¨ç±»">1.3 å¼•ç”¨ç±»</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230804182941317-719648346-20231129120540-bz7vzih.png" alt="">â€‹</p><p>SpringBootæœ¬èº«æ˜¯ä¸ºäº†åŠ é€ŸSpringç¨‹åºçš„å¼€å‘çš„ï¼Œè€ŒSpringç¨‹åºè¿è¡Œçš„åŸºç¡€æ˜¯éœ€è¦åˆ›å»ºè‡ªå·±çš„Springå®¹å™¨å¯¹è±¡ï¼ˆIoCå®¹å™¨ï¼‰å¹¶å°†æ‰€æœ‰çš„å¯¹è±¡äº¤ç»™Springçš„å®¹å™¨ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„Beanã€‚é‚£è¿˜äº†SpringBootåŠ é€Ÿå¼€å‘Springç¨‹åºï¼Œè¿™ä¸ªå®¹å™¨è¿˜åœ¨å—ï¼Ÿè¿™ä¸ªç–‘é—®ä¸ç”¨è¯´ï¼Œä¸€å®šåœ¨ã€‚å½“å‰è¿™ä¸ªç±»è¿è¡Œåå°±ä¼šäº§ç”Ÿä¸€ä¸ªSpringå®¹å™¨å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡ä¿å­˜èµ·æ¥ï¼Œé€šè¿‡å®¹å™¨å¯¹è±¡ç›´æ¥æ“ä½œBeanã€‚</p><blockquote><p>å…¶å®SpringBootç¨‹åºå¯åŠ¨è¿˜æ˜¯åˆ›å»ºäº†ä¸€ä¸ªSpringå®¹å™¨å¯¹è±¡ã€‚è¿™ä¸ªç±»åœ¨SpringBootç¨‹åºä¸­æ˜¯æ‰€æœ‰åŠŸèƒ½çš„å…¥å£ï¼Œç§°è¿™ä¸ªç±»ä¸º<strong>å¼•å¯¼ç±»</strong>ã€‚</p></blockquote><p>ä½œä¸ºä¸€ä¸ªå¼•å¯¼ç±»æœ€å…¸å‹çš„ç‰¹å¾å°±æ˜¯å½“å‰ç±»ä¸Šæ–¹å£°æ˜äº†ä¸€ä¸ªæ³¨è§£<code>@SpringBootApplication</code>â€‹</p><h2 id="1-4-å†…åµŒtomcat">1.4 å†…åµŒtomcat</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å†…åµŒTomcatå®šä¹‰ä½ç½®</strong></p><p>è°æŠŠtomcatå¼•å…¥åˆ°ç¨‹åºä¸­çš„ï¼Ÿ<br>spring-boot-starter-webä¸­çš„spring-boot-starter-tomcatåšçš„ã€‚</p><p><strong>å†…åµŒTomcatè¿è¡ŒåŸç†</strong></p><p>TomcatæœåŠ¡å™¨æ˜¯ä¸€æ¬¾ç”¨<code>javaè¯­è¨€</code>â€‹å¼€å‘çš„ä¸€æ¬¾è½¯ä»¶<br>å…¶ä¸­Springå®¹å™¨æ˜¯ç”¨æ¥ç®¡ç†å¯¹è±¡çš„ ï¼Œ tomcatæœåŠ¡å™¨è¿è¡Œå…¶å®æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼åœ¨Springå®¹å™¨ä¸­è¿è¡Œçš„</p><p><strong>æ›´æ¢å†…åµŒTomcat</strong></p><blockquote><p>ç”¨ä»€ä¹ˆæœåŠ¡å™¨å°±å¼•å…¥ç›¸å¯¹åº”çš„åæ ‡</p></blockquote><h1>2. SpringBoot åŸºç¡€é…ç½®</h1><h2 id="2-1-å±æ€§é…ç½®">2.1 å±æ€§é…ç½®</h2><blockquote><p>propertiesæ ¼å¼çš„æ–‡ä»¶ä¹¦å†™è§„èŒƒæ˜¯<code>key=value</code>â€‹</p></blockquote><ol><li class="lvl-3"><p>SpringBootç¨‹åºå¯ä»¥åœ¨application.propertiesæ–‡ä»¶ä¸­è¿›è¡Œå±æ€§é…ç½®</p></li><li class="lvl-3"><p>application.propertiesæ–‡ä»¶ä¸­åªè¦è¾“å…¥è¦é…ç½®çš„å±æ€§å…³é”®å­—å°±å¯ä»¥æ ¹æ®æç¤ºè¿›è¡Œè®¾ç½®</p></li><li class="lvl-3"><p>SpringBootå°†é…ç½®ä¿¡æ¯é›†ä¸­åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å†™ï¼Œä¸ç®¡ä½ æ˜¯æœåŠ¡å™¨çš„é…ç½®ï¼Œè¿˜æ˜¯æ•°æ®åº“çš„é…ç½®ï¼Œæ€»ä¹‹éƒ½å†™åœ¨ä¸€èµ·ï¼Œé€ƒç¦»ä¸€ä¸ªé¡¹ç›®åå‡ ç§é…ç½®æ–‡ä»¶æ ¼å¼çš„å°´å°¬å±€é¢</p></li></ol><p>æ‰“å¼€SpringBootçš„å®˜ç½‘ï¼Œæ‰¾åˆ°SpringBootå®˜æ–¹æ–‡æ¡£ï¼Œæ‰“å¼€æŸ¥çœ‹é™„å½•ä¸­çš„Application Propertieså°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„é…ç½®é¡¹äº†ï¼Œç½‘å€å¥‰ä¸Šï¼š<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties</a></p><p>å…¶ä¸­</p><ol><li class="lvl-3"><p>SpringBootä¸­å¯¼å…¥å¯¹åº”starteråï¼Œæä¾›å¯¹åº”é…ç½®å±æ€§</p></li><li class="lvl-3"><p>ä¹¦å†™SpringBooté…ç½®é‡‡ç”¨å…³é”®å­—+æç¤ºå½¢å¼ä¹¦å†™</p></li></ol><h2 id="2-2-é…ç½®æ–‡ä»¶åˆ†ç±»">2.2 é…ç½®æ–‡ä»¶åˆ†ç±»</h2><ul class="lvl-0"><li class="lvl-2"><p>propertiesæ ¼å¼</p></li><li class="lvl-2"><p>ymlæ ¼å¼</p></li><li class="lvl-2"><p>yamlæ ¼å¼</p></li></ul><h2 id="2-3-é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§">2.3 é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§</h2><blockquote><p>application.properties  &gt;  application.yml  &gt;  application.yaml</p></blockquote><ol><li class="lvl-3"><p>é…ç½®æ–‡ä»¶é—´çš„åŠ è½½ä¼˜å…ˆçº§ propertiesï¼ˆæœ€é«˜ï¼‰&gt; yml &gt; yamlï¼ˆæœ€ä½ï¼‰</p></li><li class="lvl-3"><p>ä¸åŒé…ç½®æ–‡ä»¶ä¸­ç›¸åŒé…ç½®æŒ‰ç…§åŠ è½½ä¼˜å…ˆçº§ç›¸äº’è¦†ç›–ï¼Œä¸åŒé…ç½®æ–‡ä»¶ä¸­ä¸åŒé…ç½®å…¨éƒ¨ä¿ç•™</p></li></ol><h2 id="2-4-yaml-æ–‡ä»¶">2.4 yaml æ–‡ä»¶</h2><p>YAMLï¼ˆYAML Ainâ€™t Markup Languageï¼‰ï¼Œä¸€ç§æ•°æ®åºåˆ—åŒ–æ ¼å¼ã€‚å…·æœ‰å®¹æ˜“é˜…è¯»ã€å®¹æ˜“ä¸è„šæœ¬è¯­è¨€äº¤äº’ã€ä»¥æ•°æ®ä¸ºæ ¸å¿ƒï¼Œé‡æ•°æ®è½»æ ¼å¼çš„ç‰¹ç‚¹ã€‚å¸¸è§çš„æ–‡ä»¶æ‰©å±•åæœ‰ä¸¤ç§ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>.ymlæ ¼å¼ï¼ˆä¸»æµï¼‰</p></li><li class="lvl-2"><p>.yamlæ ¼å¼</p></li></ul><p>å¯¹äºæ–‡ä»¶è‡ªèº«åœ¨ä¹¦å†™æ—¶ï¼Œå…·æœ‰ä¸¥æ ¼çš„è¯­æ³•æ ¼å¼è¦æ±‚ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><ol><li class="lvl-3"><p>å¤§å°å†™æ•æ„Ÿ</p></li><li class="lvl-3"><p>å±æ€§å±‚çº§å…³ç³»ä½¿ç”¨å¤šè¡Œæè¿°ï¼Œ<strong>æ¯è¡Œç»“å°¾ä½¿ç”¨å†’å·ç»“æŸ</strong></p></li><li class="lvl-3"><p>ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼ŒåŒå±‚çº§å·¦ä¾§å¯¹é½ï¼Œ<code>åªå…è®¸ä½¿ç”¨ç©ºæ ¼</code>â€‹ï¼ˆä¸å…è®¸ä½¿ç”¨Tabé”®ï¼‰</p></li><li class="lvl-3"><p>å±æ€§å€¼å‰é¢æ·»åŠ ç©ºæ ¼ï¼ˆå±æ€§åä¸å±æ€§å€¼ä¹‹é—´ä½¿ç”¨å†’å·+ç©ºæ ¼ä½œä¸ºåˆ†éš”ï¼‰</p></li><li class="lvl-3"><p><code>#å·</code>â€‹ è¡¨ç¤ºæ³¨é‡Š</p></li></ol><blockquote><p>æ ¸å¿ƒçš„ä¸€æ¡è§„åˆ™è¦è®°ä½ï¼Œ<strong>æ•°æ®å‰é¢è¦åŠ ç©ºæ ¼ä¸å†’å·éš”å¼€</strong></p></blockquote><h2 id="2-4-yamlæ•°æ®è¯»å–">2.4 yamlæ•°æ®è¯»å–</h2><h3 id="è¯»å–å•ä¸€æ•°æ®">è¯»å–å•ä¸€æ•°æ®</h3><blockquote><p>yamlä¸­ä¿å­˜çš„å•ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨Springä¸­çš„æ³¨è§£ç›´æ¥è¯»å–ï¼Œä½¿ç”¨@Valueå¯ä»¥è¯»å–å•ä¸ªæ•°æ®ï¼Œå±æ€§åå¼•ç”¨æ–¹å¼ï¼š <strong>${ä¸€çº§å±æ€§å.äºŒçº§å±æ€§åâ€¦â€¦}</strong></p></blockquote><ol><li class="lvl-3"><p>ä½¿ç”¨@Valueé…åˆSpELè¯»å–å•ä¸ªæ•°æ®</p></li><li class="lvl-3"><p>å¦‚æœæ•°æ®å­˜åœ¨å¤šå±‚çº§ï¼Œä¾æ¬¡ä¹¦å†™å±‚çº§åç§°å³å¯</p></li></ol><h3 id="è¯»å–å…¨éƒ¨æ•°æ®">è¯»å–å…¨éƒ¨æ•°æ®</h3><blockquote><p>è¯»å–å•ä¸€æ•°æ®å¯ä»¥è§£å†³è¯»å–æ•°æ®çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå®šä¹‰çš„æ•°æ®é‡è¿‡å¤§ï¼Œè¿™ä¹ˆä¸€ä¸ªä¸€ä¸ªä¹¦å†™è‚¯å®šä¼šç´¯æ­»äººçš„ï¼ŒSpringBootæä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œèƒ½å¤ŸæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½å°è£…åˆ°è¿™ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡å«åšEnvironmentï¼Œä½¿ç”¨è‡ªåŠ¨è£…é…æ³¨è§£å¯ä»¥å°†æ‰€æœ‰çš„yamlæ•°æ®å°è£…åˆ°è¿™ä¸ªå¯¹è±¡ä¸­</p></blockquote><ol><li class="lvl-3"><p>ä½¿ç”¨Environmentå¯¹è±¡å°è£…å…¨éƒ¨é…ç½®ä¿¡æ¯</p></li><li class="lvl-3"><p>ä½¿ç”¨@Autowiredè‡ªåŠ¨è£…é…æ•°æ®åˆ°Environmentå¯¹è±¡ä¸­</p></li></ol><h3 id="è¯»å–å¯¹è±¡æ•°æ®">è¯»å–å¯¹è±¡æ•°æ®</h3><ol><li class="lvl-3"><p>ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£ç»‘å®šé…ç½®ä¿¡æ¯åˆ°å°è£…ç±»ä¸­</p></li><li class="lvl-3"><p>å°è£…ç±»éœ€è¦å®šä¹‰ä¸ºSpringç®¡ç†çš„beanï¼Œå¦åˆ™æ— æ³•è¿›è¡Œå±æ€§æ³¨å…¥</p></li></ol><h3 id="yamlæ–‡ä»¶ä¸­çš„æ•°æ®å¼•ç”¨">yamlæ–‡ä»¶ä¸­çš„æ•°æ®å¼•ç”¨</h3><ol><li class="lvl-3"><p>åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨${å±æ€§å}æ–¹å¼å¼•ç”¨å±æ€§å€¼</p></li><li class="lvl-3"><p>å¦‚æœå±æ€§ä¸­å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·åŒ…è£¹èµ·æ¥ä½œä¸ºå­—ç¬¦è§£æ</p></li></ol><h1>3. åŸºäºSpringBootå®ç°SSMPæ•´åˆ</h1><blockquote><p>æ•´åˆçš„æ ¸å¿ƒï¼š<br>1.å¯¼å…¥å¯¹åº”æŠ€æœ¯çš„starteråæ ‡<br>2.æ ¹æ®å¯¹åº”æŠ€æœ¯çš„è¦æ±‚åšé…ç½®</p></blockquote><h2 id="3-1-æ•´åˆJUnit">3.1 æ•´åˆJUnit</h2><blockquote><p>ä½¿ç”¨SpringBootæ•´åˆJUnitéœ€è¦ä¿éšœå¯¼å…¥testå¯¹åº”çš„starterï¼Œä¸è¿‡åˆå§‹åŒ–é¡¹ç›®æ—¶æ­¤é¡¹æ˜¯é»˜è®¤å¯¼å…¥çš„</p></blockquote><ol><li class="lvl-3"><p>å¯¼å…¥æµ‹è¯•å¯¹åº”çš„starter</p></li><li class="lvl-3"><p>æµ‹è¯•ç±»ä½¿ç”¨@SpringBootTestä¿®é¥°</p></li><li class="lvl-3"><p>ä½¿ç”¨è‡ªåŠ¨è£…é…çš„å½¢å¼æ·»åŠ è¦æµ‹è¯•çš„å¯¹è±¡</p></li><li class="lvl-3"><p>æµ‹è¯•ç±»å¦‚æœå­˜åœ¨äºå¼•å¯¼ç±»æ‰€åœ¨åŒ…æˆ–å­åŒ…ä¸­æ— éœ€æŒ‡å®šå¼•å¯¼ç±»</p></li><li class="lvl-3"><p>æµ‹è¯•ç±»å¦‚æœä¸å­˜åœ¨äºå¼•å¯¼ç±»æ‰€åœ¨çš„åŒ…æˆ–å­åŒ…ä¸­éœ€è¦é€šè¿‡classeså±æ€§æŒ‡å®šå¼•å¯¼ç±»</p></li></ol><h2 id="3-2-æ•´åˆMybatis">3.2 æ•´åˆMybatis</h2><ol><li class="lvl-3"><p>æ•´åˆæ“ä½œéœ€è¦å‹¾é€‰MyBatisæŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯å¯¼å…¥MyBatiså¯¹åº”çš„starter</p></li><li class="lvl-3"><p>æ•°æ®åº“è¿æ¥ç›¸å…³ä¿¡æ¯è½¬æ¢æˆé…ç½®</p></li><li class="lvl-3"><p>æ•°æ®åº“SQLæ˜ å°„éœ€è¦æ·»åŠ @Mapperè¢«å®¹å™¨è¯†åˆ«åˆ°</p></li><li class="lvl-3"><p>MySQL 8.Xé©±åŠ¨å¼ºåˆ¶è¦æ±‚è®¾ç½®æ—¶åŒº</p><ul class="lvl-2"><li class="lvl-6">ä¿®æ”¹urlï¼Œæ·»åŠ serverTimezoneè®¾å®š</li><li class="lvl-6">ä¿®æ”¹MySQLæ•°æ®åº“é…ç½®</li></ul></li><li class="lvl-3"><p>é©±åŠ¨ç±»è¿‡æ—¶ï¼Œæé†’æ›´æ¢ä¸ºcom.mysql.cj.jdbc.Driver</p></li></ol><p>é…ç½®ä¿¡æ¯çš„ä¹¦å†™ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.é…ç½®ç›¸å…³ä¿¡æ¯</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br></pre></td></tr></table></figure><h2 id="3-3-æ•´åˆMyBatis-Plus">3.3  æ•´åˆMyBatis-Plus</h2><ol><li class="lvl-3"><p>æ‰‹å·¥æ·»åŠ MyBatis-Pluså¯¹åº”çš„starter</p></li><li class="lvl-3"><p>æ•°æ®å±‚æ¥å£ä½¿ç”¨BaseMapperç®€åŒ–å¼€å‘</p></li><li class="lvl-3"><p>éœ€è¦ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹æŠ€æœ¯æ— æ³•é€šè¿‡å‹¾é€‰ç¡®å®šæ—¶ï¼Œéœ€è¦æ‰‹å·¥æ·»åŠ åæ ‡</p></li></ol><hr><p>MyBatis-Pluså¯¹åº”çš„åæ ‡ä¸ºï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>é…ç½®æ–‡ä»¶ä¿¡æ¯</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.é…ç½®ç›¸å…³ä¿¡æ¯</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/ssm_db</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br></pre></td></tr></table></figure><hr><p>è®¾ç½®æ‰€æœ‰è¡¨åçš„é€šç”¨å‰ç¼€å</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">table-prefix:</span> <span class="string">tbl_</span><span class="comment">#è®¾ç½®æ‰€æœ‰è¡¨çš„é€šç”¨å‰ç¼€åç§°ä¸ºtbl_</span></span><br></pre></td></tr></table></figure><h2 id="3-4-æ•´åˆDruid">3.4 æ•´åˆDruid</h2><ol><li class="lvl-3"><p>æ•´åˆDruidéœ€è¦å¯¼å…¥Druidå¯¹åº”çš„starter</p></li><li class="lvl-3"><p>æ ¹æ®Druidæä¾›çš„é…ç½®æ–¹å¼è¿›è¡Œé…ç½®</p></li><li class="lvl-3"><p>æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯é€šç”¨æ–¹å¼</p><ul class="lvl-2"><li class="lvl-6">å¯¼å…¥å¯¹åº”çš„starter</li><li class="lvl-6">æ ¹æ®æä¾›çš„é…ç½®æ ¼å¼ï¼Œé…ç½®éé»˜è®¤å€¼å¯¹åº”çš„é…ç½®é¡¹</li></ul></li></ol><hr><p>Druidå¯¹åº”åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">root</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸€ç«  è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°</title>
      <link href="/posts/31c36041.html"/>
      <url>/posts/31c36041.html</url>
      
        <content type="html"><![CDATA[<h1>1. æ“ä½œç³»ç»Ÿçš„æ¦‚å¿µ(åŠŸèƒ½å’Œç›®æ ‡)</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107151108155-20231108091632-8ldvv8p.png" alt="">â€‹</p><h2 id="1-1-æ“ä½œç³»ç»Ÿçš„æ¦‚å¿µ">1.1 æ“ä½œç³»ç»Ÿçš„æ¦‚å¿µ</h2><ul class="lvl-0"><li class="lvl-2"><p>æ“ä½œç³»ç»Ÿè´Ÿè´£ç®¡ç†åè°ƒç¡¬ä»¶ï¼Œè½¯ä»¶ç­‰è®¡ç®—æœºèµ„æºçš„å·¥ä½œ</p></li><li class="lvl-2"><p>æ“ä½œç³»ç»Ÿä¸ºä¸Šå±‚ç”¨æˆ·ï¼Œåº”ç”¨ç¨‹åºæä¾›ç®€å•æ˜“ç”¨çš„æœåŠ¡</p></li><li class="lvl-2"><p>æ“ä½œç³»ç»Ÿæ˜¯ä¸€ç§ç³»ç»Ÿè½¯ä»¶</p></li></ul><h2 id="1-2-æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½å’Œç›®æ ‡">1.2 æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½å’Œç›®æ ‡</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107151034434-20231108091632-z0lxkrm.png" alt=""></p><h1>2. æ“ä½œç³»ç»Ÿçš„å››ä¸ªç‰¹å¾</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107153012994-20231108091632-zcjnizd.png" alt=""></p><ul class="lvl-0"><li class="lvl-2"><p>å¹¶å‘å’Œå…±äº«æœ€åŸºæœ¬çš„ä¸¤ä¸ªæ€§è´¨</p></li><li class="lvl-2"><p>å¹¶å‘å’Œå…±äº«äº’ä¸ºå­˜åœ¨æ¡ä»¶</p></li><li class="lvl-2"><p>æ²¡æœ‰å¹¶å‘å’Œå…±äº«ï¼Œå°±è°ˆä¸ä¸Šè™šæ‹Ÿå’Œå¼‚æ­¥</p></li></ul><p><strong>æ³¨æ„ï¼ˆé‡è¦è€ƒç‚¹ï¼‰ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å•æ ¸CPUåŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œå„ä¸ªç¨‹åºåªèƒ½å¹¶å‘åœ°æ‰§è¡Œ</p></li><li class="lvl-2"><p>å¤šæ ¸CPUåŒä¸€æ—¶åˆ»å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªç¨‹åºï¼Œå¤šä¸ªç¨‹åºå¯ä»¥å¹¶è¡Œåœ°æ‰§è¡Œ</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107152911204-20231108091632-x2vxs25.png" alt=""></p><h1>3. æ“ä½œç³»ç»Ÿçš„å‘å±•ä¸åˆ†ç±»</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107151307984-20231108091632-w4gs7cm.png" alt=""></p><h2 id="3-1-å¸¸è€ƒçš„ä¸‰ç§æ“ä½œç³»ç»Ÿå¯¹æ¯”">3.1 å¸¸è€ƒçš„ä¸‰ç§æ“ä½œç³»ç»Ÿå¯¹æ¯”</h2><table><thead><tr><th>æ‰¹æ“ä½œç³»ç»Ÿ</th><th>å®šä¹‰</th></tr></thead><tbody><tr><td>æ‰¹æ“ä½œç³»ç»Ÿ</td><td>è„±æœºä½¿â½¤è®¡ç®—æœºï¼›ä½œä¸šæ˜¯æ‰¹å¤„ç†çš„ï¼›ç³»ç»Ÿå†…å¤šé“ç¨‹åºå¹¶å‘æ‰§â¾ï¼›äº¤äº’èƒ½â¼’å·®ï¼›</td></tr><tr><td>åˆ†æ—¶æ“ä½œç³»ç»Ÿ</td><td>å¤šä¸ªâ½¤æˆ·åŒæ—¶ä½¿â½¤è®¡ç®—æœºï¼›â¼ˆæœºäº¤äº’å¼ºï¼›å…·æœ‰æ¯ä¸ªâ½¤æˆ·ç‹¬â½´ä½¿â½¤è®¡ç®—æœºçš„ç‹¬å æ€§ï¼›ç³»ç»Ÿå“åº”åŠæ—¶</td></tr><tr><td>å®æ—¶æ“ä½œç³»ç»Ÿ</td><td>èƒ½å¯¹æ§åˆ¶å¯¹è±¡åšå‡ºåŠæ—¶ååº”ï¼›å¯é æ€§â¾¼ï¼›å“åº”åŠæ—¶ï¼›ä½†èµ„æºåˆ©â½¤ç‡ä½</td></tr></tbody></table><h2 id="3-2-å…¶ä»–æ“ä½œç³»ç»Ÿå¯¹æ¯”">3.2 å…¶ä»–æ“ä½œç³»ç»Ÿå¯¹æ¯”</h2><ul class="lvl-0"><li class="lvl-2"><p>Unixç³»ç»Ÿæ˜¯å¤šç”¨æˆ·ï¼Œå¤šä»»åŠ¡æ“ä½œç³»ç»Ÿï¼Œå±äºåˆ†æ—¶æ“ä½œç³»ç»Ÿ<br><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107152332951-20231108091632-ccg00l2.png" alt=""></p></li></ul><h1>4. æ“ä½œç³»ç»Ÿçš„è¿è¡Œæœºåˆ¶</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107160000944-20231108091632-y03krsv.png" alt=""></p><h2 id="4-1-ç¨‹åºè¿è¡Œçš„åŸç†">4.1 ç¨‹åºè¿è¡Œçš„åŸç†</h2><ul class="lvl-0"><li class="lvl-2"><p>é«˜çº§è¯­è¨€ç¼–å†™ä»£ç ï¼Œç„¶åè½¬æ¢ä¸ºæœºå™¨æŒ‡ä»¤</p></li><li class="lvl-2"><p>ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹å°±æ˜¯CPUæ‰§è¡ŒæŒ‡ä»¤çš„è¿‡ç¨‹</p></li></ul><h2 id="4-2-ä¸¤ç§ç¨‹åº">4.2 ä¸¤ç§ç¨‹åº</h2><ol><li class="lvl-3"><p>å†…æ ¸ç¨‹åº</p></li><li class="lvl-3"><p>åº”ç”¨ç¨‹åº</p></li></ol><h2 id="4-3-ğŸ³ä¸¤ç§æŒ‡ä»¤">4.3 ğŸ³ä¸¤ç§æŒ‡ä»¤</h2><ol><li class="lvl-3"><p>ç‰¹æƒæŒ‡ä»¤ ï¼š æŒ‡ä¸å…è®¸ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„æŒ‡ä»¤</p><ul class="lvl-2"><li class="lvl-5">å¯¹I/Oè®¾å¤‡æ“ä½œæŒ‡ä»¤</li><li class="lvl-5">å­˜å–ç‰¹æ®Šå¯„å­˜å™¨çš„æŒ‡ä»¤</li><li class="lvl-5">æœ‰å…³è®¿é—®ç¨‹åºçŠ¶æ€çš„æŒ‡ä»¤</li><li class="lvl-5">ç½®ä¸­æ–­æŒ‡ä»¤</li><li class="lvl-5">å…³ä¸­æ–­æŒ‡ä»¤</li><li class="lvl-5">æ¸…å†…å­˜æŒ‡ä»¤</li><li class="lvl-5">ç½®æ—¶é’ŸæŒ‡ä»¤</li></ul></li><li class="lvl-3"><p>éç‰¹æƒæŒ‡ä»¤ï¼šå…è®¸ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„æŒ‡ä»¤ ï¼Œ ä¸èƒ½ç›´æ¥è®¿é—®ç³»ç»Ÿä¸­çš„è½¯ç¡¬ä»¶èµ„æº ï¼Œåªé™äºè®¿é—®ç”¨æˆ·çš„åœ°å€ç©ºé—´</p><ul class="lvl-2"><li class="lvl-5">è®¿ç®¡/trapæŒ‡ä»¤</li></ul></li></ol><h2 id="4-4-ğŸ¦‹ä¸¤ç§å¤„ç†å™¨çŠ¶æ€">4.4 ğŸ¦‹ä¸¤ç§å¤„ç†å™¨çŠ¶æ€</h2><ul class="lvl-0"><li class="lvl-2"><p><strong>æ ¸å¿ƒæ€ã€ç®¡æ€ã€‘</strong></p><ul class="lvl-2"><li class="lvl-4">åªèƒ½åœ¨æ ¸å¿ƒæ€è¿è¡Œçš„æŒ‡ä»¤å’Œç¨‹åºï¼š<ul class="lvl-4"><li class="lvl-6">æ—¶é’Ÿç®¡ç†ç›¸å…³çš„æŒ‡ä»¤ã€ç½®æ—¶é’ŸæŒ‡ä»¤ã€‘</li><li class="lvl-6">ä¸­æ–­æœºåˆ¶ç›¸å…³çš„æŒ‡ä»¤ã€æ—¶é’Ÿä¸­æ–­ç¨‹åºã€‘</li><li class="lvl-6">åŸè¯­ç›¸å…³çš„æŒ‡ä»¤</li><li class="lvl-6">ç³»ç»Ÿæ§åˆ¶çš„æ•°æ®ç»“æ„ä¸å¤„ç†ã€è¿›ç¨‹è°ƒåº¦ç¨‹åºã€‘ã€è¿›ç¨‹åˆ‡æ¢ã€‘ã€ç¼ºé¡µå¤„ç†ç¨‹åºã€‘ã€ç³»ç»Ÿè°ƒç”¨å‘½ä»¤ã€‘</li></ul></li></ul></li><li class="lvl-2"><p><strong>ç”¨æˆ·æ€ã€ç›®æ€ã€‘</strong></p><ul class="lvl-2"><li class="lvl-4">åœ¨ç”¨æˆ·æ€è¿è¡Œçš„æŒ‡ä»¤å’Œç¨‹åº/å‘ç”Ÿçš„äº‹ä»¶ï¼š<ul class="lvl-4"><li class="lvl-6">å‘½ä»¤è§£é‡Šç¨‹åºã€å±äºå‘½ä»¤æ¥å£ï¼Œé¢å‘ç”¨æˆ·ã€‘</li><li class="lvl-6">è®¿ç®¡/TrapæŒ‡ä»¤ï¼Œè·³è½¬æŒ‡ä»¤ï¼Œå‹æ ˆæŒ‡ä»¤</li><li class="lvl-6">å¹¿ä¹‰æŒ‡ä»¤(ç³»ç»Ÿè°ƒç”¨)çš„è°ƒç”¨</li><li class="lvl-6">å¤–éƒ¨ä¸­æ–­ï¼Œç¼ºé¡µ</li></ul></li></ul></li></ul><h2 id="4-5-ğŸš€å¦‚ä½•å˜æ€">4.5 ğŸš€å¦‚ä½•å˜æ€</h2><ul class="lvl-0"><li class="lvl-2"><p>å†…æ ¸æ€ â€”â€”&gt; ç”¨æˆ·æ€ ï¼š å‘â½£åœ¨ä¸­æ–­è¿”å›â½¤æˆ·ç¨‹åºæ—¶ï¼Œéœ€è¦â¼€æ¡ä¿®æ”¹PSW(ç¨‹åºçŠ¶æ€å­—)çš„ç‰¹æƒå‘½ä»¤</p></li><li class="lvl-2"><p>ç”¨æˆ·æ€ â€”â€”&gt; å†…æ ¸æ€ ï¼šå‘ç”Ÿåœ¨ä¸­æ–­æ—¶ï¼Œé€šè¿‡ç¡¬ä»¶å®Œæˆ</p></li></ul><h2 id="4-6-ä¸ºä»€ä¹ˆè¦åŒºåˆ«æ ¸å¿ƒæ€å’Œç”¨æˆ·æ€">4.6 ä¸ºä»€ä¹ˆè¦åŒºåˆ«æ ¸å¿ƒæ€å’Œç”¨æˆ·æ€</h2><ul class="lvl-0"><li class="lvl-2"><p>ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿç¨‹åº</p></li></ul><h2 id="4-7-æ“ä½œç³»ç»Ÿçš„å†…æ ¸">4.7 æ“ä½œç³»ç»Ÿçš„å†…æ ¸</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107160226845-20231108091632-9n0wgzw.png" alt=""></p><p><code>å†…æ ¸æ˜¯è®¡ç®—æœºä¸Šé…ç½®çš„åº•å±‚è½¯ä»¶ï¼Œæ˜¯æ“ä½œç³»ç»Ÿæœ€åŸºæœ¬ã€æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚ å®ç°æ“ä½œç³»ç»Ÿå†…æ ¸åŠŸèƒ½çš„é‚£äº›ç¨‹åºå°±æ˜¯å†…æ ¸ç¨‹åºã€‚</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107163911129-20231108091632-wtxeaw3.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107163933101-20231108091632-zp9hhzc.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107163944455-20231108091632-aufktij.png" alt=""></p><h2 id="4-8-å†…æ ¸çš„åŠŸèƒ½">4.8 å†…æ ¸çš„åŠŸèƒ½</h2><ul class="lvl-0"><li class="lvl-2"><p>æ—¶é’Ÿç®¡ç†ï¼šå®ç°è®¡æ—¶åŠŸèƒ½</p></li><li class="lvl-2"><p>ä¸­æ–­å¤„ç†ï¼šè´Ÿè´£å®ç°ä¸­æ–­æœºåˆ¶</p></li><li class="lvl-2"><p>è®¾å¤‡ç®¡ç†ï¼šå®Œæˆè®¾å¤‡çš„è¯·æ±‚å’Œé‡Šæ”¾ï¼Œä»¥åŠè®¾å¤‡å¯åŠ¨ç­‰åŠŸèƒ½</p></li><li class="lvl-2"><p>æ–‡ä»¶ç®¡ç†ï¼šå®Œæˆæ–‡ä»¶çš„è¯»ï¼Œå†™ï¼Œåˆ›å»ºå’Œåˆ é™¤ç­‰åŠŸèƒ½</p></li><li class="lvl-2"><p>è¿›ç¨‹ç®¡ç†ï¼šå®Œæˆè¿›ç¨‹çš„åˆ›å»ºï¼Œæ’¤é”€ï¼Œé˜»å¡åŠå”¤é†’ç­‰åŠŸèƒ½</p></li><li class="lvl-2"><p>è¿›ç¨‹é€šä¿¡ï¼šå®Œæˆè¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’æˆ–ä¿¡å·ä¼ é€’ç­‰åŠŸèƒ½</p></li><li class="lvl-2"><p>å†…å­˜ç®¡ç†ï¼šå®Œæˆå†…å­˜çš„åˆ†é…ï¼Œå›æ”¶ä»¥åŠè·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°åŠåœ°å€ç­‰åŠŸèƒ½</p></li><li class="lvl-2"><p><strong>åŸè¯­</strong></p><ul class="lvl-2"><li class="lvl-4">æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¨‹åº</li><li class="lvl-4">å¤„äºæ“ä½œç³»ç»Ÿæœ€åº•å±‚ï¼Œæ˜¯æœ€æ¥è¿‘ç¡¬ä»¶çš„éƒ¨åˆ†</li><li class="lvl-4">è¯¥ç¨‹åºè¿è¡Œå…·æœ‰åŸå­æ€§ï¼ˆè¿è¡Œåªèƒ½ä¸€æ°”å‘µæˆï¼Œä¸å¯ä¸­æ–­ï¼‰</li><li class="lvl-4">è¿è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œè°ƒç”¨é¢‘ç¹</li></ul></li></ul><h1>5. ä¸­æ–­å’Œå¼‚å¸¸</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107164208450-20231108091632-if7ua1v.png" alt=""></p><h2 id="6-1-å¼‚å¸¸-å†…ä¸­æ–­">6.1 å¼‚å¸¸(å†…ä¸­æ–­)</h2><blockquote><p>åŸºæœ¬æ¦‚å¿µ</p><ul class="lvl-1"><li class="lvl-2">ç”±CPUå†…éƒ¨äº§ç”Ÿçš„æ„å¤–äº‹ä»¶</li><li class="lvl-2">æ˜¯CPUæ‰§è¡Œä¸€æ¡å‘½ä»¤æ—¶ï¼Œç”±CPUåœ¨å…¶å†…éƒ¨æ£€æµ‹åˆ°çš„ã€ä¸æ­£åœ¨æ‰§è¡ŒæŒ‡ä»¤ç›¸å…³çš„åŒæ­¥äº‹ä»¶</li><li class="lvl-2">æ•…éšœå’Œè‡ªé™·ä¸ºå¼‚å¸¸</li><li class="lvl-2">ç»ˆæ­¢å¼‚å¸¸å’Œå¤–ä¸­æ–­å±äºç¡¬ä»¶ä¸­æ–­</li></ul></blockquote><p>â€</p><blockquote><p>åˆ†ç±»</p><ul class="lvl-1"><li class="lvl-2">æ•…éšœ ï¼š åœ¨å¼•èµ·æ•…éšœçš„æŒ‡ä»¤å¯åŠ¨ä¹‹åã€æ‰§è¡Œç»“æŸå‰è¢«æ£€æµ‹åˆ°çš„å¼‚å¸¸äº‹ä»¶</li><li class="lvl-2">è‡ªé™·ï¼š  ä¹Ÿç§°é™·é˜±æˆ–é™·å…¥ï¼Œæ˜¯é¢„å…ˆå®‰æ’çš„ä¸€ç§â€œå¼‚å¸¸äº‹ä»¶â€ï¼Œå°±åƒé¢„å…ˆè®¾ç½®å¥½çš„â€œé™·é˜±â€ä¸€æ ·</li><li class="lvl-2">ç»ˆæ­¢ï¼šè‹¥åœ¨æ‰§è¡ŒæŒ‡ä»¤çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä½¿è®¡ç®—æœºæ— æ³•ç»§ç»­æ‰§è¡Œçš„ç¡¬ä»¶æ•…éšœï¼Œé‚£ä¹ˆç¨‹åºå°†æ— æ³•ç»§ç»­æ‰§è¡Œï¼Œåªèƒ½ç»ˆæ­¢</li></ul></blockquote><p>â€</p><blockquote><p>ä¸¾ä¾‹</p><ul class="lvl-1"><li class="lvl-2"><p>æ•…éšœ</p><ul class="lvl-3"><li class="lvl-4">æŒ‡ä»¤è¯‘ç æ—¶ï¼Œå‡ºç°â€œéæ³•æ“ä½œç â€</li><li class="lvl-4">å–æ•°æ®æ—¶ï¼Œå‘ç”Ÿâ€œç¼ºæ®µâ€æˆ–â€œç¼ºé¡µâ€</li><li class="lvl-4">é™¤æ•°ä¸ºé›¶</li><li class="lvl-4">åœ°å€è¶Šç•Œ</li></ul></li><li class="lvl-2"><p>è‡ªé™·</p><ul class="lvl-3"><li class="lvl-4">x86æœºå™¨ä¸­ï¼Œç”¨äºç¨‹åºè°ƒè¯•â€œæ–­ç‚¹è®¾ç½®â€å’Œå•æ­¥è·Ÿè¸ªåŠŸèƒ½</li><li class="lvl-4">ç³»ç»Ÿè°ƒç”¨æŒ‡ä»¤</li><li class="lvl-4">æ¡ä»¶è‡ªé™·æŒ‡ä»¤</li></ul></li><li class="lvl-2"><p>ç»ˆæ­¢</p><ul class="lvl-3"><li class="lvl-4">æ§åˆ¶å™¨å‡ºé”™</li><li class="lvl-4">å­˜å‚¨å™¨æ ¡éªŒé”™</li><li class="lvl-4">è°ƒå‡ºä¸­æ–­æœåŠ¡ç¨‹åºæ¥é‡å¯ç³»ç»Ÿ</li></ul></li></ul></blockquote><p>â€</p><blockquote><p>æ‰§è¡Œæ—¶é—´</p><ul class="lvl-1"><li class="lvl-2">CPUåœ¨æ‰§è¡ŒæŒ‡ä»¤æ—¶ä¼šæ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸å‘ç”Ÿ</li></ul></blockquote><p>â€</p><blockquote><p>å’Œå¤–ä¸­æ–­ä¸åŒçš„æ˜¯</p><ul class="lvl-1"><li class="lvl-2">ç¼ºé¡µâ€æˆ–â€œæº¢å‡ºâ€ç­‰å¼‚å¸¸äº‹ä»¶æ˜¯ç”±ç‰¹å®šæŒ‡ä»¤åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„</li><li class="lvl-2">å¼‚å¸¸çš„æ£€æµ‹ç”±CPUè‡ªèº«å®Œæˆï¼Œä¸å¿…é€šè¿‡å¤–éƒ¨çš„æŸä¸ªä¿¡å·é€šçŸ¥CPU</li></ul></blockquote><h2 id="6-2-ä¸­æ–­-å¤–ä¸­æ–­">6.2 ä¸­æ–­(å¤–ä¸­æ–­)</h2><blockquote><p>åŸºæœ¬æ¦‚å¿µ</p><ul class="lvl-1"><li class="lvl-2">ç”±æ¥è‡ªCPUå¤–éƒ¨çš„è®¾å¤‡å‘å‡ºçš„ä¸­æ–­è¯·æ±‚ï¼ˆå¸¸ç”¨äºè¾“å…¥è¾“å‡ºï¼‰</li><li class="lvl-2">å…¸å‹çš„ç”±å¤–éƒ¨è®¾å¤‡è§¦å‘çš„ã€ä¸å½“å‰æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤æ— å…³çš„å¼‚æ­¥äº‹ä»¶</li><li class="lvl-2">å¤–éƒ¨I/Oè®¾å¤‡é€šè¿‡ç‰¹å®šçš„ä¸­æ–­è¯·æ±‚ä¿¡å·çº¿å‘CPUæå‡ºä¸­æ–­è¯·æ±‚</li><li class="lvl-2">CPUæ¯æ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤å°±æ£€æŸ¥ä¸­æ–­è¯·æ±‚ä¿¡å·çº¿ï¼Œè‹¥æ£€æµ‹åˆ°ä¸­æ–­è¯·æ±‚ï¼Œåˆ™è¿›å…¥ä¸­æ–­å“åº”æœŸ</li><li class="lvl-2">å¤–éƒ¨ä¸­æ–­éƒ½æ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œæˆåï¼ˆä¸­æ–­å‘¨æœŸï¼‰æ‰è¢«æ£€æµ‹å¹¶å¤„ç†çš„</li></ul></blockquote><p>â€</p><blockquote><p>åˆ†ç±»</p><ul class="lvl-1"><li class="lvl-2"><p>å¯å±è”½ä¸­æ–­</p><ul class="lvl-3"><li class="lvl-4">é€šè¿‡å¯å±è”½ä¸­æ–­è¯·æ±‚çº¿INTRå‘CPUå‘å‡ºçš„ä¸­æ–­è¯·æ±‚</li><li class="lvl-4">CPUå¯ä»¥é€šè¿‡åœ¨ä¸­æ–­æ§åˆ¶å™¨ä¸­è®¾ç½®ç›¸åº”çš„å±è”½å­—æ¥å±è”½æˆ–ä¸å±è”½å®ƒï¼Œè¢«å±è”½çš„ä¸­æ–­ä¿¡å·å°†ä¸è¢«é€åˆ°CPU</li></ul></li><li class="lvl-2"><p>ä¸å¯å±è”½ä¸­æ–­</p><ul class="lvl-3"><li class="lvl-4">é€šè¿‡ä¸å¯å±è”½ä¸­æ–­è¯·æ±‚çº¿NMIå‘CPUå‘å‡ºçš„ä¸­æ–­è¯·æ±‚</li><li class="lvl-4">é€šå¸¸æ˜¯éå¸¸ç´§æ€¥çš„ç¡¬ä»¶æ•…éšœï¼Œå¦‚ç”µæºæ‰ç”µç­‰</li></ul></li></ul></blockquote><p>â€</p><blockquote><p>ä¸¾ä¾‹</p><ul class="lvl-1"><li class="lvl-2">Cacheç¼ºå¤±</li><li class="lvl-2">I/Oä¸­æ–­ï¼šé”®ç›˜è¾“å…¥ï¼Œæ‰“å°æœºç¼ºçº¸</li><li class="lvl-2">æ—¶é’Ÿä¸­æ–­</li><li class="lvl-2">I/Oä¸­æ–­è¯·æ±‚</li></ul></blockquote><p>â€</p><blockquote><p>æ‰§è¡Œæ—¶é—´</p><ul class="lvl-1"><li class="lvl-2">æ¯ä¸ªæŒ‡ä»¤å‘¨æœŸæœ«å°¾ï¼ŒCPUéƒ½ä¼šæ£€æŸ¥æ˜¯å¦æœ‰å¤–ä¸­æ–­ä¿¡å·éœ€è¦å¤„ç†</li></ul></blockquote><p>â€</p><blockquote><p>å’Œå†…ä¸­æ–­ä¸åŒçš„æ˜¯</p><ul class="lvl-1"><li class="lvl-2">ä¸­æ–­ä¸ä¸ä»»ä½•æŒ‡ä»¤ç›¸å…³è”ï¼Œä¹Ÿä¸é˜»æ­¢ä»»ä½•æŒ‡ä»¤çš„å®Œæˆ</li></ul></blockquote><h1>7. ç³»ç»Ÿè°ƒç”¨</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231107180135537-20231108091632-zjrtpin.png" alt="">â€‹</p><p>â€</p><h2 id="7-1-ç³»ç»Ÿè°ƒç”¨ã€åˆå«åšå¹¿ä¹‰æŒ‡ä»¤ã€‘">7.1 ç³»ç»Ÿè°ƒç”¨ã€åˆå«åšå¹¿ä¹‰æŒ‡ä»¤ã€‘</h2><blockquote><p>å®šä¹‰</p><ul class="lvl-1"><li class="lvl-2">æ“ä½œç³»ç»Ÿå¯¹åº”ç”¨ç¨‹åºå’Œç¨‹åºå‘˜æä¾›çš„æ¥å£</li><li class="lvl-2">ç³»ç»Ÿè°ƒç”¨éœ€è¦è§¦å‘Trapã€ä¹Ÿå«é™·å…¥/è®¿ç®¡æŒ‡ä»¤ã€‘</li><li class="lvl-2">osé€šè¿‡æä¾›ç³»ç»Ÿè°ƒç”¨é¿å…ç”¨æˆ·ç¨‹åºç›´æ¥è®¿é—®å¤–è®¾ã€åº”ç”¨ç¨‹åºé€šè¿‡ç³»ç»Ÿè°ƒç”¨ä½¿ç”¨OSçš„è®¾å¤‡ç®¡ç†æœåŠ¡ã€‘</li></ul></blockquote><p>â€</p><blockquote><p>ç›®çš„</p><ul class="lvl-1"><li class="lvl-2">è¯·æ±‚ç³»ç»ŸæœåŠ¡</li></ul></blockquote><p>â€</p><blockquote><p>ä¸åº“å‡½æ•°çš„åŒºåˆ«</p><ul class="lvl-1"><li class="lvl-2"><p>åº“å‡½æ•°</p><ul class="lvl-3"><li class="lvl-4">æ˜¯è¯­è¨€æˆ–åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ† ï¼Œå¯ä»¥è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´ä¸­</li><li class="lvl-4">è®¸å¤šåº“å‡½æ•°éƒ½ä¼šä½¿ç”¨ç³»ç»Ÿè°ƒç”¨æ¥å®ç°åŠŸèƒ½</li><li class="lvl-4">æœ‰çš„åº“å‡½æ•°æ²¡æœ‰ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨</li></ul></li><li class="lvl-2"><p>ç³»ç»Ÿè°ƒç”¨</p><ul class="lvl-3"><li class="lvl-4">æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å†…æ ¸ä¸ºç”¨æˆ·æä¾›çš„ç¨‹åºæ¥å£ï¼Œè¿è¡Œåœ¨å†…æ ¸ç©ºé—´</li><li class="lvl-4">æœªä½¿ç”¨ç³»ç»Ÿè°ƒç”¨çš„åº“å‡½æ•°ï¼Œæ‰§è¡Œæ•ˆç‡é€šå¸¸æ¯”ç³»ç»Ÿè°ƒç”¨çš„é«˜ ï¼Œ ã€å› ä¸ºç³»ç»Ÿè°ƒç”¨è¦å®Œæˆä¸Šä¸‹æ–‡çš„åˆ‡æ¢å’ŒçŠ¶æ€çš„è½¬æ¢ã€‘</li></ul></li></ul></blockquote><p>â€</p><blockquote><p>æŒ‰åŠŸèƒ½åˆ†ç±»</p><ul class="lvl-1"><li class="lvl-2">è®¾å¤‡ç®¡ç†ï¼šå®Œæˆè®¾å¤‡çš„è¯·æ±‚æˆ–é‡Šæ”¾+è®¾å¤‡å¯åŠ¨</li><li class="lvl-2">æ–‡ä»¶ç®¡ç†ï¼šå®Œæˆæ–‡ä»¶çš„è¯»+å†™+åˆ›å»º+åˆ é™¤</li><li class="lvl-2">è¿›ç¨‹æ§åˆ¶ï¼šå®Œæˆè¿›ç¨‹çš„åˆ›å»º+æ’¤é”€+é˜»å¡+å”¤é†’</li><li class="lvl-2">è¿›ç¨‹é€šä¿¡ï¼šå®Œæˆè¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’æˆ–ä¿¡å·ä¼ é€’</li><li class="lvl-2">å†…å­˜ç®¡ç†ï¼šå®Œæˆå†…å­˜çš„åˆ†é…+å›æ”¶+è·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°åŠå§‹å€</li></ul></blockquote><p>â€</p><blockquote><p>ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231110154517-pkh1tai.png" alt="image"></p><ul class="lvl-1"><li class="lvl-2"><p>step1ï¼šä¼ å‚</p></li><li class="lvl-2"><p>step2ï¼šé™·å…¥æŒ‡ä»¤/Trap/è®¿ç®¡ã€æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ã€‘ï¼Œå‘ç”Ÿåœ¨ç”¨æˆ·æ€</p></li><li class="lvl-2"><p>step3ï¼šç”±æ“ä½œç³»ç»Ÿå†…æ ¸ç¨‹åºå¤„ç†ç³»ç»Ÿè°ƒç”¨è¯·æ±‚ï¼Œå‘ç”Ÿåœ¨å†…æ ¸æ€</p></li><li class="lvl-2"><p>step4ï¼šè¿”å›åº”ç”¨ç¨‹åº</p></li></ul></blockquote><h2 id="7-2-ç³»ç»Ÿè°ƒç”¨å’Œä¸€èˆ¬è¿‡ç¨‹è°ƒç”¨çš„å·®åˆ«">7.2 ç³»ç»Ÿè°ƒç”¨å’Œä¸€èˆ¬è¿‡ç¨‹è°ƒç”¨çš„å·®åˆ«</h2><ol><li class="lvl-3"><p>è¿è¡ŒçŠ¶æ€ä¸åŒ</p><ul class="lvl-2"><li class="lvl-6">ä¸€èˆ¬è¿‡ç¨‹è°ƒç”¨çš„è°ƒç”¨è¿‡ç¨‹å’Œè¢«è°ƒç”¨è¿‡ç¨‹è¿è¡Œåœ¨åŒä¸€ç³»ç»ŸçŠ¶æ€ã€ç”¨æˆ·æ€æˆ–å†…æ ¸æ€ã€‘</li><li class="lvl-6">ç³»ç»Ÿè°ƒç”¨çš„è°ƒç”¨è¿‡ç¨‹æ˜¯è¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œè¢«è°ƒç”¨è¿‡ç¨‹æ˜¯è¿è¡Œåœ¨å†…æ ¸æ€</li></ul></li><li class="lvl-3"><p>è½¯ä¸­æ–­è¿›å…¥æœºåˆ¶</p><ul class="lvl-2"><li class="lvl-6">ä¸€èˆ¬çš„è¿‡ç¨‹è°ƒç”¨å¯ç›´æ¥ç”±è°ƒç”¨è¿‡ç¨‹è½¬å‘è¢«è°ƒç”¨è¿‡ç¨‹</li><li class="lvl-6">ç³»ç»Ÿè°ƒç”¨ä¸å…è®¸ç”±è°ƒç”¨è¿‡ç¨‹ç›´æ¥è½¬å‘è¢«è°ƒç”¨è¿‡ç¨‹ï¼Œä¸€èˆ¬é€šè¿‡è½¯ä¸­æ–­æœºåˆ¶ï¼Œå…ˆè¿›å…¥æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œç»å†…æ ¸åˆ†æåæ‰è½¬å‘ç›¸åº”å‘½ä»¤å¤„ç†ç¨‹åº</li></ul></li><li class="lvl-3"><p>è¿”å›åŠé‡æ–°è°ƒåº¦</p><ul class="lvl-2"><li class="lvl-6">ä¸€èˆ¬è¿‡ç¨‹è°ƒç”¨è¢«è°ƒç”¨ç»“æŸåï¼Œè¿”å›è°ƒç”¨ç‚¹ç»§ç»­æ‰§è¡Œ</li><li class="lvl-6">ç³»ç»Ÿè°ƒç”¨è¢«è°ƒç”¨å®Œåï¼Œè¦å¯¹ç³»ç»Ÿä¸­æ‰€æœ‰è¿è¡Œè¿›ç¨‹é‡æ–°è°ƒåº¦</li><li class="lvl-6">åªæœ‰å½“è°ƒç”¨è¿›ç¨‹ä»å…·æœ‰æœ€é«˜ä¼˜å…ˆæƒæ‰è¿”å›è°ƒç”¨è¿‡ç¨‹ç»§ç»­æ‰§è¡Œ</li></ul></li></ol><h2 id="7-3-ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹">7.3 ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231110154941-rrjhnpx.png" alt="image">â€‹</p><p>â€</p><h1>8. æ“ä½œç³»ç»Ÿçš„ä½“ç³»ç»“æ„</h1><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231110155312-u0c5x1f.png" alt="image">â€‹</p><p><img src="assets/image-20231110155432-qxl3kcc.png" alt="image">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231110155548-0fcn8ht.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>å¾®å†…æ ¸OSçŸ¥è¯†ç‚¹è¡¥å……</p><ul class="lvl-2"><li class="lvl-4">ä¼˜ç‚¹ï¼šã€å†…æ ¸è¶³å¤Ÿå°ã€‘ã€åŸºäºC/Sæ¨¡å¼ã€‘ã€åº”ç”¨æœºåˆ¶ä¸ç­–ç•¥åˆ†ç¦»åŸç†ã€‘ã€é‡‡ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯ã€‘</li><li class="lvl-4">ç¼ºç‚¹ï¼šã€æ€§èƒ½é—®é¢˜ã€‘ã€å¼€é”€åå¤§ã€‘</li></ul></li></ul><h1>9. æ“ä½œç³»ç»Ÿå¼•å¯¼ ã€Bootã€‘</h1><h2 id="9-1-æ“ä½œç³»ç»Ÿçš„å¼•å¯¼-å³å¼€æœºè¿‡ç¨‹">9.1 æ“ä½œç³»ç»Ÿçš„å¼•å¯¼ å³å¼€æœºè¿‡ç¨‹</h2><blockquote><p>å¼€æœºè¿‡ç¨‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231110160543-1bhy4qy.png" alt="image">â€‹</p><p>Aã€å¯åŠ¨è¿‡ç¨‹</p><ol><li class="lvl-3"><p>CPUåŠ ç”µï¼ŒCSï¼šIPæŒ‡å‘FFFF0H</p></li><li class="lvl-3"><p>æ‰§è¡ŒJMPæŒ‡ä»¤è·³è½¬åˆ°BIOS</p></li><li class="lvl-3"><p>ç™»è®°BIOSä¸­æ–­ä¾‹ç¨‹å…¥å£åœ°å€</p></li><li class="lvl-3"><p>ç¡¬ä»¶è‡ªæ£€</p></li><li class="lvl-3"><p>è¿›è¡Œæ“ä½œç³»ç»Ÿå¼•å¯¼</p></li></ol><p>Bã€å¼•å¯¼è¿‡ç¨‹</p><ul class="lvl-1"><li class="lvl-2"><p>step1ï¼šCPUä»ä¸€ä¸ªç‰¹å®šä¸»å­˜åœ°å€å¼€å§‹ï¼Œå–æŒ‡ä»¤ï¼Œæ‰§è¡ŒROMä¸­çš„å¼•å¯¼è£…å…¥ç¨‹åºã€å³å‰é¢çš„å¯åŠ¨è¿‡ç¨‹ã€‘</p></li><li class="lvl-2"><p>step2ï¼šå°†ç£ç›˜çš„ç¬¬ä¸€å—----ä¸»å¼•å¯¼è®°å½•è¯»å…¥å†…å­˜ï¼Œæ‰§è¡Œç£ç›˜å¼•å¯¼ç¨‹åºï¼Œæ‰«æåˆ†åŒºè¡¨</p></li><li class="lvl-2"><p>step3ï¼šä»æ´»åŠ¨åˆ†åŒºã€åˆç§°ä¸»åˆ†åŒºï¼Œå³å®‰è£…äº†æ“ä½œç³»ç»Ÿçš„åˆ†åŒºã€‘è¯»å…¥åˆ†åŒºå¼•å¯¼è®°å½•ï¼Œæ‰§è¡Œå…¶ä¸­çš„ç¨‹åº</p></li><li class="lvl-2"><p>step4ï¼šä»æ ¹ç›®å½•ä¸‹æ‰¾åˆ°å®Œæ•´çš„æ“ä½œç³»ç»Ÿåˆå§‹åŒ–ç¨‹åºã€å³å¯åŠ¨ç®¡ç†å™¨ã€‘å¹¶æ‰§è¡Œï¼Œå®Œæˆå¼€æœºçš„ä¸€ç³»åˆ—æ“ä½œ</p></li></ul><p>Cã€è®¡ç®—æœºåŠ ç”µå¯åŠ¨è¿‡ç¨‹ä¸­æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹</p><p>è‡ªæ£€ç¨‹åº----&gt;å¼•å¯¼è£…å…¥ç¨‹åº/è‡ªä¸¾è£…å…¥ç¨‹åº------&gt;å¼•å¯¼ç¨‹åº------&gt;æ“ä½œç³»ç»Ÿ</p><p>Dã€æ³¨æ„ç‚¹</p><table><thead><tr><th>å¼•å¯¼è£…å…¥ç¨‹åº/è‡ªä¸¾è£…å…¥ç¨‹åº</th><th>æ˜¯ä½äºROMä¸­çš„è‡ªä¸¾ç¨‹åºï¼ˆBIOSçš„ç»„æˆéƒ¨åˆ†ï¼‰</th><th>ç”¨äºå¯åŠ¨å…·ä½“çš„è®¾å¤‡</th></tr></thead><tbody><tr><td>å¼•å¯¼ç¨‹åº/å¯åŠ¨ç®¡ç†å™¨</td><td>æ˜¯ä½äºè£…æœ‰æ“ä½œç³»ç»Ÿç¡¬ç›˜çš„æ´»åŠ¨åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºçš„ç¨‹åº</td><td>ç”¨äºå¼•å¯¼æ“ä½œç³»ç»Ÿ</td></tr><tr><td>1ã€æ“ä½œç³»ç»Ÿè¢«è£…å…¥RAMä¸­</td><td>2ã€è‡ªä¸¾ç¨‹åºBIOSè£…åœ¨ROMä¸­</td><td>3ã€å¼•å¯¼ç¨‹åºè£…åœ¨ç¡¬ç›˜ä¸­</td></tr></tbody></table></blockquote><p>â€</p><h1>10. è™šæ‹Ÿæœº</h1><p>å®šä¹‰ï¼š ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå°†ä¸€å°ç‰©ç†æœºå™¨è™šåŒ–ä¸ºå¤šå°è™šæ‹Ÿæœºå™¨VMï¼Œæ¯ä¸ªè™šæ‹Ÿæœºå™¨éƒ½å¯ç”¨ç‹¬ç«‹è¿è¡Œä¸€ä¸ªæ“ä½œç³»ç»Ÿ</p><p>åˆ†ç±»ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231110161610-8mndk1a.png" alt="image">â€‹</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> è€ƒç ”408 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ“ä½œç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springæ•´åˆMybatis</title>
      <link href="/posts/3513a7dc.html"/>
      <url>/posts/3513a7dc.html</url>
      
        <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å¯¼å…¥åæ ‡ï¼ŒMyBatisåæ ‡ä¸èƒ½å°‘ï¼ŒSpringæ•´åˆMyBatisè¿˜æœ‰è‡ªå·±ä¸“ç”¨çš„åæ ‡ï¼Œæ­¤å¤–Springè¿›è¡Œæ•°æ®åº“æ“ä½œçš„jdbcåæ ‡æ˜¯å¿…é¡»çš„ï¼Œå‰©ä¸‹è¿˜æœ‰mysqlé©±åŠ¨åæ ‡ï¼Œæœ¬ä¾‹ä¸­ä½¿ç”¨äº†Druidæ•°æ®æºï¼Œè¿™ä¸ªå€’æ˜¯å¯ä»¥ä¸è¦</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1.å¯¼å…¥mybatisä¸springæ•´åˆçš„jaråŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¯¼å…¥springæ“ä½œæ•°æ®åº“å¿…é€‰çš„åŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>Springæ ¸å¿ƒé…ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;jdbc.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>MyBatisè¦äº¤ç»™Springæ¥ç®¡çš„bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰mybatisä¸“ç”¨çš„é…ç½®ç±»</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisConfig</span> &#123;</span><br><span class="line"><span class="comment">//    å®šä¹‰åˆ›å»ºSqlSessionFactoryå¯¹åº”çš„bean</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="comment">//SqlSessionFactoryBeanæ˜¯ç”±mybatis-springåŒ…æä¾›çš„ï¼Œä¸“ç”¨äºæ•´åˆç”¨çš„å¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">sfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®æ•°æ®æºæ›¿ä»£åŸå§‹é…ç½®ä¸­çš„environmentsçš„é…ç½®</span></span><br><span class="line">        sfb.setDataSource(dataSource);</span><br><span class="line">        <span class="comment">//è®¾ç½®ç±»å‹åˆ«åæ›¿ä»£åŸå§‹é…ç½®ä¸­çš„typeAliasesçš„é…ç½®</span></span><br><span class="line">        sfb.setTypeAliasesPackage(<span class="string">&quot;com.itheima.domain&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> sfb;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    å®šä¹‰åŠ è½½æ‰€æœ‰çš„æ˜ å°„é…ç½®</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MapperScannerConfigurer</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">        msc.setBasePackage(<span class="string">&quot;com.itheima.dao&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> msc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>æ•°æ®æºå¯¹åº”çš„beanï¼Œæ­¤å¤„ä½¿ç”¨Druidæ•°æ®æº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;dataSource&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ˆpropertiesæ ¼å¼ï¼‰</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3306/spring_db?useSSL=false</span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=root</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springæ•´åˆç³»åˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSMæ•´åˆ</title>
      <link href="/posts/254393f0.html"/>
      <url>/posts/254393f0.html</url>
      
        <content type="html"><![CDATA[<h1>1. æµç¨‹åˆ†æ</h1><p>(1) åˆ›å»ºå·¥ç¨‹</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ›å»ºä¸€ä¸ª Maven çš„ web å·¥ç¨‹</p></li><li class="lvl-2"><p>pom.xml æ·»åŠ  SSM éœ€è¦çš„ä¾èµ– jar åŒ…</p></li><li class="lvl-2"><p>ç¼–å†™ Web é¡¹ç›®çš„å…¥å£é…ç½®ç±»ï¼Œå®ç°<code>AbstractAnnotationConfigDispatcherServletInitializer</code>â€‹ é‡å†™ä»¥ä¸‹æ–¹æ³•</p><ul class="lvl-2"><li class="lvl-4">getRootConfigClasses() ï¼šè¿”å› Spring çš„é…ç½®ç±»-&gt;éœ€è¦<mark>SpringConfig</mark>é…ç½®ç±»</li><li class="lvl-4">getServletConfigClasses() ï¼šè¿”å› SpringMVC çš„é…ç½®ç±»-&gt;éœ€è¦<mark>SpringMvcConfig</mark>é…ç½®ç±»</li><li class="lvl-4">getServletMappings() : è®¾ç½® SpringMVC è¯·æ±‚æ‹¦æˆªè·¯å¾„è§„åˆ™</li><li class="lvl-4">getServletFilters() ï¼šè®¾ç½®è¿‡æ»¤å™¨ï¼Œè§£å†³ POST è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜</li></ul></li></ul><p>(2)SSM æ•´åˆ[<mark>é‡ç‚¹æ˜¯å„ä¸ªé…ç½®çš„ç¼–å†™</mark>]</p><ul class="lvl-0"><li class="lvl-2"><p>SpringConfig</p><ul class="lvl-2"><li class="lvl-4"><p>æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±» @Configuration</p></li><li class="lvl-4"><p>æ‰«æ Service æ‰€åœ¨çš„åŒ… @ComponentScan</p></li><li class="lvl-4"><p>åœ¨ Service å±‚è¦ç®¡ç†äº‹åŠ¡ @EnableTransactionManagement</p></li><li class="lvl-4"><p>è¯»å–å¤–éƒ¨çš„ properties é…ç½®æ–‡ä»¶ @PropertySource</p></li><li class="lvl-4"><p>æ•´åˆ Mybatis éœ€è¦å¼•å…¥ Mybatis ç›¸å…³é…ç½®ç±» @Import</p><ul class="lvl-4"><li class="lvl-6"><p>ç¬¬ä¸‰æ–¹æ•°æ®æºé…ç½®ç±» JdbcConfig</p><ul class="lvl-6"><li class="lvl-8">æ„å»º DataSource æ•°æ®æºï¼ŒDruidDataSouroce,éœ€è¦æ³¨å…¥æ•°æ®åº“è¿æ¥å››è¦ç´ ï¼Œ @Bean @Value</li><li class="lvl-8">æ„å»ºå¹³å°äº‹åŠ¡ç®¡ç†å™¨ï¼ŒDataSourceTransactionManager,@Bean</li></ul></li><li class="lvl-6"><p>Mybatis é…ç½®ç±» MybatisConfig</p><ul class="lvl-6"><li class="lvl-8">æ„å»º SqlSessionFactoryBean å¹¶è®¾ç½®åˆ«åæ‰«æä¸æ•°æ®æºï¼Œ@Bean</li><li class="lvl-8">æ„å»º MapperScannerConfigurer å¹¶è®¾ç½® DAO å±‚çš„åŒ…æ‰«æ</li></ul></li></ul></li></ul></li><li class="lvl-2"><p>SpringMvcConfig</p><ul class="lvl-2"><li class="lvl-4">æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±» @Configuration</li><li class="lvl-4">æ‰«æ Controller æ‰€åœ¨çš„åŒ… @ComponentScan</li><li class="lvl-4">å¼€å¯ SpringMVC æ³¨è§£æ”¯æŒ @EnableWebMvc</li></ul></li></ul><p>(3)åŠŸèƒ½æ¨¡å—[ä¸å…·ä½“çš„ä¸šåŠ¡æ¨¡å—æœ‰å…³]</p><ul class="lvl-0"><li class="lvl-2"><p>åˆ›å»ºæ•°æ®åº“è¡¨</p></li><li class="lvl-2"><p>æ ¹æ®æ•°æ®åº“è¡¨åˆ›å»ºå¯¹åº”çš„æ¨¡å‹ç±»</p></li><li class="lvl-2"><p>é€šè¿‡ Dao å±‚å®Œæˆæ•°æ®åº“è¡¨çš„å¢åˆ æ”¹æŸ¥(æ¥å£+è‡ªåŠ¨ä»£ç†)</p></li><li class="lvl-2"><p>ç¼–å†™ Service å±‚[Service æ¥å£+å®ç°ç±»]</p><ul class="lvl-2"><li class="lvl-4"><p>@Service</p></li><li class="lvl-4"><p>@Transactional</p></li><li class="lvl-4"><p>æ•´åˆ Junit å¯¹ä¸šåŠ¡å±‚è¿›è¡Œå•å…ƒæµ‹è¯•</p><ul class="lvl-4"><li class="lvl-6">@RunWith</li><li class="lvl-6">@ContextConfiguration</li><li class="lvl-6">@Test</li></ul></li></ul></li><li class="lvl-2"><p>ç¼–å†™ Controller å±‚</p><ul class="lvl-2"><li class="lvl-4"><p>æ¥æ”¶è¯·æ±‚ @RequestMapping @GetMapping @PostMapping @PutMapping @DeleteMapping</p></li><li class="lvl-4"><p>æ¥æ”¶æ•°æ® ç®€å•ã€POJOã€åµŒå¥— POJOã€é›†åˆã€æ•°ç»„ã€JSON æ•°æ®ç±»å‹</p><ul class="lvl-4"><li class="lvl-6">@RequestParam</li><li class="lvl-6">@PathVariable</li><li class="lvl-6">@RequestBody</li></ul></li><li class="lvl-4"><p>è½¬å‘ä¸šåŠ¡å±‚</p><ul class="lvl-4"><li class="lvl-6">@Autowired</li></ul></li><li class="lvl-4"><p>å“åº”ç»“æœ</p><ul class="lvl-4"><li class="lvl-6">@ResponseBody</li></ul></li></ul></li></ul><h1>2. æ•´åˆé…ç½®</h1><h2 id="æ­¥éª¤-1ï¼šåˆ›å»º-Maven-çš„-web-é¡¹ç›®">æ­¥éª¤ 1ï¼šåˆ›å»º Maven çš„ web é¡¹ç›®</h2><h2 id="æ­¥éª¤-2-æ·»åŠ ä¾èµ–">æ­¥éª¤ 2:æ·»åŠ ä¾èµ–</h2><p>pom.xml æ·»åŠ  SSM æ‰€éœ€è¦çš„ä¾èµ– jar åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springmvc_08_ssm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">port</span>&gt;</span>80<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-3-åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„">æ­¥éª¤ 3:åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155804511-276282620-20231127213207-7vaj8dn.png" alt="image">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>config ç›®å½•å­˜æ”¾çš„æ˜¯ç›¸å…³çš„é…ç½®ç±»</p></li><li class="lvl-2"><p>controller ç¼–å†™çš„æ˜¯ Controller ç±»</p></li><li class="lvl-2"><p>dao å­˜æ”¾çš„æ˜¯ Dao æ¥å£ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯ Mapper æ¥å£ä»£ç†æ–¹å¼ï¼Œæ‰€ä»¥æ²¡æœ‰å®ç°ç±»åŒ…</p></li><li class="lvl-2"><p>service å­˜çš„æ˜¯ Service æ¥å£ï¼Œimpl å­˜æ”¾çš„æ˜¯ Service å®ç°ç±»</p></li><li class="lvl-2"><p>resources:å­˜å…¥çš„æ˜¯é…ç½®æ–‡ä»¶ï¼Œå¦‚ Jdbc.properties</p></li><li class="lvl-2"><p>webapp:ç›®å½•å¯ä»¥å­˜æ”¾é™æ€èµ„æº</p></li><li class="lvl-2"><p>test/java:å­˜æ”¾çš„æ˜¯æµ‹è¯•ç±»</p></li></ul><h2 id="æ­¥éª¤-4-åˆ›å»º-SpringConfig-é…ç½®ç±»">æ­¥éª¤ 4:åˆ›å»º SpringConfig é…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.north.service&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-åˆ›å»º-JdbcConfig-é…ç½®ç±»">æ­¥éª¤ 5:åˆ›å»º JdbcConfig é…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(driver);</span><br><span class="line">        dataSource.setUrl(url);</span><br><span class="line">        dataSource.setUsername(username);</span><br><span class="line">        dataSource.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PlatformTransactionManager <span class="title function_">transactionManager</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">DataSourceTransactionManager</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>();</span><br><span class="line">        ds.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-6-åˆ›å»º-MybatisConfig-é…ç½®ç±»">æ­¥éª¤ 6:åˆ›å»º MybatisConfig é…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">factoryBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        factoryBean.setDataSource(dataSource);</span><br><span class="line">        factoryBean.setTypeAliasesPackage(<span class="string">&quot;com.north.domain&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> factoryBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MapperScannerConfigurer</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">        msc.setBasePackage(<span class="string">&quot;com.north.dao&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> msc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-7-åˆ›å»º-jdbc-properties">æ­¥éª¤ 7:åˆ›å»º jdbc.properties</h2><p>åœ¨ resources ä¸‹æä¾› jdbc.properties,è®¾ç½®æ•°æ®åº“è¿æ¥å››è¦ç´ </p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssm_db</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-8-åˆ›å»º-SpringMVC-é…ç½®ç±»">æ­¥éª¤ 8:åˆ›å»º SpringMVC é…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.north.controller&quot;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-9-åˆ›å»º-Web-é¡¹ç›®å…¥å£é…ç½®ç±»">æ­¥éª¤ 9:åˆ›å»º Web é¡¹ç›®å…¥å£é…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractAnnotationConfigDispatcherServletInitializer</span> &#123;</span><br><span class="line">    <span class="comment">//åŠ è½½Springé…ç½®ç±»</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ è½½SpringMVCé…ç½®ç±»</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringMvcConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¾ç½®SpringMVCè¯·æ±‚åœ°å€æ‹¦æˆªè§„åˆ™</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¾ç½®postè¯·æ±‚ä¸­æ–‡ä¹±ç è¿‡æ»¤å™¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Filter[] getServletFilters() &#123;</span><br><span class="line">        <span class="type">CharacterEncodingFilter</span> <span class="variable">filter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CharacterEncodingFilter</span>();</span><br><span class="line">        filter.setEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Filter</span>[]&#123;filter&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è‡³æ­¤ SSM æ•´åˆçš„ç¯å¢ƒå°±å·²ç»æ­å»ºå¥½äº†ã€‚åœ¨è¿™ä¸ªç¯å¢ƒä¸Šï¼Œæˆ‘ä»¬å¦‚ä½•è¿›è¡ŒåŠŸèƒ½æ¨¡å—çš„å¼€å‘å‘¢?</p><h1>3. åŠŸèƒ½æ¨¡å—å¼€å‘</h1><blockquote><p>éœ€æ±‚:å¯¹è¡¨ tbl_book è¿›è¡Œæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ã€æ ¹æ® ID æŸ¥è¯¢å’ŒæŸ¥è¯¢æ‰€æœ‰</p></blockquote><h2 id="æ­¥éª¤-1-åˆ›å»ºæ•°æ®åº“åŠè¡¨">æ­¥éª¤ 1:åˆ›å»ºæ•°æ®åº“åŠè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database ssm_db <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line">use ssm_db;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tbl_book(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  type <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">  description <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> `tbl_book`(`id`,`type`,`name`,`description`) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;Springå®æˆ˜ ç¬¬äº”ç‰ˆ&#x27;</span>,<span class="string">&#x27;Springå…¥é—¨ç»å…¸æ•™ç¨‹ï¼Œæ·±å…¥ç†è§£SpringåŸç†æŠ€æœ¯å†…å¹•&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;Spring 5æ ¸å¿ƒåŸç†ä¸30ä¸ªç±»æ‰‹å†™å®è·µ&#x27;</span>,<span class="string">&#x27;åå¹´æ²‰æ·€ä¹‹ä½œï¼Œæ‰‹å†™Springç²¾åæ€æƒ³&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;Spring 5è®¾è®¡æ¨¡å¼&#x27;</span>,<span class="string">&#x27;æ·±å…¥Springæºç åˆ¨æSpringæºç ä¸­è•´å«çš„10å¤§è®¾è®¡æ¨¡å¼&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;Spring MVC+Mybatiså¼€å‘ä»å…¥é—¨åˆ°é¡¹ç›®å®æˆ˜&#x27;</span>,<span class="string">&#x27;å…¨æ–¹ä½è§£æé¢å‘Webåº”ç”¨çš„è½»é‡çº§æ¡†æ¶ï¼Œå¸¦ä½ æˆä¸ºSpring MVCå¼€å‘é«˜æ‰‹&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;è½»é‡çº§Java Webä¼ä¸šåº”ç”¨å®æˆ˜&#x27;</span>,<span class="string">&#x27;æºç çº§åˆ¨æSpringæ¡†æ¶ï¼Œé€‚åˆå·²æŒæ¡JavaåŸºç¡€çš„è¯»è€…&#x27;</span>),(<span class="number">6</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;Javaæ ¸å¿ƒæŠ€æœ¯ å·â…  åŸºç¡€çŸ¥è¯†(åŸä¹¦ç¬¬11ç‰ˆ)&#x27;</span>,<span class="string">&#x27;Core Javaç¬¬11ç‰ˆï¼ŒJoltå¤§å¥–è·å¥–ä½œå“ï¼Œé’ˆå¯¹Java SE9ã€10ã€11å…¨é¢æ›´æ–°&#x27;</span>),(<span class="number">7</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº&#x27;</span>,<span class="string">&#x27;5ä¸ªçº¬åº¦å…¨é¢åˆ¨æJVM,å¤§å‚é¢è¯•çŸ¥è¯†ç‚¹å…¨è¦†ç›–&#x27;</span>),(<span class="number">8</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;Javaç¼–ç¨‹æ€æƒ³(ç¬¬4ç‰ˆ)&#x27;</span>,<span class="string">&#x27;Javaå­¦ä¹ å¿…è¯»ç»å…¸ï¼Œæ®¿å ‚çº§è‘—ä½œï¼èµ¢å¾—äº†å…¨çƒç¨‹åºå‘˜çš„å¹¿æ³›èµèª‰&#x27;</span>),(<span class="number">9</span>,<span class="string">&#x27;è®¡ç®—æœºç†è®º&#x27;</span>,<span class="string">&#x27;é›¶åŸºç¡€å­¦Java(å…¨å½©ç‰ˆ)&#x27;</span>,<span class="string">&#x27;é›¶åŸºç¡€è‡ªå­¦ç¼–ç¨‹çš„å…¥é—¨å›¾ä¹¦ï¼Œç”±æµ…å…¥æ·±ï¼Œè¯¦è§£Javaè¯­è¨€çš„ç¼–ç¨‹æ€æƒ³å’Œæ ¸å¿ƒæŠ€æœ¯&#x27;</span>),(<span class="number">10</span>,<span class="string">&#x27;å¸‚åœºè¥é”€&#x27;</span>,<span class="string">&#x27;ç›´æ’­å°±è¿™ä¹ˆåš:ä¸»æ’­é«˜æ•ˆæ²Ÿé€šå®æˆ˜æŒ‡å—&#x27;</span>,<span class="string">&#x27;æå­æŸ’ã€æä½³å¥‡ã€è–‡å¨…æˆé•¿ä¸ºç½‘çº¢çš„ç§˜å¯†éƒ½åœ¨ä¹¦ä¸­&#x27;</span>),(<span class="number">11</span>,<span class="string">&#x27;å¸‚åœºè¥é”€&#x27;</span>,<span class="string">&#x27;ç›´æ’­é”€è®²å®æˆ˜ä¸€æœ¬é€š&#x27;</span>,<span class="string">&#x27;å’Œç§‹å¶ä¸€èµ·å­¦ç³»åˆ—ç½‘ç»œè¥é”€ä¹¦ç±&#x27;</span>),(<span class="number">12</span>,<span class="string">&#x27;å¸‚åœºè¥é”€&#x27;</span>,<span class="string">&#x27;ç›´æ’­å¸¦è´§:æ·˜å®ã€å¤©çŒ«ç›´æ’­ä»æ–°æ‰‹åˆ°é«˜æ‰‹&#x27;</span>,<span class="string">&#x27;ä¸€æœ¬æ•™ä½ å¦‚ä½•ç©è½¬ç›´æ’­çš„ä¹¦ï¼Œ10å ‚è¯¾è½»æ¾å®ç°å¸¦è´§æœˆå…¥3W+&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-2-ç¼–å†™æ¨¡å‹ç±»">æ­¥éª¤ 2:ç¼–å†™æ¨¡å‹ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(Integer id, String type, String name, String description)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Book&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, type=&#x27;&quot;</span> + type + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, description=&#x27;&quot;</span> + description + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getType</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setType</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDescription</span><span class="params">(String description)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-3-ç¼–å†™-Dao-æ¥å£">æ­¥éª¤ 3:ç¼–å†™ Dao æ¥å£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Insert(&quot;insert into tbl_book values(null,#&#123;type&#125;,#&#123;name&#125;,#&#123;description&#125;)&quot;)</span></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into tbl_book (type,name,description) values(#&#123;type&#125;,#&#123;name&#125;,#&#123;description&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update(&quot;update tbl_book set type = #&#123;type&#125;, name = #&#123;name&#125;, description = #&#123;description&#125; where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete(&quot;delete from tbl_book where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from tbl_book where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from tbl_book&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-4-ç¼–å†™-Service-æ¥å£å’Œå®ç°ç±»">æ­¥éª¤ 4:ç¼–å†™ Service æ¥å£å’Œå®ç°ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿å­˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> book</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">save</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> book</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">update</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŒ‰idåˆ é™¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŒ‰idæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å…¨éƒ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">save</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        bookDao.save(book);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">update</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        bookDao.update(book);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        bookDao.delete(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.getById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.getAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜:</strong></p><ul class="lvl-0"><li class="lvl-2"><p>bookDao åœ¨ Service ä¸­æ³¨å…¥çš„ä¼šæç¤ºä¸€ä¸ªçº¢çº¿æç¤ºï¼Œä¸ºä»€ä¹ˆå‘¢?</p><ul class="lvl-2"><li class="lvl-4">BookDao æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ²¡æœ‰å®ç°ç±»ï¼Œæ¥å£æ˜¯ä¸èƒ½åˆ›å»ºå¯¹è±¡çš„ï¼Œæ‰€ä»¥æœ€ç»ˆæ³¨å…¥çš„åº”è¯¥æ˜¯ä»£ç†å¯¹è±¡</li><li class="lvl-4">ä»£ç†å¯¹è±¡æ˜¯ç”± Spring çš„ IOC å®¹å™¨æ¥åˆ›å»ºç®¡ç†çš„</li><li class="lvl-4">IOC å®¹å™¨åˆæ˜¯åœ¨ Web æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ‰ä¼šåˆ›å»º</li><li class="lvl-4">IDEA åœ¨æ£€æµ‹ä¾èµ–å…³ç³»çš„æ—¶å€™ï¼Œæ²¡æœ‰æ‰¾åˆ°é€‚åˆçš„ç±»æ³¨å…¥ï¼Œæ‰€ä»¥ä¼šæç¤ºé”™è¯¯æç¤º</li><li class="lvl-4">ä½†æ˜¯ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œä»£ç†å¯¹è±¡å°±ä¼šè¢«åˆ›å»ºï¼Œæ¡†æ¶ä¼šä½¿ç”¨ DI è¿›è¡Œæ³¨å…¥ï¼Œæ‰€ä»¥ç¨‹åºè¿è¡Œæ— å½±å“ã€‚</li></ul></li><li class="lvl-2"><p>å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜?</p><ul class="lvl-2"><li class="lvl-4">å¯ä»¥ä¸ç”¨ç†ä¼šï¼Œå› ä¸ºè¿è¡Œæ˜¯æ­£å¸¸çš„</li><li class="lvl-4">è®¾ç½®é”™è¯¯æç¤ºçº§åˆ«</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155805451-363376482-20231127213207-h554bqn.png" alt="image">â€‹</p><h2 id="æ­¥éª¤-5-ç¼–å†™-Contorller-ç±»">æ­¥éª¤ 5:ç¼–å†™ Contorller ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/books&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.save(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.update(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">delete</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.getById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.getAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºå›¾ä¹¦æ¨¡å—çš„å¢åˆ æ”¹æŸ¥å°±å·²ç»å®Œæˆäº†ç¼–å†™ï¼Œæˆ‘ä»¬å¯ä»¥ä»åå¾€å‰å†™ä¹Ÿå¯ä»¥ä»å‰å¾€åå†™ï¼Œæœ€ç»ˆåªéœ€è¦èƒ½æŠŠåŠŸèƒ½å®ç°å³å¯ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å…ˆæŠŠä¸šåŠ¡å±‚çš„ä»£ç ä½¿ç”¨<code>Springæ•´åˆJunit</code>â€‹ çš„çŸ¥è¯†ç‚¹è¿›è¡Œå•å…ƒæµ‹è¯•:</p><h1>4. å•å…ƒæµ‹è¯•</h1><h2 id="æ­¥éª¤-1-æ–°å»ºæµ‹è¯•ç±»">æ­¥éª¤ 1:æ–°å»ºæµ‹è¯•ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = SpringConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceTest</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-2-æ³¨å…¥-Service-ç±»">æ­¥éª¤ 2:æ³¨å…¥ Service ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = SpringConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-3-ç¼–å†™æµ‹è¯•æ–¹æ³•">æ­¥éª¤ 3:ç¼–å†™æµ‹è¯•æ–¹æ³•</h2><p>æˆ‘ä»¬å…ˆæ¥å¯¹æŸ¥è¯¢è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = SpringConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetById</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Book</span> <span class="variable">book</span> <span class="operator">=</span> bookService.getById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetAll</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Book&gt; all = bookService.getAll();</span><br><span class="line">        System.out.println(all);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ® ID æŸ¥è¯¢ï¼Œæµ‹è¯•çš„ç»“æœä¸º:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155806170-2079328457-20231127213207-c9eoif1.png" alt="image">â€‹</p><p>æŸ¥è¯¢æ‰€æœ‰ï¼Œæµ‹è¯•çš„ç»“æœä¸º:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155806690-518214461-20231127213207-jcj96kf.png" alt="image">â€‹</p><h1>5. PostMan æµ‹è¯•</h1><h2 id="5-1-æ–°å¢">5.1 æ–°å¢</h2><p><code>http://localhost/books</code>â€‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç±»åˆ«æµ‹è¯•æ•°æ®&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¹¦åæµ‹è¯•æ•°æ®&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æè¿°æµ‹è¯•æ•°æ®&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155807156-2088162009-20231127213207-vjauyuf.png" alt="image">â€‹</p><h2 id="5-2-ä¿®æ”¹">5.2 ä¿®æ”¹</h2><p><code>http://localhost/books</code>â€‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç±»åˆ«æµ‹è¯•æ•°æ®&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¹¦åæµ‹è¯•æ•°æ®&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æè¿°æµ‹è¯•æ•°æ®&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155807590-1173018371-20231127213208-ooimbje.png" alt="image">â€‹</p><h2 id="5-3-åˆ é™¤">5.3 åˆ é™¤</h2><p><code>http://localhost/books/13</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155808014-640341094-20231127213208-c1hqh4x.png" alt="image">â€‹</p><h2 id="5-4-æŸ¥è¯¢å•ä¸ª">5.4 æŸ¥è¯¢å•ä¸ª</h2><p><code>http://localhost/books/1</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155808455-1348561215-20231127213208-vtzoewe.png" alt="image">â€‹</p><h2 id="5-5-æŸ¥è¯¢æ‰€æœ‰">5.5 æŸ¥è¯¢æ‰€æœ‰</h2><p><code>http://localhost/books</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230702155808923-1038874493-20231127213208-zejdul0.png" alt="image">â€‹</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springæ•´åˆç³»åˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4-çº¦æŸ</title>
      <link href="/posts/fac97174.html"/>
      <url>/posts/fac97174.html</url>
      
        <content type="html"><![CDATA[<h1>1.æ¦‚è¿°</h1><p><strong>æ¦‚å¿µï¼šçº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­å­—æ®µä¸Šçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶å­˜å‚¨åœ¨è¡¨ä¸­çš„æ•°æ®ã€‚</strong></p><p><strong>ç›®çš„ï¼šä¿è¯æ•°æ®åº“ä¸­æ•°æ®çš„æ­£ç¡®ã€æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ã€‚</strong></p><p>åˆ†ç±»:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102743391-1115602335-20231127200320-8z15694.png" alt="image-20230501090726321">â€‹</p><blockquote><p><strong>æ³¨æ„ï¼šçº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­å­—æ®µä¸Šçš„ï¼Œå¯ä»¥åœ¨åˆ›å»ºè¡¨/ä¿®æ”¹è¡¨çš„æ—¶å€™æ·»åŠ çº¦æŸã€‚</strong></p></blockquote><h1>2. çº¦æŸæ¼”ç¤º</h1><p>æ¡ˆä¾‹éœ€æ±‚ï¼š æ ¹æ®éœ€æ±‚ï¼Œå®Œæˆè¡¨ç»“æ„çš„åˆ›å»ºã€‚éœ€æ±‚å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102743900-1950792058-20231127200320-ze6zhnl.png" alt="image-20230501090835632">â€‹</p><p>å¯¹åº”çš„å»ºè¡¨è¯­å¥ä¸ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user(</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> id <span class="type">int</span> AUTO_INCREMENT <span class="keyword">PRIMARY</span> KEY COMMENT <span class="string">&#x27;IDå”¯ä¸€æ ‡è¯†&#x27;</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span> ,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> age <span class="type">int</span> <span class="keyword">check</span> (age <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> age <span class="operator">&lt;=</span> <span class="number">120</span>) COMMENT <span class="string">&#x27;å¹´é¾„&#x27;</span> ,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> status <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;1&#x27;</span> COMMENT <span class="string">&#x27;çŠ¶æ€&#x27;</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> gender <span class="type">char</span>(<span class="number">1</span>) COMMENT <span class="string">&#x27;æ€§åˆ«&#x27;</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected, <span class="number">1</span> warning (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure><p>å±•ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> tb_user;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> status <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">1</span>       <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>åœ¨ä¸ºå­—æ®µæ·»åŠ çº¦æŸæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å­—æ®µä¹‹ååŠ ä¸Šçº¦æŸçš„å…³é”®å­—å³å¯ï¼Œéœ€è¦å…³æ³¨å…¶è¯­æ³•ã€‚æˆ‘ä»¬æ‰§è¡Œä¸Šé¢ çš„ SQL æŠŠè¡¨ç»“æ„åˆ›å»ºå®Œæˆï¼Œç„¶åæ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥é€šè¿‡ä¸€ç»„æ•°æ®è¿›è¡Œæµ‹è¯•ï¼Œä»è€ŒéªŒè¯ä¸€ä¸‹ï¼Œçº¦æŸæ˜¯å¦å¯ä»¥ ç”Ÿæ•ˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom1&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;Tom2&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom3&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="keyword">null</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom3&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom4&#x27;</span>,<span class="number">80</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom5&#x27;</span>,<span class="number">-1</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom5&#x27;</span>,<span class="number">121</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom5&#x27;</span>,<span class="number">120</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ç¼–å†™ SQL è¯­å¥çš„å½¢å¼æ¥å®Œæˆçº¦æŸçš„æŒ‡å®šï¼Œé‚£åŠ å…¥æˆ‘ä»¬æ˜¯é€šè¿‡å›¾å½¢åŒ–ç•Œé¢æ¥åˆ›å»ºè¡¨ç»“æ„ æ—¶ï¼Œåˆè¯¥å¦‚ä½•æ¥æŒ‡å®šçº¦æŸå‘¢ï¼Ÿ åªéœ€è¦åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œæ ¹æ®æˆ‘ä»¬çš„éœ€è¦é€‰æ‹©å¯¹åº”çš„çº¦æŸå³å¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102744395-1718861358-20231127200321-2zvbays.png" alt="image-20230501095657271">â€‹</p><h1>3.å¤–é”®çº¦æŸ</h1><h2 id="3-1-ä»‹ç»">3.1 ä»‹ç»</h2><blockquote><p><strong>å¤–é”®ï¼šç”¨æ¥è®©ä¸¤å¼ è¡¨çš„æ•°æ®ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œä»è€Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚</strong></p></blockquote><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102744917-1379729215-20231127200321-15i26hf.png" alt="image-20230501095802662">â€‹</p><p>å·¦ä¾§çš„ emp è¡¨æ˜¯å‘˜å·¥è¡¨ï¼Œé‡Œé¢å­˜å‚¨å‘˜å·¥çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…å«å‘˜å·¥çš„ IDã€å§“åã€å¹´é¾„ã€èŒä½ã€è–ªèµ„ã€å…¥èŒæ—¥ æœŸã€ä¸Šçº§ä¸»ç®¡ IDã€éƒ¨é—¨ IDï¼Œåœ¨å‘˜å·¥çš„ä¿¡æ¯ä¸­å­˜å‚¨çš„æ˜¯éƒ¨é—¨çš„ ID dept_idï¼Œè€Œè¿™ä¸ªéƒ¨é—¨çš„ ID æ˜¯å…³è”çš„ éƒ¨é—¨è¡¨ dept çš„ä¸»é”® idï¼Œé‚£ emp è¡¨çš„ dept_id å°±æ˜¯å¤–é”®,å…³è”çš„æ˜¯å¦ä¸€å¼ è¡¨çš„ä¸»é”®ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼šç›®å‰ä¸Šè¿°ä¸¤å¼ è¡¨ï¼Œåªæ˜¯åœ¨é€»è¾‘ä¸Šå­˜åœ¨è¿™æ ·ä¸€å±‚å…³ç³»ï¼›åœ¨æ•°æ®åº“å±‚é¢ï¼Œå¹¶æœªå»ºç«‹å¤–é”®å…³è”ï¼Œ æ‰€ä»¥æ˜¯æ— æ³•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§çš„ã€‚</strong></p></blockquote><p>æ²¡æœ‰æ•°æ®åº“å¤–é”®å…³è”çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿä¿è¯ä¸€è‡´æ€§å’Œå®Œæ•´æ€§å‘¢ï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><p>å‡†å¤‡æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">id <span class="type">int</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;éƒ¨é—¨åç§°&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;éƒ¨é—¨è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> dept (id, name) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;ç ”å‘éƒ¨&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;å¸‚åœºéƒ¨&#x27;</span>),(<span class="number">3</span>, <span class="string">&#x27;è´¢åŠ¡éƒ¨&#x27;</span>), (<span class="number">4</span>,<span class="string">&#x27;é”€å”®éƒ¨&#x27;</span>), (<span class="number">5</span>, <span class="string">&#x27;æ€»ç»åŠ&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">age <span class="type">int</span> comment <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">job <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;èŒä½&#x27;</span>,</span><br><span class="line">salary <span class="type">int</span> comment <span class="string">&#x27;è–ªèµ„&#x27;</span>,</span><br><span class="line">entrydate <span class="type">date</span> comment <span class="string">&#x27;å…¥èŒæ—¶é—´&#x27;</span>,</span><br><span class="line">managerid <span class="type">int</span> comment <span class="string">&#x27;ç›´å±é¢†å¯¼ID&#x27;</span>,</span><br><span class="line">dept_id <span class="type">int</span> comment <span class="string">&#x27;éƒ¨é—¨ID&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;å‘˜å·¥è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, name, age, job,salary, entrydate, managerid, dept_id)<span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;é‡‘åº¸&#x27;</span>, <span class="number">66</span>, <span class="string">&#x27;æ€»è£&#x27;</span>,<span class="number">20000</span>, <span class="string">&#x27;2000-01-01&#x27;</span>, <span class="keyword">null</span>,<span class="number">5</span>),(<span class="number">2</span>, <span class="string">&#x27;å¼ æ— å¿Œ&#x27;</span>, <span class="number">20</span>,<span class="string">&#x27;é¡¹ç›®ç»ç†&#x27;</span>,<span class="number">12500</span>, <span class="string">&#x27;2005-12-05&#x27;</span>, <span class="number">1</span>,<span class="number">1</span>),(<span class="number">3</span>, <span class="string">&#x27;æ¨é€&#x27;</span>, <span class="number">33</span>, <span class="string">&#x27;å¼€å‘&#x27;</span>, <span class="number">8400</span>,<span class="string">&#x27;2000-11-03&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),(<span class="number">4</span>, <span class="string">&#x27;éŸ¦ä¸€ç¬‘&#x27;</span>, <span class="number">48</span>, <span class="string">&#x27;å¼€å‘&#x27;</span>,<span class="number">11000</span>, <span class="string">&#x27;2002-02-05&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),(<span class="number">5</span>, <span class="string">&#x27;å¸¸é‡æ˜¥&#x27;</span>,<span class="number">43</span>, <span class="string">&#x27;å¼€å‘&#x27;</span>,<span class="number">10500</span>, <span class="string">&#x27;2004-09-07&#x27;</span>, <span class="number">3</span>,<span class="number">1</span>),(<span class="number">6</span>, <span class="string">&#x27;å°æ˜­&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;ç¨‹åºå‘˜é¼“åŠ±å¸ˆ&#x27;</span>,<span class="number">6600</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102745370-843964216-20231127200321-m64hkrr.png" alt="image-20230501100356071">â€‹</p><p>ç»“æœï¼Œæˆ‘ä»¬çœ‹åˆ°åˆ é™¤æˆåŠŸï¼Œè€Œåˆ é™¤æˆåŠŸä¹‹åï¼Œéƒ¨é—¨è¡¨ä¸å­˜åœ¨ id ä¸º 1 çš„éƒ¨é—¨ï¼Œè€Œåœ¨ emp è¡¨ä¸­è¿˜æœ‰å¾ˆå¤šçš„å‘˜ å·¥ï¼Œå…³è”çš„ä¸º id ä¸º 1 çš„éƒ¨é—¨ï¼Œæ­¤æ—¶å°±å‡ºç°äº†æ•°æ®çš„ä¸å®Œæ•´æ€§ã€‚ è€Œè¦æƒ³è§£å†³è¿™ä¸ªé—®é¢˜å°±å¾—é€šè¿‡æ•°æ®åº“çš„ å¤–é”®çº¦æŸã€‚</p><h2 id="3-2-è¯­æ³•">3.2 è¯­æ³•</h2><blockquote><p><strong>1. æ·»åŠ å¤–é”®</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> è¡¨å(</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹,</span><br><span class="line">...</span><br><span class="line">[<span class="keyword">CONSTRAINT</span>] [å¤–é”®åç§°] <span class="keyword">FOREIGN</span> KEY (å¤–é”®å­—æ®µå) <span class="keyword">REFERENCES</span> ä¸»è¡¨ (ä¸»è¡¨åˆ—å)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> å¤–é”®åç§° <span class="keyword">FOREIGN</span> KEY (å¤–é”®å­—æ®µå)</span><br><span class="line"><span class="keyword">REFERENCES</span> ä¸»è¡¨ (ä¸»è¡¨åˆ—å) ;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>ä¸º emp è¡¨çš„ dept_id å­—æ®µæ·»åŠ å¤–é”®çº¦æŸ,å…³è” dept è¡¨çš„ä¸»é”® idã€‚</p><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dept_id <span class="keyword">foreign</span> key (dept_id) <span class="keyword">references</span> dept(id);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102745841-1929959897-20231127200321-0lh07zi.png" alt="image-20230501100928391">â€‹</p><p>æ·»åŠ äº†å¤–é”®çº¦æŸä¹‹åï¼Œæˆ‘ä»¬å†åˆ° dept è¡¨(çˆ¶è¡¨)åˆ é™¤ id ä¸º 1 çš„è®°å½•ï¼Œç„¶åçœ‹ä¸€ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ã€‚ æ­¤æ—¶ å°†ä¼šæŠ¥é”™ï¼Œä¸èƒ½åˆ é™¤æˆ–æ›´æ–°çˆ¶è¡¨è®°å½•ï¼Œå› ä¸ºå­˜åœ¨å¤–é”®çº¦æŸã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102746286-2060850583-20231127200321-wq5sr1f.png" alt="image-20230501101202653">â€‹</p><blockquote><p><strong>2. åˆ é™¤å¤–é”®</strong></p></blockquote><p>æ¡ˆä¾‹ï¼š</p><p>åˆ é™¤ emp è¡¨çš„å¤–é”® fk_emp_dept_idã€‚</p><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_emp_id;</span><br></pre></td></tr></table></figure><p>æ‰§è¡ŒæˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102746655-1099079948-20231127200321-i2lkuz2.png" alt="image-20230501101450485">â€‹</p><h2 id="3-3-åˆ é™¤-æ›´æ–°è¡Œä¸º">3.3 åˆ é™¤/æ›´æ–°è¡Œä¸º</h2><p><strong>æ·»åŠ äº†å¤–é”®ä¹‹åï¼Œå†åˆ é™¤çˆ¶è¡¨æ•°æ®æ—¶äº§ç”Ÿçš„çº¦æŸè¡Œä¸ºï¼Œæˆ‘ä»¬å°±ç§°ä¸ºåˆ é™¤/æ›´æ–°è¡Œä¸ºã€‚</strong></p><p>å…·ä½“çš„åˆ é™¤/æ›´æ–°è¡Œ ä¸ºæœ‰ä»¥ä¸‹å‡ ç§:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501102747148-1626119543-20231127200321-2m8iizm.png" alt="image-20230501101541309">â€‹</p><p>å…·ä½“è¯­æ³•ä¸º:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> å¤–é”®åç§° <span class="keyword">FOREIGN</span> KEY (å¤–é”®å­—æ®µ) <span class="keyword">REFERENCES</span></span><br><span class="line">ä¸»è¡¨å (ä¸»è¡¨å­—æ®µå) <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MysqlåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3-å‡½æ•°</title>
      <link href="/posts/65c29e.html"/>
      <url>/posts/65c29e.html</url>
      
        <content type="html"><![CDATA[<h1>1.æ¦‚è¿°</h1><blockquote><p><strong>å‡½æ•°ï¼š æ˜¯æŒ‡ä¸€æ®µå¯ä»¥ç›´æ¥è¢«å¦ä¸€æ®µç¨‹åºè°ƒç”¨çš„ç¨‹åºæˆ–ä»£ç ã€‚</strong></p></blockquote><p>ä½¿ç”¨åœºæ™¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090601622-1023274415-20231127133321-zsasasd.png" alt="image-20230430081024053">â€‹</p><ol><li class="lvl-3"><p>åœ¨ä¼ä¸šçš„ OA æˆ–å…¶ä»–çš„äººåŠ›ç³»ç»Ÿä¸­ï¼Œç»å¸¸ä¼šæä¾›çš„æœ‰è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œæ¯ä¸€ä¸ªå‘˜å·¥ç™»å½•ä¸Šæ¥ä¹‹åéƒ½èƒ½ å¤Ÿçœ‹åˆ°å½“å‰å‘˜å·¥å…¥èŒçš„å¤©æ•°ã€‚ è€Œåœ¨æ•°æ®åº“ä¸­ï¼Œå­˜å‚¨çš„éƒ½æ˜¯å…¥èŒæ—¥æœŸï¼Œå¦‚ 2000-11-12ï¼Œé‚£å¦‚æœå¿«é€Ÿè®¡ ç®—å‡ºå¤©æ•°å‘¢ï¼Ÿ</p></li><li class="lvl-3"><p>åœ¨åšæŠ¥è¡¨è¿™ç±»çš„ä¸šåŠ¡éœ€æ±‚ä¸­,æˆ‘ä»¬è¦å±•ç¤ºå‡ºå­¦å‘˜çš„åˆ†æ•°ç­‰çº§åˆ†å¸ƒã€‚è€Œåœ¨æ•°æ®åº“ä¸­ï¼Œå­˜å‚¨çš„æ˜¯å­¦ç”Ÿçš„ åˆ†æ•°å€¼ï¼Œå¦‚ 98/75ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤å®šåˆ†æ•°çš„ç­‰çº§å‘¢ï¼Ÿ</p></li></ol><p>å…¶å®ï¼Œä¸Šè¿°çš„è¿™ä¸€ç±»çš„éœ€æ±‚å‘¢ï¼Œæˆ‘ä»¬é€šè¿‡ MySQL ä¸­çš„å‡½æ•°éƒ½å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç° ã€‚</p><blockquote><p>MySQL ä¸­çš„å‡½æ•°ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å››ç±»ï¼š <strong>å­—ç¬¦ä¸²å‡½æ•°ã€æ•°å€¼å‡½æ•°ã€æ—¥æœŸå‡½æ•°ã€æµç¨‹å‡½æ•°ã€‚</strong></p></blockquote><h1>2. å­—ç¬¦ä¸²å‡½æ•°</h1><p>MySQL ä¸­å†…ç½®äº†å¾ˆå¤šå­—ç¬¦ä¸²å‡½æ•°ï¼Œå¸¸ç”¨çš„å‡ ä¸ªå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090602216-1068891071-20231127133321-iib3thb.png" alt="image-20230430081249197">â€‹</p><p>æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><blockquote><p><strong>1. concat : å­—ç¬¦ä¸²æ‹¼æ¥</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;Hello&#x27;</span> , <span class="string">&#x27; MySQL&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090602689-1726972087-20231127133321-3ctnt3o.png" alt="image-20230430081630547">â€‹</p><blockquote><p><strong>2. lower : å…¨éƒ¨è½¬å°å†™</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">lower</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090603185-6116237-20231127133321-bc1pn5d.png" alt="image-20230430082052519">â€‹</p><blockquote><p><strong>3. upper : å…¨éƒ¨è½¬å¤§å†™</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090603698-2018602104-20231127133321-zwdhnsv.png" alt="image-20230430082245295">â€‹</p><blockquote><p><strong>4. lpad : å·¦å¡«å……</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> lpad(<span class="string">&#x27;01&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;-&#x27;</span>);</span><br></pre></td></tr></table></figure><p><strong>æ„æ€æ˜¯ ï¼š åœ¨å­—ç¬¦ä¸² 01 çš„å·¦è¾¹å¡«å…… - ç„¶åå¡«å……çš„å­—ç¬¦ä¸²åŠ ä¸Š 01 åˆšå¥½æœ‰äº”ä¸ªå­—ç¬¦ä¸²</strong></p><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090604164-1025031415-20231127133321-r04e6z9.png" alt="image-20230430082630148">â€‹</p><blockquote><p><strong>5. rpad : å³å¡«å……</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> rpad(<span class="string">&#x27;01&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;-&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090604658-2045219695-20231127133321-rx3i189.png" alt="image-20230430082937425">â€‹</p><blockquote><p><strong>6. trim : å»é™¤ç©ºæ ¼</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">trim</span>(<span class="string">&#x27; Hello MySQL &#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090605091-563265028-20231127133322-d2b5j6r.png" alt="image-20230430083131686">â€‹</p><blockquote><p><strong>7. substring : æˆªå–å­å­—ç¬¦ä¸²</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">substring</span>(<span class="string">&#x27;Hello MySQL&#x27;</span>,<span class="number">1</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090605526-1935867974-20231127133322-u1y1xsm.png" alt="image-20230430083316674">â€‹</p><h1>3. æ•°å€¼å‡½æ•°</h1><p>å¸¸è§çš„æ•°å€¼å‡½æ•°å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090606056-2107302551-20231127133322-4fkv578.png" alt="image-20230430083742802">â€‹</p><p>æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><blockquote><p><strong>1. ceilï¼šå‘ä¸Šå–æ•´</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">ceil</span>(<span class="number">1.1</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090606499-1710334136-20231127133322-x69nttr.png" alt="image-20230430102856606">â€‹</p><blockquote><p><strong>2. floorï¼šå‘ä¸‹å–æ•´</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">floor</span>(<span class="number">1.9</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090606933-1562435198-20231127133322-ger7w8m.png" alt="image-20230430103252431">â€‹</p><blockquote><p><strong>3. modï¼šå–æ¨¡</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">mod</span>(<span class="number">7</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure><p><strong>æˆ‘çš„ç†è§£ï¼šå‰é¢çš„æ•°é™¤ä»¥åé¢çš„æ•°ç„¶åè¿›è¡Œå–ä½™</strong></p><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090607377-497998419-20231127133322-cznkdit.png" alt="image-20230430103513312">â€‹</p><blockquote><p><strong>4. randï¼šè·å–éšæœºæ•°</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> rand();</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090607862-325489956-20231127133322-xll89xu.png" alt="image-20230430103618418">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090608335-1900154558-20231127133322-wrpe4e4.png" alt="image-20230430103631243">â€‹</p><blockquote><p><strong>5. roundï¼šå››èˆäº”å…¥</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> round(<span class="number">2.344</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>ä¸ªäººç†è§£ï¼š<strong>round() å‡½æ•° ï¼Œ åé¢çš„æ•°å­—æ˜¯å¤šå°‘å°±å‰é¢çš„æ•°å­—å°±ä¿ç•™å¤šå°‘ä½å°æ•°</strong></p><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090608790-371719217-20231127133322-em6s4xk.png" alt="image-20230430103830038">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090609270-904852070-20231127133322-4ied98j.png" alt="image-20230430104020371">â€‹</p><h1>4.æ—¥æœŸå‡½æ•°</h1><p>å¸¸è§çš„æ—¥æœŸå‡½æ•°å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090609745-920385974-20231127133322-cpxvcbb.png" alt="image-20230430104406323">â€‹</p><p>æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><blockquote><p><strong>1. curdateï¼šå½“å‰æ—¥æœŸ</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> curdate();</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090610198-1192012608-20231127133323-lih51qo.png" alt="image-20230430105334675">â€‹</p><blockquote><p><strong>2. curtimeï¼šå½“å‰æ—¶é—´</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> curtime();</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090610614-704134119-20231127133323-z5y5sue.png" alt="image-20230430105458165">â€‹</p><blockquote><p><strong>3. nowï¼šå½“å‰æ—¥æœŸå’Œæ—¶é—´</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> now();</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090611040-1089457852-20231127133323-2vynl76.png" alt="image-20230430105617254">â€‹</p><blockquote><p><strong>4. YEAR , MONTH , DAYï¼šå½“å‰å¹´ã€æœˆã€æ—¥</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">YEAR</span>(now());</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">MONTH</span>(now());</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">DAY</span>(now());</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090611496-109435908-20231127133323-b22dhue.png" alt="image-20230430105853093">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090611997-1189255699-20231127133323-l28ya7s.png" alt="image-20230430105913533">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090612428-413806314-20231127133323-7ucvc0u.png" alt="image-20230430105927953">â€‹</p><blockquote><p><strong>5. date_addï¼šå¢åŠ æŒ‡å®šçš„æ—¶é—´é—´éš”</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> date_add(now(), <span class="type">INTERVAL</span> <span class="number">70</span> <span class="keyword">YEAR</span> );</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090612879-343758205-20231127133323-cmm7zi7.png" alt="image-20230430110123657">â€‹</p><blockquote><p><strong>6. datediffï¼šè·å–ä¸¤ä¸ªæ—¥æœŸç›¸å·®çš„å¤©æ•°</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> datediff(<span class="string">&#x27;2021-10-01&#x27;</span>, <span class="string">&#x27;2021-12-01&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090613291-1079571065-20231127133323-iu3292u.png" alt="image-20230430110252490">â€‹</p><h1>5. æµç¨‹å‡½æ•°</h1><p>æµç¨‹å‡½æ•°ä¹Ÿæ˜¯å¾ˆå¸¸ç”¨çš„ä¸€ç±»å‡½æ•°ï¼Œå¯ä»¥åœ¨ SQL è¯­å¥ä¸­å®ç°æ¡ä»¶ç­›é€‰ï¼Œä»è€Œæé«˜è¯­å¥çš„æ•ˆç‡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090613743-1243438736-20231127133323-admcmp7.png" alt="image-20230430124145323">â€‹</p><p>æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><blockquote><p><strong>1. if</strong></p><ul class="lvl-1"><li class="lvl-2"><strong>IF(value , t , f) ï¼Œ å¦‚æœ value ä¸º trueï¼Œåˆ™è¿”å› tï¼Œå¦åˆ™è¿”å› f</strong></li></ul></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> if(<span class="literal">false</span>, <span class="string">&#x27;Ok&#x27;</span>, <span class="string">&#x27;Error&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090614186-406223395-20231127133323-pamwh9s.png" alt="image-20230430124322340">â€‹</p><blockquote><p><strong>2. ifnull</strong></p><ul class="lvl-1"><li class="lvl-2"><strong>IFNULL(value1 , value2) , å¦‚æœ value1 ä¸ä¸ºç©ºï¼Œè¿”å› value1ï¼Œå¦åˆ™ è¿” value2</strong></li></ul></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ifnull(<span class="string">&#x27;Ok&#x27;</span>,<span class="string">&#x27;Default&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ifnull(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;Default&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ifnull(<span class="keyword">null</span>,<span class="string">&#x27;Default&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><ol><li class="lvl-3"><p>value ä¸ä¸ºç©º</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090614609-927475336-20231127133323-o7v7eul.png" alt="image-20230430124618453">â€‹</p></li><li class="lvl-3"><p>valuel ä¸ºç©º</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090615055-1552296925-20231127133323-ycucsn9.png" alt="image-20230430124806458">â€‹</p></li></ol><blockquote><p><strong>3. case when then else end</strong></p><ul class="lvl-1"><li class="lvl-2"><strong>CASE WHEN [ val1 ] THEN [res1] â€¦ ELSE [ default ] END , å¦‚æœ val1 ä¸º trueï¼Œè¿”å› res1ï¼Œâ€¦ å¦ åˆ™è¿”å› default é»˜è®¤å€¼</strong></li></ul></blockquote><p>éœ€æ±‚:</p><p>æŸ¥è¯¢ emp è¡¨çš„å‘˜å·¥å§“åå’Œå·¥ä½œåœ°å€ (åŒ—äº¬/ä¸Šæµ· ----&gt; ä¸€çº¿åŸå¸‚ , å…¶ä»– ----&gt; äºŒçº¿åŸå¸‚)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">name,</span><br><span class="line">( <span class="keyword">case</span> workaddress <span class="keyword">when</span> <span class="string">&#x27;åŒ—äº¬&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;ä¸€çº¿åŸå¸‚&#x27;</span> <span class="keyword">when</span> <span class="string">&#x27;ä¸Šæµ·&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;ä¸€çº¿åŸå¸‚&#x27;</span> <span class="keyword">else</span></span><br><span class="line"><span class="string">&#x27;äºŒçº¿åŸå¸‚&#x27;</span> <span class="keyword">end</span> ) <span class="keyword">as</span> <span class="string">&#x27;å·¥ä½œåœ°å€&#x27;</span></span><br><span class="line"><span class="keyword">from</span> emp</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> score(</span><br><span class="line">id <span class="type">int</span> comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">math <span class="type">int</span> comment <span class="string">&#x27;æ•°å­¦&#x27;</span>,</span><br><span class="line">english <span class="type">int</span> comment <span class="string">&#x27;è‹±è¯­&#x27;</span>,</span><br><span class="line">chinese <span class="type">int</span> comment <span class="string">&#x27;è¯­æ–‡&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;å­¦å‘˜æˆç»©è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score(id, name, math, english, chinese) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="number">67</span>, <span class="number">88</span>, <span class="number">95</span>), (<span class="number">2</span>, <span class="string">&#x27;Rose&#x27;</span> , <span class="number">23</span>, <span class="number">66</span>, <span class="number">90</span>),(<span class="number">3</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">56</span>, <span class="number">98</span>, <span class="number">76</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090615457-1765753616-20231127133323-uqhdfgj.png" alt="image-20230430125214182">â€‹</p><p>å…·ä½“çš„ SQL è¯­å¥å¦‚ä¸‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">id,</span><br><span class="line">name,</span><br><span class="line">(<span class="keyword">case</span> <span class="keyword">when</span> math <span class="operator">&gt;=</span> <span class="number">85</span> <span class="keyword">then</span> <span class="string">&#x27;ä¼˜ç§€&#x27;</span> <span class="keyword">when</span> math <span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">then</span> <span class="string">&#x27;åŠæ ¼&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;ä¸åŠæ ¼&#x27;</span> <span class="keyword">end</span> )</span><br><span class="line"><span class="string">&#x27;æ•°å­¦&#x27;</span>,</span><br><span class="line">(<span class="keyword">case</span> <span class="keyword">when</span> english <span class="operator">&gt;=</span> <span class="number">85</span> <span class="keyword">then</span> <span class="string">&#x27;ä¼˜ç§€&#x27;</span> <span class="keyword">when</span> english <span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">then</span> <span class="string">&#x27;åŠæ ¼&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;ä¸åŠæ ¼&#x27;</span></span><br><span class="line"><span class="keyword">end</span> ) <span class="string">&#x27;è‹±è¯­&#x27;</span>,</span><br><span class="line">(<span class="keyword">case</span> <span class="keyword">when</span> chinese <span class="operator">&gt;=</span> <span class="number">85</span> <span class="keyword">then</span> <span class="string">&#x27;ä¼˜ç§€&#x27;</span> <span class="keyword">when</span> chinese <span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">then</span> <span class="string">&#x27;åŠæ ¼&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;ä¸åŠæ ¼&#x27;</span></span><br><span class="line"><span class="keyword">end</span> ) <span class="string">&#x27;è¯­æ–‡&#x27;</span></span><br><span class="line"><span class="keyword">from</span> score;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230501090615881-19027710-20231127133324-lq2fkeq.png" alt="image-20230430125500146">â€‹</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MysqlåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2-SQL</title>
      <link href="/posts/fdab9a5f.html"/>
      <url>/posts/fdab9a5f.html</url>
      
        <content type="html"><![CDATA[<h1>1. SQL</h1><blockquote><p>å…¨ç§° Structured Query Languageï¼Œ<strong>ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€</strong>ã€‚æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®šä¹‰äº† ä¸€å¥—æ“ä½œå…³ç³»å‹æ•°æ®åº“ç»Ÿä¸€æ ‡å‡† ã€‚</p></blockquote><h1>2. SQL é€šç”¨è¯­æ³•</h1><p>1). SQL è¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œ<strong>ä»¥åˆ†å·ç»“å°¾ã€‚</strong></p><p>2). <strong>SQL è¯­å¥å¯ä»¥ä½¿ç”¨ç©ºæ ¼</strong>/<strong>ç¼©è¿›æ¥å¢å¼ºè¯­å¥çš„å¯è¯»æ€§ã€‚</strong></p><p>3). MySQL æ•°æ®åº“çš„ SQL è¯­å¥<strong>ä¸åŒºåˆ†å¤§å°å†™</strong>ï¼Œå…³é”®å­—å»ºè®®ä½¿ç”¨å¤§å†™ã€‚</p><p>4). <strong>æ³¨é‡Šï¼š</strong></p><blockquote><p>å•è¡Œæ³¨é‡Šï¼š-- æ³¨é‡Šå†…å®¹ æˆ– # æ³¨é‡Šå†…å®¹</p><p>å¤šè¡Œæ³¨é‡Šï¼š/_ æ³¨é‡Šå†…å®¹ _/</p></blockquote><h1>3. SQL åˆ†ç±»</h1><blockquote><p>SQL è¯­å¥ï¼Œæ ¹æ®å…¶åŠŸèƒ½ï¼Œä¸»è¦åˆ†ä¸ºå››ç±»ï¼š<strong>DDLã€DMLã€DQLã€DCLã€‚</strong></p></blockquote><table><thead><tr><th style="text-align:center">åˆ†ç±»</th><th>å…¨ç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center"><strong>DDL</strong></td><td>Data Definition Language</td><td>æ•°æ®å®šä¹‰è¯­è¨€ï¼Œç”¨æ¥å®šä¹‰<strong>æ•°æ®åº“å¯¹è±¡</strong>(<strong>æ•°æ®åº“ï¼Œè¡¨ï¼Œ å­—æ®µ</strong>)</td></tr><tr><td style="text-align:center"><strong>DML</strong></td><td>Data Manipulation Language</td><td>æ•°æ®æ“ä½œè¯­è¨€ï¼Œç”¨æ¥å¯¹<strong>æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹</strong></td></tr><tr><td style="text-align:center"><strong>DQL</strong></td><td>Data Query Language</td><td>æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œç”¨æ¥<strong>æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•</strong></td></tr><tr><td style="text-align:center"><strong>DCL</strong></td><td>Data Control Language</td><td>æ•°æ®æ§åˆ¶è¯­è¨€ï¼Œç”¨æ¥<strong>åˆ›å»ºæ•°æ®åº“ç”¨æˆ·ã€æ§åˆ¶æ•°æ®åº“çš„ è®¿é—®æƒé™</strong></td></tr></tbody></table><h1>4. DDL</h1><blockquote><p>Data Definition Languageï¼Œæ•°æ®å®šä¹‰è¯­è¨€ï¼Œ<strong>ç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡(æ•°æ®åº“ï¼Œè¡¨ï¼Œå­—æ®µ) ã€‚</strong></p></blockquote><h2 id="4-1-æ•°æ®åº“æ“ä½œ">4.1 æ•°æ®åº“æ“ä½œ</h2><blockquote><p><strong>æŸ¥è¯¢æ‰€æœ‰æ•°æ®</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> databases;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> student            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>æŸ¥è¯¢å½“å‰æ•°æ®åº“</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database();</span><br></pre></td></tr></table></figure><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> database();</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+</span></span><br><span class="line"><span class="operator">|</span> database() <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+</span></span><br><span class="line"><span class="operator">|</span> student    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>åˆ›å»ºæ•°æ®åº“</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database [ if <span class="keyword">not</span> <span class="keyword">exists</span> ] æ•°æ®åº“å [ <span class="keyword">default</span> charset å­—ç¬¦é›† ] [ <span class="keyword">collate</span> æ’åºè§„åˆ™ ] ;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>åˆ›å»ºä¸€ä¸ª itcast æ•°æ®åº“, ä½¿ç”¨æ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›†ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database itcast;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> database itcast;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> databases;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> itcast             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> student            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>åœ¨åŒä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ä¸­ï¼Œä¸èƒ½åˆ›å»ºä¸¤ä¸ªåç§°ç›¸åŒçš„æ•°æ®åº“ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚(ä¹Ÿå°±æ˜¯åŒä¸€ä¸ªæ•°æ®åº“åˆ›å»ºä¸¤éä¼šæŠ¥é”™)</p><p><strong>æŠ¥é”™çš„ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> database itcast;</span><br><span class="line">ERROR <span class="number">1007</span> (HY000): Can<span class="string">&#x27;t create database &#x27;</span>itcast<span class="string">&#x27;; database exists</span></span><br><span class="line"><span class="string">mysql&gt; create database if not exists itcast;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ i<strong>f not exists å‚æ•°</strong>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ•°æ®åº“ä¸å­˜åœ¨, åˆ™åˆ›å»ºè¯¥æ•°æ®åº“ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸åˆ›å»ºã€‚</p><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database if <span class="keyword">not</span> extists itcast;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> itcast;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected, <span class="number">1</span> warning (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ª north æ•°æ®åº“ï¼Œå¹¶ä¸”æŒ‡å®šå­—ç¬¦é›†</p><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database north <span class="keyword">default</span> charset utf8mb4 ;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> database north <span class="keyword">default</span> charset utf8mb4</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> ;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> databases;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> itcast             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> north              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> student            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>åˆ é™¤æ•°æ®åº“</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database [ if <span class="keyword">exists</span> ] æ•°æ®åº“å ;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœåˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„æ•°æ®åº“ï¼Œå°†ä¼šæŠ¥é”™</strong>ã€‚æ­¤æ—¶ï¼Œå¯ä»¥åŠ ä¸Š<strong>å‚æ•° if exists</strong> ï¼Œå¦‚æœæ•°æ®åº“å­˜åœ¨ï¼Œå† æ‰§è¡Œåˆ é™¤ï¼Œå¦åˆ™ä¸æ‰§è¡Œåˆ é™¤ã€‚</p><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">drop</span> database if <span class="keyword">exists</span> north;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221759330-800741048-20231127121716-x3ziv9h.png" alt="image-20230422173017680">â€‹</p><blockquote><p><strong>åˆ‡æ¢æ•°æ®åº“</strong></p></blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use æ•°æ®åº“å;</span><br></pre></td></tr></table></figure><p><strong>æˆ‘ä»¬è¦æ“ä½œæŸä¸€ä¸ªæ•°æ®åº“ä¸‹çš„è¡¨æ—¶ï¼Œå°±éœ€è¦é€šè¿‡è¯¥æŒ‡ä»¤ï¼Œåˆ‡æ¢åˆ°å¯¹åº”çš„æ•°æ®åº“ä¸‹ï¼Œå¦åˆ™æ˜¯ä¸èƒ½æ“ä½œçš„ã€‚</strong>  æ¯”å¦‚ï¼Œåˆ‡æ¢åˆ° itcast æ•°æ®ï¼Œæ‰§è¡Œå¦‚ä¸‹ SQLï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use itcast;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> use itcast</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><h2 id="4-2-è¡¨æ“ä½œ">4.2 è¡¨æ“ä½œ</h2><h3 id="4-2-1-è¡¨æ“ä½œ-â€”-æŸ¥è¯¢åˆ›å»º">4.2.1 è¡¨æ“ä½œ â€”&gt; æŸ¥è¯¢åˆ›å»º</h3><blockquote><p><strong>æŸ¥è¯¢å½“å‰æ•°æ®åº“æ‰€æœ‰è¡¨</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p><strong>ä½¿ç”¨è¡¨æŸ¥è¯¢çš„å‰ææ˜¯ use å½“å‰çš„æ•°æ®åº“</strong></p></li></ul><p>æ¯”å¦‚,æˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ° sys è¿™ä¸ªç³»ç»Ÿæ•°æ®åº“,å¹¶æŸ¥çœ‹ç³»ç»Ÿæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ç»“æ„ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use sys;</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœå±•ç¤ºï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> use sys;</span><br><span class="line">Database changed</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_sys                                 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> host_summary                                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> host_summary_by_file_io                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> host_summary_by_file_io_type                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> host_summary_by_stages                        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> host_summary_by_statement_latency             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> host_summary_by_statement_type                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_buffer_stats_by_schema                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_buffer_stats_by_table                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_lock_waits                             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> io_by_thread_by_latency                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> io_global_by_file_by_bytes                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> io_global_by_file_by_latency                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> io_global_by_wait_by_bytes                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> io_global_by_wait_by_latency                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> latest_file_io                                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> memory_by_host_by_current_bytes               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> memory_by_thread_by_current_bytes             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> memory_by_user_by_current_bytes               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> memory_global_by_current_bytes                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> memory_global_total                           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> metrics                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> processlist                                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ps_check_lost_instrumentation                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_auto_increment_columns                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_index_statistics                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_object_overview                        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_redundant_indexes                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_table_lock_waits                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_table_statistics                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_table_statistics_with_buffer           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_tables_with_full_table_scans           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> schema_unused_indexes                         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> session                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> session_ssl_status                            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> statement_analysis                            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> statements_with_errors_or_warnings            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> statements_with_full_table_scans              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> statements_with_runtimes_in_95th_percentile   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> statements_with_sorting                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> statements_with_temp_tables                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys_config                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> user_summary                                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> user_summary_by_file_io                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> user_summary_by_file_io_type                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> user_summary_by_stages                        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> user_summary_by_statement_latency             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> user_summary_by_statement_type                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> version                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> wait_classes_global_by_avg_latency            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> wait_classes_global_by_latency                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> waits_by_host_by_latency                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> waits_by_user_by_latency                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> waits_global_by_latency                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$host_summary                                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$host_summary_by_file_io                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$host_summary_by_file_io_type                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$host_summary_by_stages                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$host_summary_by_statement_latency           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$host_summary_by_statement_type              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$innodb_buffer_stats_by_schema               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$innodb_buffer_stats_by_table                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$innodb_lock_waits                           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$io_by_thread_by_latency                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$io_global_by_file_by_bytes                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$io_global_by_file_by_latency                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$io_global_by_wait_by_bytes                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$io_global_by_wait_by_latency                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$latest_file_io                              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$memory_by_host_by_current_bytes             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$memory_by_thread_by_current_bytes           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$memory_by_user_by_current_bytes             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$memory_global_by_current_bytes              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$memory_global_total                         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$processlist                                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$ps_digest_95th_percentile_by_avg_us         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$ps_digest_avg_latency_distribution          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$ps_schema_table_statistics_io               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$schema_flattened_keys                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$schema_index_statistics                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$schema_table_lock_waits                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$schema_table_statistics                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$schema_table_statistics_with_buffer         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$schema_tables_with_full_table_scans         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$session                                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$statement_analysis                          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$statements_with_errors_or_warnings          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$statements_with_full_table_scans            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$statements_with_runtimes_in_95th_percentile <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$statements_with_sorting                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$statements_with_temp_tables                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$user_summary                                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$user_summary_by_file_io                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$user_summary_by_file_io_type                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$user_summary_by_stages                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$user_summary_by_statement_latency           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$user_summary_by_statement_type              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$wait_classes_global_by_avg_latency          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$wait_classes_global_by_latency              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$waits_by_host_by_latency                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$waits_by_user_by_latency                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x$waits_global_by_latency                     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------------------------------+</span></span><br><span class="line"><span class="number">101</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>æŸ¥çœ‹æŒ‡å®šè¡¨ç»“æ„</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> è¡¨å;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™æ¡æŒ‡ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°<strong>æŒ‡å®šè¡¨çš„å­—æ®µï¼Œå­—æ®µçš„ç±»å‹ã€æ˜¯å¦å¯ä»¥ä¸º NULL</strong>ï¼Œ<strong>æ˜¯å¦å­˜åœ¨é»˜è®¤å€¼ç­‰ä¿¡æ¯ã€‚</strong></p><p><strong>ç»“æœæ˜¾ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> tb_user;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">50</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>æŸ¥è¯¢æŒ‡å®šè¡¨çš„å»ºè¡¨è¯­å¥</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> è¡¨å;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™æ¡æŒ‡ä»¤ï¼Œ<strong>ä¸»è¦æ˜¯ç”¨æ¥æŸ¥çœ‹å»ºè¡¨è¯­å¥çš„</strong>ï¼Œè€Œæœ‰éƒ¨åˆ†å‚æ•°æˆ‘ä»¬åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¹¶æœªæŒ‡å®šä¹Ÿä¼šæŸ¥è¯¢ åˆ°ï¼Œå› ä¸ºè¿™éƒ¨åˆ†æ˜¯<strong>æ•°æ®åº“çš„é»˜è®¤å€¼</strong>ï¼Œå¦‚ï¼š<strong>å­˜å‚¨å¼•æ“ã€å­—ç¬¦é›†ç­‰ã€‚</strong></p><p><strong>ç»“æœæ˜¾ç¤ºï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> tb_user;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">Table</span>   <span class="operator">|</span> <span class="keyword">Create</span> <span class="keyword">Table</span></span><br><span class="line"></span><br><span class="line">                                              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> tb_user <span class="operator">|</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tb_user` (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ç¼–å·&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">  `age` <span class="type">int</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">  `gender` <span class="type">varchar</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æ€§åˆ«&#x27;</span></span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci COMMENT<span class="operator">=</span><span class="string">&#x27;ç”¨æˆ·è¡¨&#x27;</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>åˆ›å»ºè¡¨ç»“æ„</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> è¡¨å(</span><br><span class="line">å­—æ®µ<span class="number">1</span> å­—æ®µ<span class="number">1</span>ç±»å‹ [ COMMENT å­—æ®µ<span class="number">1</span>æ³¨é‡Š ],</span><br><span class="line">å­—æ®µ<span class="number">2</span> å­—æ®µ<span class="number">2</span>ç±»å‹ [COMMENT å­—æ®µ<span class="number">2</span>æ³¨é‡Š ],</span><br><span class="line">å­—æ®µ<span class="number">3</span> å­—æ®µ<span class="number">3</span>ç±»å‹ [COMMENT å­—æ®µ<span class="number">3</span>æ³¨é‡Š ],</span><br><span class="line">......</span><br><span class="line">å­—æ®µn å­—æ®µnç±»å‹ [COMMENT å­—æ®µnæ³¨é‡Š ]</span><br><span class="line">) [ COMMENT è¡¨æ³¨é‡Š ] ;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š  <strong>[â€¦] å†…ä¸ºå¯é€‰å‚æ•°ï¼Œæœ€åä¸€ä¸ªå­—æ®µåé¢æ²¡æœ‰é€—å·</strong></p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€å¼ è¡¨ tb_user ï¼Œå¯¹åº”çš„ç»“æ„å¦‚ä¸‹ï¼Œé‚£ä¹ˆå»ºè¡¨è¯­å¥ä¸ºï¼š</p><table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">name</th><th style="text-align:center">age</th><th style="text-align:center">gender</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">é™ˆå¹³å®‰</td><td style="text-align:center">19</td><td style="text-align:center">ç”·</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">å¾å‡¤å¹´</td><td style="text-align:center">23</td><td style="text-align:center">ç”·</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">æé•¿å¯¿</td><td style="text-align:center">25</td><td style="text-align:center">ç”·</td></tr></tbody></table><p><strong>åˆ›å»ºè¯­æ³•å±•ç¤º</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> tb_user (</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> id <span class="type">int</span> comment <span class="string">&#x27;ç¼–å·&#x27;</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> name <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> age <span class="type">int</span> comment <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> gender <span class="type">varchar</span>(<span class="number">1</span>) comment <span class="string">&#x27;æ€§åˆ«&#x27;</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> ) comment <span class="string">&#x27;ç”¨æˆ·è¡¨&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure><h3 id="4-2-2-è¡¨æ“ä½œ-â€”-æ•°æ®ç±»å‹">4.2.2 è¡¨æ“ä½œ â€”&gt; æ•°æ®ç±»å‹</h3><p>MySQL ä¸­çš„æ•°æ®ç±»å‹æœ‰å¾ˆå¤šï¼Œä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼š<strong>æ•°å€¼ç±»å‹</strong>ã€<strong>å­—ç¬¦ä¸²ç±»å‹</strong>ã€<strong>æ—¥æœŸæ—¶é—´ç±»</strong>å‹ã€‚</p><blockquote><p><strong>æ•°å€¼ç±»å‹</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221759970-560171444-20231127121717-yhodmfy.png" alt="image-20230423090920746">â€‹</p><p>å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>). å¹´é¾„å­—æ®µ <span class="comment">-- ä¸ä¼šå‡ºç°è´Ÿæ•°, è€Œä¸”äººçš„å¹´é¾„ä¸ä¼šå¤ªå¤§</span></span><br><span class="line">age tinyint unsigned</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>). åˆ†æ•° <span class="comment">-- æ€»åˆ†100åˆ†, æœ€å¤šå‡ºç°ä¸€ä½å°æ•°</span></span><br><span class="line">score <span class="keyword">double</span>(<span class="number">4</span>,<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p><strong>å­—ç¬¦ä¸²ç±»å‹</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221800525-19883521-20231127121717-mrtip84.png" alt="image-20230423101815176">â€‹</p><p><strong>æ³¨æ„ï¼š</strong></p><p><strong>char</strong> ä¸ <strong>varchar</strong> éƒ½å¯ä»¥æè¿°å­—ç¬¦ä¸²ï¼Œ<strong>char æ˜¯å®šé•¿å­—ç¬¦ä¸²</strong>ï¼Œ<strong>æŒ‡å®šé•¿åº¦å¤šé•¿ï¼Œå°±å ç”¨å¤šå°‘ä¸ªå­—ç¬¦ï¼Œå’Œ å­—æ®µå€¼çš„é•¿åº¦æ— å…³</strong> ã€‚<strong>è€Œ varchar æ˜¯å˜é•¿å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šçš„é•¿åº¦ä¸ºæœ€å¤§å ç”¨é•¿åº¦</strong> ã€‚<strong>ç›¸å¯¹æ¥è¯´ï¼Œchar çš„æ€§ èƒ½ä¼šæ›´é«˜äº›ã€‚</strong></p><p>å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>). ç”¨æˆ·å username <span class="comment">------&gt; é•¿åº¦ä¸å®š, æœ€é•¿ä¸ä¼šè¶…è¿‡50</span></span><br><span class="line">username <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>). æ€§åˆ« gender <span class="comment">---------&gt; å­˜å‚¨å€¼, ä¸æ˜¯ç”·,å°±æ˜¯å¥³</span></span><br><span class="line">gender <span class="type">char</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>). æ‰‹æœºå· phone <span class="comment">--------&gt; å›ºå®šé•¿åº¦ä¸º11</span></span><br><span class="line">phone <span class="type">char</span>(<span class="number">11</span>)</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ—¥æœŸæ—¶é—´ç±»å‹</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221801031-81344008-20231127121717-i9obu6x.png" alt="image-20230423102840777">â€‹</p><p><strong>å¦‚ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>). ç”Ÿæ—¥å­—æ®µ birthday</span><br><span class="line">birthday <span class="type">date</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>). åˆ›å»ºæ—¶é—´ createtime</span><br><span class="line">createtime datetime</span><br></pre></td></tr></table></figure><h3 id="4-2-3-è¡¨æ“ä½œ-æ¡ˆä¾‹">4.2.3 è¡¨æ“ä½œ-æ¡ˆä¾‹</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221801458-1949782738-20231127121717-0jrn8r2.png" alt="image-20230423103753973">â€‹</p><p><strong>å¯¹åº”çš„å»ºè¡¨è¯­å¥å¦‚ä¸‹:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> comment <span class="string">&#x27;ç¼–å·&#x27;</span>,</span><br><span class="line">workno <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;å·¥å·&#x27;</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">gender <span class="type">char</span>(<span class="number">1</span>) comment <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span><br><span class="line">age tinyint unsigned comment <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">idcard <span class="type">char</span>(<span class="number">18</span>) comment <span class="string">&#x27;èº«ä»½è¯å·&#x27;</span>,</span><br><span class="line">entrydate <span class="type">date</span> comment <span class="string">&#x27;å…¥èŒæ—¶é—´&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;å‘˜å·¥è¡¨&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>SQL è¯­å¥ç¼–å†™å®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥åœ¨ MySQL çš„å‘½ä»¤è¡Œä¸­æ‰§è¡Œ SQLï¼Œç„¶åä¹Ÿå¯ä»¥é€šè¿‡ desc æŒ‡ä»¤æŸ¥è¯¢è¡¨ç»“æ„ ä¿¡æ¯ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> ;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>è¡¨ç»“æ„åˆ›å»ºå¥½äº†ï¼Œé‡Œé¢çš„ name å­—æ®µæ˜¯ varchar ç±»å‹ï¼Œæœ€å¤§é•¿åº¦ä¸º 10ï¼Œä¹Ÿå°±æ„å‘³ç€å¦‚æœè¶…è¿‡ 10 å°†ä¼šæŠ¥ é”™ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹è¿™ä¸ªå­—æ®µçš„ç±»å‹ æˆ– ä¿®æ”¹å­—æ®µçš„é•¿åº¦è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿæ¥ä¸‹æ¥å†æ¥è®²è§£ DDL è¯­å¥ä¸­ï¼Œ å¦‚ä½•æ“ä½œè¡¨å­—æ®µã€‚</p><h3 id="4-2-4-è¡¨æ“ä½œ-ä¿®æ”¹">4.2.4 è¡¨æ“ä½œ-ä¿®æ”¹</h3><blockquote><p><strong>æ·»åŠ å­—æ®µ</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å <span class="keyword">ADD</span> å­—æ®µå ç±»å‹ (é•¿åº¦) [ COMMENT æ³¨é‡Š ] [ çº¦æŸ ];</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>ä¸º emp è¡¨å¢åŠ ä¸€ä¸ªæ–°çš„å­—æ®µâ€æ˜µç§°â€ä¸º nicknameï¼Œç±»å‹ä¸º varchar(20)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp <span class="keyword">ADD</span> nickname <span class="type">varchar</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;æ˜µç§°&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ•ˆæœæ˜¾ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> nickname <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;æ˜µç§°&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> ;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> nickname  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221801850-899687670-20231127121717-g1w1w0e.png" alt="image-20230423123706803">â€‹</p><blockquote><p><strong>ä¿®æ”¹æ•°æ®ç±»å‹</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å MODIFY å­—æ®µå æ–°æ•°æ®ç±»å‹ (é•¿åº¦)</span><br></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter</span> <span class="keyword">table</span> emp modify nickname <span class="type">varchar</span>(<span class="number">30</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221802198-201021965-20231127121717-5ewg2fq.png" alt="image-20230423124143177">â€‹</p><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221802627-1668094539-20231127121717-xbozprc.png" alt="image-20230423124206923">â€‹</p><blockquote><p><strong>ä¿®æ”¹å­—æ®µåå’Œå­—æ®µç±»å‹</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å CHANGE æ—§å­—æ®µå æ–°å­—æ®µå ç±»å‹ (é•¿åº¦) [ COMMENT æ³¨é‡Š ] [ çº¦æŸ ];</span><br></pre></td></tr></table></figure><p><strong>æ¡ˆä¾‹ï¼š</strong></p><p>å°† emp è¡¨çš„ nickname å­—æ®µä¿®æ”¹ä¸º usernameï¼Œç±»å‹ä¸º varchar(30)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp CHANGE nickname username <span class="type">varchar</span>(<span class="number">30</span>) COMMENT <span class="string">&#x27;æ˜µç§°&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter</span> <span class="keyword">table</span> emp change nickname username <span class="type">varchar</span>(<span class="number">30</span>) comment <span class="string">&#x27;æ˜µç§°&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221803020-1547027412-20231127121717-hspl377.png" alt="image-20230423124605714">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> ;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> nickname  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221803427-166402159-20231127121717-uvnyaoh.png" alt="image-20230423124621768">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> username  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>åˆ é™¤å­—æ®µ</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å <span class="keyword">DROP</span> å­—æ®µå;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>å°† emp è¡¨çš„å­—æ®µ username åˆ é™¤</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp <span class="keyword">DROP</span> username;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221803834-33311679-20231127121717-ce4lllv.png" alt="image-20230423124943398">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> username  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221804230-1409675547-20231127121718-4b5f6y7.png" alt="image-20230423124958626">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">drop</span> username;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>ä¿®æ”¹è¡¨å</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å RENAME <span class="keyword">TO</span> æ–°è¡¨å;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹:</p><p>å°† emp è¡¨çš„è¡¨åä¿®æ”¹ä¸º employee</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp RENAME <span class="keyword">TO</span> employee;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221804546-358246442-20231127121718-fs72rpx.png" alt="image-20230423125202943">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter</span> <span class="keyword">table</span> emp rename <span class="keyword">to</span> employee;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221804903-858357145-20231127121718-473rj55.png" alt="image-20230423125338360">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_itcast <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> employee         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> tb_user          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="4-2-5-è¡¨æ“ä½œ-åˆ é™¤">4.2.5 è¡¨æ“ä½œ-åˆ é™¤</h3><blockquote><p><strong>åˆ é™¤è¡¨</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [ IF <span class="keyword">EXISTS</span> ] è¡¨å;</span><br></pre></td></tr></table></figure><p>å¯é€‰é¡¹ <strong>IF EXISTS ä»£è¡¨ï¼Œåªæœ‰è¡¨åå­˜åœ¨æ—¶æ‰ä¼šåˆ é™¤è¯¥è¡¨ï¼Œè¡¨åä¸å­˜åœ¨ï¼Œåˆ™ä¸æ‰§è¡Œåˆ é™¤æ“ä½œ</strong>(<strong>å¦‚æœä¸ åŠ è¯¥å‚æ•°é¡¹ï¼Œåˆ é™¤ä¸€å¼ ä¸å­˜åœ¨çš„è¡¨ï¼Œæ‰§è¡Œå°†ä¼šæŠ¥é”™</strong>)ã€‚</p><p>æ¡ˆä¾‹:</p><p>å¦‚æœ tb_user è¡¨å­˜åœ¨ï¼Œåˆ™åˆ é™¤ tb_user è¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> tb_user;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ•ˆæœæ˜¾ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> tb_user;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‰ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_itcast <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> employee         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> tb_user          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_itcast <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> employee         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>åˆ é™¤æŒ‡å®šè¡¨, å¹¶é‡æ–°åˆ›å»ºè¡¨</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> è¡¨å;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ•ˆæœæ¼”ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">truncate</span> <span class="keyword">table</span> employee;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">truncate</span> <span class="keyword">table</span> employee;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_itcast <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="operator">|</span> employee         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> employee;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>              <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> workno    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender    <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age       <span class="operator">|</span> tinyint unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> idcard    <span class="operator">|</span> <span class="type">char</span>(<span class="number">18</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> entrydate <span class="operator">|</span> <span class="type">date</span>             <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„: åœ¨åˆ é™¤è¡¨çš„æ—¶å€™ï¼Œè¡¨ä¸­çš„å…¨éƒ¨æ•°æ®ä¹Ÿéƒ½ä¼šè¢«åˆ é™¤ã€‚</strong></p></blockquote><h1>5. å›¾å½¢åŒ–ç•Œé¢å·¥å…·</h1><h2 id="5-1-å®‰è£…">5.1 å®‰è£…</h2><ol><li class="lvl-3"><p>æ‰¾åˆ°èµ„æ–™ä¸­å‡†å¤‡å¥½çš„å®‰è£…åŒ…ï¼ŒåŒå‡»å¼€å§‹å®‰è£…</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221805268-1162203395-20231127121718-ltajb5c.png" alt="image-20230423130211231">â€‹</p></li><li class="lvl-3"><p>ç‚¹å‡» nextï¼Œä¸€æ­¥ä¸€æ­¥çš„å®Œæˆå®‰è£…</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221805770-1360948783-20231127121718-ts25kfj.png" alt="image-20230423130230386">â€‹</p></li><li class="lvl-3"><p>é€‰æ‹© DataGrip çš„å®‰è£…ç›®å½•ï¼Œç„¶åé€‰æ‹©ä¸‹ä¸€æ­¥</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221806319-1350096740-20231127121718-skmqjbh.png" alt="image-20230423130258571">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221806790-352462778-20231127121718-y8djxxy.png" alt="image-20230423130317687">â€‹</p></li><li class="lvl-3"><p>ä¸‹ä¸€æ­¥ï¼Œæ‰§è¡Œå®‰è£…</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221807208-1054886330-20231127121718-tpmihmb.png" alt="image-20230423130334254">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221807657-963900819-20231127121718-vn8xre7.png" alt="image-20230423130342663">â€‹</p></li></ol><h2 id="5-2-ä½¿ç”¨">5.2 ä½¿ç”¨</h2><blockquote><p><strong>1. æ·»åŠ æ•°æ®æº</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221808194-1666694291-20231127121719-hvcuto6.png" alt="image-20230423130426665">â€‹</p><p>é…ç½®ä»¥åŠé©±åŠ¨ jar åŒ…ä¸‹è½½å®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥ç‚¹å‡» â€œTest Connectionâ€ å°±å¯ä»¥æµ‹è¯•ï¼Œæ˜¯å¦å¯ä»¥è¿æ¥ MySQLï¼Œå¦‚æœå‡ºç° â€œ<strong>Successed</strong>â€ï¼Œå°±è¡¨åè¿æ¥æˆåŠŸäº† ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221808692-1090481734-20231127121719-8qoqggh.png" alt="image-20230423130840015">â€‹</p><blockquote><p><strong>2. å±•ç¤ºæ‰€æœ‰æ•°æ®åº“</strong></p></blockquote><p>è¿æ¥ä¸Šäº† MySQL æœåŠ¡ä¹‹åï¼Œå¹¶æœªå±•ç¤ºå‡ºæ‰€æœ‰çš„æ•°æ®åº“ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ï¼Œå±•ç¤ºæ‰€æœ‰çš„æ•°æ®åº“ï¼Œå…·ä½“ æ“ä½œå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221809068-1324353060-20231127121719-n6us21n.png" alt="image-20230423130901734">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221809436-1448677270-20231127121719-wy941go.png" alt="image-20230423130920225">â€‹</p><blockquote><p><strong>3. åˆ›å»ºæ•°æ®åº“</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221809906-372530165-20231127121719-l9vya1j.png" alt="image-20230423131000791">â€‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„:</span><br><span class="line"></span><br><span class="line">ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥åˆ›å»ºæ•°æ®åº“ï¼š</span><br><span class="line"></span><br><span class="line">A. <span class="keyword">create</span> database db01;</span><br><span class="line"></span><br><span class="line">B. <span class="keyword">create</span> schema db01;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p><strong>4. åˆ›å»ºè¡¨</strong></p></blockquote><p>åœ¨æŒ‡å®šçš„æ•°æ®åº“ä¸Šé¢å³é”®ï¼Œé€‰æ‹©<strong>new â€“&gt; Table</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221810404-1491780438-20231127121719-2baoqhn.png" alt="image-20230423131113903">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221810977-589538117-20231127121719-xm9qnpw.png" alt="image-20230423131127797">â€‹</p><blockquote><p><strong>5. ä¿®æ”¹è¡¨ç»“æ„</strong></p></blockquote><p>åœ¨éœ€è¦ä¿®æ”¹çš„è¡¨ä¸Šï¼Œå³é”®é€‰æ‹©  <strong>&quot;Modify Tableâ€¦&quot;</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221811623-850205127-20231127121719-ydf2eif.png" alt="image-20230423131231755">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221812064-1684590522-20231127121720-azeeq7z.png" alt="image-20230423131244726">â€‹</p><blockquote><p>å¦‚æœæƒ³å¢åŠ å­—æ®µï¼Œç›´æ¥ç‚¹å‡»+å·ï¼Œå½•å…¥å­—æ®µä¿¡æ¯ï¼Œç„¶åç‚¹å‡» Execute å³å¯ã€‚</p><p>å¦‚æœæƒ³åˆ é™¤å­—æ®µï¼Œç›´æ¥ç‚¹å‡»-å·ï¼Œå°±å¯ä»¥åˆ é™¤å­—æ®µï¼Œç„¶åç‚¹å‡» Execute å³å¯ã€‚</p><p>å¦‚æœæƒ³ä¿®æ”¹å­—æ®µï¼ŒåŒå‡»å¯¹åº”çš„å­—æ®µï¼Œä¿®æ”¹å­—æ®µä¿¡æ¯ï¼Œç„¶åç‚¹å‡» Execute å³å¯ã€‚</p><p>å¦‚æœè¦ä¿®æ”¹è¡¨åï¼Œæˆ–è¡¨çš„æ³¨é‡Šï¼Œç›´æ¥åœ¨è¾“å…¥æ¡†ä¿®æ”¹ï¼Œç„¶åç‚¹å‡» Execute å³å¯ã€‚</p></blockquote><blockquote><p><strong>6. åœ¨ DataGrip ä¸­æ‰§è¡Œ SQL è¯­å¥</strong></p></blockquote><p>åœ¨æŒ‡å®šçš„æ•°æ®åº“ä¸Šï¼Œå³é”®ï¼Œé€‰æ‹© <strong>New â€“&gt; Query Console</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221812575-119534486-20231127121720-8z1hfef.png" alt="image-20230423131348053">â€‹</p><p>ç„¶åå°±å¯ä»¥åœ¨æ‰“å¼€çš„ Query Console æ§åˆ¶å°ï¼Œå¹¶åœ¨æ§åˆ¶å°ä¸­ç¼–å†™ SQLï¼Œæ‰§è¡Œ SQLã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221813037-1146047136-20231127121720-1pxp5mz.png" alt="image-20230423131403442">â€‹</p><h1>6. DML</h1><p>DML è‹±æ–‡å…¨ç§°æ˜¯ Data Manipulation Language(æ•°æ®æ“ä½œè¯­è¨€)ï¼Œ<strong>ç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è®°å½•è¿› è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œã€‚</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>æ·»åŠ æ•°æ®ï¼ˆINSERTï¼‰</strong></p></li><li class="lvl-2"><p><strong>ä¿®æ”¹æ•°æ®ï¼ˆUPDATEï¼‰</strong></p></li><li class="lvl-2"><p><strong>åˆ é™¤æ•°æ®ï¼ˆDELETEï¼‰</strong></p></li></ul><h2 id="6-1-æ·»åŠ æ•°æ®">6.1 æ·»åŠ æ•°æ®</h2><blockquote><p><strong>1. ç»™æŒ‡å®šå­—æ®µæ·»åŠ æ•°æ®</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> è¡¨å (å­—æ®µå<span class="number">1</span>, å­—æ®µå<span class="number">2</span>, ...) <span class="keyword">VALUES</span> (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...);</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹:</p><p>ç»™ employee è¡¨æ‰€æœ‰çš„å­—æ®µæ·»åŠ æ•°æ® ï¼›</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee(id,workno,name,gender,age,idcard,entrydate)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;Itcast&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">10</span>,<span class="string">&#x27;123456789012345678&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ’å…¥æ•°æ®å®Œæˆä¹‹åï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼ï¼ŒæŸ¥è¯¢æ•°æ®åº“çš„æ•°æ®ï¼š</p><p><strong>A. æ–¹å¼ä¸€</strong></p><p>åœ¨å·¦ä¾§çš„è¡¨åä¸ŠåŒå‡»ï¼Œå°±å¯ä»¥æŸ¥çœ‹è¿™å¼ è¡¨çš„æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221813424-1577950796-20231127121720-76nfjpv.png" alt="image-20230423195708841">â€‹</p><p><strong>B. æ–¹å¼äºŒ</strong></p><p>å¯ä»¥ç›´æ¥ä¸€æ¡æŸ¥è¯¢æ•°æ®çš„ SQL è¯­å¥, è¯­å¥å¦‚ä¸‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> workno <span class="operator">|</span> name   <span class="operator">|</span> gender <span class="operator">|</span> age  <span class="operator">|</span> idcard             <span class="operator">|</span> entrydate  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">1</span>      <span class="operator">|</span> å¾å‡¤å¹´ <span class="operator">|</span> ç”·     <span class="operator">|</span>   <span class="number">23</span> <span class="operator">|</span> <span class="number">333333333333333333</span> <span class="operator">|</span> <span class="number">2000</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹:</p><p>ç»™ employee è¡¨æ‰€æœ‰çš„å­—æ®µæ·»åŠ æ•°æ®</p><p>æ‰§è¡Œå¦‚ä¸‹ SQLï¼Œæ·»åŠ çš„å¹´é¾„å­—æ®µå€¼ä¸º-1ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee(id,workno,name,gender,age,idcard,entrydate)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;Itcast&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">-1</span>,<span class="string">&#x27;123456789012345678&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°çš„ SQL è¯­å¥æ—¶ï¼ŒæŠ¥é”™äº†ï¼Œå…·ä½“çš„é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> employee(id , workno , name , gender , age , idcard , entrydate) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;Itcast&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">-1</span>,<span class="string">&#x27;123456789012345678&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;age&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line">mysql<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><p>å› ä¸º employee è¡¨çš„ age å­—æ®µç±»å‹ä¸º <strong>tinyint</strong>ï¼Œè€Œä¸”è¿˜æ˜¯<strong>æ— ç¬¦å·çš„ unsigned</strong> ï¼Œæ‰€ä»¥<strong>å–å€¼åªèƒ½åœ¨ 0-255 ä¹‹é—´ã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221813821-820043321-20231127121720-1jx2vj4.png" alt="image-20230423200022139">â€‹</p><blockquote><p><strong>2. ç»™å…¨éƒ¨å­—æ®µæ·»åŠ æ•°æ®</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> è¡¨å <span class="keyword">VALUES</span> (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...);</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>æ’å…¥æ•°æ®åˆ° employee è¡¨ï¼Œå…·ä½“çš„ SQL å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;å¼ æ— å¿Œ&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;123456789012345670&#x27;</span>,<span class="string">&#x27;2005-01-</span></span><br><span class="line"><span class="string">01&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">2</span> , <span class="string">&#x27;2&#x27;</span> , <span class="string">&#x27;å¼ æ— å¿Œ&#x27;</span> , <span class="string">&#x27;ç”·&#x27;</span> , <span class="number">18</span> , <span class="string">&#x27;123456789012345670&#x27;</span> , <span class="string">&#x27;2005-01-01&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> workno <span class="operator">|</span> name   <span class="operator">|</span> gender <span class="operator">|</span> age  <span class="operator">|</span> idcard             <span class="operator">|</span> entrydate  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">1</span>      <span class="operator">|</span> å¾å‡¤å¹´ <span class="operator">|</span> ç”·     <span class="operator">|</span>   <span class="number">23</span> <span class="operator">|</span> <span class="number">333333333333333333</span> <span class="operator">|</span> <span class="number">2000</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> <span class="number">2</span>      <span class="operator">|</span> å¼ æ— å¿Œ <span class="operator">|</span> ç”·     <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> <span class="number">123456789012345670</span> <span class="operator">|</span> <span class="number">2005</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p><strong>3. æ‰¹é‡æ·»åŠ æ•°æ®</strong></p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><p>ç¬¬ä¸€ç§ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> è¡¨å (å­—æ®µå<span class="number">1</span>, å­—æ®µå<span class="number">2</span>, ...) <span class="keyword">VALUES</span> (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...), (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...), (å€¼</span><br><span class="line"><span class="number">1</span>, å€¼<span class="number">2</span>, ...) ;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> è¡¨å <span class="keyword">VALUES</span> (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...), (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...), (å€¼<span class="number">1</span>, å€¼<span class="number">2</span>, ...) ;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>æ‰¹é‡æ’å…¥æ•°æ®åˆ° employee è¡¨ï¼Œå…·ä½“çš„ SQL å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;éŸ¦ä¸€ç¬‘&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">38</span>,<span class="string">&#x27;123456789012345670&#x27;</span>,<span class="string">&#x27;2005-01-</span></span><br><span class="line"><span class="string">01&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;èµµæ•&#x27;</span>,<span class="string">&#x27;å¥³&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;123456789012345670&#x27;</span>,<span class="string">&#x27;2005-01-01&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;éŸ¦ä¸€ç¬‘&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">38</span>,<span class="string">&#x27;123456789012345670&#x27;</span>,<span class="string">&#x27;2005-01-01&#x27;</span>),</span><br><span class="line">(<span class="number">4</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;èµµæ•&#x27;</span>,<span class="string">&#x27;å¥³&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;123456789012345670&#x27;</span>,<span class="string">&#x27;2005-01-01&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> workno <span class="operator">|</span> name   <span class="operator">|</span> gender <span class="operator">|</span> age  <span class="operator">|</span> idcard             <span class="operator">|</span> entrydate  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">1</span>      <span class="operator">|</span> å¾å‡¤å¹´ <span class="operator">|</span> ç”·     <span class="operator">|</span>   <span class="number">23</span> <span class="operator">|</span> <span class="number">333333333333333333</span> <span class="operator">|</span> <span class="number">2000</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> <span class="number">2</span>      <span class="operator">|</span> å¼ æ— å¿Œ <span class="operator">|</span> ç”·     <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> <span class="number">123456789012345670</span> <span class="operator">|</span> <span class="number">2005</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> <span class="number">3</span>      <span class="operator">|</span> éŸ¦ä¸€ç¬‘ <span class="operator">|</span> ç”·     <span class="operator">|</span>   <span class="number">38</span> <span class="operator">|</span> <span class="number">123456789012345670</span> <span class="operator">|</span> <span class="number">2005</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> <span class="number">4</span>      <span class="operator">|</span> èµµæ•   <span class="operator">|</span> å¥³     <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> <span class="number">123456789012345670</span> <span class="operator">|</span> <span class="number">2005</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+--------+--------+------+--------------------+------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>æ’å…¥æ•°æ®æ—¶ï¼ŒæŒ‡å®šçš„å­—æ®µé¡ºåºéœ€è¦ä¸å€¼çš„é¡ºåºæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚</strong></p></li><li class="lvl-2"><p><strong>å­—ç¬¦ä¸²å’Œæ—¥æœŸå‹æ•°æ®åº”è¯¥åŒ…å«åœ¨å¼•å·ä¸­ã€‚</strong></p></li><li class="lvl-2"><p><strong>æ’å…¥çš„æ•°æ®å¤§å°ï¼Œåº”è¯¥åœ¨å­—æ®µçš„è§„å®šèŒƒå›´å†…ã€‚</strong></p></li></ul><h2 id="6-2-ä¿®æ”¹æ•°æ®">6.2 ä¿®æ”¹æ•°æ®</h2><blockquote><p><strong>ä¿®æ”¹æ•°æ®çš„å…·ä½“è¯­æ³•ä¸º:</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> è¡¨å <span class="keyword">SET</span> å­—æ®µå<span class="number">1</span> <span class="operator">=</span> å€¼<span class="number">1</span> , å­—æ®µå<span class="number">2</span> <span class="operator">=</span> å€¼<span class="number">2</span> , .... [ <span class="keyword">WHERE</span> æ¡ä»¶ ] ;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><p>A. ä¿®æ”¹ id ä¸º 1 çš„æ•°æ®ï¼Œå°† name ä¿®æ”¹ä¸ºé™ˆå¹³å®‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> employee <span class="keyword">set</span> name <span class="operator">=</span> <span class="string">&#x27;é™ˆå¹³å®‰&#x27;</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221814232-369002850-20231127121720-qdo3ccd.png" alt="image-20230426083731355">â€‹</p><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221814578-1062717177-20231127121720-bbxm7fl.png" alt="image-20230426084008534">â€‹</p><p>B. ä¿®æ”¹ id ä¸º 1 çš„æ•°æ®, å°† name ä¿®æ”¹ä¸ºå°æ˜­, gender ä¿®æ”¹ä¸º å¥³</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> employee <span class="keyword">set</span> name <span class="operator">=</span> <span class="string">&#x27;å°æ˜­&#x27;</span> , gender <span class="operator">=</span> <span class="string">&#x27;å¥³&#x27;</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221814982-920438443-20231127121720-edhel6i.png" alt="image-20230426084114734">â€‹</p><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221815412-661545022-20231127121720-6uuf4l5.png" alt="image-20230426084255680">â€‹</p><p>C. å°†æ‰€æœ‰çš„å‘˜å·¥å…¥èŒæ—¥æœŸä¿®æ”¹ä¸º 2008-01-01</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> employee <span class="keyword">set</span> entrydate <span class="operator">=</span> <span class="string">&#x27;2008-01-01&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221815770-1967120081-20231127121720-c5mgxr3.png" alt="image-20230426084349465">â€‹</p><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221816162-1676998925-20231127121721-r58rw08.png" alt="image-20230426084506993">â€‹</p><blockquote><p><strong>æ³¨æ„äº‹é¡¹:</strong></p><p><strong>ä¿®æ”¹è¯­å¥çš„æ¡ä»¶å¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰æ¡ä»¶ï¼Œåˆ™ä¼šä¿®æ”¹æ•´å¼ è¡¨çš„æ‰€æœ‰æ•°æ®ã€‚</strong></p></blockquote><h2 id="6-3-åˆ é™¤æ•°æ®">6.3 åˆ é™¤æ•°æ®</h2><blockquote><p><strong>åˆ é™¤æ•°æ®çš„å…·ä½“è¯­æ³•ä¸º</strong>ï¼š</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> è¡¨å [ <span class="keyword">WHERE</span> æ¡ä»¶ ] ;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹:</p><p>A. åˆ é™¤ gender ä¸ºå¥³çš„å‘˜å·¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> employee <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;å¥³&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221816600-505597524-20231127121721-07e9awn.png" alt="image-20230426084840545">â€‹</p><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221816990-750263586-20231127121721-oseref7.png" alt="image-20230426084913968">â€‹</p><p>B. åˆ é™¤æ‰€æœ‰å‘˜å·¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221816990-750263586-20231127121721-t52w1dc.png" alt="image-20230426084913968">â€‹</p><p>ä¿®æ”¹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221817297-740564317-20231127121721-m6syuuo.png" alt="image-20230426085111316">â€‹</p><blockquote><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul class="lvl-1"><li class="lvl-2"><strong>DELETE è¯­å¥çš„æ¡ä»¶å¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰æ¡ä»¶ï¼Œåˆ™ä¼šåˆ é™¤æ•´å¼ è¡¨çš„æ‰€æœ‰æ•° æ®ã€‚</strong></li><li class="lvl-2"><strong>DELETE è¯­å¥ä¸èƒ½åˆ é™¤æŸä¸€ä¸ªå­—æ®µçš„å€¼(å¯ä»¥ä½¿ç”¨ UPDATEï¼Œå°†è¯¥å­—æ®µå€¼ç½®ä¸º NULL å³ å¯)ã€‚</strong></li><li class="lvl-2"><strong>å½“è¿›è¡Œåˆ é™¤å…¨éƒ¨æ•°æ®æ“ä½œæ—¶ï¼Œdatagrip ä¼šæç¤ºæˆ‘ä»¬ï¼Œè¯¢é—®æ˜¯å¦ç¡®è®¤åˆ é™¤ï¼Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡» Execute å³å¯ã€‚</strong></li></ul></blockquote><h1>7.DQL</h1><p>DQL è‹±æ–‡å…¨ç§°æ˜¯<code>Data Query Language(æ•°æ®æŸ¥è¯¢è¯­è¨€)</code>â€‹ï¼Œæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œ<code>ç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•</code>â€‹ã€‚</p><blockquote><p><strong>æŸ¥è¯¢å…³é”®å­—: SELECT</strong></p></blockquote><p>åœ¨ä¸€ä¸ªæ­£å¸¸çš„ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼ŒæŸ¥è¯¢æ“ä½œçš„é¢‘æ¬¡æ˜¯è¦è¿œé«˜äºå¢åˆ æ”¹çš„ï¼Œå½“æˆ‘ä»¬å»è®¿é—®ä¼ä¸šå®˜ç½‘ã€ç”µå•†ç½‘ç«™ï¼Œ åœ¨è¿™äº›ç½‘ç«™ä¸­æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ•°æ®ï¼Œå®é™…éƒ½æ˜¯éœ€è¦ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¹¶å±•ç¤ºçš„ã€‚è€Œä¸”åœ¨æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ è¿˜ä¼šæ¶‰åŠåˆ°æ¡ä»¶ã€æ’åºã€åˆ†é¡µç­‰æ“ä½œã€‚</p><p><strong>æ•°æ®å‡†å¤‡</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºè¡¨</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> comment <span class="string">&#x27;ç¼–å·&#x27;</span>,</span><br><span class="line">workno <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;å·¥å·&#x27;</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">gender <span class="type">char</span>(<span class="number">1</span>) comment <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span><br><span class="line">age tinyint unsigned comment <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">idcard <span class="type">char</span>(<span class="number">18</span>) comment <span class="string">&#x27;èº«ä»½è¯å·&#x27;</span>,</span><br><span class="line">workaddress <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;å·¥ä½œåœ°å€&#x27;</span>,</span><br><span class="line">entrydate <span class="type">date</span> comment <span class="string">&#x27;å…¥èŒæ—¶é—´&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;å‘˜å·¥è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;00001&#x27;</span>, <span class="string">&#x27;æŸ³å²©666&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;123456789&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2000-01-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;00002&#x27;</span>, <span class="string">&#x27;å¼ æ— å¿Œ&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;123456789012345670&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2005-09-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;00003&#x27;</span>, <span class="string">&#x27;éŸ¦ä¸€ç¬‘&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">38</span>, <span class="string">&#x27;123456789712345670&#x27;</span>, <span class="string">&#x27;ä¸Šæµ·&#x27;</span>, <span class="string">&#x27;2005-08-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;00004&#x27;</span>, <span class="string">&#x27;èµµæ•&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;123456757123845670&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2009-12-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">&#x27;00005&#x27;</span>, <span class="string">&#x27;å°æ˜­&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;123456769012345678&#x27;</span>, <span class="string">&#x27;ä¸Šæµ·&#x27;</span>, <span class="string">&#x27;2007-07-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">&#x27;00006&#x27;</span>, <span class="string">&#x27;æ¨é€&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;12345678931234567X&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2006-01-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">7</span>, <span class="string">&#x27;00007&#x27;</span>, <span class="string">&#x27;èŒƒç‘¶&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">40</span>, <span class="string">&#x27;123456789212345670&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2005-05-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">8</span>, <span class="string">&#x27;00008&#x27;</span>, <span class="string">&#x27;é»›ç»®ä¸&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">38</span>, <span class="string">&#x27;123456157123645670&#x27;</span>, <span class="string">&#x27;å¤©æ´¥&#x27;</span>, <span class="string">&#x27;2015-05-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">9</span>, <span class="string">&#x27;00009&#x27;</span>, <span class="string">&#x27;èŒƒå‡‰å‡‰&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">45</span>, <span class="string">&#x27;123156789012345678&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2010-04-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="string">&#x27;00010&#x27;</span>, <span class="string">&#x27;é™ˆå‹è°…&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">53</span>, <span class="string">&#x27;123456789012345670&#x27;</span>, <span class="string">&#x27;ä¸Šæµ·&#x27;</span>, <span class="string">&#x27;2011-01-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">11</span>, <span class="string">&#x27;00011&#x27;</span>, <span class="string">&#x27;å¼ å£«è¯š&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">55</span>, <span class="string">&#x27;123567897123465670&#x27;</span>, <span class="string">&#x27;æ±Ÿè‹&#x27;</span>, <span class="string">&#x27;2015-05-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">12</span>, <span class="string">&#x27;00012&#x27;</span>, <span class="string">&#x27;å¸¸é‡æ˜¥&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">32</span>, <span class="string">&#x27;123446757152345670&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2004-02-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">13</span>, <span class="string">&#x27;00013&#x27;</span>, <span class="string">&#x27;å¼ ä¸‰ä¸°&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">88</span>, <span class="string">&#x27;123656789012345678&#x27;</span>, <span class="string">&#x27;æ±Ÿè‹&#x27;</span>, <span class="string">&#x27;2020-11-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">14</span>, <span class="string">&#x27;00014&#x27;</span>, <span class="string">&#x27;ç­ç»&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">65</span>, <span class="string">&#x27;123456719012345670&#x27;</span>, <span class="string">&#x27;è¥¿å®‰&#x27;</span>, <span class="string">&#x27;2019-05-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">15</span>, <span class="string">&#x27;00015&#x27;</span>, <span class="string">&#x27;èƒ¡é’ç‰›&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">70</span>, <span class="string">&#x27;12345674971234567X&#x27;</span>, <span class="string">&#x27;è¥¿å®‰&#x27;</span>, <span class="string">&#x27;2018-04-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, workno, name, gender, age, idcard, workaddress, entrydate)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">16</span>, <span class="string">&#x27;00016&#x27;</span>, <span class="string">&#x27;å‘¨èŠ·è‹¥&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">18</span>, <span class="keyword">null</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>, <span class="string">&#x27;2012-06-01&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="7-1-åŸºæœ¬è¯­æ³•">7.1 åŸºæœ¬è¯­æ³•</h2><blockquote><p><strong>DQL æŸ¥è¯¢è¯­å¥ï¼Œè¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">å­—æ®µåˆ—è¡¨</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">è¡¨ååˆ—è¡¨</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">æ¡ä»¶åˆ—è¡¨</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">åˆ†ç»„å­—æ®µåˆ—è¡¨</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">åˆ†ç»„åæ¡ä»¶åˆ—è¡¨</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">æ’åºå­—æ®µåˆ—è¡¨</span><br><span class="line">LIMIT</span><br><span class="line">åˆ†é¡µå‚æ•°</span><br></pre></td></tr></table></figure><p><strong>è¯­æ³•æ‹†åˆ†ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬æŸ¥è¯¢ï¼ˆä¸å¸¦ä»»ä½•æ¡ä»¶ï¼‰</p></li><li class="lvl-2"><p>æ¡ä»¶æŸ¥è¯¢ï¼ˆWHEREï¼‰</p></li><li class="lvl-2"><p>èšåˆå‡½æ•°ï¼ˆcountã€maxã€minã€avgã€sumï¼‰</p></li><li class="lvl-2"><p>åˆ†ç»„æŸ¥è¯¢ï¼ˆgroup byï¼‰</p></li><li class="lvl-2"><p>æ’åºæŸ¥è¯¢ï¼ˆorder byï¼‰</p></li><li class="lvl-2"><p>åˆ†é¡µæŸ¥è¯¢ï¼ˆlimitï¼‰</p></li></ul><h2 id="7-2-åŸºç¡€æŸ¥è¯¢">7.2 åŸºç¡€æŸ¥è¯¢</h2><p><strong>åœ¨åŸºæœ¬æŸ¥è¯¢çš„ DQL è¯­å¥ä¸­ï¼Œä¸å¸¦ä»»ä½•çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒæŸ¥è¯¢çš„è¯­æ³•å¦‚ä¸‹ï¼š</strong></p><blockquote><p><strong>1. æŸ¥è¯¢å¤šä¸ªå­—æ®µ</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µ<span class="number">1</span>, å­—æ®µ<span class="number">2</span>, å­—æ®µ<span class="number">3</span> ... <span class="keyword">FROM</span> è¡¨å ;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> è¡¨å ;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ : * å·ä»£è¡¨æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼Œåœ¨å®é™…å¼€å‘ä¸­å°½é‡å°‘ç”¨ï¼ˆä¸ç›´è§‚ã€å½±å“æ•ˆç‡ï¼‰ã€‚</strong></p></blockquote><blockquote><p><strong>2. å­—æ®µè®¾ç½®åˆ«å</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µ<span class="number">1</span> [ <span class="keyword">AS</span> åˆ«å<span class="number">1</span> ] , å­—æ®µ<span class="number">2</span> [ <span class="keyword">AS</span> åˆ«å<span class="number">2</span> ] ... <span class="keyword">FROM</span> è¡¨å;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µ<span class="number">1</span> [ åˆ«å<span class="number">1</span> ] , å­—æ®µ<span class="number">2</span> [ åˆ«å<span class="number">2</span> ] ... <span class="keyword">FROM</span> è¡¨å;</span><br></pre></td></tr></table></figure><blockquote><p><strong>3. å»é™¤é‡å¤è®°å½•</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> å­—æ®µåˆ—è¡¨ <span class="keyword">FROM</span> è¡¨å;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><blockquote><p>A. æŸ¥è¯¢æŒ‡å®šå­—æ®µ name, workno, age å¹¶è¿”å›</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name,workno,age <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221817680-1204751724-20231127121721-zg8xt2j.png" alt="image-20230426095350030">â€‹</p><blockquote><p>B. æŸ¥è¯¢è¿”å›æ‰€æœ‰å­—æ®µ</p></blockquote><p><strong>ç¬¬ä¸€ç§ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id ,workno,name,gender,age,idcard,workaddress,entrydate <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬äºŒç§ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºæ˜¯æƒ³åŒçš„ ï¼Œ ä¸è¿‡æ›´å»ºè®®ä½¿ç”¨ç¬¬ä¸€ä¸­æ–¹æ³•ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221818153-54577779-20231127121721-jkwnab2.png" alt="image-20230426094712156">â€‹</p><blockquote><p>C. æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„å·¥ä½œåœ°å€,èµ·åˆ«å</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> workaddress <span class="keyword">as</span> <span class="string">&#x27;å·¥ä½œåœ°å€&#x27;</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- aså¯ä»¥çœç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> workaddress <span class="string">&#x27;å·¥ä½œåœ°å€&#x27;</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰èµ·åˆ«åå‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221818621-333086956-20231127121721-2f75nwk.png" alt="image-20230426095043443">â€‹</p><p>èµ·åˆ«åä¹‹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221818986-862277531-20231127121721-6k49mim.png" alt="image-20230426095015969">â€‹</p><blockquote><p>D. æŸ¥è¯¢å…¬å¸å‘˜å·¥çš„ä¸Šç­åœ°å€æœ‰å“ªäº›(ä¸è¦é‡å¤)</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> workaddress <span class="string">&#x27;å·¥ä½œåœ°å€&#x27;</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¯¥è¯­æ³•å‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221819359-1153174317-20231127121721-ipe67pa.png" alt="image-20230426095233573">â€‹</p><p>ä½¿ç”¨è¯¥è¯­æ³•ä¹‹åï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221819688-1228775014-20231127121721-e3c58tn.png" alt="image-20230426095310409">â€‹</p><h2 id="7-3-æ¡ä»¶æŸ¥è¯¢">7.3 æ¡ä»¶æŸ¥è¯¢</h2><blockquote><p><strong>1.è¯­æ³•</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µåˆ—è¡¨ <span class="keyword">FROM</span> è¡¨å <span class="keyword">WHERE</span> æ¡ä»¶åˆ—è¡¨ ;</span><br></pre></td></tr></table></figure><blockquote><p><strong>2. æ¡ä»¶</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221820070-605700995-20231127121721-d4k96xm.png" alt="image-20230427131853007">â€‹</p><p><strong>å¸¸ç”¨çš„é€»è¾‘è¿ç®—ç¬¦å¦‚ä¸‹:</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221820526-1625811114-20231127121721-0ygr5lr.png" alt="image-20230427131911542">â€‹</p><p>æ¡ˆä¾‹ï¼š</p><p>A. æŸ¥è¯¢å¹´é¾„ç­‰äº 88 çš„å‘˜å·¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">=</span> <span class="number">88</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221820935-1163852875-20231127121721-yiisgca.png" alt="image-20230427132112210">â€‹</p><p>B. æŸ¥è¯¢å¹´é¾„å°äº 20 çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&lt;</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221821430-226321716-20231127121722-k6rfup7.png" alt="image-20230427132243237">â€‹</p><p>C. æŸ¥è¯¢å¹´é¾„å°äºç­‰äº 20 çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&lt;=</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221821887-387042361-20231127121722-fm3rfk6.png" alt="image-20230427132449264">â€‹</p><p>D. æŸ¥è¯¢æ²¡æœ‰èº«ä»½è¯å·çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> idcard <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221822325-810683804-20231127121722-zloezrd.png" alt="image-20230427132639831">â€‹</p><p>E. æŸ¥è¯¢æœ‰èº«ä»½è¯å·çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> idcard <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221822837-535928460-20231127121722-rbszlb3.png" alt="image-20230427135551768">â€‹</p><p>F. æŸ¥è¯¢å¹´é¾„ä¸ç­‰äº 88 çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">!=</span> <span class="number">88</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&lt;&gt;</span> <span class="number">88</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221823350-1683352113-20231127121722-xubjean.png" alt="image-20230427135745897">â€‹</p><p>G. æŸ¥è¯¢å¹´é¾„åœ¨ 15 å²(åŒ…å«) åˆ° 20 å²(åŒ…å«)ä¹‹é—´çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&gt;=</span> <span class="number">15</span> <span class="operator">&amp;&amp;</span> age <span class="operator">&lt;=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&gt;=</span> <span class="number">15</span> <span class="keyword">and</span> age <span class="operator">&lt;=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="assets/net-img-2942345-20230429221823851-583667052-20231127121722-3igx7pa.png" alt="image-20230427140055874">â€‹</p><p>H. æŸ¥è¯¢æ€§åˆ«ä¸º å¥³ ä¸”å¹´é¾„å°äº 25 å²çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;å¥³&#x27;</span> <span class="keyword">and</span> age <span class="operator">&lt;</span> <span class="number">25</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221824304-346197296-20231127121722-wgbfg51.png" alt="image-20230427140217223">â€‹</p><p>I. æŸ¥è¯¢å¹´é¾„ç­‰äº 18 æˆ– 20 æˆ– 40 çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">=</span> <span class="number">18</span> <span class="keyword">or</span> age <span class="operator">=</span> <span class="number">20</span> <span class="keyword">or</span> age <span class="operator">=</span><span class="number">40</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="keyword">in</span>(<span class="number">18</span>,<span class="number">20</span>,<span class="number">40</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221824752-2137500427-20231127121722-b8g8ptj.png" alt="image-20230427140405658">â€‹</p><p>J. æŸ¥è¯¢å§“åä¸ºä¸¤ä¸ªå­—çš„å‘˜å·¥ä¿¡æ¯ _ %</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;__&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221825240-954765200-20231127121723-h4ol96f.png" alt="image-20230427140633058">â€‹</p><p>K. æŸ¥è¯¢èº«ä»½è¯å·æœ€åä¸€ä½æ˜¯ X çš„å‘˜å·¥ä¿¡æ¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> idcard <span class="keyword">like</span> <span class="string">&#x27;%X&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> idcard <span class="keyword">like</span> <span class="string">&#x27;_________________X&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221825695-1635507923-20231127121723-gwsc5r9.png" alt="image-20230427140839834">â€‹</p><h2 id="7-4-èšåˆå‡½æ•°">7.4 èšåˆå‡½æ•°</h2><p><strong>ä»‹ç»ï¼š</strong></p><blockquote><p><strong>å°†ä¸€åˆ—æ•°æ®ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œçºµå‘è®¡ç®— ã€‚</strong></p></blockquote><p><strong>å¸¸è§çš„èšåˆå‡½æ•°</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221826054-126717578-20231127121723-sof9089.png" alt="image-20230428204930049">â€‹</p><p><strong>è¯­æ³•</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> èšåˆå‡½æ•°(å­—æ®µåˆ—è¡¨) <span class="keyword">FROM</span> è¡¨å ;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ : NULL å€¼æ˜¯ä¸å‚ä¸æ‰€æœ‰èšåˆå‡½æ•°è¿ç®—çš„ã€‚</p></blockquote><p>å¯¹äº count èšåˆå‡½æ•°ï¼Œ<strong>ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„æ€»è®°å½•æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡ count(æ•°å­—/å­—ç¬¦ä¸²)çš„å½¢å¼è¿›è¡Œç»Ÿè®¡æŸ¥è¯¢</strong>ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="number">1</span>) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äº count(*) ã€count(å­—æ®µ)ã€ count(1) çš„å…·ä½“åŸç†ï¼Œæˆ‘ä»¬åœ¨è¿›é˜¶ç¯‡ä¸­ SQL ä¼˜åŒ–éƒ¨åˆ†ä¼šè¯¦ ç»†è®²è§£ï¼Œæ­¤å¤„å¤§å®¶åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨å³å¯ã€‚</p></blockquote><h2 id="7-5-åˆ†ç»„æŸ¥è¯¢">7.5 åˆ†ç»„æŸ¥è¯¢</h2><ol><li class="lvl-3"><p><strong>è¯­æ³•</strong></p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µåˆ—è¡¨ <span class="keyword">FROM</span> è¡¨å [ <span class="keyword">WHERE</span> æ¡ä»¶ ] <span class="keyword">GROUP</span> <span class="keyword">BY</span> åˆ†ç»„å­—æ®µå [ <span class="keyword">HAVING</span> åˆ†ç»„åè¿‡æ»¤æ¡ä»¶ ];</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p><strong>where ä¸ having åŒºåˆ«</strong></p></li></ol><ul class="lvl-0"><li class="lvl-2"><p><strong>æ‰§è¡Œæ—¶æœºä¸åŒ</strong>ï¼šwhere æ˜¯åˆ†ç»„ä¹‹å‰è¿›è¡Œè¿‡æ»¤ï¼Œä¸æ»¡è¶³ where æ¡ä»¶ï¼Œä¸å‚ä¸åˆ†ç»„ï¼›è€Œ having æ˜¯åˆ†ç»„ ä¹‹åå¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ã€‚</p></li><li class="lvl-2"><p><strong>åˆ¤æ–­æ¡ä»¶ä¸åŒï¼šwhere ä¸èƒ½å¯¹èšåˆå‡½æ•°è¿›è¡Œåˆ¤æ–­ï¼Œè€Œ having å¯ä»¥ã€‚</strong></p></li></ul><blockquote><p>æ³¨æ„äº‹é¡¹:</p><p>â€¢ åˆ†ç»„ä¹‹åï¼ŒæŸ¥è¯¢çš„å­—æ®µä¸€èˆ¬ä¸ºèšåˆå‡½æ•°å’Œåˆ†ç»„å­—æ®µï¼ŒæŸ¥è¯¢å…¶ä»–å­—æ®µæ— ä»»ä½•æ„ä¹‰ã€‚</p><p>â€¢ æ‰§è¡Œé¡ºåº: **where &gt; èšåˆå‡½æ•° &gt; having **</p><p>â€¢ æ”¯æŒå¤šå­—æ®µåˆ†ç»„, å…·ä½“è¯­æ³•ä¸º : <strong>group by columnA,columnB</strong></p></blockquote><h2 id="7-6-æ’åºæŸ¥è¯¢">7.6 æ’åºæŸ¥è¯¢</h2><p>æ’åºåœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªæ“ä½œï¼Œæœ‰å‡åºæ’åºï¼Œä¹Ÿæœ‰é™åºæ’åºã€‚</p><ol><li class="lvl-3"><p><strong>è¯­æ³•ï¼š</strong></p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µåˆ—è¡¨ <span class="keyword">FROM</span> è¡¨å <span class="keyword">ORDER</span> <span class="keyword">BY</span> å­—æ®µ<span class="number">1</span> æ’åºæ–¹å¼<span class="number">1</span> , å­—æ®µ<span class="number">2</span> æ’åºæ–¹å¼<span class="number">2</span> ;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æ’åºæ–¹å¼</p><ul class="lvl-2"><li class="lvl-6">ASC : å‡åº(é»˜è®¤å€¼)</li><li class="lvl-6">DESC: é™åº</li></ul><blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul class="lvl-3"><li class="lvl-2">å¦‚æœæ˜¯å‡åº, å¯ä»¥ä¸æŒ‡å®šæ’åºæ–¹å¼ ASC ;</li><li class="lvl-2">å¦‚æœæ˜¯å¤šå­—æ®µæ’åºï¼Œå½“ç¬¬ä¸€ä¸ªå­—æ®µå€¼ç›¸åŒæ—¶ï¼Œæ‰ä¼šæ ¹æ®ç¬¬äºŒä¸ªå­—æ®µè¿›è¡Œæ’åº ;</li></ul></blockquote></li></ol><p>æ¡ˆä¾‹ï¼š</p><p>A. æ ¹æ®å¹´é¾„å¯¹å…¬å¸çš„å‘˜å·¥è¿›è¡Œå‡åºæ’åº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> age;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221826530-1647890493-20231127121723-y07w6ei.png" alt="image-20230429131551172">â€‹</p><p>B. æ ¹æ®å…¥èŒæ—¶é—´, å¯¹å‘˜å·¥è¿›è¡Œé™åºæ’åº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> entrydate <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤º</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221827098-698755346-20231127121723-nr23kh5.png" alt="image-20230429131735436">â€‹</p><p>C. æ ¹æ®å¹´é¾„å¯¹å…¬å¸çš„å‘˜å·¥è¿›è¡Œå‡åºæ’åº , å¹´é¾„ç›¸åŒ , å†æŒ‰ç…§å…¥èŒæ—¶é—´è¿›è¡Œé™åºæ’åº</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span> , entrydate <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤º</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221827620-557032807-20231127121723-n6udw5j.png" alt="image-20230429131941837">â€‹</p><h2 id="7-7-åˆ†é¡µæŸ¥è¯¢">7.7 åˆ†é¡µæŸ¥è¯¢</h2><p>åˆ†é¡µæ“ä½œåœ¨ä¸šåŠ¡ç³»ç»Ÿå¼€å‘æ—¶ï¼Œä¹Ÿæ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬åœ¨ç½‘ç«™ä¸­çœ‹åˆ°çš„å„ç§å„æ ·çš„åˆ†é¡µæ¡ï¼Œåå° éƒ½éœ€è¦å€ŸåŠ©äºæ•°æ®åº“çš„åˆ†é¡µæ“ä½œã€‚</p><ol><li class="lvl-3"><p><strong>è¯­æ³•ï¼š</strong></p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µåˆ—è¡¨ <span class="keyword">FROM</span> è¡¨å LIMIT èµ·å§‹ç´¢å¼•, æŸ¥è¯¢è®°å½•æ•° ;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„äº‹é¡¹:</p><ul class="lvl-3"><li class="lvl-2"><em><em>èµ·å§‹ç´¢å¼•ä» 0 å¼€å§‹ï¼Œèµ·å§‹ç´¢å¼• = ï¼ˆæŸ¥è¯¢é¡µç  - 1ï¼‰</em> æ¯é¡µæ˜¾ç¤ºè®°å½•æ•°ã€‚</em>*</li><li class="lvl-2"><strong>åˆ†é¡µæŸ¥è¯¢æ˜¯æ•°æ®åº“çš„æ–¹è¨€ï¼Œä¸åŒçš„æ•°æ®åº“æœ‰ä¸åŒçš„å®ç°ï¼ŒMySQL ä¸­æ˜¯ LIMITã€‚</strong></li><li class="lvl-2"><strong>å¦‚æœæŸ¥è¯¢çš„æ˜¯ç¬¬ä¸€é¡µæ•°æ®ï¼Œèµ·å§‹ç´¢å¼•å¯ä»¥çœç•¥ï¼Œç›´æ¥ç®€å†™ä¸º limit 10ã€‚</strong></li></ul></blockquote></li></ol><p>æ¡ˆä¾‹ï¼š</p><p>A. æŸ¥è¯¢ç¬¬ 1 é¡µå‘˜å·¥æ•°æ®, æ¯é¡µå±•ç¤º 10 æ¡è®°å½•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">0</span>,<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">10</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221828091-1014453429-20231127121723-uilirsl.png" alt="image-20230429132320191">â€‹</p><p>B. æŸ¥è¯¢ç¬¬ 2 é¡µå‘˜å·¥æ•°æ®, æ¯é¡µå±•ç¤º 10 æ¡è®°å½• --------&gt; (é¡µç -1)*é¡µå±•ç¤ºè®°å½•æ•°</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">10</span>,<span class="number">10</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221828563-1943528113-20231127121724-itg594h.png" alt="image-20230429132505487">â€‹</p><h2 id="7-8-æ‰§è¡Œé¡ºåº">7.8 æ‰§è¡Œé¡ºåº</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221828997-594190798-20231127121724-6n881fe.png" alt="image-20230429133850462">â€‹</p><p>éªŒè¯ï¼š</p><p>æŸ¥è¯¢å¹´é¾„å¤§äº 15 çš„å‘˜å·¥å§“åã€å¹´é¾„ï¼Œå¹¶æ ¹æ®å¹´é¾„è¿›è¡Œå‡åºæ’åºã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name , age <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&gt;</span> <span class="number">15</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221829501-382405608-20231127121724-wkgfekn.png" alt="image-20230429134116935">â€‹</p><p>åœ¨æŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬ç»™ emp è¡¨èµ·ä¸€ä¸ªåˆ«å eï¼Œç„¶ååœ¨ select åŠ where ä¸­ä½¿ç”¨è¯¥åˆ«åã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.name , e.age <span class="keyword">from</span> emp e <span class="keyword">where</span> e.age <span class="operator">&gt;</span> <span class="number">15</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221829501-382405608-20231127121724-72hndt2.png" alt="image-20230429134116935">â€‹</p><blockquote><p>æ‰§è¡Œä¸Šè¿° SQL è¯­å¥åï¼Œæˆ‘ä»¬çœ‹åˆ°ä¾ç„¶å¯ä»¥æ­£å¸¸çš„æŸ¥è¯¢åˆ°ç»“æœï¼Œæ­¤æ—¶å°±è¯´æ˜ï¼š from å…ˆæ‰§è¡Œ, ç„¶å where å’Œ select æ‰§è¡Œã€‚é‚£ where å’Œ select åˆ°åº•å“ªä¸ªå…ˆæ‰§è¡Œå‘¢?</p></blockquote><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç»™ select åé¢çš„å­—æ®µèµ·åˆ«åï¼Œç„¶ååœ¨ where ä¸­ä½¿ç”¨è¿™ä¸ªåˆ«åï¼Œç„¶åçœ‹çœ‹æ˜¯å¦å¯ ä»¥æ‰§è¡ŒæˆåŠŸã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.name ename , e.age eage <span class="keyword">from</span> emp e <span class="keyword">where</span> eage <span class="operator">&gt;</span> <span class="number">15</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿° SQL æŠ¥é”™äº†:</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221829974-469592531-20231127121724-lvc2tne.png" alt="image-20230429134533105">â€‹</p><blockquote><p>ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®º: <strong>from å…ˆæ‰§è¡Œï¼Œç„¶åæ‰§è¡Œ where ï¼Œ å†æ‰§è¡Œ select ã€‚</strong></p></blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ‰§è¡Œå¦‚ä¸‹ SQL è¯­å¥ï¼ŒæŸ¥çœ‹æ‰§è¡Œæ•ˆæœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.name ename , e.age eage <span class="keyword">from</span> emp e <span class="keyword">where</span> e.age <span class="operator">&gt;</span> <span class="number">15</span> <span class="keyword">order</span> <span class="keyword">by</span> eage <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221830424-858321476-20231127121724-r4qm64s.png" alt="image-20230429134733358">â€‹</p><p>ç»“æœæ‰§è¡ŒæˆåŠŸã€‚ é‚£ä¹ˆä¹Ÿå°±éªŒè¯äº†: order by æ˜¯åœ¨ select è¯­å¥ä¹‹åæ‰§è¡Œçš„ã€‚</p><blockquote><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° DQL è¯­å¥çš„<strong>æ‰§è¡Œé¡ºåºä¸ºï¼š from â€¦ where â€¦ group by â€¦ having â€¦ select â€¦ order by â€¦ limit â€¦</strong></p></blockquote><h1>8. DCL</h1><blockquote><p>DCL è‹±æ–‡å…¨ç§°æ˜¯ Data Control Language(æ•°æ®æ§åˆ¶è¯­è¨€)ï¼Œ<strong>ç”¨æ¥ç®¡ç†æ•°æ®åº“ç”¨æˆ·ã€æ§åˆ¶æ•°æ®åº“çš„è®¿ é—®æƒé™ã€‚</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221830900-2134093449-20231127121724-l8jyzx9.png" alt="image-20230429215032354">â€‹</p><h2 id="8-1-ç®¡ç†ç”¨æˆ·">8.1 ç®¡ç†ç”¨æˆ·</h2><blockquote><p><strong>1. æŸ¥è¯¢ç”¨æˆ·</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mysql.user;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221831329-393013424-20231127121724-ypu2pkq.png" alt="image-20230429215243174">â€‹</p><p>å…¶ä¸­ <strong>Host ä»£è¡¨å½“å‰ç”¨æˆ·è®¿é—®çš„ä¸»æœº</strong>, å¦‚æœä¸º localhost, ä»…ä»£è¡¨åªèƒ½å¤Ÿåœ¨å½“å‰æœ¬æœºè®¿é—®ï¼Œæ˜¯ä¸å¯ä»¥ è¿œç¨‹è®¿é—®çš„ã€‚ <strong>User ä»£è¡¨çš„æ˜¯è®¿é—®è¯¥æ•°æ®åº“çš„ç”¨æˆ·å</strong>ã€‚åœ¨ MySQL ä¸­éœ€è¦é€šè¿‡ Host å’Œ User æ¥å”¯ä¸€æ ‡è¯†ä¸€ ä¸ªç”¨æˆ·ã€‚</p><blockquote><p><strong>2. åˆ›å»ºç”¨æˆ·</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ä¸»æœºå&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;å¯†ç &#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p><strong>3. ä¿®æ”¹ç”¨æˆ·å¯†ç </strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ä¸»æœºå&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;æ–°å¯†ç &#x27;</span> ;</span><br></pre></td></tr></table></figure><blockquote><p><strong>4. åˆ é™¤ç”¨æˆ·</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ä¸»æœºå&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„äº‹é¡¹:</p><ul class="lvl-1"><li class="lvl-2"><strong>åœ¨ MySQL ä¸­éœ€è¦é€šè¿‡ç”¨æˆ·å@ä¸»æœºåçš„æ–¹å¼ï¼Œæ¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªç”¨æˆ·ã€‚</strong></li><li class="lvl-2"><strong>ä¸»æœºåå¯ä»¥ä½¿ç”¨ % é€šé…ã€‚</strong></li><li class="lvl-2"><strong>è¿™ç±» SQL å¼€å‘äººå‘˜æ“ä½œçš„æ¯”è¾ƒå°‘ï¼Œä¸»è¦æ˜¯ DBAï¼ˆ Database Administrator æ•°æ®åº“ ç®¡ç†å‘˜ï¼‰ä½¿ç”¨ã€‚</strong></li></ul></blockquote><p>æ¡ˆä¾‹ï¼š</p><p>A. åˆ›å»ºç”¨æˆ· itcast, åªèƒ½å¤Ÿåœ¨å½“å‰ä¸»æœº localhost è®¿é—®, å¯†ç  123456;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;itcast&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221831863-1591669678-20231127121725-nn1n5d7.png" alt="image-20230429220415116">â€‹</p><p>B. åˆ›å»ºç”¨æˆ· heima, å¯ä»¥åœ¨ä»»æ„ä¸»æœºè®¿é—®è¯¥æ•°æ®åº“, å¯†ç  123456;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221832395-440530340-20231127121725-trol0ah.png" alt="image-20230429220728489">â€‹</p><p>C. ä¿®æ”¹ç”¨æˆ· heima çš„è®¿é—®å¯†ç ä¸º 1234;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">with</span> mysql_native_password <span class="keyword">by</span> <span class="string">&#x27;1234&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221832962-1585160389-20231127121725-ismsqkb.png" alt="image-20230429221021218">â€‹</p><p>D. åˆ é™¤ itcast@localhost ç”¨æˆ·</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;itcast&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221833564-1316229773-20231127121725-l0aeob7.png" alt="image-20230429221306572">â€‹</p><h2 id="8-2-æƒé™æ§åˆ¶">8.2 æƒé™æ§åˆ¶</h2><p>MySQL ä¸­å®šä¹‰äº†å¾ˆå¤šç§æƒé™ï¼Œä½†æ˜¯å¸¸ç”¨çš„å°±ä»¥ä¸‹å‡ ç§ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230429221833965-675536777-20231127121725-j9owltd.png" alt="image-20230429221508473">â€‹</p><blockquote><p><strong>1. æŸ¥è¯¢æƒé™</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ä¸»æœºå&#x27;</span> ;</span><br></pre></td></tr></table></figure><blockquote><p><strong>2. æˆäºˆæƒé™</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> æƒé™åˆ—è¡¨ <span class="keyword">ON</span> æ•°æ®åº“å.è¡¨å <span class="keyword">TO</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ä¸»æœºå&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p><strong>3. æ’¤é”€æƒé™</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> æƒé™åˆ—è¡¨ <span class="keyword">ON</span> æ•°æ®åº“å.è¡¨å <span class="keyword">FROM</span> <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;ä¸»æœºå&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul class="lvl-1"><li class="lvl-2"><strong>å¤šä¸ªæƒé™ä¹‹é—´ï¼Œä½¿ç”¨é€—å·åˆ†éš”</strong></li><li class="lvl-2"><strong>æˆæƒæ—¶ï¼Œ æ•°æ®åº“åå’Œè¡¨åå¯ä»¥ä½¿ç”¨ * è¿›è¡Œé€šé…ï¼Œä»£è¡¨æ‰€æœ‰ã€‚</strong></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MysqlåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1-MySQLæ¦‚è¿°</title>
      <link href="/posts/629aaf98.html"/>
      <url>/posts/629aaf98.html</url>
      
        <content type="html"><![CDATA[<h1>1. æ•°æ®åº“ç›¸å…³æ¦‚å¿µ</h1><blockquote><p>æ•°æ®åº“ ï¼Œ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ ï¼ŒSQL</p></blockquote><table><thead><tr><th>åç§°</th><th>å…¨ç§°</th><th>ç®€ç§°</th></tr></thead><tbody><tr><td>æ•°æ®åº“</td><td><strong>å­˜å‚¨æ•°æ®çš„ä»“åº“</strong>ï¼Œæ•°æ®æ˜¯æœ‰ç»„ç»‡çš„è¿›è¡Œå­˜å‚¨</td><td>DataBaseï¼ˆDBï¼‰</td></tr><tr><td>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</td><td>æ“çºµå’Œç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶</td><td>DataBase Management System (DBMS)</td></tr><tr><td>SQL</td><td>æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®šä¹‰äº†ä¸€å¥—æ“ä½œ å…³ç³»å‹æ•°æ®åº“ç»Ÿä¸€<strong>æ ‡å‡†</strong></td><td>Structured Query Language (SQL)</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230422164020280-1485291161-20231127093306-rizzj17.png" alt="image-20230422160458690">â€‹</p><p>ç›®å‰ä¸»æµçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„å¸‚åœºå æœ‰ç‡æ’åå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230422164020778-714225309-20231127093306-5o140kg.png" alt="image-20230422160535747">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>Oracleï¼šå¤§å‹çš„æ”¶è´¹æ•°æ®åº“ï¼ŒOracle å…¬å¸äº§å“ï¼Œä»·æ ¼æ˜‚è´µã€‚</p></li><li class="lvl-2"><p>MySQLï¼šå¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ï¼Œåæ¥ Sun å…¬å¸æ”¶è´­äº† MySQLï¼Œè€Œ Oracle åˆæ”¶è´­äº† Sun å…¬å¸ã€‚ ç›®å‰ Oracle æ¨å‡ºäº†æ”¶è´¹ç‰ˆæœ¬çš„ MySQLï¼Œä¹Ÿæä¾›äº†å…è´¹çš„ç¤¾åŒºç‰ˆæœ¬ã€‚</p></li><li class="lvl-2"><p>SQL Serverï¼šMicrosoft å…¬å¸æ¨å‡ºçš„æ”¶è´¹çš„ä¸­å‹æ•°æ®åº“ï¼ŒC#ã€.net ç­‰è¯­è¨€å¸¸ç”¨</p></li><li class="lvl-2"><p>PostgreSQLï¼šå¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ã€‚ DB2ï¼šIBM å…¬å¸çš„å¤§å‹æ”¶è´¹æ•°æ®åº“äº§å“ã€‚</p></li><li class="lvl-2"><p>SQLLiteï¼šåµŒå…¥å¼çš„å¾®å‹æ•°æ®åº“ã€‚Android å†…ç½®çš„æ•°æ®åº“é‡‡ç”¨çš„å°±æ˜¯è¯¥æ•°æ®åº“ã€‚</p></li><li class="lvl-2"><p>MariaDBï¼šå¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ã€‚æ˜¯ MySQL æ•°æ®åº“çš„å¦å¤–ä¸€ä¸ªåˆ†æ”¯ã€å¦å¤–ä¸€ä¸ªè¡ç”Ÿäº§å“ï¼Œä¸ MySQL æ•°æ®åº“æœ‰å¾ˆå¥½çš„å…¼å®¹æ€§ã€‚</p></li></ul><blockquote><p>è€Œä¸è®ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä¸Šé¢çš„å“ªä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œæœ€ç»ˆåœ¨æ“ä½œæ—¶ï¼Œéƒ½æ˜¯ä½¿ç”¨ SQL è¯­è¨€æ¥è¿›è¡Œç»Ÿä¸€æ“ä½œï¼Œ å› ä¸ºæˆ‘ä»¬å‰é¢è®²åˆ° SQL è¯­è¨€ï¼Œæ˜¯æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ <strong>ç»Ÿä¸€æ ‡å‡†</strong></p></blockquote><h1>2. MySQL æ•°æ®åº“</h1><h2 id="2-1-MySQL-çš„ä¸‹è½½å®‰è£…">2.1 MySQL çš„ä¸‹è½½å®‰è£…</h2><p><strong>è¯¦è§</strong>ï¼š <a href="https://www.cnblogs.com/NorthPoet/p/16901095.html">https://www.cnblogs.com/NorthPoet/p/16901095.html</a></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>p</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ ï¼š -u æŒ‡å®šè¿æ¥ç”¨æˆ·å ï¼Œ-p æŒ‡å®šè¿æ¥å¯†ç </p></blockquote><h2 id="2-2-æ•°æ®æ¨¡å‹">2.2 æ•°æ®æ¨¡å‹</h2><h3 id="2-2-1-å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰">2.2.1 å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰</h3><blockquote><p>æ¦‚å¿µï¼šå»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šï¼Œç”±å¤šå¼ ç›¸äº’è¿æ¥çš„äºŒç»´è¡¨ç»„æˆçš„æ•°æ®åº“ã€‚</p></blockquote><p>è€Œæ‰€è°“äºŒç»´è¡¨ï¼ŒæŒ‡çš„æ˜¯ç”±è¡Œå’Œåˆ—ç»„æˆçš„è¡¨ï¼Œå¦‚ä¸‹å›¾ï¼ˆ<strong>å°±ç±»ä¼¼äº Excel è¡¨æ ¼æ•°æ®ï¼Œæœ‰è¡¨å¤´ã€æœ‰åˆ—ã€æœ‰è¡Œï¼Œ è¿˜å¯ä»¥é€šè¿‡ä¸€åˆ—å…³è”å¦å¤–ä¸€ä¸ªè¡¨æ ¼ä¸­çš„æŸä¸€åˆ—æ•°æ®</strong>ï¼‰ã€‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ MySQLã€Oracleã€DB2ã€ SQLServer è¿™äº›éƒ½æ˜¯å±äºå…³ç³»å‹æ•°æ®åº“ï¼Œé‡Œé¢éƒ½æ˜¯åŸºäºäºŒç»´è¡¨å­˜å‚¨æ•°æ®çš„ã€‚ç®€å•è¯´ï¼ŒåŸºäºäºŒç»´è¡¨å­˜å‚¨ æ•°æ®çš„æ•°æ®åº“å°±æˆä¸ºå…³ç³»å‹æ•°æ®åº“ï¼Œä¸æ˜¯åŸºäºäºŒç»´è¡¨å­˜å‚¨æ•°æ®çš„æ•°æ®åº“ï¼Œå°±æ˜¯éå…³ç³»å‹æ•°æ®åº“ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230422164021137-2021991269-20231127093306-rgg297h.png" alt="image-20230422163441345">â€‹</p><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p><strong>ä½¿ç”¨è¡¨å­˜å‚¨æ•°æ®ï¼Œæ ¼å¼ç»Ÿä¸€ï¼Œä¾¿äºç»´æŠ¤ã€‚</strong></p></li><li class="lvl-2"><p><strong>ä½¿ç”¨ SQL è¯­è¨€æ“ä½œï¼Œæ ‡å‡†ç»Ÿä¸€ï¼Œä½¿ç”¨æ–¹ä¾¿ã€‚</strong></p></li></ul><h3 id="2-2-2-æ•°æ®æ¨¡å‹">2.2.2 æ•°æ®æ¨¡å‹</h3><blockquote><p>MySQL æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œæ˜¯åŸºäºäºŒç»´è¡¨è¿›è¡Œæ•°æ®å­˜å‚¨çš„ï¼Œå…·ä½“çš„ç»“æ„å›¾ä¸‹:</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230422164021517-247250016-20231127093306-8n5flg2.png" alt="image-20230422163705424">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p><strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡ MySQL å®¢æˆ·ç«¯è¿æ¥æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ DBMSï¼Œç„¶åé€šè¿‡ DBMS æ“ä½œæ•°æ®åº“ã€‚</strong></p></li><li class="lvl-2"><p><strong>å¯ä»¥ä½¿ç”¨ SQL è¯­å¥ï¼Œé€šè¿‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ“ä½œæ•°æ®åº“ï¼Œä»¥åŠæ“ä½œæ•°æ®åº“ä¸­çš„è¡¨ç»“æ„åŠæ•°æ®ã€‚</strong></p></li><li class="lvl-2"><p><strong>ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªæ•°æ®åº“</strong>ï¼Œ<strong>ä¸€ä¸ªæ•°æ®åº“ä¸­ä¹Ÿå¯ä»¥åŒ…å«å¤šå¼ è¡¨</strong>ï¼Œ<strong>è€Œä¸€å¼ è¡¨ä¸­åˆå¯ä»¥åŒ… å«å¤šè¡Œè®°å½•ã€‚</strong></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MysqlåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4. IDEAçš„å®‰è£…ä¸ä½¿ç”¨ï¼ˆä¸Šï¼‰</title>
      <link href="/posts/ed8ba887.html"/>
      <url>/posts/ed8ba887.html</url>
      
        <content type="html"><![CDATA[<h2 id="æœ¬ç« ä¸“é¢˜ä¸è„‰ç»œ">æœ¬ç« ä¸“é¢˜ä¸è„‰ç»œ</h2><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194227836-518611559.png" alt="ç¬¬1é˜¶æ®µï¼šJavaåŸºæœ¬è¯­æ³•-ç¬¬04ç« " style="zoom:50%;" /><hr><p><strong>ã€Why IDEA ?ã€‘</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194235723-907595215-20230929073515-e3hopcz.png" alt="image-20221018105217845">â€‹</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194228436-291230161.jpg" alt="2022-10-18_11-00-29" style="zoom:80%;" /><blockquote><p>ã€æ³¨ã€‘JetBrainså®˜æ–¹è¯´æ˜ï¼š</p><p>å°½ç®¡æˆ‘ä»¬é‡‡å–äº†å¤šç§æªæ–½ç¡®ä¿å—è®¿è€…çš„ä»£è¡¨æ€§ï¼Œä½†ç»“æœå¯èƒ½ä¼šç•¥å¾®åå‘ JetBrains äº§å“çš„ç”¨æˆ·ï¼Œå› ä¸ºè¿™äº›ç”¨æˆ·æ›´æœ‰å¯èƒ½å‚åŠ è°ƒæŸ¥ã€‚</p></blockquote><p>æ­¤å¤–ï¼Œ2022å¹´ï¼ŒæŸç¾å›½è½¯ä»¶å¼€å‘å•†åœ¨å¯¹è¿‘åƒåä¸“ä¸šçš„Javaå¼€å‘è€…è°ƒç ”åï¼Œå‘å¸ƒäº†ã€Š2022å¹´Javaå¼€å‘è€…ç”Ÿäº§åŠ›æŠ¥å‘Šã€‹ã€‚æŠ¥å‘Šæåˆ°ï¼šJetBrains çš„ IntelliJ IDEAæ˜¯æœ€å—æ¬¢è¿çš„ Java IDEï¼Œå  <code>48%</code>â€‹ï¼Œå…¶æ¬¡æ˜¯ Eclipseï¼Œå  24%ï¼ŒVisual Studio Code å  18%ã€‚</p><hr><p>æœ¬ç€&quot;<code>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨</code>â€‹&quot;çš„ç²¾ç¥ï¼Œæœ¬ç« ä»IDEAçš„ä»‹ç»ã€å®‰è£…ã€è®¾ç½®å…¥æ‰‹ï¼Œè®²è§£IDEAä¸­é¡¹ç›®çš„åˆ›å»ºã€å¿«æ·é”®ä¸æ¨¡æ¿çš„ä½¿ç”¨ã€æ–­ç‚¹è°ƒè¯•ã€å¸¸ç”¨æ’ä»¶ç­‰ã€‚</p><h2 id="1-è®¤è¯†IntelliJ-IDEA">1. è®¤è¯†IntelliJ IDEA</h2><h3 id="1-1-JetBrains-å…¬å¸ä»‹ç»">1.1 JetBrains  å…¬å¸ä»‹ç»</h3><p>IDEAï¼Œæ˜¯ JetBrains (<a href="https://www.jetbrains.com/">https://www.jetbrains.com/</a>)å…¬å¸çš„äº§å“ï¼Œè¯¥å…¬å¸æˆç«‹äº2000å¹´ï¼Œæ€»éƒ¨ä½äºæ·å…‹çš„å¸ƒæ‹‰æ ¼ï¼Œè‡´åŠ›äºä¸ºå¼€å‘è€…æ‰“é€ æœ€é«˜æ•ˆæ™ºèƒ½çš„å¼€å‘å·¥å…·ã€‚</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194228810-972333514.png" alt="1576217376761" style="zoom:80%;" /><p>å…¬å¸æ——ä¸‹è¿˜æœ‰å…¶å®ƒäº§å“ï¼Œæ¯”å¦‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>WebStormï¼šç”¨äºå¼€å‘ JavaScriptã€HTML5ã€CSS3 ç­‰å‰ç«¯æŠ€æœ¯</p></li><li class="lvl-2"><p>PyCharmï¼šç”¨äºå¼€å‘ python</p></li><li class="lvl-2"><p>PhpStormï¼šç”¨äºå¼€å‘ PHP</p></li><li class="lvl-2"><p>RubyMineï¼šç”¨äºå¼€å‘ Ruby/Rails</p></li><li class="lvl-2"><p>AppCodeï¼šç”¨äºå¼€å‘ Objective - C/Swift</p></li><li class="lvl-2"><p>CLionï¼šç”¨äºå¼€å‘ C/C++</p></li><li class="lvl-2"><p>DataGripï¼šç”¨äºå¼€å‘æ•°æ®åº“å’Œ SQL</p></li><li class="lvl-2"><p>Riderï¼š<a href="http://xn--6kq11kn9kgkw.NET">ç”¨äºå¼€å‘.NET</a></p></li><li class="lvl-2"><p>GoLandï¼šç”¨äºå¼€å‘ Go</p></li></ul><p>ç”¨äºå¼€å‘ Androidçš„Android Studioï¼Œä¹Ÿæ˜¯Google åŸºäº IDEA ç¤¾åŒºç‰ˆè¿›è¡Œè¿­ä»£çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194236236-408473233-20230929073515-x0io18d.png" alt="1593264471351">â€‹</p><h3 id="1-2-IntelliJ-IDEA-ä»‹ç»">1.2 IntelliJ IDEA  ä»‹ç»</h3><p>IDEAï¼Œå…¨ç§° <code>IntelliJ IDEA</code>â€‹ï¼Œæ˜¯ Java è¯­è¨€çš„é›†æˆå¼€å‘ç¯å¢ƒï¼Œç›®å‰å·²ç»ï¼ˆåŸºæœ¬ï¼‰<code>ä»£æ›¿</code>â€‹äº†Eclipseçš„ä½¿ç”¨ã€‚IDEA åœ¨ä¸šç•Œè¢«å…¬è®¤ä¸ºæ˜¯æœ€å¥½çš„ Java å¼€å‘å·¥å…·ï¼ˆä¹‹ä¸€ï¼‰ï¼Œå› å…¶<code>åŠŸèƒ½å¼ºæ‚</code>â€‹ã€<code>è®¾ç½®äººæ€§åŒ–</code>â€‹ï¼Œè€Œæ·±å—Javaã€å¤§æ•°æ®ã€ç§»åŠ¨ç«¯ç¨‹åºå‘˜çš„å–œçˆ±ã€‚</p><p>IntelliJ IDEA åœ¨ 2015 å¹´çš„å®˜ç½‘ä¸Šè¿™æ ·ä»‹ç»è‡ªå·±ï¼š</p><blockquote><p>Excel at enterprise, mobile and web development with Java, Scala and Groovy,with all the latest modern technologies and frameworks available out of thebox.</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194236685-278185348-20230929073515-eobkuqq.png" alt="image-20221018104714861">â€‹</p><h3 id="1-3-IDEAçš„ä¸»è¦ä¼˜åŠ¿ï¼š-vs-Eclipse">1.3 IDEAçš„ä¸»è¦ä¼˜åŠ¿ï¼š(vs Eclipse)</h3><p><strong>åŠŸèƒ½å¼ºå¤§ï¼š</strong></p><p>â‘  å¼ºå¤§çš„æ•´åˆèƒ½åŠ›ã€‚æ¯”å¦‚ï¼šGitã€Mavenã€Springç­‰</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194229253-380322136.png" alt="1576218068631" style="zoom: 67%;" /><p>â‘¡ å¼€ç®±å³ç”¨çš„ä½“éªŒï¼ˆé›†æˆç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€å¤šè¯­è¨€æ”¯æŒçš„æ¡†æ¶éšæ—¶å¯ç”¨ï¼Œæ— éœ€é¢å¤–å®‰è£…æ’ä»¶ï¼‰</p><p><strong>ç¬¦åˆäººä½“å·¥ç¨‹å­¦ï¼š</strong></p><p>â‘  é«˜åº¦æ™ºèƒ½ï¼ˆå¿«é€Ÿçš„æ™ºèƒ½ä»£ç è¡¥å…¨ã€å®æ—¶ä»£ç åˆ†æã€å¯é çš„é‡æ„å·¥å…·ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194237253-1537148626-20230929073516-g60yd5m.png" alt="image-20221018104821144">â€‹</p><p>â‘¡ æç¤ºåŠŸèƒ½çš„å¿«é€Ÿã€ä¾¿æ·ã€èŒƒå›´å¹¿</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194237705-1899984618-20230929073516-1vtz1bf.jpg" alt="img">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194238178-1316620354-20230929073516-fp7fff7.png" alt="image-20221018104942633">â€‹</p><p>â‘¢ å¥½ç”¨çš„å¿«æ·é”®å’Œä»£ç æ¨¡æ¿</p><p>â‘£ ç²¾å‡†æœç´¢</p><h3 id="1-4-IDEA-çš„ä¸‹è½½">1.4 IDEA  çš„ä¸‹è½½</h3><ul class="lvl-0"><li class="lvl-2"><p>ä¸‹è½½ç½‘å€ï¼š <a href="https://www.jetbrains.com/idea/download/#section=windows">https://www.jetbrains.com/idea/download/#section=windows</a></p></li><li class="lvl-2"><p>IDEA åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼š <code>æ——èˆ°ç‰ˆ(Ultimate)</code>â€‹å’Œ <code>ç¤¾åŒºç‰ˆ(Community)</code>â€‹ã€‚</p></li><li class="lvl-2"><p>IDEAçš„å¤§ç‰ˆæœ¬æ¯å¹´è¿­ä»£ä¸€æ¬¡ï¼Œå¤§ç‰ˆæœ¬ä¸‹çš„å°ç‰ˆæœ¬ï¼ˆå¦‚ï¼š2022.xï¼‰è¿­ä»£æ—¶é—´ä¸å›ºå®šï¼Œä¸€èˆ¬æ¯å¹´3ä¸ªå°ç‰ˆæœ¬ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194238706-1676965488-20230929073516-5pcuzfk.png" alt="image-20220606191620253">â€‹</p><p>ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„è¯¦ç»†å¯¹æ¯”ï¼Œå¯ä»¥å‚ç…§å®˜ç½‘ï¼š<br><a href="https://www.jetbrains.com/idea/features/editions_comparison_matrix.html">https://www.jetbrains.com/idea/features/editions_comparison_matrix.html</a></p><p>å®˜ç½‘æä¾›çš„è¯¦ç»†ä½¿ç”¨æ–‡æ¡£ï¼š<br><a href="https://www.jetbrains.com/help/idea/meet-intellij-idea.html">https://www.jetbrains.com/help/idea/meet-intellij-idea.html</a></p><h2 id="2-å¸è½½ä¸å®‰è£…">2. å¸è½½ä¸å®‰è£…</h2><h3 id="2-1-å¸è½½è¿‡ç¨‹">2.1 å¸è½½è¿‡ç¨‹</h3><p>è¿™é‡Œä»¥å¸è½½2022.1.2ç‰ˆæœ¬ä¸ºä¾‹è¯´æ˜ã€‚åœ¨ã€æ§åˆ¶é¢æ¿ã€‘æ‰¾åˆ°ã€å¸è½½ç¨‹åºã€‘</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194229753-1145913340.png" alt="image-20221019120032582" style="zoom: 80%;" /><p>å³é”®ç‚¹å‡»æˆ–å·¦é”®åŒå‡»IntelliJ IDEA 2022.1.2è¿›è¡Œå¸è½½ï¼š</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194230218-951489097.png" alt="image-20221019121258294" style="zoom:80%;" /><p>å¦‚æœéœ€è¦ä¿ç•™ä¸‹è¿°æ•°æ®ï¼Œå°±ä¸è¦æ‰“âˆšã€‚å¦‚æœæƒ³å½»åº•åˆ é™¤IDEAæ‰€æœ‰æ•°æ®ï¼Œé‚£å°±æ‰“ä¸Šâˆšã€‚</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194230646-885029392.png" alt="image-20221019122135368" style="zoom:80%;" /><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194230990-1164009663.png" alt="image-20221019122323575" style="zoom:80%;" /><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194231392-1953551018.png" alt="image-20221019122349195" style="zoom:80%;" /><p>è½¯ä»¶å¸è½½å®Œä»¥åï¼Œè¿˜éœ€è¦åˆ é™¤å…¶å®ƒå‡ ä¸ªä½ç½®çš„æ®‹ç•™ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194239173-1357870981-20230929073516-e00blyy.png" alt="image-20221019161147552">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194239610-146454590-20230929073516-16u9o5o.png" alt="image-20221019161226843">â€‹</p><h3 id="2-2-å®‰è£…å‰çš„å‡†å¤‡">2.2 å®‰è£…å‰çš„å‡†å¤‡</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194240027-1891562264-20230929073516-8c9jpjr.png" alt="image-20221018110944516">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>64 ä½ Microsoft Windows 11ã€10ã€8</p></li><li class="lvl-2"><p>æœ€ä½ 2 GB å¯ç”¨ RAMï¼Œæ¨è 8 GB ç³»ç»Ÿæ€» RAM</p></li><li class="lvl-2"><p>2.5 GB ç¡¬ç›˜ç©ºé—´ï¼Œæ¨è SSD</p></li><li class="lvl-2"><p>æœ€ä½å±å¹•åˆ†è¾¨ç‡ 1024x768</p></li></ul><p>ä»å®‰è£…ä¸Šæ¥çœ‹ï¼ŒIntelliJ IDEA å¯¹ç¡¬ä»¶çš„è¦æ±‚<code>ä¼¼ä¹ä¸æ˜¯å¾ˆé«˜</code>â€‹ã€‚å¯æ˜¯åœ¨å®é™…å¼€å‘ä¸­å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå› ä¸º IntelliJ IDEA æ‰§è¡Œæ—¶ä¼šæœ‰å¤§é‡çš„ç¼“å­˜ã€ç´¢å¼•æ–‡ä»¶ï¼Œæ‰€ä»¥å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Eclipse / MyEclipseï¼Œæƒ³é€šè¿‡ IntelliJ IDEA æ¥è§£å†³è®¡ç®—æœºçš„å¡ã€æ…¢ç­‰é—®é¢˜ï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯ä¸å¯èƒ½çš„ï¼Œæœ¬è´¨ä¸Šä½ åº”è¯¥å¯¹è‡ªå·±çš„ç¡¬ä»¶è®¾å¤‡è¿›è¡Œå‡çº§ã€‚</p><h3 id="2-3-å®‰è£…è¿‡ç¨‹">2.3 å®‰è£…è¿‡ç¨‹</h3><p>1ã€ä¸‹è½½å®Œå®‰è£…åŒ…ï¼ŒåŒå‡»ç›´æ¥å®‰è£…<img src="assets/net-img-2942345-20230912194240424-2139381526-20230929073516-1vv6kmv.png" alt="image-20220606191800719">â€‹</p><p>2ã€æ¬¢è¿å®‰è£…</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194240887-553855849-20230929073516-drr0e2z.png" alt="image-20220606191825728">â€‹</p><p>3ã€æ˜¯å¦åˆ é™¤ç”µè„‘ä¸Šä½ç‰ˆæœ¬çš„IDEAï¼ˆå¦‚æœæœ‰ï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194241405-1076476098-20230929073516-a71i7qt.png" alt="image-20220606191838180">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>å¦‚æœç”µè„‘ä¸Šæœ‰ä½ç‰ˆæœ¬çš„IDEAï¼Œå¯ä»¥é€‰æ‹©åˆ é™¤æˆ–ä¿ç•™ã€‚</p></li><li class="lvl-2"><p>è¿™é‡Œæ²¡æœ‰å¸è½½æ—§ç‰ˆæœ¬ï¼Œå¦‚æœéœ€è¦å¸è½½ï¼Œè®°å¾—å‹¾é€‰ä¸‹é¢çš„ä¿ç•™æ—§çš„è®¾ç½®å’Œé…ç½®ã€‚</p></li></ul><p>4ã€é€‰æ‹©å®‰è£…ç›®å½•</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194241875-1523028171-20230929073516-oskdeqg.png" alt="image-20220606191942308">â€‹</p><p>é€‰æ‹©å®‰è£…ç›®å½•ï¼Œç›®å½•ä¸­è¦é¿å…ä¸­æ–‡å’Œç©ºæ ¼ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194242376-83701423-20230929073516-7900ofv.png" alt="image-20220606192004081">â€‹</p><p>5ã€åˆ›å»ºæ¡Œé¢å¿«æ·å›¾æ ‡ç­‰</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194242816-1717771425-20230929073516-5asst39.png" alt="image-20220606192053432">â€‹</p><p>ç¡®è®¤æ˜¯å¦ä¸.javaã€.groovyã€.kt æ ¼å¼æ–‡ä»¶è¿›è¡Œå…³è”ã€‚è¿™é‡Œå»ºè®®ä¸å…³è”ã€‚</p><p>6ã€åœ¨ã€å¼€å§‹ã€‘èœå•æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆè¿™é‡Œéœ€è¦ç¡®è®¤æ–‡ä»¶å¤¹çš„åç§°ï¼‰ï¼Œæ¥ç®¡ç†IDEAçš„ç›¸å…³å†…å®¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194243238-1303878791-20230929073516-tkiyoga.png" alt="image-20220606192126130">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194243615-2093318529-20230929073516-xlzcbj1.png" alt="image-20220606192135684">â€‹</p><p>7ã€å®Œæˆå®‰è£…</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194244006-547923071-20230929073516-zg3labp.png" alt="image-20220606192148284">â€‹</p><p>é‡å¯ä»¥åï¼Œå•å‡»ç™»å½•ï¼š<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194244353-1674973491-20230929073516-76rnvp6.png" alt="image-20220615164056349">â€‹</p><h3 id="2-4-æ³¨å†Œ">2.4 æ³¨å†Œ</h3><p>é¦–å…ˆï¼Œéœ€è¦é€šè¿‡ç”¨æˆ·åè®®ï¼š</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194231879-905647570.png" alt="image-20221019170223226" style="zoom:80%;" /><p>æ˜¯å¦åŒæ„å‘é€ç”¨æˆ·æ•°æ®ï¼ˆç‰¹æ€§ã€ä½¿ç”¨çš„æ’ä»¶ã€ç¡¬ä»¶ä¸è½¯ä»¶é…ç½®ç­‰ï¼‰ï¼Œå»ºè®®é€‰æ‹©ï¼šä¸å‘é€ã€‚</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194232333-428945710.png" alt="image-20221019170301256" style="zoom:80%;" /><p>æ¥ç€ï¼Œä¼šæç¤ºæˆ‘ä»¬è¿›è¡Œæ³¨å†Œã€‚</p><ul class="lvl-0"><li class="lvl-2"><p>é€‰æ‹©1ï¼šè¯•ç”¨30å¤©ã€‚åœ¨IDEA2022.1.2ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦å…ˆç™»å½•ï¼Œæ‰èƒ½å¼€å¯è¯•ç”¨ã€‚</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194232796-157843387.png" alt="image-20221019170638164" style="zoom:80%;" />{: id="20230929073511-tfi4kk2" updated="20230929073511"}</li><li class="lvl-2"><p>é€‰æ‹©2ï¼šä»˜è´¹è´­ä¹°æ——èˆ°ç‰ˆ</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194233190-1216314629.png" alt="image-20221019170740875" style="zoom:80%;" />{: id="20230929073511-ej4wblu" updated="20230929073511"}<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194233565-1038953548.png" alt="image-20221019170820975" style="zoom:50%;" />{: id="20230929073511-k0m0z46" updated="20230929073511"}</li><li class="lvl-2"><p>é€‰æ‹©3ï¼šï¼ˆæ¨èï¼‰</p><ul class="lvl-2"><li class="lvl-4">å¤§å®¶å‚ç…§ã€Š<code>.\03-èµ„æ–™\01-IDEA 2022.1 æ³¨å†Œæ–‡æ¡£\IntelliJ IDEA2022.1æ³¨å†Œæ–‡æ¡£.docx</code>â€‹ã€‹æ“ä½œå³å¯ã€‚</li><li class="lvl-4">ç”±äºå­˜åœ¨æ—¶æ•ˆæ€§ï¼Œå¦‚æœå¤±æ•ˆï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæœç´¢æ³¨å†Œæ–¹å¼å³å¯ã€‚</li></ul></li></ul><h3 id="2-5-é—ªé€€é—®é¢˜">2.5 é—ªé€€é—®é¢˜</h3><p>é—®é¢˜æè¿°ï¼š2022.1å¯åŠ¨ä¸äº†ï¼ŒåŒå‡»æ¡Œé¢å›¾æ ‡ï¼Œæ²¡æœ‰å“åº”ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><p>æ‰“å¼€<code>C:\Users\songhk\AppData\Roaming\JetBrains\IntelliJIdea2022.1\idea64.exe.vmoptions</code>â€‹ è¿™ä¸ªæ–‡ä»¶ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194244781-92192023-20230929073516-6g9esc0.png" alt="image-20220606195927066">â€‹</p><p>å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194245259-1742388707-20230929073516-u9s8aj2.png" alt="image-20220606195938517">â€‹</p><p>åˆ é™¤çº¢æ¡†çš„æ•°æ®ä»¥åï¼Œå†ç™»å½•å³å¯æ­£å¸¸è¿›å…¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194245794-1799239633-20230929073516-t8u7krh.png" alt="image-20220606200011927">â€‹</p><p>åŸå› ï¼šä¹‹å‰ä½¿ç”¨è¿‡çš„æ¯”å¦‚2021.2.2ç‰ˆæœ¬ï¼Œpojieäº†ã€‚æ–°ç‰ˆIEDAå¤ªæ™ºèƒ½äº†ï¼ŒæŠŠç°æœ‰çš„å¯è¿å‚æ•°ä¹Ÿéƒ½å¤åˆ¶è¿‡å»äº†ã€‚åˆå› ä¸ºæœ€æ–°çš„IDEAï¼Œä¸å…¼å®¹pojieç¨‹åº-javaagent:D:\develop_tools\IDEA\IntelliJ IDEA 2021.2.2\bin\jetbrains-agent.jaräº†ï¼Œæ‰€ä»¥æŠ¥é”™äº†ï¼Œæ‰€ä»¥JVMç»“æŸäº†ï¼Œæ‰€ä»¥æ²¡æœ‰å¯åŠ¨ç”»é¢ï¼Œå‡‰å‡‰äº†ã€‚</p><h2 id="3-HelloWorldçš„å®ç°">3. HelloWorldçš„å®ç°</h2><h3 id="3-1-æ–°å»ºProject-Class">3.1 æ–°å»ºProject - Class</h3><p>é€‰æ‹©&quot;New Project&quot;ï¼š</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194233937-1891610836.png" alt="image-20221019174051967" style="zoom:80%;" /><p>æŒ‡åå·¥ç¨‹åã€ä½¿ç”¨çš„JDKç‰ˆæœ¬ç­‰ä¿¡æ¯ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194246308-1771840502-20230929073516-nmogpto.png" alt="image-20221019174355370">â€‹</p><p>æ¥ç€åˆ›å»ºJavaç±»ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194246766-679413562-20230929073516-znfz05c.png" alt="image-20221019174505876">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194247103-225814896-20230929073516-prvy6vs.png" alt="image-20221019174551606">â€‹</p><h3 id="3-2-ç¼–å†™ä»£ç ">3.2 ç¼–å†™ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello,World!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-3-è¿è¡Œ">3.3 è¿è¡Œ</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194247484-180648714-20230929073516-9odvmxb.png" alt="image-20221019174716442">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194247903-1113445732-20230929073516-m0y3lkx.png" alt="image-20221019174801370">â€‹</p><h2 id="4-JDKç›¸å…³è®¾ç½®">4. JDKç›¸å…³è®¾ç½®</h2><h3 id="4-1-é¡¹ç›®çš„JDKè®¾ç½®">4.1 é¡¹ç›®çš„JDKè®¾ç½®</h3><p><code>File--&gt;Project Structure...--&gt;Platform Settings --&gt;SDKs</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194248369-120035111-20230929073516-ak7zlj0.png" alt="image-20221019174847921">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194248834-170038069-20230929073516-6jjqhe5.png" alt="image-20221019175030852">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>æ³¨1ï¼šSDKså…¨ç§°æ˜¯Software Development Kit ï¼Œè¿™é‡Œä¸€å®šæ˜¯é€‰æ‹©JDKçš„å®‰è£…æ ¹ç›®å½•ï¼Œä¸æ˜¯JREçš„ç›®å½•ã€‚</p></li><li class="lvl-2"><p>æ³¨2ï¼šè¿™é‡Œè¿˜å¯ä»¥ä»æœ¬åœ°æ·»åŠ å¤šä¸ªJDKã€‚ä½¿ç”¨â€œ+â€å³å¯å®ç°ã€‚</p></li></ul><h3 id="4-2-outç›®å½•å’Œç¼–è¯‘ç‰ˆæœ¬">4.2 outç›®å½•å’Œç¼–è¯‘ç‰ˆæœ¬</h3><p><code>File--&gt;Project Structure...--&gt;Project Settings --&gt;Project</code>â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194249321-918421480-20230929073517-pgvqjxh.png" alt="image-20221019175358200">â€‹</p><h2 id="5-è¯¦ç»†è®¾ç½®">5. è¯¦ç»†è®¾ç½®</h2><h3 id="5-1-å¦‚ä½•æ‰“å¼€è¯¦ç»†é…ç½®ç•Œé¢">5.1 å¦‚ä½•æ‰“å¼€è¯¦ç»†é…ç½®ç•Œé¢</h3><p>1ã€æ˜¾ç¤ºå·¥å…·æ </p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194249785-2069116566-20230929073517-861jsyg.png" alt="image-20221019175536721">â€‹</p><p>2ã€é€‰æ‹©è¯¦ç»†é…ç½®èœå•æˆ–æŒ‰é’®</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194250377-1700631500-20230929073517-94yj9wv.png" alt="image-20221019175620422">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194250886-1871125442-20230929073517-32w5yyc.png" alt="image-20221019175953767">â€‹</p><h3 id="5-2-ç³»ç»Ÿè®¾ç½®">5.2 ç³»ç»Ÿè®¾ç½®</h3><h4 id="1ã€é»˜è®¤å¯åŠ¨é¡¹ç›®é…ç½®">1ã€é»˜è®¤å¯åŠ¨é¡¹ç›®é…ç½®</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194251486-371356783-20230929073517-dz3gp1d.png" alt="image-20221019180050832">â€‹</p><p>å¯åŠ¨IDEAæ—¶ï¼Œé»˜è®¤è‡ªåŠ¨æ‰“å¼€ä¸Šæ¬¡å¼€å‘çš„é¡¹ç›®ï¼Ÿè¿˜æ˜¯è‡ªå·±é€‰æ‹©ï¼Ÿ</p><p>å¦‚æœå»æ‰Reopen projects on startupå‰é¢çš„å¯¹å‹¾ï¼Œæ¯æ¬¡å¯åŠ¨IDEAå°±ä¼šå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194251873-2143268425-20230929073517-3l5zmj0.png" alt="image-20221019180304644">â€‹</p><h4 id="2ã€å–æ¶ˆè‡ªåŠ¨æ›´æ–°">2ã€å–æ¶ˆè‡ªåŠ¨æ›´æ–°</h4><p>Settingsâ€“&gt;Appearance &amp; Behavior-&gt;System Settings -&gt; Updates</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194252299-458528170-20230929073517-n5sfv6a.png" alt="image-20221019180428323">â€‹</p><p>é»˜è®¤éƒ½æ‰“âˆšäº†ï¼Œå»ºè®®æ£€æŸ¥IDEæ›´æ–°çš„âˆšå»æ‰ï¼Œæ£€æŸ¥æ’ä»¶æ›´æ–°çš„âˆšé€‰ä¸Šã€‚</p><h3 id="5-3-è®¾ç½®æ•´ä½“ä¸»é¢˜">5.3 è®¾ç½®æ•´ä½“ä¸»é¢˜</h3><h4 id="1ã€é€‰æ‹©ä¸»é¢˜">1ã€é€‰æ‹©ä¸»é¢˜</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194252690-1618838387-20230929073517-ynnjso0.png" alt="image-20221019180637822">â€‹</p><h4 id="2ã€è®¾ç½®èœå•å’Œçª—å£å­—ä½“å’Œå¤§å°">2ã€è®¾ç½®èœå•å’Œçª—å£å­—ä½“å’Œå¤§å°</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194253103-969942172-20230929073517-6oszvtn.png" alt="1655136527800">â€‹</p><h4 id="3ã€è®¾ç½®IDEAèƒŒæ™¯å›¾">3ã€è®¾ç½®IDEAèƒŒæ™¯å›¾</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194253674-2057886748-20230929073517-0mtlth7.png" alt="image-20221018204241748">â€‹</p><p>é€‰æ‹©ä¸€å¼ åˆé€‚çš„å›¾ç‰‡ä½œä¸ºèƒŒæ™¯ï¼Œå³å¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194254181-397049076-20230929073517-e1zgr2r.png" alt="image-20221018204305159">â€‹</p><h3 id="5-4-è®¾ç½®ç¼–è¾‘å™¨ä¸»é¢˜æ ·å¼">5.4 è®¾ç½®ç¼–è¾‘å™¨ä¸»é¢˜æ ·å¼</h3><h4 id="1ã€ç¼–è¾‘å™¨ä¸»é¢˜">1ã€ç¼–è¾‘å™¨ä¸»é¢˜</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194254617-809465157-20230929073517-q1bfpfk.png" alt="1655136655026">â€‹</p><h4 id="2ã€å­—ä½“å¤§å°">2ã€å­—ä½“å¤§å°</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194255041-1968073051-20230929073517-qhdhbw3.png" alt="1655136907073">â€‹</p><p>æ›´è¯¦ç»†çš„å­—ä½“ä¸é¢œè‰²å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194255595-1251292545-20230929073517-ooyzgz9.png" alt="image-20221019182625234">â€‹</p><blockquote><p>æ¸©é¦¨æç¤ºï¼šå¦‚æœé€‰æ‹©æŸä¸ªfontå­—ä½“ï¼Œä¸­æ–‡ä¹±ç ï¼Œå¯ä»¥åœ¨fallback fontï¼ˆå¤‡é€‰å­—ä½“ï¼‰ä¸­é€‰æ‹©ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ä½“ã€‚</p></blockquote><h4 id="3ã€æ³¨é‡Šçš„å­—ä½“é¢œè‰²">3ã€æ³¨é‡Šçš„å­—ä½“é¢œè‰²</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194256121-1891196296-20230929073517-34b005m.png" alt="image-20220616121435182">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>Block commentï¼šä¿®æ”¹å¤šè¡Œæ³¨é‡Šçš„å­—ä½“é¢œè‰²</p></li><li class="lvl-2"><p>Doc Comment â€“&gt; Textï¼šä¿®æ”¹æ–‡æ¡£æ³¨é‡Šçš„å­—ä½“é¢œè‰²</p></li><li class="lvl-2"><p>Line commentï¼šä¿®æ”¹å•è¡Œæ³¨é‡Šçš„å­—ä½“é¢œè‰²</p></li></ul><h3 id="5-5-æ˜¾ç¤ºè¡Œå·ä¸æ–¹æ³•åˆ†éš”ç¬¦">5.5 æ˜¾ç¤ºè¡Œå·ä¸æ–¹æ³•åˆ†éš”ç¬¦</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194256654-1272688065-20230929073517-v4njfcb.png" alt="1655137441471">â€‹</p><h3 id="5-6-ä»£ç æ™ºèƒ½æç¤ºåŠŸèƒ½">5.6 ä»£ç æ™ºèƒ½æç¤ºåŠŸèƒ½</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194257059-1910554282-20230929073517-kczzjzi.png" alt="1655137649491">â€‹</p><p>IntelliJ IDEA çš„ä»£ç æç¤ºå’Œè¡¥å……åŠŸèƒ½æœ‰ä¸€ä¸ªç‰¹æ€§ï¼š<code>åŒºåˆ†å¤§å°å†™</code>â€‹ã€‚ å¦‚æœæƒ³ä¸åŒºåˆ†å¤§å°å†™çš„è¯ï¼Œå°±æŠŠè¿™ä¸ªå¯¹å‹¾å»æ‰ã€‚<code>å»ºè®®å»æ‰å‹¾é€‰</code>â€‹ã€‚</p><h3 id="5-7-è‡ªåŠ¨å¯¼åŒ…é…ç½®">5.7 è‡ªåŠ¨å¯¼åŒ…é…ç½®</h3><ul class="lvl-0"><li class="lvl-2"><p>é»˜è®¤éœ€è¦è‡ªå·±æ‰‹åŠ¨å¯¼åŒ…ï¼ŒAlt+Enterå¿«æ·é”®</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194257521-1134987162-20230929073517-d7jdv6k.png" alt="1655138308426">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>è‡ªåŠ¨å¯¼åŒ…è®¾ç½®</p><ul class="lvl-2"><li class="lvl-4">åŠ¨æ€å¯¼å…¥æ˜ç¡®çš„åŒ…ï¼šAdd unambiguous imports on the flyï¼Œè¯¥è®¾ç½®å…·æœ‰å…¨å±€æ€§ï¼›</li><li class="lvl-4">ä¼˜åŒ–åŠ¨æ€å¯¼å…¥çš„åŒ…ï¼šOptimize imports on the flyï¼Œè¯¥è®¾ç½®åªå¯¹å½“å‰é¡¹ç›®æœ‰æ•ˆï¼›</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194257927-1441568449-20230929073517-s17qvey.png" alt="1655138465774">â€‹</p><h3 id="5-8-è®¾ç½®é¡¹ç›®æ–‡ä»¶ç¼–ç ï¼ˆä¸€å®šè¦æ”¹ï¼‰">5.8 è®¾ç½®é¡¹ç›®æ–‡ä»¶ç¼–ç ï¼ˆä¸€å®šè¦æ”¹ï¼‰</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194258351-1782940890-20230929073517-cy7zjzx.png" alt="image-20220615190832482">â€‹</p><p>è¯´æ˜ï¼š Transparent native-to-ascii conversionä¸»è¦ç”¨äºè½¬æ¢asciiï¼Œæ˜¾å¼åŸç”Ÿå†…å®¹ã€‚ä¸€èˆ¬éƒ½è¦å‹¾é€‰ã€‚</p><h3 id="5-9-è®¾ç½®æ§åˆ¶å°çš„å­—ç¬¦ç¼–ç ">5.9 è®¾ç½®æ§åˆ¶å°çš„å­—ç¬¦ç¼–ç </h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194258749-2136801684-20230929073517-hce4wk2.png" alt="image-20221019003153265">â€‹</p><h3 id="5-10-ä¿®æ”¹ç±»å¤´çš„æ–‡æ¡£æ³¨é‡Šä¿¡æ¯">5.10 ä¿®æ”¹ç±»å¤´çš„æ–‡æ¡£æ³¨é‡Šä¿¡æ¯</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194259154-1678565654-20230929073517-kys3ume.png" alt="image-20221018114632127">â€‹</p><p>æ¯”å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ClassName: $&#123;NAME&#125;</span></span><br><span class="line"><span class="comment">* Package: $&#123;PACKAGE_NAME&#125;</span></span><br><span class="line"><span class="comment">* Description: </span></span><br><span class="line"><span class="comment">* <span class="doctag">@Author</span> å°šç¡…è°·-å®‹çº¢åº·</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Create</span> $&#123;DATE&#125; $&#123;TIME&#125; </span></span><br><span class="line"><span class="comment">* <span class="doctag">@Version</span> 1.0   </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„é¢„è®¾çš„å˜é‡ï¼Œè¿™é‡Œç›´æ¥è´´å‡ºå®˜ç½‘ç»™çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$&#123;PACKAGE_NAME&#125; - the name of the target <span class="keyword">package</span> where the <span class="keyword">new</span> <span class="title class_">class</span> or <span class="keyword">interface</span> <span class="title class_">will</span> be created. </span><br><span class="line">$&#123;PROJECT_NAME&#125; - the name of the current project. </span><br><span class="line">$&#123;FILE_NAME&#125; - the name of the PHP file that will be created. </span><br><span class="line">$&#123;NAME&#125; - the name of the <span class="keyword">new</span> <span class="title class_">file</span> which you specify in the New File dialog box during the file creation. </span><br><span class="line">$&#123;USER&#125; - the login name of the current user. </span><br><span class="line">$&#123;DATE&#125; - the current system date. </span><br><span class="line">$&#123;TIME&#125; - the current system time. </span><br><span class="line">$&#123;YEAR&#125; - the current year. </span><br><span class="line">$&#123;MONTH&#125; - the current month. </span><br><span class="line">$&#123;DAY&#125; - the current day of the month. </span><br><span class="line">$&#123;HOUR&#125; - the current hour. </span><br><span class="line">$&#123;MINUTE&#125; - the current minute. </span><br><span class="line">$&#123;PRODUCT_NAME&#125; - the name of the IDE in which the file will be created. </span><br><span class="line">$&#123;MONTH_NAME_SHORT&#125; - the first <span class="number">3</span> letters of the month name. Example: Jan, Feb, etc. </span><br><span class="line">$&#123;MONTH_NAME_FULL&#125; - full name of a month. Example: January, February, etc.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-11-è®¾ç½®è‡ªåŠ¨ç¼–è¯‘">5.11 è®¾ç½®è‡ªåŠ¨ç¼–è¯‘</h3><p><code>Settings--&gt;Build,Execution,Deployment--&gt;Compiler</code>â€‹</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194234403-2017146150.png" alt="1655109415450" style="zoom: 67%;" /><h3 id="5-12-è®¾ç½®ä¸ºçœç”µæ¨¡å¼-å¯å¿½ç•¥">5.12 è®¾ç½®ä¸ºçœç”µæ¨¡å¼ (å¯å¿½ç•¥)</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194259580-1312602859-20230929073517-dag0pjp.png" alt="image-20220616121851207">â€‹</p><p>IntelliJ IDEA æœ‰ä¸€ç§å«åš<code>çœç”µæ¨¡å¼</code>â€‹çš„çŠ¶æ€ï¼Œå¼€å¯è¿™ç§æ¨¡å¼ä¹‹å IntelliJ IDEA ä¼š<code>å…³æ‰ä»£ç æ£€æŸ¥</code>â€‹å’Œ<code>ä»£ç æç¤º</code>â€‹ç­‰åŠŸèƒ½ã€‚æ‰€ä»¥ä¸€èˆ¬ä¹Ÿå¯è®¤ä¸ºè¿™æ˜¯ä¸€ç§<code>é˜…è¯»æ¨¡å¼</code>â€‹ï¼Œå¦‚æœä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çªç„¶ä»£ç æ–‡ä»¶ä¸èƒ½è¿›è¡Œæ£€æŸ¥å’Œæç¤ºï¼Œå¯ä»¥æ¥çœ‹çœ‹è¿™é‡Œæ˜¯å¦æœ‰å¼€å¯è¯¥åŠŸèƒ½ã€‚</p><h3 id="5-13-å–æ¶ˆåŒå‡»shiftæœç´¢">5.13 å–æ¶ˆåŒå‡»shiftæœç´¢</h3><p>å› ä¸ºæˆ‘ä»¬æŒ‰shiftåˆ‡æ¢ä¸­è‹±æ–‡è¾“å…¥æ–¹å¼ï¼Œç»å¸¸è¢«æŒ‰åˆ°ï¼Œæ€»æ˜¯å¼¹å‡ºæœç´¢æ¡†ï¼Œå¤ªéº»çƒ¦äº†ã€‚å¯ä»¥å–æ¶ˆå®ƒã€‚</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194234852-614399732.png" alt="1659191272699" style="zoom:80%;" /><ul class="lvl-0"><li class="lvl-2"><p>æ–¹å¼1ï¼šé€‚ç”¨äºIDEA 2022.1.2ç‰ˆæœ¬</p></li></ul><p>åœ¨2022.1ç‰ˆæœ¬ä¸­ï¼Œé‡‡ç”¨å¦‚ä¸‹æ–¹å¼æ¶ˆåŒå‡»shiftå‡ºç°æœç´¢æ¡†ï¼šæœç´¢doubleå³å¯ï¼Œå‹¾é€‰Disable double modifier key shortcutsï¼Œç¦ç”¨è¿™ä¸ªé€‰é¡¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194259947-316321090-20230929073517-lxnyna9.png" alt="1659190132458">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>æ–¹å¼2ï¼šé€‚ç”¨äºIDEA 2022.1.2ä¹‹å‰ç‰ˆæœ¬</p></li></ul><p>åŒå‡»shift æˆ– ctrl + shift + aï¼Œæ‰“å¼€å¦‚ä¸‹æœç´¢çª—å£ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194300364-681809275-20230929073517-hht8c2a.png" alt="1577243967254">â€‹</p><p>é€‰æ‹©registryâ€¦ï¼Œæ‰¾åˆ°&quot;ide.suppress.double.click.handler&quot;ï¼ŒæŠŠå¤é€‰æ¡†æ‰“ä¸Šå‹¾å°±å¯ä»¥å–æ¶ˆåŒå‡»shiftå‡ºç°æœç´¢æ¡†äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194300746-175411444-20230929073517-c0prii4.png" alt="1577244045320">â€‹</p><h2 id="6-å·¥ç¨‹ä¸æ¨¡å—ç®¡ç†">6. å·¥ç¨‹ä¸æ¨¡å—ç®¡ç†</h2><h3 id="6-1-IDEAé¡¹ç›®ç»“æ„">6.1 IDEAé¡¹ç›®ç»“æ„</h3><p><strong>å±‚çº§å…³ç³»ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">project(å·¥ç¨‹) - module(æ¨¡å—) - package(åŒ…) - class(ç±»)</span><br></pre></td></tr></table></figure><p><strong>å…·ä½“çš„ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¸€ä¸ªprojectä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªmodule</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªmoduleä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªpackage</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªpackageä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªclass</span><br></pre></td></tr></table></figure><blockquote><p>è¿™äº›ç»“æ„çš„åˆ’åˆ†ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†åŠŸèƒ½ä»£ç ã€‚</p></blockquote><h3 id="6-2-Projectå’ŒModuleçš„æ¦‚å¿µ">6.2 Projectå’ŒModuleçš„æ¦‚å¿µ</h3><p>åœ¨ IntelliJ IDEA ä¸­ï¼Œæå‡ºäº†Projectå’ŒModuleè¿™ä¸¤ä¸ªæ¦‚å¿µã€‚</p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/2942345-20230912194235237-1837431122.png" alt="image-20220523014358169" style="zoom:80%;" /><p>åœ¨ IntelliJ IDEA ä¸­Projectæ˜¯<code>æœ€é¡¶çº§çš„ç»“æ„å•å…ƒ</code>â€‹ï¼Œç„¶åå°±æ˜¯Moduleã€‚ç›®å‰ï¼Œä¸»æµçš„å¤§å‹é¡¹ç›®ç»“æ„åŸºæœ¬éƒ½æ˜¯å¤šModuleçš„ç»“æ„ï¼Œè¿™ç±»é¡¹ç›®ä¸€èˆ¬æ˜¯<code>æŒ‰åŠŸèƒ½åˆ’åˆ†</code>â€‹çš„ï¼Œæ¯”å¦‚ï¼šuser-core-moduleã€user-facade-moduleå’Œuser-hessian-moduleç­‰ç­‰ï¼Œæ¨¡å—ä¹‹é—´å½¼æ­¤å¯ä»¥<code>ç›¸äº’ä¾èµ–</code>â€‹ï¼Œæœ‰ç€ä¸å¯åˆ†å‰²çš„ä¸šåŠ¡å…³ç³»ã€‚å› æ­¤ï¼Œå¯¹äºä¸€ä¸ªProjectæ¥è¯´ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>å½“ä¸ºå•Moduleé¡¹ç›®çš„æ—¶å€™ï¼Œè¿™ä¸ªå•ç‹¬çš„Moduleå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªProjectã€‚</p></li><li class="lvl-2"><p>å½“ä¸ºå¤šModuleé¡¹ç›®çš„æ—¶å€™ï¼Œå¤šä¸ªæ¨¡å—å¤„äºåŒä¸€ä¸ªProjectä¹‹ä¸­ï¼Œæ­¤æ—¶å½¼æ­¤ä¹‹é—´å…·æœ‰<code>äº’ç›¸ä¾èµ–</code>â€‹çš„å…³è”å…³ç³»ã€‚</p></li><li class="lvl-2"><p>å½“ç„¶å¤šä¸ªæ¨¡å—æ²¡æœ‰å»ºç«‹ä¾èµ–å…³ç³»çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå•ç‹¬ä¸€ä¸ªâ€œå°é¡¹ç›®â€è¿è¡Œã€‚</p></li></ul><h3 id="6-3-Moduleå’ŒPackage">6.3 Moduleå’ŒPackage</h3><p>åœ¨ä¸€ä¸ªmoduleä¸‹ï¼Œå¯ä»¥å£°æ˜å¤šä¸ªåŒ…ï¼ˆpackageï¼‰ï¼Œä¸€èˆ¬å‘½åè§„èŒƒå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.ä¸è¦æœ‰ä¸­æ–‡</span><br><span class="line">2.ä¸è¦ä»¥æ•°å­—å¼€å¤´</span><br><span class="line">3.ç»™åŒ…å–åæ—¶ä¸€èˆ¬éƒ½æ˜¯å…¬å¸åŸŸåå€’ç€å†™,è€Œä¸”éƒ½æ˜¯å°å†™</span><br><span class="line">  æ¯”å¦‚ï¼šå°šç¡…è°·ç½‘å€æ˜¯www.atguigu.com</span><br><span class="line">  é‚£ä¹ˆæˆ‘ä»¬çš„packageåŒ…ååº”è¯¥å†™æˆï¼šcom.atguigu.å­åå­—ã€‚</span><br></pre></td></tr></table></figure><h3 id="6-4-åˆ›å»ºModule">6.4 åˆ›å»ºModule</h3><p>å»ºè®®åˆ›å»ºâ€œEmptyç©ºå·¥ç¨‹â€ï¼Œç„¶ååˆ›å»ºå¤šæ¨¡å—ï¼Œæ¯ä¸€ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œç›¸å½“äºä¸€ä¸ªå°é¡¹ç›®ã€‚JavaSEé˜¶æ®µä¸æ¶‰åŠåˆ°æ¨¡å—ä¹‹é—´çš„ä¾èµ–ã€‚åæœŸå†å­¦ä¹ æ¨¡å—ä¹‹é—´çš„ä¾èµ–ã€‚</p><p>æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰é€‰æ‹©åˆ›å»ºæ¨¡å—</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194301162-1796630310-20230929073518-iom3w1z.png" alt="1655167625885">â€‹</p><p>ï¼ˆ2ï¼‰é€‰æ‹©æ¨¡å—ç±»å‹ï¼šè¿™é‡Œé€‰æ‹©åˆ›å»ºJavaæ¨¡å—ï¼Œç»™æ¨¡å—å‘½åï¼Œç¡®å®šå­˜æ”¾ä½ç½®</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194301596-1802245120-20230929073518-brb4t14.png" alt="1659191966074">â€‹</p><p>ï¼ˆ4ï¼‰æ¨¡å—å£°æ˜åœ¨å·¥ç¨‹ä¸‹é¢</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194301996-910689322-20230929073518-jbk15qc.png" alt="1659192028623">â€‹</p><h3 id="6-5-åˆ é™¤æ¨¡å—">6.5 åˆ é™¤æ¨¡å—</h3><p>ï¼ˆ1ï¼‰ç§»é™¤æ¨¡å—</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194302472-587735023-20230929073518-i32qtsy.png" alt="1659192150052">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194302893-1707347031-20230929073518-nj5u8i6.png" alt="1659192180062">â€‹</p><p>ï¼ˆ2ï¼‰å½»åº•åˆ é™¤æ¨¡å—</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194303321-478368801-20230929073518-2320zun.png" alt="1659192241224">â€‹</p><h3 id="6-6-å¯¼å…¥è€å¸ˆçš„æ¨¡å—">6.6 å¯¼å…¥è€å¸ˆçš„æ¨¡å—</h3><p>ï¼ˆ1ï¼‰å°†è€å¸ˆçš„æ¨¡å—<code>teacher_chapter04</code>â€‹æ•´ä¸ªçš„å¤åˆ¶åˆ°è‡ªå·±IDEAé¡¹ç›®çš„è·¯å¾„ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194303705-127263840-20230929073518-do60h2e.png" alt="1659192514219">â€‹</p><p>æ¥ç€æ‰“å¼€è‡ªå·±IDEAçš„é¡¹ç›®ï¼Œä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹çœ‹åˆ°æ‹·è´è¿‡æ¥çš„moduleï¼Œåªä¸è¿‡ä¸æ˜¯ä»¥æ¨¡å—çš„æ–¹å¼å‘ˆç°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194304071-1707998036-20230929073518-kcmxy57.png" alt="1659192692658">â€‹</p><p>ï¼ˆ2ï¼‰æŸ¥çœ‹Project Structureï¼Œé€‰æ‹©import module</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194304424-239117705-20230929073518-5je4j80.png" alt="image-20220615213827271">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194304785-642925561-20230929073518-dq0scas.png" alt="image-20220615214746952">â€‹</p><p>ï¼ˆ3ï¼‰é€‰æ‹©è¦å¯¼å…¥çš„moduleï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194305215-580345398-20230929073518-ch7erhj.png" alt="1659192850055">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194305605-1220953808-20230929073518-x8daq0g.png" alt="image-20220615214916374">â€‹</p><p>ï¼ˆ4ï¼‰æ¥ç€å¯ä»¥ä¸€è·¯Nextä¸‹å»ï¼Œæœ€åé€‰æ‹©Overwrite</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194306022-1579200053-20230929073518-iuauyk3.png" alt="1659192928140">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194306401-1883872760-20230929073518-d0ah94d.png" alt="1659192995900">â€‹</p><p>æœ€åç‚¹å‡»OKå³å¯äº†ã€‚</p><h3 id="6-7-åŒæ—¶æ‰“å¼€ä¸¤ä¸ªIDEAé¡¹ç›®å·¥ç¨‹">6.7 åŒæ—¶æ‰“å¼€ä¸¤ä¸ªIDEAé¡¹ç›®å·¥ç¨‹</h3><h4 id="1ã€ä¸¤ä¸ªIDEAé¡¹ç›®å·¥ç¨‹æ•ˆæœ">1ã€ä¸¤ä¸ªIDEAé¡¹ç›®å·¥ç¨‹æ•ˆæœ</h4><p>æœ‰äº›åŒå­¦æƒ³è¦æŠŠä¸Šè¯¾ç»ƒä¹ ä»£ç å’Œä½œä¸šä»£ç åˆ†å¼€ä¸¤ä¸ªIDEAé¡¹ç›®å·¥ç¨‹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194306751-1251973248-20230929073518-owvjbd4.png" alt="image-20211229111753237">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194307157-1919097052-20230929073518-a5et1xh.png" alt="image-20211229111906342">â€‹</p><h4 id="2ã€æ–°å»ºä¸€ä¸ªIDEAé¡¹ç›®">2ã€æ–°å»ºä¸€ä¸ªIDEAé¡¹ç›®</h4><p>æ³¨æ„ï¼šç¬¬ä¸€æ¬¡éœ€è¦æ–°å»ºï¼Œä¹‹åç›´æ¥æ‰“å¼€é¡¹ç›®å·¥ç¨‹å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194307562-1094331305-20230929073518-g3pb3dq.png" alt="1655170522054">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194307960-98842931-20230929073518-7a1m5nu.png" alt="1655170341953">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194308318-632950082-20230929073518-wq2ldqu.png" alt="1655170765902">â€‹</p><h4 id="3ã€æ‰“å¼€ä¸¤ä¸ªIDEAé¡¹ç›®">3ã€æ‰“å¼€ä¸¤ä¸ªIDEAé¡¹ç›®</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194308657-1216190818-20230929073518-cymbqi1.png" alt="image-20211229112314671">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194309024-200263753-20230929073518-wxlo2c8.png" alt="image-20211229112343470">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194309428-1073623061-20230929073518-5haaxvq.png" alt="1655173351720">â€‹</p><h3 id="6-8-å¯¼å…¥å‰å‡ ç« éIDEAå·¥ç¨‹ä»£ç ">6.8 å¯¼å…¥å‰å‡ ç« éIDEAå·¥ç¨‹ä»£ç </h3><p><strong>1ã€åˆ›å»ºchapter01ã€chapter02ã€chapter03ç­‰ç« èŠ‚çš„module</strong></p><p>å°†ç›¸åº”ç« èŠ‚çš„æºæ–‡ä»¶ç²˜è´´åˆ°moduleçš„srcä¸‹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194310229-2144490223-20230929073518-qtw865e.png" alt="image-20220615220728669">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194310659-1149507918-20230929073518-ptgyv2r.png" alt="image-20220615220755529">â€‹</p><p>æ‰“å¼€å…¶ä¸­å„ä¸ªæºæ–‡ä»¶ï¼Œä¼šå‘ç°æœ‰ä¹±ç ã€‚æ¯”å¦‚ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194311172-988500429-20230929073518-2a20xtu.png" alt="image-20220615220846097">â€‹</p><p><strong>2ã€è®¾ç½®ç¼–ç </strong></p><p>å½“å‰é¡¹ç›®æ˜¯UTF-8ã€‚å¦‚æœåŸæ¥çš„.javaæ–‡ä»¶éƒ½æ˜¯GBKçš„ï¼ˆå¦‚æœåŸæ¥.javaæ–‡ä»¶æœ‰çš„æ˜¯GBKï¼Œæœ‰çš„æ˜¯UTF-8å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼‰ã€‚</p><p>å¯ä»¥å•ç‹¬æŠŠè¿™ä¸¤ä¸ªæ¨¡å—è®¾ç½®ä¸ºGBKç¼–ç çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194311721-1830147432-20230929073518-kv6kdok.png" alt="image-20220615220544760">â€‹</p><p>æ”¹ä¸ºGBKï¼Œç¡®è®¤å³å¯ã€‚å¦‚å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194312102-1756266896-20230929073518-iizltey.png" alt="image-20220615220950214">â€‹</p><h2 id="7-ä»£ç æ¨¡æ¿çš„ä½¿ç”¨">7. ä»£ç æ¨¡æ¿çš„ä½¿ç”¨</h2><h3 id="7-1-æŸ¥çœ‹Postfix-Completionæ¨¡æ¿-åç¼€è¡¥å…¨">7.1 æŸ¥çœ‹Postfix Completionæ¨¡æ¿(åç¼€è¡¥å…¨)</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194312511-1839601235-20230929073518-0f27xfz.png" alt="1655173712802">â€‹</p><h3 id="7-2-æŸ¥çœ‹Live-Templatesæ¨¡æ¿-å®æ—¶æ¨¡æ¿">7.2 æŸ¥çœ‹Live Templatesæ¨¡æ¿(å®æ—¶æ¨¡æ¿)</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194313070-1777143258-20230929073518-nknowmq.jpg" alt="img">â€‹</p><h3 id="7-3-å¸¸ç”¨ä»£ç æ¨¡æ¿">7.3 å¸¸ç”¨ä»£ç æ¨¡æ¿</h3><h4 id="1ã€éç©ºåˆ¤æ–­">1ã€éç©ºåˆ¤æ–­</h4><ul class="lvl-0"><li class="lvl-2"><p>å˜é‡.nullï¼šif(å˜é‡ == null)</p></li><li class="lvl-2"><p>å˜é‡.nnï¼šif(å˜é‡ != null)</p></li><li class="lvl-2"><p>å˜é‡.notnullï¼šif(å˜é‡ != null)</p></li><li class="lvl-2"><p>ifnï¼šif(xx  == null)</p></li><li class="lvl-2"><p>innï¼šif(xx  != null)</p></li></ul><h4 id="2ã€éå†æ•°ç»„å’Œé›†åˆ">2ã€éå†æ•°ç»„å’Œé›†åˆ</h4><ul class="lvl-0"><li class="lvl-2"><p>æ•°ç»„æˆ–é›†åˆå˜é‡.foriï¼šforå¾ªç¯</p></li><li class="lvl-2"><p>æ•°ç»„æˆ–é›†åˆå˜é‡.forï¼šå¢å¼ºforå¾ªç¯</p></li><li class="lvl-2"><p>æ•°ç»„æˆ–é›†åˆå˜é‡.forrï¼šåå‘forå¾ªç¯</p></li><li class="lvl-2"><p>æ•°ç»„æˆ–é›†åˆå˜é‡.iterï¼šå¢å¼ºforå¾ªç¯éå†æ•°ç»„æˆ–é›†åˆ</p></li></ul><h4 id="3ã€è¾“å‡ºè¯­å¥">3ã€è¾“å‡ºè¯­å¥</h4><ul class="lvl-0"><li class="lvl-2"><p>soutï¼šç›¸å½“äºSystem.out.println</p></li><li class="lvl-2"><p>soutmï¼šæ‰“å°å½“å‰æ–¹æ³•çš„åç§°</p></li><li class="lvl-2"><p>soutpï¼šæ‰“å°å½“å‰æ–¹æ³•çš„å½¢å‚åŠå½¢å‚å¯¹åº”çš„å®å‚å€¼</p></li><li class="lvl-2"><p>soutvï¼šæ‰“å°æ–¹æ³•ä¸­å£°æ˜çš„æœ€è¿‘çš„å˜é‡çš„å€¼</p></li><li class="lvl-2"><p>å˜é‡.soutï¼šæ‰“å°å½“å‰å˜é‡å€¼</p></li><li class="lvl-2"><p>å˜é‡.soutvï¼šæ‰“å°å½“å‰å˜é‡ååŠå˜é‡å€¼</p></li></ul><h4 id="4ã€å¯¹è±¡æ“ä½œ">4ã€å¯¹è±¡æ“ä½œ</h4><ul class="lvl-0"><li class="lvl-2"><p>åˆ›å»ºå¯¹è±¡</p><ul class="lvl-2"><li class="lvl-4">Xxx.new  .var ï¼šåˆ›å»ºXxxç±»çš„å¯¹è±¡ï¼Œå¹¶èµ‹ç»™ç›¸åº”çš„å˜é‡</li><li class="lvl-4">Xxx.new  .fieldï¼šä¼šå°†æ–¹æ³•å†…åˆšåˆ›å»ºçš„Xxxå¯¹è±¡æŠ½å–ä¸ºä¸€ä¸ªå±æ€§</li></ul></li><li class="lvl-2"><p>å¼ºè½¬</p><ul class="lvl-2"><li class="lvl-4">å¯¹è±¡.castï¼šå°†å¯¹è±¡è¿›è¡Œå¼ºè½¬</li><li class="lvl-4">å¯¹è±¡.castvarï¼šå°†å¯¹è±¡å¼ºè½¬åï¼Œå¹¶èµ‹ç»™ä¸€ä¸ªå˜é‡</li></ul></li></ul><h4 id="5ã€é™æ€å¸¸é‡å£°æ˜">5ã€é™æ€å¸¸é‡å£°æ˜</h4><ul class="lvl-0"><li class="lvl-2"><p>psfï¼špublic static final</p></li><li class="lvl-2"><p>psfiï¼špublic static final int</p></li><li class="lvl-2"><p>psfsï¼špublic static final String</p></li><li class="lvl-2"><p>prsfï¼šprivate static final</p></li></ul><h3 id="7-4-è‡ªå®šä¹‰ä»£ç æ¨¡æ¿">7.4 è‡ªå®šä¹‰ä»£ç æ¨¡æ¿</h3><h4 id="7-4-1-è‡ªå®šä¹‰åç¼€è¡¥å…¨æ¨¡æ¿">7.4.1 è‡ªå®šä¹‰åç¼€è¡¥å…¨æ¨¡æ¿</h4><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194313543-791346049-20230929073518-2yvu8ll.png" alt="image-20221018143204667">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194313955-1533535497-20230929073518-221kng1.png" alt="image-20221018143606913">â€‹</p><h4 id="7-4-2-è‡ªå®šä¹‰Live-Templates">7.4.2 è‡ªå®šä¹‰Live Templates</h4><p>ä¾‹å¦‚ï¼šå®šä¹‰sopä»£è¡¨System.out.print();è¯­å¥</p><p>â‘ åœ¨Live Templatesä¸­å¢åŠ æ¨¡æ¿</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194314353-573600504-20230929073519-mgol3f0.png" alt="1576467339631">â€‹</p><p>â‘¡å…ˆå®šä¹‰ä¸€ä¸ªæ¨¡æ¿çš„ç»„ï¼Œè¿™æ ·æ–¹ä¾¿ç®¡ç†æ‰€æœ‰è‡ªå®šä¹‰çš„ä»£ç æ¨¡æ¿</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194314719-1409113897-20230929073519-4lzm3nv.png" alt="1576467395084">â€‹</p><p>â‘¢åœ¨æ¨¡æ¿ç»„é‡Œæ–°å»ºæ¨¡æ¿</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194315313-2144793827-20230929073519-88nkz2i.png" alt="1576467478993">â€‹</p><p>â‘£å®šä¹‰æ¨¡æ¿ï¼ˆä»¥è¾“å‡ºè¯­å¥ä¸ºä¾‹ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194315808-1688455517-20230929073519-xodlks1.png" alt="1576467712251">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>Abbreviationï¼šæ¨¡æ¿çš„ç¼©ç•¥åç§°</p></li><li class="lvl-2"><p>Descriptionï¼šæ¨¡æ¿çš„æè¿°</p></li><li class="lvl-2"><p>Template textï¼šæ¨¡æ¿çš„ä»£ç ç‰‡æ®µ</p></li><li class="lvl-2"><p>æ¨¡æ¿åº”ç”¨èŒƒå›´ã€‚æ¯”å¦‚ç‚¹å‡»Defineã€‚é€‰æ‹©å¦‚ä¸‹ï¼šåº”ç”¨åœ¨javaä»£ç ä¸­ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194316149-654333864-20230929073519-svg35gh.png" alt="1576467768103">â€‹</p><p><strong>å…¶å®ƒæ¨¡æ¿1ï¼šå•å…ƒæµ‹è¯•æ¨¡æ¿ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> test$var1$()&#123;</span><br><span class="line">    $var2$</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194316544-2138927463-20230929073519-9yn90gy.png" alt="image-20220612124137427">â€‹</p><p><strong>å…¶å®ƒæ¨¡æ¿2ï¼šåˆ›å»ºå¤šçº¿ç¨‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>()&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        $<span class="keyword">var</span>$</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194316937-546630050-20230929073519-80mm8dw.png" alt="image-20220612124221967">â€‹</p><p><strong>å…¶å®ƒæ¨¡æ¿3ï¼šå†’æ³¡æ’åº</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">$INDEX$</span> <span class="operator">=</span> <span class="number">1</span>; $INDEX$ &lt; $ARRAY$.length; $INDEX$++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">$INDEX2$</span> <span class="operator">=</span> <span class="number">0</span>; $INDEX2$ &lt; $ARRAY$.length-$INDEX$; $INDEX2$++) &#123;</span><br><span class="line">        <span class="keyword">if</span>($ARRAY$[$INDEX2$] &gt; $ARRAY$[$INDEX2$+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="type">$ELEMENT_TYPE$</span> <span class="variable">temp</span> <span class="operator">=</span> $ARRAY$[$INDEX2$];</span><br><span class="line">            $ARRAY$[$INDEX2$] = $ARRAY$[$INDEX2$+<span class="number">1</span>];</span><br><span class="line">            $ARRAY$[$INDEX2$+<span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912194317378-1669912902-20230929073519-4wv82aw.png" alt="image-20220612124541378">â€‹</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
            <tag> IDEAçš„åŸºæœ¬ä½¿ç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.å˜é‡ä¸è¿ç®—ç¬¦</title>
      <link href="/posts/cca6755e.html"/>
      <url>/posts/cca6755e.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-å…³é”®å­—">1. å…³é”®å­—</h2><ul class="lvl-0"><li class="lvl-2">å®šä¹‰ ï¼š è¢«Javaè¯­è¨€èµ‹äºˆäº†ç‰¹æ®Šå«ä¹‰ ï¼Œ ç”¨ä½œä¸“é—¨ç”¨é€”çš„å­—ç¬¦ä¸² ï¼Œ å¦‚ï¼š <code>public</code>â€‹</li><li class="lvl-2">ç‰¹ç‚¹ï¼š å…¨éƒ¨å…³é”®å­—éƒ½æ˜¯å°å†™å­—æ¯</li><li class="lvl-2"><a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html">å®˜æ–¹ç½‘å€</a></li></ul><h2 id="2-æ ‡è¯†ç¬¦">2. æ ‡è¯†ç¬¦</h2><ul class="lvl-0"><li class="lvl-2"><p>å‡¡æ˜¯è‡ªå·±å‘½åçš„åœ°æ–¹éƒ½å«æ ‡è¯†ç¬¦</p></li><li class="lvl-2"><p>æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰</p><ul class="lvl-2"><li class="lvl-4">ç”±26ä¸ªè‹±æ–‡å­—æ¯å¤§å°å†™ï¼Œ0-9 ï¼Œ_æˆ– $ ç»„æˆ</li><li class="lvl-4">æ•°å­—ä¸å¯ä»¥å¼€å¤´ã€‚</li><li class="lvl-4">ä¸å¯ä»¥ä½¿ç”¨å…³é”®å­—å’Œä¿ç•™å­—ï¼Œä½†èƒ½åŒ…å«å…³é”®å­—å’Œä¿ç•™å­—ã€‚</li><li class="lvl-4">Javaä¸­ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œé•¿åº¦æ— é™åˆ¶ã€‚</li><li class="lvl-4">æ ‡è¯†ç¬¦ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚</li></ul></li><li class="lvl-2"><p>æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ</p><ul class="lvl-2"><li class="lvl-4">åŒ…åï¼š å¤šå•è¯ç»„æˆæ—¶æ‰€æœ‰å­—æ¯éƒ½å°å†™ï¼šxxxyyyzzzã€‚</li><li class="lvl-4">ç±»åã€æ¥å£åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œæ‰€æœ‰å•è¯çš„é¦–å­—æ¯å¤§å†™ï¼šXxxYyyZzz</li><li class="lvl-4">å˜é‡åã€æ–¹æ³•åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œç¬¬äºŒä¸ªå•è¯å¼€å§‹æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼šxxxYyyZzz</li><li class="lvl-4">å¸¸é‡åï¼šæ‰€æœ‰å­—æ¯éƒ½å¤§å†™ã€‚å¤šå•è¯æ—¶æ¯ä¸ªå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥ï¼šXXX_YYY_ZZZ</li></ul></li></ul><blockquote><p>ä¸ºæé«˜é˜…è¯»æ€§ ï¼Œ èµ·åå­—è¦ â€˜è§åçŸ¥æ„â€™</p></blockquote><p>â€</p><h2 id="3-å˜é‡">3. å˜é‡</h2><ul class="lvl-0"><li class="lvl-2"><p>ä¸ºä½•éœ€è¦å˜é‡</p><ul class="lvl-2"><li class="lvl-4">å˜é‡æ˜¯ç¨‹åºä¸­ä¸å¯æˆ–ç¼ºçš„ç»„æˆå•ä½ ï¼Œ æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒ</li></ul></li><li class="lvl-2"><p>å˜é‡çš„æ¦‚å¿µ</p><ul class="lvl-2"><li class="lvl-4">å†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨åŒºåŸŸ ï¼Œ è¯¥åŒºåŸŸçš„æ•°æ®å¯ä»¥å†åŒä¸€ç±»å‹èŒƒå›´å†…ä¸æ–­å˜åŒ–</li><li class="lvl-4">å˜é‡çš„æ„æˆå«ä¸‰ä¸ªè¦ç´  ï¼š æ•°æ®ç±»å‹ ï¼Œå˜é‡å  ï¼Œ å­˜å‚¨çš„å€¼</li><li class="lvl-4">Javaä¸­å˜é‡å£°æ˜çš„æ ¼å¼ **ï¼š**â€‹<code>æ•°æ®ç±»å‹ å˜é‡å = å˜é‡å€¼</code>â€‹</li></ul></li><li class="lvl-2"><p>å˜é‡çš„ä½œç”¨ ï¼š ç”¨äºå†…å­˜ä¸­ä¿å­˜æ•°æ®</p></li><li class="lvl-2"><p><mark>ä½¿ç”¨å˜é‡æ³¨æ„</mark></p><ul class="lvl-2"><li class="lvl-4">Javaä¸­çš„æ¯ä¸ªå˜é‡å¿…é¡»å…ˆå£°æ˜ ï¼Œ åä½¿ç”¨</li><li class="lvl-4">ä½¿ç”¨å˜é‡åæ¥è®¿é—®è¿™è¿™å—åŒºåŸŸçš„æ•°æ®</li><li class="lvl-4">å˜é‡çš„ä½œç”¨åŸŸï¼š å…¶å®šä¹‰æ‰€åœ¨çš„ä¸€å¯¹ <code>&#123;&#125;</code>â€‹å†…</li><li class="lvl-4">å˜é‡åªæœ‰å†èµ·<strong>ä½œç”¨åŸŸ</strong>å†…æ‰æœ‰æ•ˆ ï¼Œ é™¤äº†ä½œç”¨åŸŸ ï¼Œ å˜é‡ä¸å¯ä»¥å†è¢«è°ƒç”¨</li><li class="lvl-4">åŒä¸€ä¸ªä½œç”¨åŸŸå†… ï¼Œ ä¸èƒ½å®šä¹‰é‡åçš„å˜é‡</li></ul></li><li class="lvl-2"><p><mark>Javaä¸­å˜é‡çš„æ•°æ®ç±»å‹</mark></p><ul class="lvl-2"><li class="lvl-4"><p><em>åŸºæœ¬æ•°æ®ç±»å‹</em> ï¼š åŒ…æ‹¬ <strong>æ•´æ•°ç±»å‹</strong> ï¼Œ <strong>æµ®ç‚¹æ•°ç±»å‹</strong> ï¼Œ <strong>å­—ç¬¦ç±»å‹</strong> ï¼Œ <strong>å¸ƒå°”ç±»å‹</strong></p></li><li class="lvl-4"><p><em>å¼•ç”¨æ•°æ®ç±»å‹</em>ï¼š åŒ…æ‹¬ <strong>æ•°ç»„</strong> ï¼Œ ** ç±»** ï¼Œ**æ¥å£ ** ï¼Œ **æšä¸¾ ** ï¼Œ **æ³¨è§£ ** ï¼Œ <strong>è®°å½•</strong></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224530302-2045461424-20230928215553-5monb2p.png" alt="image">â€‹</p></li></ul></li><li class="lvl-2"><p>å˜é‡çš„ä½¿ç”¨</p><ul class="lvl-2"><li class="lvl-4"><p>å˜é‡çš„å£°æ˜</p><ul class="lvl-4"><li class="lvl-6">æ ¼å¼ ï¼š æ•°æ®ç±»å‹ å˜é‡åï¼›</li><li class="lvl-6">æ³¨æ„ï¼š å˜é‡çš„æ•°æ®ç±»å‹å¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ ï¼Œ ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨æ•°æ®ç±»å‹</li></ul></li><li class="lvl-4"><p>å˜é‡çš„èµ‹å€¼</p><ul class="lvl-4"><li class="lvl-6">ç†è§£ï¼š ç»™å˜é‡èµ‹å€¼ï¼Œå°±æ˜¯æŠŠâ€œå€¼â€å­˜åˆ°è¯¥å˜é‡ä»£è¡¨çš„<strong>å†…å­˜ç©ºé—´ä¸­</strong>ã€‚åŒæ—¶ï¼Œç»™å˜é‡èµ‹çš„å€¼ç±»å‹å¿…é¡»ä¸å˜é‡å£°æ˜çš„ç±»å‹ä¸€è‡´æˆ–å…¼å®¹ã€‚</li><li class="lvl-6">å˜é‡èµ‹å€¼çš„è¯­æ³•æ ¼å¼ ï¼š å˜é‡å = å€¼ï¼›</li></ul></li></ul></li></ul><p>â€</p><h2 id="4-åŸºæœ¬æ•°æ®ç±»å‹">4. åŸºæœ¬æ•°æ®ç±»å‹</h2><h3 id="æ•´æ•°ç±»å‹-ï¼š-byte-short-int-long">æ•´æ•°ç±»å‹ ï¼š byte , short , int , long</h3><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>Javaä¸ªæ•´æ•°ç±»å‹æœ‰å›ºå®šçš„è¡¨æ•°èŒƒå›´å’Œå­—æ®µé•¿åº¦ ï¼Œä¸å—å…·ä½“æ“ä½œç³»ç»Ÿçš„å°è±¡ ï¼Œ ä»¥ä¿è¯Javaç¨‹åºçš„å¯ç§»æ¤æ€§</p></li><li class="lvl-2"><p>å®šä¹‰longç±»å‹çš„å˜é‡ ï¼Œèµ‹å€¼æ—¶éœ€è¦ä»¥ <code>l</code>â€‹æˆ–<code>L</code>â€‹ä½œä¸ºåç¼€</p></li><li class="lvl-2"><p>Javaç¨‹åºä¸­å˜é‡é€šå¸¸å£°æ˜ä¸ºintå‹ ï¼Œ é™¤éä¸é†‰ä»ªè¡¨å®¤è¾ƒå¤§çš„æ•° ï¼Œ æ‰ä½¿ç”¨long</p></li><li class="lvl-2"><p>Javaçš„æ•´å‹å¸¸é‡çˆ±ä½ è§„é»˜è®¤ä¸ºintå‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224530786-1838249163-20230928215553-nanqkfr.png" alt="image">â€‹</p></li><li class="lvl-2"><p><mark>è¡¥å…… ï¼š è®¡ç®—æœºå­˜å‚¨å•ä½</mark></p><ul class="lvl-2"><li class="lvl-4"><p><strong>å­—èŠ‚ï¼ˆByteï¼‰ï¼š</strong> æ˜¯è®¡ç®—æœºç”¨äº<code>è®¡é‡å­˜å‚¨å®¹é‡</code>â€‹çš„<code>åŸºæœ¬</code>â€‹å•ä½ï¼Œä¸€ä¸ªå­—èŠ‚ç­‰äº8 bitã€‚</p></li><li class="lvl-4"><p><strong>ä½ï¼ˆbitï¼‰ï¼š</strong> æ˜¯æ•°æ®å­˜å‚¨çš„<code>æœ€å°</code>â€‹å•ä½ã€‚äºŒè¿›åˆ¶æ•°ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ª0æˆ–1å°±æ˜¯ä¸€ä¸ªä½ï¼Œå«åšbitï¼ˆæ¯”ç‰¹ï¼‰ï¼Œå…¶ä¸­8 bit å°±ç§°ä¸ºä¸€ä¸ªå­—èŠ‚(Byte)ã€‚</p></li><li class="lvl-4"><p><strong>è½¬æ¢å…³ç³»ï¼š</strong></p><ul class="lvl-4"><li class="lvl-6"><strong>8 bit = 1 Byte</strong></li><li class="lvl-6"><strong>1024 Byte = 1 KB</strong></li><li class="lvl-6"><strong>1024 KB = 1 MB</strong></li><li class="lvl-6"><strong>1024 MB = 1 GB</strong></li><li class="lvl-6"><strong>1024 GB = 1 TB</strong></li></ul></li></ul></li></ul><h3 id="æµ®ç‚¹ç±»å‹-ï¼š-float-double">æµ®ç‚¹ç±»å‹ ï¼š float , double</h3><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>ä¸æ•´æ•°ç±»å‹ç±»ä¼¼ï¼ŒJava æµ®ç‚¹ç±»å‹ä¹Ÿæœ‰å›ºå®šçš„è¡¨æ•°èŒƒå›´å’Œå­—æ®µé•¿åº¦ï¼Œä¸å—å…·ä½“æ“ä½œç³»ç»Ÿçš„å½±å“ã€‚</p></li><li class="lvl-2"><p>æµ®ç‚¹å‹å¸¸é‡æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼</p><ul class="lvl-2"><li class="lvl-4">åè¿›åˆ¶æ•°å½¢å¼ã€‚å¦‚ï¼š5.12       512.0f        .512   (å¿…é¡»æœ‰å°æ•°ç‚¹ï¼‰</li><li class="lvl-4">ç§‘å­¦è®¡æ•°æ³•å½¢å¼ã€‚å¦‚ï¼š5.12e2      512E2     100E-2</li></ul></li><li class="lvl-2"><p>**floatï¼š**â€‹<code>å•ç²¾åº¦</code>â€‹ï¼Œå°¾æ•°å¯ä»¥ç²¾ç¡®åˆ°7ä½æœ‰æ•ˆæ•°å­—ã€‚å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç²¾åº¦å¾ˆéš¾æ»¡è¶³éœ€æ±‚ã€‚</p></li><li class="lvl-2"><p>**doubleï¼š**â€‹<code>åŒç²¾åº¦</code>â€‹ï¼Œç²¾åº¦æ˜¯floatçš„ä¸¤å€ã€‚é€šå¸¸é‡‡ç”¨æ­¤ç±»å‹ã€‚</p></li><li class="lvl-2"><p>**å®šä¹‰floatç±»å‹çš„å˜é‡ï¼Œèµ‹å€¼æ—¶éœ€è¦ä»¥&quot;**â€‹<code>f</code>â€‹&quot;æˆ–&quot;<code>F</code>â€‹&quot;ä½œä¸ºåç¼€ã€‚</p></li><li class="lvl-2"><p><strong>Java çš„æµ®ç‚¹å‹</strong>â€‹<code>å¸¸é‡é»˜è®¤ä¸ºdoubleå‹</code>â€‹ã€‚</p></li><li class="lvl-2"><p><mark>æµ®ç‚¹å‹ç²¾åº¦çš„è¯´æ˜</mark></p><ul class="lvl-2"><li class="lvl-4">å¹¶ä¸æ˜¯æ‰€æœ‰çš„å°æ•°éƒ½èƒ½å¯ä»¥ç²¾ç¡®çš„ç”¨äºŒè¿›åˆ¶æµ®ç‚¹æ•°è¡¨ç¤ºã€‚äºŒè¿›åˆ¶æµ®ç‚¹æ•°ä¸èƒ½ç²¾ç¡®çš„è¡¨ç¤º0.1ã€0.01ã€0.001è¿™æ ·10çš„è´Ÿæ¬¡å¹‚ã€‚</li><li class="lvl-4"><strong>æµ®ç‚¹ç±»å‹floatã€doubleçš„æ•°æ®ä¸é€‚åˆåœ¨</strong>â€‹<code>ä¸å®¹è®¸èˆå…¥è¯¯å·®</code>â€‹çš„é‡‘èè®¡ç®—é¢†åŸŸã€‚å¦‚æœéœ€è¦<code>ç²¾ç¡®</code>â€‹æ•°å­—è®¡ç®—æˆ–ä¿ç•™æŒ‡å®šä½æ•°çš„ç²¾åº¦ï¼Œéœ€è¦ä½¿ç”¨<code>BigDecimalç±»</code>â€‹ã€‚</li></ul></li></ul><h3 id="å­—ç¬¦ç±»å‹-ï¼š-char">å­—ç¬¦ç±»å‹ ï¼š char</h3><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>charå‹æ•°æ®ç”¨äºè¡¨ç¤ºé€šå¸¸æ„ä¹‰ä¸Š<code>å­—ç¬¦</code>â€‹ï¼ˆå ä¸¤ä¸ªå­—èŠ‚ï¼‰</p></li><li class="lvl-2"><p>Javaä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ä½¿ç”¨Unicodeç¼–ç ï¼Œ<strong>æ•…ä¸€ä¸ªå­—ç¬¦å¯ä»¥å­˜å‚¨ä¸€ä¸ªå­—æ¯ï¼Œä¸€ä¸ªæ±‰å­—ï¼Œæˆ–å…¶ä»–ä¹¦é¢è¯­çš„ä¸€ä¸ªå­—ç¬¦ã€‚</strong></p></li><li class="lvl-2"><p>å­—ç¬¦å‹å˜é‡çš„ä¸‰ç§è¡¨ç°å½¢å¼</p><ul class="lvl-2"><li class="lvl-4">å½¢å¼1 ï¼š ä½¿ç”¨å•å¼•å·(â€˜â€™)æ‹¬èµ·æ¥çš„å•ä¸ªå­—ç¬¦</li><li class="lvl-4">å½¢å¼2 ï¼š ç›´æ¥ä½¿ç”¨<code>unicodeå€¼</code>â€‹æ¥è¡¨ç¤ºå­—ç¬¦å‹åŸæ¥é‚£ä¸ª <code>\uXXX</code>â€‹å…¶ä¸­ ï¼Œ XXXä»£è¡¨ä¸€ä¸ªåå…­åˆ¶æ•´æ•° ï¼Œ å¦‚ ï¼š \u0023è¡¨ç¤º <code>#</code>â€‹</li><li class="lvl-4"><strong>å½¢å¼3ï¼š</strong> Javaä¸­è¿˜å…è®¸ä½¿ç”¨<code>è½¬ä¹‰å­—ç¬¦â€˜\â€™</code>â€‹æ¥å°†å…¶åçš„å­—ç¬¦è½¬å˜ä¸ºç‰¹æ®Šå­—ç¬¦å‹å¸¸é‡ã€‚</li></ul></li></ul><h3 id="å¸ƒå°”ç±»å‹-ï¼š-boolean">å¸ƒå°”ç±»å‹ ï¼š boolean</h3><ul class="lvl-0"><li class="lvl-2"><p>booleanç±»å‹ç”¨äºåˆ¤æ–­é€»è¾‘æ¡ä»¶ ï¼Œ ä¸€èˆ¬ç”¨äºæµç¨‹æ§åˆ¶è¯­å¥ä¸­</p></li><li class="lvl-2"><p>booleanç±»å‹æ•°æ®åªæœ‰ä¸¤ä¸ªå€¼ true , false , æ— å…¶ä»–</p><ul class="lvl-2"><li class="lvl-4">ä¸å¯ä»¥ä½¿ç”¨0æˆ–é 0 çš„æ•´æ•°æ›¿ä»£falseå’Œtrueï¼Œè¿™ç‚¹å’ŒCè¯­è¨€ä¸åŒã€‚</li><li class="lvl-4">æ‹“å±•ï¼šJavaè™šæ‹Ÿæœºä¸­æ²¡æœ‰ä»»ä½•ä¾›booleanå€¼ä¸“ç”¨çš„å­—èŠ‚ç æŒ‡ä»¤ï¼ŒJavaè¯­è¨€è¡¨è¾¾æ‰€æ“ä½œçš„booleanå€¼ï¼Œåœ¨ç¼–è¯‘ä¹‹åéƒ½ä½¿ç”¨javaè™šæ‹Ÿæœºä¸­çš„intæ•°æ®ç±»å‹æ¥ä»£æ›¿ï¼štrueç”¨1è¡¨ç¤ºï¼Œfalseç”¨0è¡¨ç¤ºã€‚â€”â€”ã€Šjavaè™šæ‹Ÿæœºè§„èŒƒ 8ç‰ˆã€‹</li></ul></li></ul><h2 id="5-åŸºæœ¬æ•°æ®ç±»å‹å˜é‡é—´è¿ç®—è§„åˆ™">5. åŸºæœ¬æ•°æ®ç±»å‹å˜é‡é—´è¿ç®—è§„åˆ™</h2><p>åœ¨Javaç¨‹åºä¸­ ï¼Œ ä¸åŒçš„åŸºæœ¬æ•°æ®ç±»å‹(åªæœ‰7ä¸­ ï¼Œ ä¸åŒ…å«booleanç±»å‹)å˜é‡çš„å€¼ç»å¸¸éœ€è¦è¿›è¡Œç›¸äº’è½¬æ¢</p><p>è½¬æ¢çš„æ–¹å¼æœ‰ä¸¤ç§ ï¼Œ <strong>è‡ªåŠ¨ç±»å‹æå‡</strong> å’Œ <strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong></p><h3 id="5-1-è‡ªåŠ¨ç±»å‹æå‡">5.1 è‡ªåŠ¨ç±»å‹æå‡</h3><p>è§„åˆ™ ï¼š å°†å–å€¼èŒƒå›´å°çš„ç±»å‹è‡ªåŠ¨æå‡ä¸ºå–å€¼èŒƒå›´å¤§çš„ç±»å‹</p><p>åŸºæœ¬æ•°æ®ç±»å‹çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224531169-62890660-20230928215553-xu4cuse.png" alt="image">â€‹</p><p>â€</p><h3 id="5-2-å¼ºåˆ¶ç±»å‹è½¬æ¢">5.2 å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p>è§„åˆ™ ï¼š å°†å–å€¼èŒƒå›´å¤§çš„ç±»å‹å¼ºåˆ¶è½¬æ¢æˆå–å€¼èŒƒå›´å°çš„ç±»å‹</p><p>è½¬æ¢æ ¼å¼ ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®ç±»å‹ å˜é‡å = (æ•°æ®ç±»å‹) è¢«å¼ºè½¬æ•°æ®å€¼ <span class="comment">// ï¼ˆï¼‰ ä¸­çš„æ•°æ®ç±»å‹å¿…é¡» = å˜é‡å€¼çš„æ•°æ®ç±»å‹</span></span><br></pre></td></tr></table></figure><p>â€</p><p>æ³¨æ„ :</p><ol><li class="lvl-3"><p>å½“æŠŠèŒƒå›´å¤§çš„å€¼å¼ºåˆ¶è½¬æ¢ä¸ºå­˜å‚¨èŒƒå›´å°çš„å˜é‡æ—¶ ï¼Œ å¯èƒ½ä¼šå‡ºç° æŸå¤±ç²¾åº¦æˆ–æº¢å‡º</p></li><li class="lvl-3"><p>å½“æŸä¸ªå€¼æƒ³è¦æå‡æ•°æ®ç±»å‹æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚è¿™ç§æƒ…å†µçš„å¼ºåˆ¶ç±»å‹è½¬æ¢æ˜¯<code>æ²¡æœ‰é£é™©</code>â€‹çš„ï¼Œé€šå¸¸çœç•¥ã€‚</p></li><li class="lvl-3"><p>å£°æ˜longç±»å‹å˜é‡æ—¶ï¼Œå¯ä»¥å‡ºç°çœç•¥åç¼€çš„æƒ…å†µã€‚floatåˆ™ä¸åŒ</p></li></ol><h3 id="5-3-åŸºæœ¬æ•°æ®ç±»å‹ä¸Stringçš„è¿ç®—">5.3 åŸºæœ¬æ•°æ®ç±»å‹ä¸Stringçš„è¿ç®—</h3><ul class="lvl-0"><li class="lvl-2"><p>å­—ç¬¦ä¸²ç±»å‹ ï¼š String</p><ul class="lvl-2"><li class="lvl-4">String ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ ï¼Œ å±äºå¼•ç”¨æ•°æ®ç±»å‹</li><li class="lvl-4">ä½¿ç”¨ä¸€å¯¹ â€œâ€ æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸² ï¼Œ å†…éƒ¨å¯ä»¥åŒ…æ‹¬0ä¸ª ï¼Œ 1ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²</li><li class="lvl-4">å£°æ˜æ–¹å¼ä¸åŸºæœ¬æ•°æ®ç±»å‹ç±»ä¼¼</li></ul></li><li class="lvl-2"><p>è¿ç®—è§„åˆ™</p><ul class="lvl-2"><li class="lvl-4">ä»»æ„å…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®ä¸Stringç±»å‹åªèƒ½è¿›è¡Œè¿æ¥â€œ+â€è¿ç®—ï¼Œä¸”ç»“æœä¸€å®šä¹Ÿæ˜¯Stringç±»å‹</li><li class="lvl-4">Stringç±»å‹ä¸èƒ½é€šè¿‡å¼ºåˆ¶ç±»å‹()è½¬æ¢ï¼Œè½¬ä¸ºå…¶ä»–çš„ç±»å‹</li></ul></li></ul><h2 id="6-è¿ç®—ç¬¦">6. è¿ç®—ç¬¦</h2><p>è¿ç®—ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¬¦å· ï¼Œ ç”¨ä»¥è¡¨ç¤ºæ•°æ®çš„è¿ç®— ï¼Œ èµ‹å€¼å’Œæ¯”è¾ƒç­‰</p><p>â€</p><p><mark>è¿ç®—ç¬¦çš„åˆ†ç±»</mark></p><ul class="lvl-0"><li class="lvl-2"><p><strong>æŒ‰ç…§</strong>â€‹<code>åŠŸèƒ½</code>â€‹åˆ†ä¸ºï¼šç®—æœ¯è¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦ã€æ¯”è¾ƒ(æˆ–å…³ç³»)è¿ç®—ç¬¦ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦ã€æ¡ä»¶è¿ç®—ç¬¦ã€Lambdaè¿ç®—ç¬¦</p><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>è¿ç®—ç¬¦</strong></th></tr></thead><tbody><tr><td><strong>ç®—æœ¯è¿ç®—ç¬¦ï¼ˆ7ä¸ªï¼‰</strong></td><td><strong>+ã€-ã€*ã€/ã€%ã€++ã€â€“</strong></td></tr><tr><td><strong>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ12ä¸ªï¼‰</strong></td><td><strong>=ã€+=ã€-=ã€*=ã€/=ã€%=ã€&gt;&gt;=ã€&lt;&lt;=ã€&gt;&gt;&gt;=ã€&amp;=ã€</strong></td></tr><tr><td><strong>æ¯”è¾ƒ(æˆ–å…³ç³»)è¿ç®—ç¬¦ï¼ˆ6ä¸ªï¼‰</strong></td><td><strong>&gt;ã€&gt;=ã€&lt;ã€&lt;=ã€==ã€!=</strong></td></tr><tr><td><strong>é€»è¾‘è¿ç®—ç¬¦ï¼ˆ6ä¸ªï¼‰</strong></td><td><strong>&amp;ã€</strong></td></tr><tr><td><strong>ä½è¿ç®—ç¬¦ï¼ˆ7ä¸ªï¼‰</strong></td><td><strong>&amp;ã€</strong></td></tr><tr><td><strong>æ¡ä»¶è¿ç®—ç¬¦ï¼ˆ1ä¸ªï¼‰</strong></td><td><strong>(æ¡ä»¶è¡¨è¾¾å¼)?ç»“æœ1:ç»“æœ2</strong></td></tr><tr><td><strong>Lambdaè¿ç®—ç¬¦ï¼ˆ1ä¸ªï¼‰</strong></td><td><strong>-&gt;ï¼ˆç¬¬18ç« æ—¶è®²è§£ï¼‰</strong></td></tr></tbody></table></li><li class="lvl-2"><p><strong>æŒ‰ç…§</strong>â€‹<code>æ“ä½œæ•°ä¸ªæ•°</code>â€‹åˆ†ä¸ºï¼šä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå•ç›®è¿ç®—ç¬¦ï¼‰ã€äºŒå…ƒè¿ç®—ç¬¦ï¼ˆåŒç›®è¿ç®—ç¬¦ï¼‰ã€ä¸‰å…ƒè¿ç®—ç¬¦ ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰</p><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>è¿ç®—ç¬¦</strong></th></tr></thead><tbody><tr><td><strong>ä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå•ç›®è¿ç®—ç¬¦ï¼‰</strong></td><td><strong>æ­£å·ï¼ˆ+ï¼‰ã€è´Ÿå·ï¼ˆ-ï¼‰ã€++ã€â€“ã€!ã€~</strong></td></tr><tr><td><strong>äºŒå…ƒè¿ç®—ç¬¦ï¼ˆåŒç›®è¿ç®—ç¬¦ï¼‰</strong></td><td><strong>é™¤äº†ä¸€å…ƒå’Œä¸‰å…ƒè¿ç®—ç¬¦å‰©ä¸‹çš„éƒ½æ˜¯äºŒå…ƒè¿ç®—ç¬¦</strong></td></tr><tr><td><strong>ä¸‰å…ƒè¿ç®—ç¬¦ ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰</strong></td><td><strong>(æ¡ä»¶è¡¨è¾¾å¼)?ç»“æœ1:ç»“æœ2</strong></td></tr></tbody></table></li></ul><h3 id="6-1-ç®—æœ¯è¿ç®—ç¬¦">6.1 ç®—æœ¯è¿ç®—ç¬¦</h3><ul class="lvl-0"><li class="lvl-2"><p><mark>åŸºæœ¬è¯­æ³•</mark></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224531667-1895469365-20230928215553-3ac8r3i.png" alt="image">â€‹</p></li></ul><h3 id="6-2-èµ‹å€¼è¿ç®—ç¬¦">6.2 èµ‹å€¼è¿ç®—ç¬¦</h3><ul class="lvl-0"><li class="lvl-2"><p>åŸºæœ¬è¯­æ³•</p><ul class="lvl-2"><li class="lvl-4"><p>ç¬¦å· ï¼š =</p><ul class="lvl-4"><li class="lvl-6">å½“â€œ=â€ä¸¤ä¾§æ•°æ®ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è‡ªåŠ¨ç±»å‹è½¬æ¢æˆ–ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢åŸåˆ™è¿›è¡Œå¤„ç†ã€‚</li><li class="lvl-6">æ”¯æŒè¿ç»­èµ‹å€¼</li></ul></li><li class="lvl-4"><p>æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦ ï¼š +=ã€ -=ã€*=ã€ /=ã€%=</p><table><thead><tr><th><strong>èµ‹å€¼è¿ç®—ç¬¦</strong></th><th><strong>ç¬¦å·è§£é‡Š</strong></th></tr></thead><tbody><tr><td>â€‹<code>+=</code>â€‹</td><td><strong>å°†ç¬¦å·</strong>â€‹<code>å·¦è¾¹çš„å€¼</code>â€‹å’Œ<code>å³è¾¹çš„å€¼</code>â€‹è¿›è¡Œ<code>ç›¸åŠ </code>â€‹æ“ä½œï¼Œæœ€åå°†ç»“æœ<code>èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</code>â€‹</td></tr><tr><td>â€‹<code>-=</code>â€‹</td><td><strong>å°†ç¬¦å·</strong>â€‹<code>å·¦è¾¹çš„å€¼</code>â€‹å’Œ<code>å³è¾¹çš„å€¼</code>â€‹è¿›è¡Œ<code>ç›¸å‡</code>â€‹æ“ä½œï¼Œæœ€åå°†ç»“æœ<code>èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</code>â€‹</td></tr><tr><td>â€‹<code>*=</code>â€‹</td><td><strong>å°†ç¬¦å·</strong>â€‹<code>å·¦è¾¹çš„å€¼</code>â€‹å’Œ<code>å³è¾¹çš„å€¼</code>â€‹è¿›è¡Œ<code>ç›¸ä¹˜</code>â€‹æ“ä½œï¼Œæœ€åå°†ç»“æœ<code>èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</code>â€‹</td></tr><tr><td>â€‹<code>/=</code>â€‹</td><td><strong>å°†ç¬¦å·</strong>â€‹<code>å·¦è¾¹çš„å€¼</code>â€‹å’Œ<code>å³è¾¹çš„å€¼</code>â€‹è¿›è¡Œ<code>ç›¸é™¤</code>â€‹æ“ä½œï¼Œæœ€åå°†ç»“æœ<code>èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</code>â€‹</td></tr><tr><td>â€‹<code>%=</code>â€‹</td><td><strong>å°†ç¬¦å·</strong>â€‹<code>å·¦è¾¹çš„å€¼</code>â€‹å’Œ<code>å³è¾¹çš„å€¼</code>â€‹è¿›è¡Œ<code>å–ä½™</code>â€‹æ“ä½œï¼Œæœ€åå°†ç»“æœ<code>èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</code>â€‹</td></tr></tbody></table></li></ul></li></ul><h3 id="6-3-æ¯”è¾ƒ-å…³ç³»-è¿ç®—ç¬¦">6.3 æ¯”è¾ƒ(å…³ç³»)è¿ç®—ç¬¦</h3><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224532261-475127645-20230928215553-wx4yoj9.png" alt="image">â€‹</p><ul class="lvl-0"><li class="lvl-2"><p>æ¯”è¾ƒè¿ç®—ç¬¦çš„ç»“æœéƒ½æ˜¯booleanå‹ï¼Œä¹Ÿå°±æ˜¯è¦ä¹ˆæ˜¯trueï¼Œè¦ä¹ˆæ˜¯falseã€‚</p></li><li class="lvl-3"><p><strong>&gt;</strong>    &lt;   &gt;=  &lt;= ï¼šåªé€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆé™¤booleanç±»å‹ä¹‹å¤–ï¼‰ ==   != ï¼šé€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹</p></li><li class="lvl-2"><p>â€</p></li><li class="lvl-2"><p>**æ¯”è¾ƒè¿ç®—ç¬¦â€œ**â€‹<code>==</code>â€‹â€ä¸èƒ½è¯¯å†™æˆâ€œ<code>=</code>â€‹â€</p></li></ul><h3 id="6-4-é€»è¾‘è¿ç®—ç¬¦">6.4 é€»è¾‘è¿ç®—ç¬¦</h3><ul class="lvl-0"><li class="lvl-2"><p>é€»è¾‘ä¸è¿ç®—ç¬¦ ï¼Œ æ“ä½œçš„éƒ½æ˜¯booleanç±»å‹çš„å˜é‡æˆ–æ•äº® ï¼Œ è€Œä¸”è¿ç®—çš„ç»“æœä¹Ÿæ˜¯booleanç±»å‹çš„å€¼</p></li><li class="lvl-2"><p>è¿ç®—ç¬¦è¯´æ˜ï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>&amp; å’Œ &amp;&amp;ï¼šè¡¨ç¤º&quot;ä¸”&quot;å…³ç³»ï¼Œå½“ç¬¦å·å·¦å³ä¸¤è¾¹å¸ƒå°”å€¼éƒ½æ˜¯trueæ—¶ï¼Œç»“æœæ‰èƒ½ä¸ºtrueã€‚å¦åˆ™ï¼Œä¸ºfalseã€‚</p></li><li class="lvl-4"><p>| å’Œ || ï¼šè¡¨ç¤º&quot;æˆ–&quot;å…³ç³»ï¼Œå½“ç¬¦å·ä¸¤è¾¹å¸ƒå°”å€¼æœ‰ä¸€è¾¹ä¸ºtrueæ—¶ï¼Œç»“æœä¸ºtrueã€‚å½“ä¸¤è¾¹éƒ½ä¸ºfalseæ—¶ï¼Œç»“æœä¸ºfalse</p></li><li class="lvl-4"><p>! ï¼šè¡¨ç¤º&quot;é&quot;å…³ç³»ï¼Œå½“å˜é‡å¸ƒå°”å€¼ä¸ºtrueæ—¶ï¼Œç»“æœä¸ºfalseã€‚å½“å˜é‡å¸ƒå°”å€¼ä¸ºfalseæ—¶ï¼Œç»“æœä¸ºtrueã€‚</p></li><li class="lvl-4"><p>^ ï¼šå½“ç¬¦å·å·¦å³ä¸¤è¾¹å¸ƒå°”å€¼ä¸åŒæ—¶ï¼Œç»“æœä¸ºtrueã€‚å½“ä¸¤è¾¹å¸ƒå°”å€¼ç›¸åŒæ—¶ï¼Œç»“æœä¸ºfalseã€‚</p><ul class="lvl-4"><li class="lvl-6">**ç†è§£ï¼š**â€‹<code>å¼‚æˆ–ï¼Œè¿½æ±‚çš„æ˜¯â€œå¼‚â€ï¼</code>â€‹</li></ul></li><li class="lvl-4"><p>é€»è¾‘è¿ç®—ç¬¦ç”¨äºè¿æ¥å¸ƒå°”å‹è¡¨è¾¾å¼ï¼Œåœ¨Javaä¸­ä¸å¯ä»¥å†™æˆ 3 &lt; x &lt; 6ï¼Œåº”è¯¥å†™æˆx &gt; 3 &amp; x &lt; 6 ã€‚</p></li></ul></li><li class="lvl-2"><p><mark>åŒºåˆ†â€œ&amp;â€å’Œâ€œ&amp;&amp;â€ï¼š</mark></p><ul class="lvl-2"><li class="lvl-4"><p>ç›¸åŒç‚¹ ï¼š å¦‚æœç¬¦å·å·¦è¾¹æ˜¯true ï¼Œ åˆ™äºŒè€…éƒ½æ‰§è¡Œç¬¦å·å³è¾¹çš„æ“ä½œ</p></li><li class="lvl-4"><p>ä¸åŒç‚¹ ï¼š</p><ul class="lvl-4"><li class="lvl-6">&amp; ï¼š å¦‚æœç¬¦å·å·¦è¾¹æ˜¯false ï¼Œ åˆ™ç»§ç»­æ‰§è¡Œç¬¦å·å³è¾¹çš„æ“ä½œ</li><li class="lvl-6">&amp;&amp;  ï¼š å¦‚æœç¬¦å·å·¦è¾¹æ˜¯false ï¼Œ åˆ™ä¸å†ç»§ç»­æ‰§è¡Œç¬¦å·å³è¾¹çš„æ“ä½œ</li></ul></li><li class="lvl-4"><p>å»ºè®® ï¼š å¼€å‘ä¸­  ï¼Œ æ¨èä½¿ç”¨ &amp;&amp;</p></li></ul><p>â€</p></li><li class="lvl-2"><p><mark>åŒºåˆ† â€˜|â€™ å’Œ â€˜||â€™</mark></p><ul class="lvl-2"><li class="lvl-4"><p>ç›¸åŒç‚¹ ï¼š å¦‚æœå¦‚å¥½å·¦è¾¹æ˜¯false ï¼Œ åˆ™äºŒè€…éƒ½æ‰§è¡Œç¬¦å·å³è¾¹çš„æ“ä½œ</p></li><li class="lvl-4"><p>ä¸åŒç‚¹ ï¼š</p><ul class="lvl-4"><li class="lvl-6">| ï¼š å¦‚æœç¬¦å·å·¦è¾¹æ˜¯true  ï¼Œ åˆ™ç»§ç»­æ‰§è¡Œç¬¦å·å³è¾¹çš„æ“ä½œ</li><li class="lvl-6">|| ï¼š å¦‚æœç¬¦å·å·¦è¾¹æ˜¯true ï¼Œ åˆ™ä¸å†ç»§ç»­æ‰§è¡Œç¬¦å·å³è¾¹çš„æ“ä½œ</li></ul></li><li class="lvl-4"><p>å»ºè®®ï¼š å¼€å‘ä¸­ ï¼Œ æ¨èåªç”¨ ||</p></li></ul></li></ul><p>ä»£ç ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginTest</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &amp; ä¸ï¼Œä¸”ï¼›æœ‰falseåˆ™false</span></span><br><span class="line">System.out.println((a &gt; b) &amp; (a &gt; c)); </span><br><span class="line">System.out.println((a &gt; b) &amp; (a &lt; c)); </span><br><span class="line">System.out.println((a &lt; b) &amp; (a &gt; c)); </span><br><span class="line">System.out.println((a &lt; b) &amp; (a &lt; c)); </span><br><span class="line">System.out.println(<span class="string">&quot;===============&quot;</span>);</span><br><span class="line"><span class="comment">// | æˆ–ï¼›æœ‰trueåˆ™true</span></span><br><span class="line">System.out.println((a &gt; b) | (a &gt; c)); </span><br><span class="line">System.out.println((a &gt; b) | (a &lt; c)); </span><br><span class="line">System.out.println((a &lt; b) | (a &gt; c));</span><br><span class="line">System.out.println((a &lt; b) | (a &lt; c));</span><br><span class="line">System.out.println(<span class="string">&quot;===============&quot;</span>);</span><br><span class="line"><span class="comment">// ^ å¼‚æˆ–ï¼›ç›¸åŒä¸ºfalseï¼Œä¸åŒä¸ºtrue</span></span><br><span class="line">System.out.println((a &gt; b) ^ (a &gt; c));</span><br><span class="line">System.out.println((a &gt; b) ^ (a &lt; c)); </span><br><span class="line">System.out.println((a &lt; b) ^ (a &gt; c)); </span><br><span class="line">System.out.println((a &lt; b) ^ (a &lt; c)); </span><br><span class="line">System.out.println(<span class="string">&quot;===============&quot;</span>);</span><br><span class="line"><span class="comment">// ! éï¼›éfalseåˆ™trueï¼Œétrueåˆ™false</span></span><br><span class="line">System.out.println(!<span class="literal">false</span>);</span><br><span class="line">System.out.println(!<span class="literal">true</span>);</span><br><span class="line">  </span><br><span class="line">        <span class="comment">//&amp;å’Œ&amp;&amp;çš„åŒºåˆ«</span></span><br><span class="line">        System.out.println((a &gt; b) &amp; (a++ &gt; c)); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a);</span><br><span class="line">        System.out.println((a &gt; b) &amp;&amp; (a++ &gt; c)); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a);</span><br><span class="line">        System.out.println((a == b) &amp;&amp; (a++ &gt; c)); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a);</span><br><span class="line">  </span><br><span class="line">        <span class="comment">//|å’Œ||çš„åŒºåˆ«</span></span><br><span class="line">        System.out.println((a &gt; b) | (a++ &gt; c)); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a);</span><br><span class="line">        System.out.println((a &gt; b) || (a++ &gt; c)); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a);</span><br><span class="line">        System.out.println((a == b) || (a++ &gt; c)); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><h3 id="6-5-ä½è¿ç®—ç¬¦">6.5 ä½è¿ç®—ç¬¦</h3><blockquote><p>ä½è¿ç®—ç¬¦çš„è¿ç®—è¿‡ç¨‹éƒ½æ˜¯åŸºäºäºŒè¿›åˆ¶çš„è¡¥ç è¿ç®—</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224532746-546165521-20230928215553-orfba23.png" alt="image">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224533246-1043083331-20230928215553-svxwseg.png" alt="image">â€‹</p><p>â€</p><h3 id="6-6-æ¡ä»¶è¿ç®—ç¬¦">6.6 æ¡ä»¶è¿ç®—ç¬¦</h3><ul class="lvl-0"><li class="lvl-2"><p>æ¡ä»¶è¿ç®—ç¬¦æ ¼å¼ ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(æ¡ä»¶è¡¨è¾¾å¼) ? è¡¨è¾¾å¼<span class="number">1</span> ï¼š è¡¨è¾¾å¼<span class="number">2</span></span><br></pre></td></tr></table></figure></li><li class="lvl-2"><p>è¯´æ˜ï¼šæ¡ä»¶è¡¨è¾¾å¼æ˜¯booleanç±»å‹çš„ç»“æœï¼Œæ ¹æ®booleançš„å€¼é€‰æ‹©è¡¨è¾¾å¼1æˆ–è¡¨è¾¾å¼2</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224533675-1858298247-20230928215553-s8ngnhr.png" alt="image">â€‹</p></li><li class="lvl-2"><p>å¦‚æœè¿ç®—åçš„ç»“æœèµ‹ç»™æ–°çš„å˜é‡ï¼Œè¦æ±‚è¡¨è¾¾å¼1å’Œè¡¨è¾¾å¼2ä¸ºåŒç§æˆ–å…¼å®¹çš„ç±»å‹</p></li><li class="lvl-2"><p><mark>ä¸ if-elseçš„è½¬æ¢å…³ç³»</mark></p><ul class="lvl-2"><li class="lvl-4">å‡¡æ˜¯å¯ä»¥ä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦çš„åœ°æ–¹ ï¼Œ éƒ½å¯ä»¥æ”¹ä¸ºif-else ç»“æ„ ï¼Œ åä¹‹ï¼Œ ä¸æˆç«‹</li><li class="lvl-4">å¼€å‘ä¸­ï¼Œå¦‚æœæ—¢å¯ä»¥ä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦ï¼Œåˆå¯ä»¥ä½¿ç”¨if-elseï¼Œæ¨èä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦ã€‚å› ä¸ºæ‰§è¡Œæ•ˆç‡ç¨é«˜ã€‚</li></ul></li></ul><h3 id="6-7-è¿ç®—ç¬¦ä¼˜å…ˆçº§">6.7 è¿ç®—ç¬¦ä¼˜å…ˆçº§</h3><p>è¿ç®—ç¬¦æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œæ‰€è°“ä¼˜å…ˆçº§å°±æ˜¯åœ¨è¡¨è¾¾å¼è¿ç®—ä¸­çš„è¿ç®—ç¬¦é¡ºåºã€‚</p><p><strong>å¼€å‘å»ºè®®ï¼š</strong></p><ol><li class="lvl-3"><p>ä¸è¦è¿‡å¤šçš„ä¾èµ–è¿ç®—çš„ä¼˜å…ˆçº§æ¥æ§åˆ¶è¡¨è¾¾å¼çš„æ‰§è¡Œé¡ºåºï¼Œè¿™æ ·å¯è¯»æ€§å¤ªå·®ï¼Œå°½é‡<code>ä½¿ç”¨()æ¥æ§åˆ¶</code>â€‹è¡¨è¾¾å¼çš„æ‰§è¡Œé¡ºåºã€‚</p></li><li class="lvl-3"><p>ä¸è¦æŠŠä¸€ä¸ªè¡¨è¾¾å¼å†™å¾—è¿‡äºå¤æ‚ï¼Œå¦‚æœä¸€ä¸ªè¡¨è¾¾å¼è¿‡äºå¤æ‚ï¼Œåˆ™æŠŠå®ƒ<code>åˆ†æˆå‡ æ­¥</code>â€‹æ¥å®Œæˆã€‚ä¾‹å¦‚ï¼š(num1 + num2) * 2 &gt; num3 &amp;&amp; num2 &gt; num3 ? num3 : num1 + num2;</p></li></ol><h2 id="7-å…³äºå­—ç¬¦é›†">7. å…³äºå­—ç¬¦é›†</h2><ul class="lvl-0"><li class="lvl-2"><p>å­—ç¬¦é›†</p></li><li class="lvl-2"><p>ASCIIç </p></li><li class="lvl-2"><p>ISO-8859-1å­—ç¬¦é›†</p></li><li class="lvl-2"><p>GBxxxå­—ç¬¦é›†</p></li><li class="lvl-2"><p>Unicodeç </p></li><li class="lvl-2"><p>UTF-8</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911224533982-803131751-20230928215554-onckvwl.png" alt="image">â€‹</p><p>æ³¨æ„ï¼šåœ¨ä¸­æ–‡æ“ä½œç³»ç»Ÿä¸Šï¼ŒANSIï¼ˆç¾å›½å›½å®¶æ ‡å‡†å­¦ä¼šã€AMERICAN NATIONAL STANDARDS INSTITUTE: ANSIï¼‰ç¼–ç å³ä¸ºGBKï¼›åœ¨è‹±æ–‡æ“ä½œç³»ç»Ÿä¸Šï¼ŒANSIç¼–ç å³ä¸ºISO-8859-1ã€‚</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.Javaè¯­è¨€æ¦‚è¿°</title>
      <link href="/posts/3e69d26.html"/>
      <url>/posts/3e69d26.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-JavaæŠ€æœ¯ä½“ç³»">1. JavaæŠ€æœ¯ä½“ç³»</h2><ul class="lvl-0"><li class="lvl-2">Java SE(Java Standard Edition)æ ‡å‡†ç‰ˆ</li><li class="lvl-2">Java EE(Java Enterprise Edition)ä¼ä¸šç‰ˆ</li><li class="lvl-2">Java ME(Java Micro Edition)å°å‹ç‰ˆ</li></ul><h2 id="2-Javaå¼€å‘ç¯å¢ƒä»‹ç»">2. Javaå¼€å‘ç¯å¢ƒä»‹ç»</h2><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p><strong>JDK</strong>  (java Development kit)ï¼šæ˜¯Javaç¨‹åºå¼€å‘å·¥å…·åŒ…ï¼ŒåŒ…å«JRE å’Œå¼€å‘äººå‘˜ä½¿ç”¨çš„å·¥å…·ã€‚</p></li><li class="lvl-2"><p><strong>JRE</strong> (Java Runtime Environment) ï¼šæ˜¯Javaç¨‹åºçš„è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒ…å«JVMå’Œè¿è¡Œæ—¶æ‰€éœ€è¦çš„<code>æ ¸å¿ƒç±»åº“</code>â€‹ã€‚</p></li></ul><p><mark>Java 8.0 Platformï¼š</mark></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911193326119-1565088420-20230928215632-00gihxc.png" alt="image">â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911193330222-20589390-20230928215632-rq4dc1t.png" alt="image">â€‹</p><p>â€</p><p>å…¶ä¸­ ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>JDK = JRE + å¼€å‘å·¥å…·é›†ï¼ˆeg: javacç¼–è¯‘å·¥å…·ç­‰ï¼‰</p></li><li class="lvl-2"><p>JRE = JVM + JavaSEæ ‡å‡†åº“</p></li></ul><h2 id="3-æ³¨é‡Š">3. æ³¨é‡Š</h2><ul class="lvl-0"><li class="lvl-2"><p>ä»€ä¹ˆæ˜¯æ³¨é‡Šï¼Ÿã€</p><ul class="lvl-2"><li class="lvl-4">æºæ–‡ä»¶ä¸­ç”¨äºè§£é‡Š ï¼Œ è¯´æ˜ç¨‹åºçš„æ–‡å­—å°±æ˜¯æ³¨é‡Š</li></ul></li><li class="lvl-2"><p>æ³¨é‡Šçš„ç±»å‹</p><ul class="lvl-2"><li class="lvl-4">å•è¡Œæ³¨é‡Š</li><li class="lvl-4">å¤šè¡Œæ³¨é‡Š</li><li class="lvl-4">æ–‡æ¡£æ³¨é‡Š</li></ul></li><li class="lvl-2"><p>æ³¨é‡Šçš„ä½œç”¨</p><ul class="lvl-2"><li class="lvl-4">æé«˜äº†ç¨‹åºçš„å¯è¯»æ€§</li><li class="lvl-4">è°ƒè¯•ç¨‹åºçš„é‡è¦æ–¹æ³•</li></ul></li></ul><h2 id="4-Java-Api-æ–‡æ¡£">4. Java Api æ–‡æ¡£</h2><ul class="lvl-0"><li class="lvl-2"><p>API ï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰æ˜¯ Java æä¾›çš„åŸºæœ¬ç¼–ç¨‹æ¥å£ã€‚</p></li></ul><h2 id="5-Javaæ ¸å¿ƒæœºåˆ¶-ï¼š-JVM">5. Javaæ ¸å¿ƒæœºåˆ¶ ï¼š JVM</h2><p>Javaè¯­è¨€çš„ä¼˜ç¼ºç‚¹</p><ul class="lvl-0"><li class="lvl-2"><p>ä¼˜ç‚¹</p><ul class="lvl-2"><li class="lvl-4">è·¨å¹³å°æ€§</li><li class="lvl-4">é¢å‘å¯¹è±¡æ€§</li><li class="lvl-4">å¥å£®æ€§</li><li class="lvl-4">å®‰å…¨æ€§é«˜</li><li class="lvl-4">ç®€å•æ€§é«˜æ€§èƒ½</li></ul></li><li class="lvl-2"><p>ç¼ºç‚¹</p><ul class="lvl-2"><li class="lvl-4">è¯­æ³•è¿‡äºå¤æ‚ ï¼Œ ä¸¥è°¨</li><li class="lvl-4">æ¶æ„è¾ƒé‡</li><li class="lvl-4">å¹¶éé€‚ç”¨äºæ‰€æœ‰é¢†åŸŸ</li></ul></li></ul><p><mark>JVMåŠŸèƒ½è¯´æ˜</mark></p><p><strong>JVM</strong>ï¼ˆ<code>J</code>â€‹ava <code>V</code>â€‹irtual <code>M</code>â€‹achine ï¼ŒJavaè™šæ‹Ÿæœºï¼‰ï¼šæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è®¡ç®—æœºï¼Œæ˜¯Javaç¨‹åºçš„è¿è¡Œç¯å¢ƒã€‚JVMå…·æœ‰æŒ‡ä»¤é›†å¹¶ä½¿ç”¨ä¸åŒçš„å­˜å‚¨åŒºåŸŸï¼Œè´Ÿè´£æ‰§è¡ŒæŒ‡ä»¤ï¼Œç®¡ç†æ•°æ®ã€å†…å­˜ã€å¯„å­˜å™¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230911193332592-614675216-20230928215632-zdre7h1.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>åŠŸèƒ½1 ï¼š å®ç°Javaç¨‹åºçš„è·¨å¹³å°æ€§</p></li><li class="lvl-2"><p>åŠŸèƒ½2 ï¼š è‡ªåŠ¨å†…å­˜ç®¡ç†(å†…å­˜åˆ†é… ï¼Œ å†…å­˜å›æ”¶)</p><ul class="lvl-2"><li class="lvl-4"><p><strong>Javaç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°è¿ç®—çš„</strong>â€‹<code>æ•°æ®çš„åˆ†é…</code>â€‹ã€<code>å­˜å‚¨</code>â€‹ç­‰éƒ½ç”±JVMæ¥å®Œæˆ</p></li><li class="lvl-4"><p>Javaæ¶ˆé™¤äº†ç¨‹åºå‘˜å›æ”¶æ— ç”¨å†…å­˜ç©ºé—´çš„èŒè´£ã€‚æä¾›äº†ä¸€ç§ç³»ç»Ÿçº§çº¿ç¨‹è·Ÿè¸ªå­˜å‚¨ç©ºé—´çš„åˆ†é…æƒ…å†µï¼Œåœ¨å†…å­˜ç©ºé—´è¾¾åˆ°ç›¸åº”é˜ˆå€¼æ—¶ï¼Œæ£€æŸ¥å¹¶é‡Šæ”¾å¯è¢«é‡Šæ”¾çš„å­˜å‚¨å™¨ç©ºé—´ã€‚</p></li><li class="lvl-4"><p>GCçš„è‡ªåŠ¨å›æ”¶ï¼Œæé«˜äº†å†…å­˜ç©ºé—´çš„åˆ©ç”¨æ•ˆç‡ï¼Œä¹Ÿæé«˜äº†ç¼–ç¨‹äººå‘˜çš„æ•ˆç‡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Š<code>å‡å°‘äº†</code>â€‹å› ä¸ºæ²¡æœ‰é‡Šæ”¾ç©ºé—´è€Œå¯¼è‡´çš„<code>å†…å­˜æ³„æ¼</code>â€‹</p></li><li class="lvl-4"><p><mark>é¢è¯•é¢˜</mark></p><ul class="lvl-4"><li class="lvl-6">Javaç¨‹åºè¿˜ä¼šå‡ºç°å†…å­˜æº¢å‡ºå’Œå†…å­˜æ³„æ¼çš„é—®é¢˜å—ï¼Ÿ Yes!</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.æµç¨‹æ§åˆ¶è¯­å¥</title>
      <link href="/posts/fffd9e73.html"/>
      <url>/posts/fffd9e73.html</url>
      
        <content type="html"><![CDATA[<p>ç¨‹åºè®¾è®¡ä¸­è§„å®šçš„ä¸‰ç§æµç¨‹ç»“æ„</p><ul class="lvl-0"><li class="lvl-2"><p>é¡ºåºç»“æ„</p><ul class="lvl-2"><li class="lvl-4">ç¨‹åºä»ä¸Šåˆ°ä¸‹é€è¡Œæ‰§è¡Œ ï¼Œ ä¸­é—´æ²¡æœ‰ä»»ä½•åˆ¤æ–­å’Œè·³è½¬</li></ul></li><li class="lvl-2"><p>åˆ†æ”¯ç»“æ„</p><ul class="lvl-2"><li class="lvl-4">æ ¹æ®æ¡ä»¶ ï¼Œ é€‰æ‹©åœ°æ‰§è¡ŒæŸæ®µä»£ç </li><li class="lvl-4">æœ‰<code>if...else</code>â€‹å’Œ<code>switch-case</code>â€‹ä¸¤ç§åˆ†æ”¯è¯­å¥</li></ul></li><li class="lvl-2"><p>å¾ªç¯ç»“æ„</p><ul class="lvl-2"><li class="lvl-4">æ ¹æ®å¾ªç¯æ¡ä»¶ ï¼Œ é‡å¤çš„æ‰§è¡ŒæŸæ®µä»£ç </li><li class="lvl-4">æœ‰<code>for , while , do-while</code>â€‹ä¸‰ç§å¾ªç¯è¯­å¥</li><li class="lvl-4">è¡¥å……ï¼šJDK5.0 æä¾›äº†<code>foreach</code>â€‹å¾ªç¯ï¼Œæ–¹ä¾¿çš„éå†é›†åˆã€æ•°ç»„å…ƒç´ ã€‚</li></ul></li></ul><h2 id="1-å¾ªç¯ç»“æ„">1. å¾ªç¯ç»“æ„</h2><blockquote><p>è¯­å¥ä»ä¸Šåˆ°ä¸‹é€è¡Œæ‰§è¡Œ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912193925433-1211275088-20230929073420-forpo09.png" alt="image">â€‹</p><p>â€</p><h2 id="2-åˆ†æ”¯è¯­å¥">2. åˆ†æ”¯è¯­å¥</h2><h3 id="2-1-if-else-æ¡ä»¶åˆ¤æ–­ç»“æ„">2.1 if - else æ¡ä»¶åˆ¤æ–­ç»“æ„</h3><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶è¡¨è¾¾å¼) &#123;</span><br><span class="line">è¯­å¥å—;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><mark>å•åˆ†æ”¯æ¡ä»¶åˆ¤æ–­ ï¼š if</mark></p><p>è¯´æ˜ï¼š æ¡ä»¶è¡¨è¾¾å¼å¿…é¡»æ˜¯å¸ƒå°”è¡¨è¾¾å¼(å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼)æˆ–å¸ƒå°”å˜é‡</p><p>æ‰§è¡Œæµç¨‹</p><ol><li class="lvl-3"><p><strong>é¦–å…ˆåˆ¤æ–­æ¡ä»¶è¡¨è¾¾å¼çœ‹å…¶ç»“æœæ˜¯trueè¿˜æ˜¯false</strong></p></li><li class="lvl-3"><p><strong>å¦‚æœæ˜¯trueå°±æ‰§è¡Œè¯­å¥å—</strong></p></li><li class="lvl-3"><p><strong>å¦‚æœæ˜¯falseå°±ä¸æ‰§è¡Œè¯­å¥å—</strong></p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912193926077-1409822041-20230929073420-nxxgw5s.png" alt="image">â€‹</p><p>â€</p><p><mark>åŒåˆ†æ”¯æ¡ä»¶åˆ¤æ–­ ï¼šif â€¦ else</mark></p><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶è¡¨è¾¾å¼) &#123;</span><br><span class="line">è¯­å¥å—<span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">è¯­å¥å—<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912193926593-395848992-20230929073420-bzvmnmf.png" alt="image">â€‹</p><p><mark>å¤šåˆ†æ”¯æ¡ä»¶åˆ¤æ–­ ï¼š ifâ€¦else ifâ€¦lese</mark></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (æ¡ä»¶è¡¨è¾¾å¼<span class="number">1</span>) &#123;</span><br><span class="line">  è¯­å¥å—<span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (æ¡ä»¶è¡¨è¾¾å¼<span class="number">2</span>) &#123;</span><br><span class="line">  è¯­å¥å—<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (æ¡ä»¶è¡¨è¾¾å¼n) &#123;</span><br><span class="line"> è¯­å¥å—n;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  è¯­å¥å—n+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>è¯´æ˜ï¼š</code>â€‹ä¸€æ—¦æ¡ä»¶è¡¨è¾¾å¼ä¸ºtrueï¼Œåˆ™è¿›å…¥æ‰§è¡Œç›¸åº”çš„è¯­å¥å—ã€‚æ‰§è¡Œå®Œå¯¹åº”çš„è¯­å¥å—ä¹‹åï¼Œå°±è·³å‡ºå½“å‰ç»“æ„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912193927120-1096512791-20230929073420-7sfutjx.png" alt="image">â€‹</p><p>â€</p><p><mark>ifâ€¦elseåµŒå¥—</mark></p><p>åœ¨ if çš„è¯­å¥å—ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨elseè¯­å¥å—ä¸­ï¼ŒåˆåŒ…å«äº†å¦å¤–ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­ï¼ˆå¯ä»¥æ˜¯å•åˆ†æ”¯ã€åŒåˆ†æ”¯ã€å¤šåˆ†æ”¯ï¼‰ï¼Œå°±æ„æˆäº†<code>åµŒå¥—ç»“æ„</code>â€‹ã€‚</p><p><strong>æ‰§è¡Œç‰¹ç‚¹ï¼š</strong></p><p>ï¼ˆ1ï¼‰å¦‚æœæ˜¯åµŒå¥—åœ¨ifè¯­å¥å—ä¸­çš„ï¼Œåªæœ‰å½“å¤–éƒ¨çš„ifæ¡ä»¶æ»¡è¶³ï¼Œæ‰ä¼šå»åˆ¤æ–­å†…éƒ¨çš„æ¡ä»¶</p><p>ï¼ˆ2ï¼‰å¦‚æœæ˜¯åµŒå¥—åœ¨elseè¯­å¥å—ä¸­çš„ï¼Œåªæœ‰å½“å¤–éƒ¨çš„ifæ¡ä»¶ä¸æ»¡è¶³ï¼Œè¿›å…¥elseåï¼Œæ‰ä¼šå»åˆ¤æ–­å†…éƒ¨çš„æ¡ä»¶</p><h3 id="2-2-switch-caseé€‰æ‹©ç»“æ„">2.2 switch-caseé€‰æ‹©ç»“æ„</h3><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(è¡¨è¾¾å¼)&#123;</span><br><span class="line">    <span class="keyword">case</span> å¸¸é‡å€¼<span class="number">1</span>:</span><br><span class="line">        è¯­å¥å—<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> å¸¸é‡å€¼<span class="number">2</span>:</span><br><span class="line">        è¯­å¥å—<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//break; </span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">   [<span class="keyword">default</span>:</span><br><span class="line">        è¯­å¥å—n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œæµç¨‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230912193927606-360875804-20230929073420-d2w7kf1.png" alt="image">â€‹</p><p>æ‰§è¡Œè¿‡ç¨‹</p><p>ç¬¬1æ­¥ï¼šæ ¹æ®switchä¸­è¡¨è¾¾å¼çš„å€¼ï¼Œä¾æ¬¡åŒ¹é…å„ä¸ªcaseã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ç­‰äºæŸä¸ªcaseä¸­çš„å¸¸é‡å€¼ï¼Œåˆ™æ‰§è¡Œå¯¹åº”caseä¸­çš„æ‰§è¡Œè¯­å¥ã€‚</p><p>ç¬¬2æ­¥ï¼šæ‰§è¡Œå®Œæ­¤caseçš„æ‰§è¡Œè¯­å¥ä»¥å</p><ul class="lvl-0"><li class="lvl-2"><p>æƒ…å†µ1ï¼šå¦‚æœé‡åˆ°break,åˆ™æ‰§è¡Œbreakå¹¶è·³å‡ºå½“å‰çš„switch-caseç»“æ„</p></li><li class="lvl-2"><p>æƒ…å†µ2ï¼šå¦‚æœæ²¡æœ‰é‡åˆ°breakï¼Œåˆ™ä¼šç»§ç»­æ‰§è¡Œå½“å‰caseä¹‹åçš„å…¶å®ƒcaseä¸­çš„æ‰§è¡Œè¯­å¥ã€‚â€”&gt;caseç©¿é€</p></li><li class="lvl-2"><p>â€¦</p></li><li class="lvl-2"><p>ç›´åˆ°é‡åˆ°breakå…³é”®å­—æˆ–æ‰§è¡Œå®Œæ‰€æœ‰çš„caseåŠdefaultçš„æ‰§è¡Œè¯­å¥ï¼Œè·³å‡ºå½“å‰çš„switch-caseç»“æ„</p></li></ul><p><mark>ä½¿ç”¨æ³¨æ„ç‚¹ï¼š</mark></p><ul class="lvl-0"><li class="lvl-2"><p>switchï¼ˆè¡¨è¾¾å¼ï¼‰ä¸­è¡¨è¾¾å¼çš„å€¼å¿…é¡»æ˜¯è¿™å‡ ç§ç±»å‹ ï¼š byte ï¼Œ short , char , int , æšä¸¾(JDK 5.0) , String(JDK 7.0)</p></li><li class="lvl-2"><p>caseå­å¥ä¸­çš„å€¼å¿…é¡»æ˜¯æ•äº® ï¼Œ æ‰€æœ‰caseå­å¥ä¸­çš„æ•äº®ç›¸äº’ä¸ç›¸åŒ</p></li><li class="lvl-2"><p>åŒä¸€ä¸ªswitchè¯­å¥ ï¼Œ æ‰€æœ‰caseå­å¥ä¸­çš„æ•äº®å€¼äº’ä¸ç›¸åŒ</p></li><li class="lvl-2"><p>breakè¯­å¥ç”¨æ¥æ‰§è¡Œå®Œä¸€ä¸ªcaseåˆ†æ”¯åä½¿ç¨‹åºè·³å‡ºswtichè¯­å¥å— ï¼Œ <strong>å¦‚æœæ²¡æœ‰break , ç¨‹åºä¼šé¡ºåºæ‰§è¡Œåˆ°switchç»“å°¾</strong></p></li><li class="lvl-2"><p>defaultå­å¥æ˜¯å¯é€‰çš„ ï¼Œ åŒæ—¶ ï¼Œ ä½ç½®ä¹Ÿæ˜¯çµæ´»çš„ ï¼Œ å½“æ²¡æœ‰åŒ¹é…çš„caseæ—¶ ï¼Œ æ‰§è¡Œdefaultè¯­å¥</p></li></ul><h2 id="3-å¾ªç¯è¯­å¥">3. å¾ªç¯è¯­å¥</h2><ul class="lvl-0"><li class="lvl-2"><p>ç†è§£ï¼šå¾ªç¯è¯­å¥å…·æœ‰åœ¨<code>æŸäº›æ¡ä»¶</code>â€‹æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œ<code>åå¤æ‰§è¡Œ</code>â€‹ç‰¹å®šä»£ç çš„åŠŸèƒ½ã€‚</p></li><li class="lvl-2"><p>å¾ªç¯ç»“æ„åˆ†ç±»</p><ul class="lvl-2"><li class="lvl-4">for å¾ªç¯</li><li class="lvl-4">while å¾ªç¯</li><li class="lvl-4">do -while å¾ªç¯</li></ul></li><li class="lvl-2"><p>å¾ªç¯ç»“æ„å››è¦ç´ </p><ul class="lvl-2"><li class="lvl-4">åˆå§‹åŒ–éƒ¨åˆ†</li><li class="lvl-4">å¾ªç¯æ¡ä»¶éƒ¨åˆ†</li><li class="lvl-4">å¾ªç¯ä½“éƒ¨åˆ†</li><li class="lvl-4">è¿­ä»£éƒ¨åˆ†</li></ul></li></ul><h3 id="3-1-forå¾ªç¯">3.1 forå¾ªç¯</h3><p>è¯­æ³•æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(åˆå§‹åŒ–éƒ¨åˆ† ; å¾ªç¯æ¡ä»¶éƒ¨åˆ† ; è¿­ä»£éƒ¨åˆ†) &#123;</span><br><span class="line">å¾ªç¯ä½“éƒ¨åˆ†</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>for(;;)ä¸­çš„ä¸¤ä¸ªï¼›ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘</p></li><li class="lvl-2"><p>â‘ åˆå§‹åŒ–éƒ¨åˆ†å¯ä»¥å£°æ˜å¤šä¸ªå˜é‡ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œç”¨é€—å·åˆ†éš”</p></li><li class="lvl-2"><p>â‘¡å¾ªç¯æ¡ä»¶éƒ¨åˆ†ä¸ºbooleanç±»å‹è¡¨è¾¾å¼ï¼Œå½“å€¼ä¸ºfalseæ—¶ï¼Œé€€å‡ºå¾ªç¯</p></li><li class="lvl-2"><p>â‘£å¯ä»¥æœ‰å¤šä¸ªå˜é‡æ›´æ–°ï¼Œç”¨é€—å·åˆ†éš”</p></li></ul><h3 id="3-2-whileå¾ªç¯">3.2 whileå¾ªç¯</h3><p>è¯­æ³•æ ¼å¼ : å…ˆåˆ¤æ–­å†æ‰§è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–éƒ¨åˆ†</span><br><span class="line"><span class="keyword">while</span>(å¾ªç¯æ¡ä»¶éƒ¨åˆ†) &#123;</span><br><span class="line">å¾ªç¯ä½“éƒ¨åˆ†;</span><br><span class="line">è¿­ä»£éƒ¨åˆ†;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><h3 id="3-3-do-while-å¾ªç¯">3.3 do-while å¾ªç¯</h3><p>è¯­æ³•æ ¼å¼ ï¼š å…ˆæ‰§è¡Œå†åˆ¤æ–­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–éƒ¨åˆ†;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">å¾ªç¯ä½“éƒ¨åˆ†;</span><br><span class="line">è¿­ä»£éƒ¨åˆ†;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><h2 id="4-å…³é”®å­—break-å’Œ-continueçš„ä½¿ç”¨">4. å…³é”®å­—break å’Œ continueçš„ä½¿ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">é€‚ç”¨èŒƒå›´åœ¨å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨çš„ä½œç”¨ç›¸åŒç‚¹</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span><span class="keyword">switch</span>-<span class="keyword">case</span></span><br><span class="line">å¾ªç¯ç»“æ„ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç»“æŸ(æˆ–è·³å‡º)å½“å‰å¾ªç¯ç»“æ„    æ­¤å…³é”®å­—çš„åé¢ï¼Œä¸èƒ½å£°æ˜è¯­å¥</span><br><span class="line"></span><br><span class="line"><span class="keyword">continue</span>å¾ªç¯ç»“æ„ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç»“æŸ(æˆ–è·³å‡º)å½“æ¬¡å¾ªç¯ç»“æ„    æ­¤å…³é”®å­—çš„åé¢ï¼Œä¸èƒ½å£°æ˜è¯­å¥</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œå¾ˆå¤šè¯­è¨€éƒ½æœ‰gotoè¯­å¥ï¼Œgotoè¯­å¥å¯ä»¥éšæ„å°†æ§åˆ¶è½¬ç§»åˆ°ç¨‹åºä¸­çš„ä»»æ„ä¸€æ¡è¯­å¥ä¸Šï¼Œç„¶åæ‰§è¡Œå®ƒï¼Œä½†ä½¿ç¨‹åºå®¹æ˜“å‡ºé”™ã€‚Javaä¸­çš„breakå’Œcontinueæ˜¯ä¸åŒäºgotoçš„ã€‚</p><h2 id="5-Scanner-é”®ç›˜è¾“å…¥åŠŸèƒ½çš„å®ç°">5. Scanner : é”®ç›˜è¾“å…¥åŠŸèƒ½çš„å®ç°</h2><p>é”®ç›˜è¾“å…¥ä»£ç çš„å››ä¸ªæ­¥éª¤</p><ol><li class="lvl-3"><p>å¯¼åŒ…</p></li><li class="lvl-3"><p>åˆ›å»ºScannerç±»å‹çš„å¯¹è±¡</p></li><li class="lvl-3"><p>è°ƒç”¨Scannerç±»çš„ç›¸å…³æ–¹æ³•</p></li><li class="lvl-3"><p>é‡Šæ”¾èµ„æº</p></li></ol><p>æ³¨æ„ ï¼š éœ€è¦æ ¹æ®ç›¸åº”çš„æ–¹æ³• ï¼Œ æ¥è¾“å…¥æŒ‡å®šç±»å‹çš„å€¼ ï¼Œ å…¥è‚¡è¾“å…¥çš„æ•°æ®ç±»å‹ä¸è¦æ±‚çš„ç±»å‹ä¸åŒ¹é…æ—¶ ï¼Œ ä¼šæŠ¥å¼‚å¸¸å¯¼è‡´ç¨‹åºç»ˆæ­¢</p><p>é”®ç›˜å½•å…¥åŸºæœ¬ä»£ç æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”®ç›˜å½•å…¥</span></span><br><span class="line">System.out.println(<span class="string">&quot;è¯·è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"><span class="type">String</span> <span class="variable">nextLine</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">System.out.println(<span class="string">&quot;ä½ è¾“å…¥çš„æ•°æ®ä¸ºï¼š&quot;</span> + nextLine);</span><br><span class="line">scanner.close();</span><br></pre></td></tr></table></figure><p>â€</p><h2 id="6-å¦‚ä½•è·å–ä¸€ä¸ªéšæœºæ•°">6. å¦‚ä½•è·å–ä¸€ä¸ªéšæœºæ•°</h2><p>1ã€Mathç±»çš„random()çš„è°ƒç”¨ï¼Œä¼šè¿”å›ä¸€ä¸ª[0,1)èŒƒå›´çš„ä¸€ä¸ªdoubleå‹å€¼</p><p><strong>2ã€Math.random() * 100  â€”&gt;  [0,100)</strong>  **      (int)(Math.random() * 100)** <strong>â€”&gt; [0,99]</strong>  **      (int)(Math.random() * 100) + 5  ----&gt; [5,104]**</p><p><strong>3ã€</strong> å¦‚ä½•è·å–<code>[a,b]</code>â€‹èŒƒå›´å†…çš„éšæœºæ•´æ•°å‘¢ï¼Ÿ<code>(int)(Math.random() * (b - a + 1)) + a</code>â€‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éšæœºæ•°è·å–</span></span><br><span class="line"><span class="type">double</span> <span class="variable">random</span> <span class="operator">=</span> Math.random();</span><br><span class="line">System.out.println(random);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> (<span class="type">int</span>) (Math.random() * <span class="number">6</span>) + <span class="number">1</span>;</span><br><span class="line">System.out.println(number);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis å…¥é—¨ç¯‡</title>
      <link href="/posts/f82b2580.html"/>
      <url>/posts/f82b2580.html</url>
      
        <content type="html"><![CDATA[<h1>1. åˆå§‹ Redis</h1><h2 id="1-1-è®¤è¯†NoSQL">1.1 è®¤è¯†NoSQL</h2><p>â€</p><blockquote><p><strong>NoSql</strong>å¯ä»¥ç¿»è¯‘åšNot Only Sqlï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰ï¼Œæˆ–è€…æ˜¯No Sqlï¼ˆéSqlçš„ï¼‰æ•°æ®åº“ã€‚æ˜¯<code>ç›¸å¯¹äºä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“è€Œè¨€ï¼Œæœ‰å¾ˆå¤§å·®å¼‚çš„ä¸€ç§ç‰¹æ®Šçš„æ•°æ®åº“</code>â€‹ï¼Œå› æ­¤ä¹Ÿç§°ä¹‹ä¸º<strong>éå…³ç³»å‹æ•°æ®åº“</strong>ã€‚</p></blockquote><p>â€</p><h3 id="1-1-1-ç»“æ„åŒ–ä¸éç»“æ„åŒ–">1.1.1 ç»“æ„åŒ–ä¸éç»“æ„åŒ–</h3><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102322129-956652897-20231006090927-guh2wae.png" alt="image">â€‹</p><h3 id="1-1-2-å…³ç³»å‹ä¸éå…³ç³»å‹çš„å·®å¼‚">1.1.2 å…³ç³»å‹ä¸éå…³ç³»å‹çš„å·®å¼‚</h3><ul class="lvl-0"><li class="lvl-2"><p>å­˜å‚¨æ–¹å¼</p><ul class="lvl-2"><li class="lvl-4">å…³ç³»å‹æ•°æ®åº“åŸºäºç£ç›˜è¿›è¡Œå­˜å‚¨ï¼Œä¼šæœ‰å¤§é‡çš„ç£ç›˜IOï¼Œå¯¹æ€§èƒ½æœ‰ä¸€å®šå½±å“</li><li class="lvl-4">éå…³ç³»å‹æ•°æ®åº“ï¼Œä»–ä»¬çš„æ“ä½œæ›´å¤šçš„æ˜¯ä¾èµ–äºå†…å­˜æ¥æ“ä½œï¼Œå†…å­˜çš„è¯»å†™é€Ÿåº¦ä¼šéå¸¸å¿«ï¼Œæ€§èƒ½è‡ªç„¶ä¼šå¥½ä¸€äº›</li></ul></li><li class="lvl-2"><p>æ‰©å±•æ€§</p><ul class="lvl-2"><li class="lvl-4">å…³ç³»å‹æ•°æ®åº“é›†ç¾¤æ¨¡å¼ä¸€èˆ¬æ˜¯ä¸»ä»ï¼Œä¸»ä»æ•°æ®ä¸€è‡´ï¼Œèµ·åˆ°æ•°æ®å¤‡ä»½çš„ä½œç”¨ï¼Œç§°ä¸ºå‚ç›´æ‰©å±•ã€‚</li><li class="lvl-4">éå…³ç³»å‹æ•°æ®åº“å¯ä»¥å°†æ•°æ®æ‹†åˆ†ï¼Œå­˜å‚¨åœ¨ä¸åŒæœºå™¨ä¸Šï¼Œå¯ä»¥ä¿å­˜æµ·é‡æ•°æ®ï¼Œè§£å†³å†…å­˜å¤§å°æœ‰é™çš„é—®é¢˜ã€‚ç§°ä¸ºæ°´å¹³æ‰©å±•ã€‚</li><li class="lvl-4">å…³ç³»å‹æ•°æ®åº“å› ä¸ºè¡¨ä¹‹é—´å­˜åœ¨å…³è”å…³ç³»ï¼Œå¦‚æœåšæ°´å¹³æ‰©å±•ä¼šç»™æ•°æ®æŸ¥è¯¢å¸¦æ¥å¾ˆå¤šéº»çƒ¦</li></ul></li></ul><h2 id="1-2-è®¤è¯†-Redis">1.2 è®¤è¯† Redis</h2><p>Redisè¯ç”Ÿäº2009å¹´å…¨ç§°æ˜¯<strong>Re</strong>mote <strong>D</strong>ictionary <strong>S</strong>erver è¿œç¨‹è¯å…¸æœåŠ¡å™¨ï¼Œæ˜¯ä¸€ä¸ªåŸºäºå†…å­˜çš„é”®å€¼å‹NoSQLæ•°æ®åº“ã€‚</p><p><strong>ç‰¹å¾</strong>ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>é”®å€¼ï¼ˆkey-valueï¼‰å‹ï¼Œvalueæ”¯æŒå¤šç§ä¸åŒæ•°æ®ç»“æ„ï¼ŒåŠŸèƒ½ä¸°å¯Œ</p></li><li class="lvl-2"><p>å•çº¿ç¨‹ï¼Œæ¯ä¸ªå‘½ä»¤å…·å¤‡åŸå­æ€§</p></li><li class="lvl-2"><p>ä½å»¶è¿Ÿï¼Œé€Ÿåº¦å¿«ï¼ˆåŸºäºå†…å­˜.IOå¤šè·¯å¤ç”¨.è‰¯å¥½çš„ç¼–ç ï¼‰ã€‚</p></li><li class="lvl-2"><p>æ”¯æŒæ•°æ®æŒä¹…åŒ–</p></li><li class="lvl-2"><p>æ”¯æŒä¸»ä»é›†ç¾¤.åˆ†ç‰‡é›†ç¾¤</p></li><li class="lvl-2"><p>æ”¯æŒå¤šè¯­è¨€å®¢æˆ·ç«¯</p></li></ul><p><strong>ä½œè€…</strong>ï¼šAntirez</p><p>Redisçš„å®˜æ–¹ç½‘ç«™åœ°å€ï¼š<a href="https://redis.io/">https://redis.io/</a></p><p>â€</p><h2 id="1-3-å®‰è£…Redis">1.3 å®‰è£…Redis</h2><p><a href="https://www.cnblogs.com/NorthPoet/p/17658437.html">Redisçš„å®‰è£…æ­¥éª¤</a></p><p>â€</p><h1>2. Redis çš„å¸¸è§å‘½ä»¤</h1><h2 id="2-1-Redis-æ•°æ®ç»“æ„ä»‹ç»">2.1 Redis æ•°æ®ç»“æ„ä»‹ç»</h2><p>â€</p><blockquote><p>Redisæ˜¯ä¸€ä¸ªkey-valueçš„æ•°æ®åº“ï¼Œkeyä¸€èˆ¬æ˜¯Stringç±»å‹ï¼Œä¸è¿‡valueçš„ç±»å‹å¤šç§å¤šæ ·ï¼š</p></blockquote><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102322653-1660980008-20231006090927-1uyoju7.png" alt="image">â€‹</p><p>â€</p><p><strong>è´´å¿ƒå°å»ºè®®ï¼šå‘½ä»¤ä¸è¦æ­»è®°ï¼Œå­¦ä¼šæŸ¥è¯¢å°±å¥½å•¦</strong></p><p>Redisä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å­¦ä¹ ï¼Œå°†æ“ä½œä¸åŒæ•°æ®ç±»å‹çš„å‘½ä»¤ä¹Ÿåšäº†åˆ†ç»„ï¼Œåœ¨å®˜ç½‘ï¼ˆ <a href="https://redis.io/commands">https://redis.io/commands</a> ï¼‰å¯ä»¥æŸ¥çœ‹åˆ°ä¸åŒçš„å‘½ä»¤ï¼š</p><p>â€</p><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡Helpå‘½ä»¤æ¥å¸®åŠ©æˆ‘ä»¬å»æŸ¥çœ‹å‘½ä»¤</p><p>â€</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102323098-751575621-20231006090927-hh2gn1t.png" alt="image">â€‹</p><p>â€</p><h2 id="2-2-Redis-é€šç”¨å‘½ä»¤">2.2 Redis é€šç”¨å‘½ä»¤</h2><p>é€šç”¨æŒ‡ä»¤æ˜¯éƒ¨åˆ†æ•°æ®ç±»å‹çš„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨çš„æŒ‡ä»¤ï¼Œå¸¸è§çš„æœ‰ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>KEYSï¼šæŸ¥çœ‹ç¬¦åˆæ¨¡æ¿çš„æ‰€æœ‰key</p></li><li class="lvl-2"><p>DELï¼šåˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„key</p></li><li class="lvl-2"><p>EXISTSï¼šåˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</p></li><li class="lvl-2"><p>EXPIREï¼šç»™ä¸€ä¸ªkeyè®¾ç½®æœ‰æ•ˆæœŸï¼Œæœ‰æ•ˆæœŸåˆ°æœŸæ—¶è¯¥keyä¼šè¢«è‡ªåŠ¨åˆ é™¤</p></li><li class="lvl-2"><p>TTLï¼šæŸ¥çœ‹ä¸€ä¸ªKEYçš„å‰©ä½™æœ‰æ•ˆæœŸ</p></li></ul><p>é€šè¿‡help [command] å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªå‘½ä»¤çš„å…·ä½“ç”¨æ³•ï¼Œä¾‹å¦‚ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102323565-1312772143-20231006090927-ofcpfpr.png" alt="image">â€‹</p><p>â€</p><p>å®ä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>KEYS</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;age&quot;</span></span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä»¥aå¼€å¤´çš„key</span></span><br><span class="line">127.0.0.1:6379&gt; keys a*</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure><p><strong>è´´å¿ƒå°æç¤ºï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¸æ¨èä½¿ç”¨keys å‘½ä»¤ï¼Œå› ä¸ºè¿™ä¸ªå‘½ä»¤åœ¨keyè¿‡å¤šçš„æƒ…å†µä¸‹ï¼Œæ•ˆç‡ä¸é«˜</strong></p><ul class="lvl-0"><li class="lvl-2"><p>DEL</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">help</span> del</span><br><span class="line"></span><br><span class="line">  DEL key [key ...]</span><br><span class="line">  summary: Delete a key</span><br><span class="line">  since: 1.0.0</span><br><span class="line">  group: generic</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; del name <span class="comment">#åˆ é™¤å•ä¸ª</span></span><br><span class="line">(<span class="built_in">integer</span>) 1  <span class="comment">#æˆåŠŸåˆ é™¤1ä¸ª</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3 <span class="comment">#æ‰¹é‡æ·»åŠ æ•°æ®</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k3&quot;</span></span><br><span class="line">2) <span class="string">&quot;k2&quot;</span></span><br><span class="line">3) <span class="string">&quot;k1&quot;</span></span><br><span class="line">4) <span class="string">&quot;age&quot;</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; del k1 k2 k3 k4</span><br><span class="line">(<span class="built_in">integer</span>) 3   <span class="comment">#æ­¤å¤„è¿”å›çš„æ˜¯æˆåŠŸåˆ é™¤çš„keyï¼Œç”±äºredisä¸­åªæœ‰k1,k2,k3 æ‰€ä»¥åªæˆåŠŸåˆ é™¤3ä¸ªï¼Œæœ€ç»ˆè¿”å›</span></span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; keys * <span class="comment">#å†æŸ¥è¯¢å…¨éƒ¨çš„key</span></span><br><span class="line">1) <span class="string">&quot;age&quot;</span><span class="comment">#åªå‰©ä¸‹ä¸€ä¸ªäº†</span></span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure><p><strong>è´´å¿ƒå°æç¤ºï¼šåŒå­¦ä»¬åœ¨æ‹·è´ä»£ç çš„æ—¶å€™ï¼Œåªéœ€è¦æ‹·è´å¯¹åº”çš„å‘½ä»¤å“¦~</strong></p><ul class="lvl-0"><li class="lvl-2"><p>EXISTS</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">help</span> EXISTS</span><br><span class="line"></span><br><span class="line">  EXISTS key [key ...]</span><br><span class="line">  summary: Determine <span class="keyword">if</span> a key exists</span><br><span class="line">  since: 1.0.0</span><br><span class="line">  group: generic</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; exists age</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; exists name</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>EXPIRE</p></li></ul><p><strong>è´´å¿ƒå°æç¤º</strong>ï¼šå†…å­˜éå¸¸å®è´µï¼Œå¯¹äºä¸€äº›æ•°æ®ï¼Œæˆ‘ä»¬åº”å½“ç»™ä»–ä¸€äº›è¿‡æœŸæ—¶é—´ï¼Œå½“è¿‡æœŸæ—¶é—´åˆ°äº†ä¹‹åï¼Œä»–å°±ä¼šè‡ªåŠ¨è¢«åˆ é™¤~</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; expire age 10</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) 8</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) -2</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) -2  <span class="comment">#å½“è¿™ä¸ªkeyè¿‡æœŸäº†ï¼Œé‚£ä¹ˆæ­¤æ—¶æŸ¥è¯¢å‡ºæ¥å°±æ˜¯-2 </span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> age 10 <span class="comment">#å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) -1  <span class="comment"># ttlçš„è¿”å›å€¼å°±æ˜¯-1</span></span><br></pre></td></tr></table></figure><p>â€</p><h2 id="2-3-Rediså‘½ä»¤-Stringå‘½ä»¤">2.3 Rediså‘½ä»¤-Stringå‘½ä»¤</h2><p>Stringç±»å‹ï¼Œä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ˜¯Redisä¸­æœ€ç®€å•çš„å­˜å‚¨ç±»å‹ã€‚</p><p>å…¶valueæ˜¯å­—ç¬¦ä¸²ï¼Œä¸è¿‡æ ¹æ®å­—ç¬¦ä¸²çš„æ ¼å¼ä¸åŒï¼Œåˆå¯ä»¥åˆ†ä¸º3ç±»ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>stringï¼šæ™®é€šå­—ç¬¦ä¸²</p></li><li class="lvl-2"><p>intï¼šæ•´æ•°ç±»å‹ï¼Œå¯ä»¥åšè‡ªå¢.è‡ªå‡æ“ä½œ</p></li><li class="lvl-2"><p>floatï¼šæµ®ç‚¹ç±»å‹ï¼Œå¯ä»¥åšè‡ªå¢.è‡ªå‡æ“ä½œ</p></li></ul><p>â€</p><p>Stringçš„å¸¸è§å‘½ä»¤æœ‰ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>SETï¼šæ·»åŠ æˆ–è€…ä¿®æ”¹å·²ç»å­˜åœ¨çš„ä¸€ä¸ªStringç±»å‹çš„é”®å€¼å¯¹</p></li><li class="lvl-2"><p>GETï¼šæ ¹æ®keyè·å–Stringç±»å‹çš„value</p></li><li class="lvl-2"><p>MSETï¼šæ‰¹é‡æ·»åŠ å¤šä¸ªStringç±»å‹çš„é”®å€¼å¯¹</p></li><li class="lvl-2"><p>MGETï¼šæ ¹æ®å¤šä¸ªkeyè·å–å¤šä¸ªStringç±»å‹çš„value</p></li><li class="lvl-2"><p>INCRï¼šè®©ä¸€ä¸ªæ•´å‹çš„keyè‡ªå¢1</p></li><li class="lvl-2"><p>INCRBY:è®©ä¸€ä¸ªæ•´å‹çš„keyè‡ªå¢å¹¶æŒ‡å®šæ­¥é•¿ï¼Œä¾‹å¦‚ï¼šincrby num 2 è®©numå€¼è‡ªå¢2</p></li><li class="lvl-2"><p>INCRBYFLOATï¼šè®©ä¸€ä¸ªæµ®ç‚¹ç±»å‹çš„æ•°å­—è‡ªå¢å¹¶æŒ‡å®šæ­¥é•¿</p></li><li class="lvl-2"><p>SETNXï¼šæ·»åŠ ä¸€ä¸ªStringç±»å‹çš„é”®å€¼å¯¹ï¼Œå‰ææ˜¯è¿™ä¸ªkeyä¸å­˜åœ¨ï¼Œå¦åˆ™ä¸æ‰§è¡Œ</p></li><li class="lvl-2"><p>SETEXï¼šæ·»åŠ ä¸€ä¸ªStringç±»å‹çš„é”®å€¼å¯¹ï¼Œå¹¶ä¸”æŒ‡å®šæœ‰æ•ˆæœŸ</p></li></ul><p>â€</p><p><strong>è´´å¿ƒå°æç¤º</strong>ï¼šä»¥ä¸Šå‘½ä»¤é™¤äº†INCRBYFLOAT éƒ½æ˜¯å¸¸ç”¨å‘½ä»¤</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>SET å’ŒGET: å¦‚æœkeyä¸å­˜åœ¨åˆ™æ˜¯æ–°å¢ï¼Œå¦‚æœå­˜åœ¨åˆ™æ˜¯ä¿®æ”¹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102323946-1688473773-20231006090927-rb0dxsd.png" alt="image">â€‹</p></li><li class="lvl-2"><p>MSETå’ŒMGET ï¼š å¯ä»¥æ‰¹é‡å¢åŠ  ï¼Œ æŸ¥çœ‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102324301-692434923-20231006090927-7qvnsys.png" alt="image">â€‹</p></li><li class="lvl-2"><p>INCRå’ŒINCRBYå’ŒDECY</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102324670-728610435-20231006090927-xay7dwl.png" alt="image">â€‹</p></li><li class="lvl-2"><p>SETNX ï¼š æ·»åŠ ä¸€ä¸ªStringç±»å‹çš„é”®å€¼å¯¹ï¼Œå‰ææ˜¯è¿™ä¸ªkeyä¸å­˜åœ¨ï¼Œå¦åˆ™ä¸æ‰§è¡Œ</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102325095-1453449874-20231006090927-7k3ofyc.png" alt="image">â€‹</p></li><li class="lvl-2"><p>SETEX ï¼š æ·»åŠ ä¸€ä¸ªStringç±»å‹çš„é”®å€¼å¯¹ï¼Œå¹¶ä¸”æŒ‡å®šæœ‰æ•ˆæœŸ</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102325471-1126477018-20231006090927-sdmparn.png" alt="image">â€‹</p></li></ul><h2 id="2-4-Rediså‘½ä»¤-Keyçš„å±‚çº§ç»“æ„">2.4 Rediså‘½ä»¤-Keyçš„å±‚çº§ç»“æ„</h2><p>Redisæ²¡æœ‰ç±»ä¼¼MySQLä¸­çš„<code>Tableçš„æ¦‚å¿µ</code>â€‹ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åŒºåˆ†ä¸åŒç±»å‹çš„keyå‘¢ï¼Ÿ</p><p>ä¾‹å¦‚ï¼Œéœ€è¦å­˜å‚¨ç”¨æˆ·.å•†å“ä¿¡æ¯åˆ°redisï¼Œæœ‰ä¸€ä¸ªç”¨æˆ·idæ˜¯1ï¼Œæœ‰ä¸€ä¸ªå•†å“idæ°å¥½ä¹Ÿæ˜¯1ï¼Œæ­¤æ—¶å¦‚æœä½¿ç”¨idä½œä¸ºkeyï¼Œé‚£å°±ä¼šå†²çªäº†ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™keyæ·»åŠ å‰ç¼€åŠ ä»¥åŒºåˆ†ï¼Œä¸è¿‡è¿™ä¸ªå‰ç¼€ä¸æ˜¯éšä¾¿åŠ çš„ï¼Œæœ‰ä¸€å®šçš„è§„èŒƒï¼š</p><p>Redisçš„keyå…è®¸æœ‰å¤šä¸ªå•è¯å½¢æˆå±‚çº§ç»“æ„ï¼Œå¤šä¸ªå•è¯ä¹‹é—´ç”¨â€™:'éš”å¼€ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><blockquote><p>é¡¹ç›®åï¼šä¸šåŠ¡åï¼šid</p></blockquote><p>â€</p><p>è¿™ä¸ªæ ¼å¼å¹¶éå›ºå®šï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥åˆ é™¤æˆ–æ·»åŠ è¯æ¡ã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬çš„é¡¹ç›®åç§°å« heimaï¼Œæœ‰userå’Œproductä¸¤ç§ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰keyï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>userç›¸å…³çš„keyï¼š<strong>heima:user:1</strong></p></li><li class="lvl-2"><p>productç›¸å…³çš„keyï¼š<strong>heima:product:1</strong></p></li></ul><p>å¦‚æœValueæ˜¯ä¸€ä¸ªJavaå¯¹è±¡ï¼Œä¾‹å¦‚ä¸€ä¸ªUserå¯¹è±¡ï¼Œåˆ™å¯ä»¥å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²åå­˜å‚¨ï¼š</p><table><thead><tr><th><strong>KEY</strong></th><th><strong>VALUE</strong></th></tr></thead><tbody><tr><td>heima:user:1</td><td>{â€œidâ€:1, â€œnameâ€: â€œJackâ€, â€œageâ€: 21}</td></tr><tr><td>heima:product:1</td><td>{â€œidâ€:1, â€œnameâ€: â€œå°ç±³11â€, â€œpriceâ€: 4999}</td></tr></tbody></table><p>ä¸€æ—¦æˆ‘ä»¬å‘redisé‡‡ç”¨è¿™æ ·çš„æ–¹å¼å­˜å‚¨ï¼Œé‚£ä¹ˆåœ¨å¯è§†åŒ–ç•Œé¢ä¸­ï¼Œredisä¼šä»¥å±‚çº§ç»“æ„æ¥è¿›è¡Œå­˜å‚¨ï¼Œå½¢æˆç±»ä¼¼äºè¿™æ ·çš„ç»“æ„ï¼Œæ›´åŠ æ–¹ä¾¿Redisè·å–æ•°æ®</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102325786-1916973410-20231006090927-txngi2v.png" alt="image">â€‹</p><p>â€</p><h2 id="2-5-Rediså‘½ä»¤-Hashå‘½ä»¤">2.5 Rediså‘½ä»¤-Hashå‘½ä»¤</h2><p>Hashç±»å‹ï¼Œä¹Ÿå«æ•£åˆ—ï¼Œå…¶valueæ˜¯ä¸€ä¸ªæ— åºå­—å…¸ï¼Œç±»ä¼¼äºJavaä¸­çš„HashMapç»“æ„ã€‚</p><p>Stringç»“æ„æ˜¯å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²åå­˜å‚¨ï¼Œå½“éœ€è¦ä¿®æ”¹å¯¹è±¡æŸä¸ªå­—æ®µæ—¶å¾ˆä¸æ–¹ä¾¿ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102326192-1655456787-20231006090927-moy29j8.png" alt="image">â€‹</p><p>â€</p><p>Hashç»“æ„å¯ä»¥å°†å¯¹è±¡ä¸­çš„æ¯ä¸ªå­—æ®µç‹¬ç«‹å­˜å‚¨ï¼Œå¯ä»¥é’ˆå¯¹å•ä¸ªå­—æ®µåšCRUDï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102326568-653593757-20231006090927-4a1szi1.png" alt="image">â€‹</p><p>â€</p><p><strong>Hashç±»å‹çš„å¸¸è§å‘½ä»¤</strong></p><ul class="lvl-0"><li class="lvl-2"><p>HSET key field valueï¼šæ·»åŠ æˆ–è€…ä¿®æ”¹hashç±»å‹keyçš„fieldçš„å€¼</p></li><li class="lvl-2"><p>HGET key fieldï¼šè·å–ä¸€ä¸ªhashç±»å‹keyçš„fieldçš„å€¼</p></li><li class="lvl-2"><p>HMSETï¼šæ‰¹é‡æ·»åŠ å¤šä¸ªhashç±»å‹keyçš„fieldçš„å€¼</p></li><li class="lvl-2"><p>HMGETï¼šæ‰¹é‡è·å–å¤šä¸ªhashç±»å‹keyçš„fieldçš„å€¼</p></li><li class="lvl-2"><p>HGETALLï¼šè·å–ä¸€ä¸ªhashç±»å‹çš„keyä¸­çš„æ‰€æœ‰çš„fieldå’Œvalue</p></li><li class="lvl-2"><p>HKEYSï¼šè·å–ä¸€ä¸ªhashç±»å‹çš„keyä¸­çš„æ‰€æœ‰çš„field</p></li><li class="lvl-2"><p>HINCRBY:è®©ä¸€ä¸ªhashç±»å‹keyçš„å­—æ®µå€¼è‡ªå¢å¹¶æŒ‡å®šæ­¥é•¿</p></li><li class="lvl-2"><p>HSETNXï¼šæ·»åŠ ä¸€ä¸ªhashç±»å‹çš„keyçš„fieldå€¼ï¼Œå‰ææ˜¯è¿™ä¸ªfieldä¸å­˜åœ¨ï¼Œå¦åˆ™ä¸æ‰§è¡Œ</p></li></ul><p><strong>è´´å¿ƒå°æç¤º</strong>ï¼šå“ˆå¸Œç»“æ„ä¹Ÿæ˜¯æˆ‘ä»¬ä»¥åå®é™…å¼€å‘ä¸­å¸¸ç”¨çš„å‘½ä»¤å“Ÿ</p><ul class="lvl-0"><li class="lvl-2"><p>HSETå’ŒHGET</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HSET heima:user:<span class="number">3</span> name Lucy<span class="comment">//å¤§keyæ˜¯ heima:user:3 å°keyæ˜¯nameï¼Œå°valueæ˜¯Lucy</span></span><br><span class="line">(integer) <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HSET heima:user:<span class="number">3</span> age <span class="number">21</span><span class="comment">// å¦‚æœæ“ä½œä¸å­˜åœ¨çš„æ•°æ®ï¼Œåˆ™æ˜¯æ–°å¢</span></span><br><span class="line">(integer) <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HSET heima:user:<span class="number">3</span> age <span class="number">17</span> <span class="comment">//å¦‚æœæ“ä½œå­˜åœ¨çš„æ•°æ®ï¼Œåˆ™æ˜¯ä¿®æ”¹</span></span><br><span class="line">(integer) <span class="number">0</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HGET heima:user:<span class="number">3</span> name </span><br><span class="line"><span class="string">&quot;Lucy&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HGET heima:user:<span class="number">3</span> age</span><br><span class="line"><span class="string">&quot;17&quot;</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>HMSETå’ŒHMGET</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HMSET heima:user:<span class="number">4</span> name HanMeiMei</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HMSET heima:user:<span class="number">4</span> name LiLei age <span class="number">20</span> sex man</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HMGET heima:user:<span class="number">4</span> name age sex</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;LiLei&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;20&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;man&quot;</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>HGETALL</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HGETALL heima:user:<span class="number">4</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;LiLei&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;20&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;sex&quot;</span></span><br><span class="line"><span class="number">6</span>) <span class="string">&quot;man&quot;</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>HKEYSå’ŒHVALS</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HKEYS heima:user:<span class="number">4</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;sex&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HVALS heima:user:<span class="number">4</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;LiLei&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;20&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;man&quot;</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>HINCRBY</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HINCRBY  heima:user:<span class="number">4</span> age <span class="number">2</span></span><br><span class="line">(integer) <span class="number">22</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HVALS heima:user:<span class="number">4</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;LiLei&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;22&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;man&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HINCRBY  heima:user:<span class="number">4</span> age -<span class="number">2</span></span><br><span class="line">(integer) <span class="number">20</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>HSETNX</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HSETNX heima:user4 sex <span class="title function_">woman</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HGETALL heima:user:<span class="number">3</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;Lucy&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;17&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HSETNX heima:user:<span class="number">3</span> sex <span class="title function_">woman</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; HGETALL heima:user:<span class="number">3</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;Lucy&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;17&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;sex&quot;</span></span><br><span class="line"><span class="number">6</span>) <span class="string">&quot;woman&quot;</span></span><br></pre></td></tr></table></figure><h2 id="2-6-Rediså‘½ä»¤-Listå‘½ä»¤">2.6 Rediså‘½ä»¤-Listå‘½ä»¤</h2><p>redisä¸­çš„Listç±»å‹ä¸Javaä¸­çš„LinkedListç±»ä¼¼ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ç»“æ„ã€‚æ—¢å¯ä»¥æ”¯æŒæ­£å‘æ£€ç´¢å’Œä¹Ÿå¯ä»¥æ”¯æŒåå‘æ£€ç´¢ã€‚</p><p>ç‰¹å¾ä¹Ÿä¸LinkedListç±»ä¼¼ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æœ‰åº</p></li><li class="lvl-2"><p>å…ƒç´ å¯ä»¥é‡å¤</p></li><li class="lvl-2"><p>æ’å…¥å’Œåˆ é™¤å¿«</p></li><li class="lvl-2"><p>æŸ¥è¯¢é€Ÿåº¦ä¸€èˆ¬</p></li></ul><p>å¸¸ç”¨æ¥å­˜å‚¨ä¸€ä¸ªæœ‰åºæ•°æ®ï¼Œä¾‹å¦‚ï¼šæœ‹å‹åœˆç‚¹èµåˆ—è¡¨ï¼Œè¯„è®ºåˆ—è¡¨ç­‰ã€‚</p><p><strong>Listçš„å¸¸è§å‘½ä»¤æœ‰ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>LPUSH key element â€¦ ï¼šå‘åˆ—è¡¨å·¦ä¾§æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ </p></li><li class="lvl-2"><p>LPOP keyï¼šç§»é™¤å¹¶è¿”å›åˆ—è¡¨å·¦ä¾§çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰åˆ™è¿”å›nil</p></li><li class="lvl-2"><p>RPUSH key element â€¦ ï¼šå‘åˆ—è¡¨å³ä¾§æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ </p></li><li class="lvl-2"><p>RPOP keyï¼šç§»é™¤å¹¶è¿”å›åˆ—è¡¨å³ä¾§çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p></li><li class="lvl-2"><p>LRANGE key star endï¼šè¿”å›ä¸€æ®µè§’æ ‡èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ </p></li><li class="lvl-2"><p>BLPOPå’ŒBRPOPï¼šä¸LPOPå’ŒRPOPç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨æ²¡æœ‰å…ƒç´ æ—¶ç­‰å¾…æŒ‡å®šæ—¶é—´ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›nil</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102327028-1003929740-20231006090927-9vkfowl.png" alt="image">â€‹</p><p>â€</p><ul class="lvl-0"><li class="lvl-2"><p>LPUSHå’ŒRPUSH</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; LPUSH users <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">(integer) <span class="number">3</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; RPUSH users <span class="number">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line">(integer) <span class="number">6</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>LPOPå’ŒRPOP</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; LPOP users</span><br><span class="line"><span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; RPOP users</span><br><span class="line"><span class="string">&quot;6&quot;</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>LRANGE</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; LRANGE users <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;4&quot;</span></span><br></pre></td></tr></table></figure><p>â€</p><h2 id="2-7-Rediså‘½ä»¤-Setå‘½ä»¤">2.7 Rediså‘½ä»¤-Setå‘½ä»¤</h2><p>Redisçš„Setç»“æ„ä¸Javaä¸­çš„HashSetç±»ä¼¼ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªvalueä¸ºnullçš„HashMapã€‚å› ä¸ºä¹Ÿæ˜¯ä¸€ä¸ªhashè¡¨ï¼Œå› æ­¤å…·å¤‡ä¸HashSetç±»ä¼¼çš„ç‰¹å¾ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ— åº</p></li><li class="lvl-2"><p>å…ƒç´ ä¸å¯é‡å¤</p></li><li class="lvl-2"><p>æŸ¥æ‰¾å¿«</p></li><li class="lvl-2"><p>æ”¯æŒäº¤é›†.å¹¶é›†.å·®é›†ç­‰åŠŸèƒ½</p></li></ul><p><strong>Setç±»å‹çš„å¸¸è§å‘½ä»¤</strong></p><ul class="lvl-0"><li class="lvl-2"><p>SADD key member â€¦ ï¼šå‘setä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ </p></li><li class="lvl-2"><p>SREM key member â€¦ : ç§»é™¤setä¸­çš„æŒ‡å®šå…ƒç´ </p></li><li class="lvl-2"><p>SCARD keyï¼š è¿”å›setä¸­å…ƒç´ çš„ä¸ªæ•°</p></li><li class="lvl-2"><p>SISMEMBER key memberï¼šåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºsetä¸­</p></li><li class="lvl-2"><p>SMEMBERSï¼šè·å–setä¸­çš„æ‰€æœ‰å…ƒç´ </p></li><li class="lvl-2"><p>SINTER key1 key2 â€¦ ï¼šæ±‚key1ä¸key2çš„äº¤é›†</p></li><li class="lvl-2"><p>SDIFF key1 key2 â€¦ ï¼šæ±‚key1ä¸key2çš„å·®é›†</p></li><li class="lvl-2"><p>SUNION key1 key2 â€¦ï¼šæ±‚key1å’Œkey2çš„å¹¶é›†</p></li></ul><p>ä¾‹å¦‚ä¸¤ä¸ªé›†åˆï¼šs1å’Œs2:</p><p>æ±‚äº¤é›†ï¼šSINTER s1 s2</p><p>æ±‚s1ä¸s2çš„ä¸åŒï¼šSDIFF s1 s2</p><p><strong>å…·ä½“å‘½ä»¤</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sadd s1 a b <span class="title function_">c</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">3</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; smembers s1</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; srem s1 <span class="title function_">a</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SISMEMBER s1 <span class="title function_">a</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">0</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SISMEMBER s1 <span class="title function_">b</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SCARD <span class="title function_">s1</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p><strong>æ¡ˆä¾‹</strong></p><ul class="lvl-0"><li class="lvl-2"><p>å°†ä¸‹åˆ—æ•°æ®ç”¨Redisçš„Seté›†åˆæ¥å­˜å‚¨ï¼š</p></li><li class="lvl-2"><p>å¼ ä¸‰çš„å¥½å‹æœ‰ï¼šæå››.ç‹äº”.èµµå…­</p></li><li class="lvl-2"><p>æå››çš„å¥½å‹æœ‰ï¼šç‹äº”.éº»å­.äºŒç‹—</p></li><li class="lvl-2"><p>åˆ©ç”¨Setçš„å‘½ä»¤å®ç°ä¸‹åˆ—åŠŸèƒ½ï¼š</p></li><li class="lvl-2"><p>è®¡ç®—å¼ ä¸‰çš„å¥½å‹æœ‰å‡ äºº</p></li><li class="lvl-2"><p>è®¡ç®—å¼ ä¸‰å’Œæå››æœ‰å“ªäº›å…±åŒå¥½å‹</p></li><li class="lvl-2"><p>æŸ¥è¯¢å“ªäº›äººæ˜¯å¼ ä¸‰çš„å¥½å‹å´ä¸æ˜¯æå››çš„å¥½å‹</p></li><li class="lvl-2"><p>æŸ¥è¯¢å¼ ä¸‰å’Œæå››çš„å¥½å‹æ€»å…±æœ‰å“ªäº›äºº</p></li><li class="lvl-2"><p>åˆ¤æ–­æå››æ˜¯å¦æ˜¯å¼ ä¸‰çš„å¥½å‹</p></li><li class="lvl-2"><p>åˆ¤æ–­å¼ ä¸‰æ˜¯å¦æ˜¯æå››çš„å¥½å‹</p></li><li class="lvl-2"><p>å°†æå››ä»å¼ ä¸‰çš„å¥½å‹åˆ—è¡¨ä¸­ç§»é™¤</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SADD zs lisi wangwu <span class="title function_">zhaoliu</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">3</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SADD ls wangwu mazi <span class="title function_">ergou</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">3</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SCARD <span class="title function_">zs</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">3</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SINTER zs ls</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SDIFF zs ls</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;zhaoliu&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;lisi&quot;</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SUNION zs ls</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zhaoliu&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;lisi&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;mazi&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;ergou&quot;</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SISMEMBER zs <span class="title function_">lisi</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SISMEMBER ls <span class="title function_">zhangsan</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">0</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SREM zs <span class="title function_">lisi</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line">  </span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; SMEMBERS zs</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;zhaoliu&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;wangwu&quot;</span></span><br></pre></td></tr></table></figure><h2 id="2-8-Rediså‘½ä»¤-SortedSetç±»å‹">2.8 Rediså‘½ä»¤-SortedSetç±»å‹</h2><p>Redisçš„SortedSetæ˜¯ä¸€ä¸ªå¯æ’åºçš„seté›†åˆï¼Œä¸Javaä¸­çš„TreeSetæœ‰äº›ç±»ä¼¼ï¼Œä½†åº•å±‚æ•°æ®ç»“æ„å´å·®åˆ«å¾ˆå¤§ã€‚SortedSetä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¸¦æœ‰ä¸€ä¸ªscoreå±æ€§ï¼Œå¯ä»¥åŸºäºscoreå±æ€§å¯¹å…ƒç´ æ’åºï¼Œåº•å±‚çš„å®ç°æ˜¯ä¸€ä¸ªè·³è¡¨ï¼ˆSkipListï¼‰åŠ  hashè¡¨ã€‚</p><p>SortedSetå…·å¤‡ä¸‹åˆ—ç‰¹æ€§ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>å¯æ’åº</p></li><li class="lvl-2"><p>å…ƒç´ ä¸é‡å¤</p></li><li class="lvl-2"><p>æŸ¥è¯¢é€Ÿåº¦å¿«</p></li></ul><p>å› ä¸ºSortedSetçš„å¯æ’åºç‰¹æ€§ï¼Œç»å¸¸è¢«ç”¨æ¥å®ç°æ’è¡Œæ¦œè¿™æ ·çš„åŠŸèƒ½ã€‚</p><p>SortedSetçš„å¸¸è§å‘½ä»¤æœ‰ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>ZADD key score memberï¼šæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ åˆ°sorted set ï¼Œå¦‚æœå·²ç»å­˜åœ¨åˆ™æ›´æ–°å…¶scoreå€¼</p></li><li class="lvl-2"><p>ZREM key memberï¼šåˆ é™¤sorted setä¸­çš„ä¸€ä¸ªæŒ‡å®šå…ƒç´ </p></li><li class="lvl-2"><p>ZSCORE key member : è·å–sorted setä¸­çš„æŒ‡å®šå…ƒç´ çš„scoreå€¼</p></li><li class="lvl-2"><p>ZRANK key memberï¼šè·å–sorted set ä¸­çš„æŒ‡å®šå…ƒç´ çš„æ’å</p></li><li class="lvl-2"><p>ZCARD keyï¼šè·å–sorted setä¸­çš„å…ƒç´ ä¸ªæ•°</p></li><li class="lvl-2"><p>ZCOUNT key min maxï¼šç»Ÿè®¡scoreå€¼åœ¨ç»™å®šèŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°</p></li><li class="lvl-2"><p>ZINCRBY key increment memberï¼šè®©sorted setä¸­çš„æŒ‡å®šå…ƒç´ è‡ªå¢ï¼Œæ­¥é•¿ä¸ºæŒ‡å®šçš„incrementå€¼</p></li><li class="lvl-2"><p>ZRANGE key min maxï¼šæŒ‰ç…§scoreæ’åºåï¼Œè·å–æŒ‡å®šæ’åèŒƒå›´å†…çš„å…ƒç´ </p></li><li class="lvl-2"><p>ZRANGEBYSCORE key min maxï¼šæŒ‰ç…§scoreæ’åºåï¼Œè·å–æŒ‡å®šscoreèŒƒå›´å†…çš„å…ƒç´ </p></li><li class="lvl-2"><p>ZDIFF.ZINTER.ZUNIONï¼šæ±‚å·®é›†.äº¤é›†.å¹¶é›†</p></li></ul><p>æ³¨æ„ï¼šæ‰€æœ‰çš„æ’åé»˜è®¤éƒ½æ˜¯å‡åºï¼Œå¦‚æœè¦é™åºåˆ™åœ¨å‘½ä»¤çš„Zåé¢æ·»åŠ REVå³å¯ï¼Œä¾‹å¦‚ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p><strong>å‡åº</strong>è·å–sorted set ä¸­çš„æŒ‡å®šå…ƒç´ çš„æ’åï¼šZRANK key member</p></li><li class="lvl-2"><p><strong>é™åº</strong>è·å–sorted set ä¸­çš„æŒ‡å®šå…ƒç´ çš„æ’åï¼šZREVRANK key memeber</p></li></ul><p>â€</p><h1>3. Redisçš„Javaå®¢æˆ·ç«¯-Jedis</h1><p>åœ¨Rediså®˜ç½‘ä¸­æä¾›äº†å„ç§è¯­è¨€çš„å®¢æˆ·ç«¯ï¼Œåœ°å€ï¼š<a href="https://redis.io/docs/clients/">https://redis.io/docs/clients/</a></p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102327499-2139679226-20231006090927-xzi31de.png" alt="image">â€‹</p><p>å…¶ä¸­Javaå®¢æˆ·ç«¯ä¹ŸåŒ…å«å¾ˆå¤šï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102328113-59714361-20231006090927-rqazat4.png" alt="image">â€‹</p><p>æ ‡è®°ä¸ºâ¤çš„å°±æ˜¯æ¨èä½¿ç”¨çš„javaå®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>Jediså’ŒLettuceï¼šè¿™ä¸¤ä¸ªä¸»è¦æ˜¯æä¾›äº†Rediså‘½ä»¤å¯¹åº”çš„APIï¼Œæ–¹ä¾¿æˆ‘ä»¬æ“ä½œRedisï¼Œè€ŒSpringDataRedisåˆå¯¹è¿™ä¸¤ç§åšäº†æŠ½è±¡å’Œå°è£…ï¼Œå› æ­¤æˆ‘ä»¬åæœŸä¼šç›´æ¥ä»¥SpringDataRedisæ¥å­¦ä¹ ã€‚</p></li><li class="lvl-2"><p>Redissonï¼šæ˜¯åœ¨RedisåŸºç¡€ä¸Šå®ç°äº†åˆ†å¸ƒå¼çš„å¯ä¼¸ç¼©çš„javaæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚Map.Queueç­‰ï¼Œè€Œä¸”æ”¯æŒè·¨è¿›ç¨‹çš„åŒæ­¥æœºåˆ¶ï¼šLock.Semaphoreç­‰å¾…ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥å®ç°ç‰¹æ®Šçš„åŠŸèƒ½éœ€æ±‚ã€‚</p></li></ul><h2 id="3-1-å¿«é€Ÿå…¥é—¨">3.1 å¿«é€Ÿå…¥é—¨</h2><ol><li class="lvl-3"><p>åˆ›å»ºMavenå·¥ç¨‹</p></li><li class="lvl-3"><p>å¼•å…¥ä¾èµ–</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jedis--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å•å…ƒæµ‹è¯•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>å»ºç«‹è¿æ¥</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> Jedis jedis;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 1. å»ºç«‹è¿æ¥</span></span><br><span class="line"><span class="comment">//        jedis = new Jedis(&quot;192.168.146.129&quot; , 6379);</span></span><br><span class="line">        jedis = JedisConnectionFactory.getJedis();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è®¾ç½®å¯†ç </span></span><br><span class="line"><span class="comment">//        jedis.auth(&quot;north&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. é€‰æ‹©åº“</span></span><br><span class="line">        jedis.select(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>æµ‹è¯•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSet</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="comment">// å­˜æ•°æ®</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;é™ˆå¹³å®‰&quot;</span>);</span><br><span class="line">       System.out.println(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">    </span><br><span class="line">       <span class="comment">// å–æ•°æ®</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">       System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testHash</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="type">Long</span> <span class="variable">hset</span> <span class="operator">=</span> jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;çŸ³æ˜Š&quot;</span>);</span><br><span class="line">       <span class="type">Long</span> <span class="variable">hset1</span> <span class="operator">=</span> jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;19&quot;</span>);</span><br><span class="line">    </span><br><span class="line">       Map&lt;String, String&gt; hgetAll = jedis.hgetAll(<span class="string">&quot;user:1&quot;</span>);</span><br><span class="line">       System.out.println(<span class="string">&quot;hgetAll = &quot;</span> + hgetAll);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>é‡Šæ”¾èµ„æº</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AfterEach</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (jedis != <span class="literal">null</span>) &#123;</span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="3-2-Jedisè¿æ¥æ± ">3.2 Jedisè¿æ¥æ± </h2><p><strong>Jedisæœ¬èº«æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</strong>ï¼Œå¹¶ä¸”é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯è¿æ¥ä¼šæœ‰æ€§èƒ½æŸè€—ï¼Œå› æ­¤æˆ‘ä»¬æ¨èå¤§å®¶ä½¿ç”¨<strong>Jedisè¿æ¥æ± ä»£æ›¿Jedisçš„ç›´è¿æ–¹å¼</strong></p><p>æœ‰å…³æ± åŒ–æ€æƒ³ï¼Œå¹¶ä¸ä»…ä»…æ˜¯è¿™é‡Œä¼šä½¿ç”¨ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½æœ‰ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬çš„æ•°æ®åº“è¿æ¥æ± ï¼Œæ¯”å¦‚æˆ‘ä»¬tomcatä¸­çš„çº¿ç¨‹æ± ï¼Œè¿™äº›éƒ½æ˜¯<code>æ± åŒ–æ€æƒ³</code>â€‹çš„ä½“ç°ã€‚</p><h3 id="3-2-1-åˆ›å»ºJedisçš„è¿æ¥æ± ">3.2.1 åˆ›å»ºJedisçš„è¿æ¥æ± </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JedisConnectionFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> JedisPool jedisPool;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// é…ç½®è¿æ¥æ± </span></span><br><span class="line">        <span class="type">JedisPoolConfig</span> <span class="variable">poolConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>();</span><br><span class="line">        poolConfig.setMaxTotal(<span class="number">8</span>);</span><br><span class="line">        poolConfig.setMaxIdle(<span class="number">8</span>);</span><br><span class="line">        poolConfig.setMinIdle(<span class="number">0</span>);</span><br><span class="line">        poolConfig.setMaxWaitMillis(<span class="number">1000</span>);</span><br><span class="line">        <span class="comment">// åˆ›å»ºè¿æ¥æ± å¯¹è±¡</span></span><br><span class="line">        jedisPool = <span class="keyword">new</span> <span class="title class_">JedisPool</span>(poolConfig , <span class="string">&quot;192.168.146.129&quot;</span> , <span class="number">6379</span> , <span class="number">1000</span> , <span class="string">&quot;north&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Jedis <span class="title function_">getJedis</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> jedisPool.getResource();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç è¯´æ˜ï¼š</strong></p><ul class="lvl-0"><li class="lvl-2"><p>1ï¼‰ JedisConnectionFacotryï¼šå·¥å‚è®¾è®¡æ¨¡å¼æ˜¯å®é™…å¼€å‘ä¸­éå¸¸å¸¸ç”¨çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å‚ï¼Œå»é™ä½ä»£çš„è€¦åˆï¼Œæ¯”å¦‚Springä¸­çš„Beançš„åˆ›å»ºï¼Œå°±ç”¨åˆ°äº†å·¥å‚è®¾è®¡æ¨¡å¼</p></li><li class="lvl-2"><p>2ï¼‰é™æ€ä»£ç å—ï¼šéšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œç¡®ä¿åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œæˆ‘ä»¬åœ¨åŠ è½½å½“å‰å·¥å‚ç±»çš„æ—¶å€™ï¼Œå°±å¯ä»¥æ‰§è¡Œstaticçš„æ“ä½œå®Œæˆå¯¹ è¿æ¥æ± çš„åˆå§‹åŒ–</p></li><li class="lvl-2"><p>3ï¼‰æœ€åæä¾›è¿”å›è¿æ¥æ± ä¸­è¿æ¥çš„æ–¹æ³•.</p></li></ul><p>â€</p><p><strong>å¯¹äºè¿™æ®µä»£ç çš„ç†è§£ï¼š</strong></p><p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªç”¨äºè¿æ¥ Redis æ•°æ®åº“çš„ Java ç±» <code>JedisConnectionFactory</code>â€‹ã€‚å®ƒä½¿ç”¨äº† Jedis åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„ Redis å®¢æˆ·ç«¯åº“ï¼Œç”¨äºåœ¨ Java ç¨‹åºä¸­ä¸ Redis æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚</p><p>è®©æˆ‘è§£é‡Šä¸€ä¸‹è¿™æ®µä»£ç çš„ä¸»è¦éƒ¨åˆ†ï¼š</p><ol><li class="lvl-3"><p><code>public class JedisConnectionFactory</code>: è¿™æ˜¯ä¸€ä¸ªå…¬å…±ç±»çš„å®šä¹‰ï¼Œç±»åä¸º <code>JedisConnectionFactory</code>â€‹ï¼Œç”¨äºåˆ›å»º Redis è¿æ¥å·¥å‚ã€‚</p></li><li class="lvl-3"><p><code>private static final JedisPool jedisPool;</code>: è¿™æ˜¯ä¸€ä¸ªç§æœ‰çš„é™æ€å¸¸é‡ï¼Œç”¨äºä¿å­˜è¿æ¥åˆ° Redis æœåŠ¡å™¨çš„è¿æ¥æ± å®ä¾‹ã€‚è¿æ¥æ± æ˜¯ä¸€ç§ç®¡ç†å’Œç»´æŠ¤ä¸ Redis æœåŠ¡å™¨è¿æ¥çš„æœºåˆ¶ï¼Œå¯ä»¥æé«˜è¿æ¥çš„å¤ç”¨å’Œæ€§èƒ½ã€‚</p></li><li class="lvl-3"><p><code>static &#123; ... &#125;</code>: è¿™æ˜¯ä¸€ä¸ªé™æ€ä»£ç å—ï¼Œåœ¨ç±»è¢«åŠ è½½æ—¶æ‰§è¡Œã€‚åœ¨è¿™ä¸ªä»£ç å—ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°é…ç½®äº†ä¸€ä¸ª Jedis è¿æ¥æ± ã€‚ä»¥ä¸‹æ˜¯å¯¹é…ç½®é€‰é¡¹çš„è§£é‡Šï¼š</p><ul class="lvl-2"><li class="lvl-6"><code>JedisPoolConfig poolConfig = new JedisPoolConfig();</code>: åˆ›å»ºä¸€ä¸ª Jedis è¿æ¥æ± çš„é…ç½®å¯¹è±¡ã€‚</li><li class="lvl-6"><code>poolConfig.setMaxTotal(8);</code>: è®¾ç½®è¿æ¥æ± ä¸­æœ€å¤§è¿æ¥æ•°ä¸º 8ã€‚</li><li class="lvl-6"><code>poolConfig.setMaxIdle(8);</code>: è®¾ç½®è¿æ¥æ± ä¸­æœ€å¤§ç©ºé—²è¿æ¥æ•°ä¸º 8ã€‚</li><li class="lvl-6"><code>poolConfig.setMinIdle(0);</code>: è®¾ç½®è¿æ¥æ± ä¸­æœ€å°ç©ºé—²è¿æ¥æ•°ä¸º 0ã€‚</li><li class="lvl-6"><code>poolConfig.setMaxWaitMillis(1000);</code>: è®¾ç½®ä»è¿æ¥æ± è·å–è¿æ¥çš„æœ€å¤§ç­‰å¾…æ—¶é—´ä¸º 1000 æ¯«ç§’ã€‚</li></ul><p>ç„¶åï¼Œä½¿ç”¨è¿™äº›é…ç½®é¡¹åˆ›å»ºä¸€ä¸ª Jedis è¿æ¥æ± å®ä¾‹ï¼š</p><ul class="lvl-2"><li class="lvl-6"><p><code>jedisPool = new JedisPool(poolConfig, &quot;192.168.146.129&quot;, 6379, 1000, &quot;north&quot;);</code>â€‹</p><ul class="lvl-4"><li class="lvl-8"><code>poolConfig</code>: ä½¿ç”¨ä¹‹å‰é…ç½®çš„è¿æ¥æ± é…ç½®å¯¹è±¡ã€‚</li><li class="lvl-8"><code>&quot;192.168.146.129&quot;</code>: Redis æœåŠ¡å™¨çš„ IP åœ°å€ã€‚</li><li class="lvl-8"><code>6379</code>: Redis æœåŠ¡å™¨çš„ç«¯å£å·ã€‚</li><li class="lvl-8"><code>1000</code>: è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ã€‚</li><li class="lvl-8"><code>&quot;north&quot;</code>: è¿æ¥åˆ° Redis æœåŠ¡å™¨çš„å¯†ç ï¼ˆå¦‚æœæœ‰å¯†ç ä¿æŠ¤ï¼‰ã€‚</li></ul></li></ul></li><li class="lvl-3"><p><code>public static Jedis getJedis()</code>: è¿™æ˜¯ä¸€ä¸ªå…¬å…±é™æ€æ–¹æ³•ï¼Œç”¨äºä»è¿æ¥æ± ä¸­è·å–ä¸€ä¸ªå¯ç”¨çš„ Redis è¿æ¥ï¼ˆJedis å¯¹è±¡ï¼‰ã€‚é€šè¿‡è°ƒç”¨ <code>jedisPool.getResource()</code>â€‹ æ¥è·å–è¿æ¥ã€‚</p></li></ol><p>è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªè¿æ¥åˆ° Redis æ•°æ®åº“çš„è¿æ¥æ± ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºä¸­å¯ä»¥è½»æ¾åœ°è·å–å’Œç®¡ç†ä¸ Redis æœåŠ¡å™¨çš„è¿æ¥ã€‚é€šè¿‡è°ƒç”¨ <code>getJedis()</code>â€‹ æ–¹æ³•ï¼Œä½ å¯ä»¥è·å–ä¸€ä¸ªå¯ç”¨çš„ Redis è¿æ¥å¹¶å¼€å§‹æ‰§è¡Œå¯¹ Redis çš„æ“ä½œã€‚è¦ç¡®ä¿åœ¨ä½¿ç”¨å®Œè¿æ¥åï¼Œå°†å…¶é‡Šæ”¾å›è¿æ¥æ± ä»¥ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚</p><h3 id="3-2-2-æ”¹é€ åŸå§‹ä»£ç ">3.2.2 æ”¹é€ åŸå§‹ä»£ç </h3><p><strong>ä»£ç è¯´æ˜:</strong></p><p>1.åœ¨æˆ‘ä»¬å®Œæˆäº†ä½¿ç”¨å·¥å‚è®¾è®¡æ¨¡å¼æ¥å®Œæˆä»£ç çš„ç¼–å†™ä¹‹åï¼Œæˆ‘ä»¬åœ¨è·å¾—è¿æ¥æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡å·¥å‚æ¥è·å¾—ã€‚</p><p>ï¼Œè€Œä¸ç”¨ç›´æ¥å»newå¯¹è±¡ï¼Œé™ä½è€¦åˆï¼Œå¹¶ä¸”ä½¿ç”¨çš„è¿˜æ˜¯è¿æ¥æ± å¯¹è±¡ã€‚</p><p>2.å½“æˆ‘ä»¬ä½¿ç”¨äº†è¿æ¥æ± åï¼Œå½“æˆ‘ä»¬å…³é—­è¿æ¥å…¶å®å¹¶ä¸æ˜¯å…³é—­ï¼Œè€Œæ˜¯å°†Jedisè¿˜å›è¿æ¥æ± çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@BeforeEach</span></span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span>&#123;</span><br><span class="line">     <span class="comment">//å»ºç«‹è¿æ¥</span></span><br><span class="line">     <span class="comment">/*jedis = new Jedis(&quot;127.0.0.1&quot;,6379);*/</span></span><br><span class="line">     jedis = JedisConnectionFacotry.getJedis();</span><br><span class="line">      <span class="comment">//é€‰æ‹©åº“</span></span><br><span class="line">     jedis.select(<span class="number">0</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@AfterEach</span></span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (jedis != <span class="literal">null</span>) &#123;</span><br><span class="line">         jedis.close();</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1>4. Redisçš„Javaå®¢æˆ·ç«¯-SpringDataRedis</h1><p>SpringDataæ˜¯Springä¸­æ•°æ®æ“ä½œçš„æ¨¡å—ï¼ŒåŒ…å«å¯¹å„ç§æ•°æ®åº“çš„é›†æˆï¼Œå…¶ä¸­å¯¹Redisçš„é›†æˆæ¨¡å—å°±å«åšSpringDataRedisï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://spring.io/projects/spring-data-redis">https://spring.io/projects/spring-data-redis</a></p><ul class="lvl-0"><li class="lvl-2"><p>æä¾›äº†å¯¹ä¸åŒRediså®¢æˆ·ç«¯çš„æ•´åˆï¼ˆLettuceå’ŒJedisï¼‰</p></li><li class="lvl-2"><p>æä¾›äº†RedisTemplateç»Ÿä¸€APIæ¥æ“ä½œRedis</p></li><li class="lvl-2"><p>æ”¯æŒRedisçš„å‘å¸ƒè®¢é˜…æ¨¡å‹</p></li><li class="lvl-2"><p>æ”¯æŒRediså“¨å…µå’ŒRedisé›†ç¾¤</p></li><li class="lvl-2"><p>æ”¯æŒåŸºäºLettuceçš„å“åº”å¼ç¼–ç¨‹</p></li><li class="lvl-2"><p>æ”¯æŒåŸºäºJDK.JSON.å­—ç¬¦ä¸².Springå¯¹è±¡çš„æ•°æ®åºåˆ—åŒ–åŠååºåˆ—åŒ–</p></li><li class="lvl-2"><p>æ”¯æŒåŸºäºRedisçš„JDKCollectionå®ç°</p></li></ul><p>SpringDataRedisä¸­æä¾›äº†RedisTemplateå·¥å…·ç±»ï¼Œå…¶ä¸­å°è£…äº†å„ç§å¯¹Redisçš„æ“ä½œã€‚å¹¶ä¸”å°†ä¸åŒæ•°æ®ç±»å‹çš„æ“ä½œAPIå°è£…åˆ°äº†ä¸åŒçš„ç±»å‹ä¸­ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102328570-539085503-20231006090927-v8ynnm1.png" alt="image">â€‹</p><p>â€</p><h2 id="4-1-å¿«é€Ÿå…¥é—¨">4.1 å¿«é€Ÿå…¥é—¨</h2><ol><li class="lvl-3"><p>å¯¼å…¥åæ ‡</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--redisä¾èµ–--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--common-pool--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--Jacksonä¾èµ–--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>é…ç½®æ–‡ä»¶</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.150</span><span class="number">.101</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123321</span></span><br><span class="line">    <span class="attr">lettuce:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">        <span class="attr">max-active:</span> <span class="number">8</span>  <span class="comment">#æœ€å¤§è¿æ¥</span></span><br><span class="line">        <span class="attr">max-idle:</span> <span class="number">8</span>   <span class="comment">#æœ€å¤§ç©ºé—²è¿æ¥</span></span><br><span class="line">        <span class="attr">min-idle:</span> <span class="number">0</span>   <span class="comment">#æœ€å°ç©ºé—²è¿æ¥</span></span><br><span class="line">        <span class="attr">max-wait:</span> <span class="string">100ms</span> <span class="comment">#è¿æ¥ç­‰å¾…æ—¶é—´</span></span><br></pre></td></tr></table></figure></li><li class="lvl-3"><p>test</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line">    </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// å†™å…¥ä¸€æ¡Stringæ•°æ®</span></span><br><span class="line">    redisTemplate.opsForValue().set(<span class="string">&quot;name&quot;</span> , <span class="string">&quot;å¾å‡¤å¹´&quot;</span>);</span><br><span class="line">    <span class="comment">// å–å‡ºæ•°æ®</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">name</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testSaveUser</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// å†™å…¥æ•°æ®</span></span><br><span class="line">    redisTemplate.opsForValue().set(<span class="string">&quot;user:100&quot;</span> , <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æä¸ƒå¤œ&quot;</span> , <span class="number">19</span>));</span><br><span class="line">    <span class="comment">// è·å–æ•°æ®</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">o</span> <span class="operator">=</span> (User) redisTemplate.opsForValue().get(<span class="string">&quot;user:100&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;o = &quot;</span> + o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>â€</p><p><strong>è´´å¿ƒå°æç¤ºï¼šSpringDataJpaä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œè®°ä½å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤å³å¯</strong></p><p>SpringDataRedisçš„ä½¿ç”¨æ­¥éª¤ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>å¼•å…¥spring-boot-starter-data-redisä¾èµ–</p></li><li class="lvl-2"><p>åœ¨application.ymlé…ç½®Redisä¿¡æ¯</p></li><li class="lvl-2"><p>æ³¨å…¥RedisTemplate</p></li></ul><h2 id="4-2-æ•°æ®åºåˆ—åŒ–å™¨">4.2 æ•°æ®åºåˆ—åŒ–å™¨</h2><p>RedisTemplateå¯ä»¥æ¥æ”¶ä»»æ„Objectä½œä¸ºå€¼å†™å…¥Redisï¼š</p><p>åªä¸è¿‡å†™å…¥å‰ä¼šæŠŠObjectåºåˆ—åŒ–ä¸ºå­—èŠ‚å½¢å¼ï¼Œé»˜è®¤æ˜¯é‡‡ç”¨JDKåºåˆ—åŒ–ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯è¿™æ ·çš„ï¼š</p><p>ç¼ºç‚¹ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>å¯è¯»æ€§å·®</p></li><li class="lvl-2"><p>å†…å­˜å ç”¨è¾ƒå¤§</p></li></ul><p>æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰RedisTemplateçš„åºåˆ—åŒ–æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºRedisTemplateå¯¹è±¡</span></span><br><span class="line">        RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// è®¾ç½®è¿æ¥å·¥å‚</span></span><br><span class="line">        template.setConnectionFactory(connectionFactory);</span><br><span class="line">        <span class="comment">// åˆ›å»ºJSONåºåˆ—åŒ–å·¥å…·</span></span><br><span class="line">        <span class="type">GenericJackson2JsonRedisSerializer</span> <span class="variable">jsonRedisSerializer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericJackson2JsonRedisSerializer</span>();</span><br><span class="line">        <span class="comment">// è®¾ç½®Keyçš„åºåˆ—åŒ–</span></span><br><span class="line">        template.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        template.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line">        <span class="comment">// è®¾ç½®Valueçš„åºåˆ—åŒ–</span></span><br><span class="line">        template.setValueSerializer(jsonRedisSerializer);</span><br><span class="line">        template.setHashValueSerializer(jsonRedisSerializer);</span><br><span class="line">        <span class="comment">// è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé‡‡ç”¨äº†JSONåºåˆ—åŒ–æ¥ä»£æ›¿é»˜è®¤çš„JDKåºåˆ—åŒ–æ–¹å¼ã€‚æœ€ç»ˆç»“æœå¦‚å›¾</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@class&quot;</span><span class="punctuation">:</span> <span class="string">&quot;com.north.pojo.User&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æä¸ƒå¤œ&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">19</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>â€</p><p>æ•´ä½“å¯è¯»æ€§æœ‰äº†å¾ˆå¤§æå‡ï¼Œå¹¶ä¸”èƒ½å°†Javaå¯¹è±¡è‡ªåŠ¨çš„åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æŸ¥è¯¢æ—¶èƒ½è‡ªåŠ¨æŠŠJSONååºåˆ—åŒ–ä¸ºJavaå¯¹è±¡ã€‚ä¸è¿‡ï¼Œå…¶ä¸­è®°å½•äº†åºåˆ—åŒ–æ—¶å¯¹åº”çš„classåç§°ï¼Œç›®çš„æ˜¯ä¸ºäº†æŸ¥è¯¢æ—¶å®ç°è‡ªåŠ¨ååºåˆ—åŒ–ã€‚è¿™ä¼šå¸¦æ¥é¢å¤–çš„å†…å­˜å¼€é”€ã€‚</p><h2 id="4-3-StringRedisTemplate">4.3 StringRedisTemplate</h2><p>å°½ç®¡JSONçš„åºåˆ—åŒ–æ–¹å¼å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œä½†ä¾ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@class&quot;</span><span class="punctuation">:</span> <span class="string">&quot;com.north.pojo.User&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æä¸ƒå¤œ&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">19</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†åœ¨ååºåˆ—åŒ–æ—¶çŸ¥é“å¯¹è±¡çš„ç±»å‹ï¼Œ<code>JSONåºåˆ—åŒ–å™¨ä¼šå°†ç±»çš„classç±»å‹å†™å…¥jsonç»“æœä¸­ï¼Œå­˜å…¥Redisï¼Œä¼šå¸¦æ¥é¢å¤–çš„å†…å­˜å¼€é”€</code>â€‹ã€‚</p><p>ä¸ºäº†å‡å°‘å†…å­˜çš„æ¶ˆè€—ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨<code>æ‰‹åŠ¨åºåˆ—åŒ–çš„æ–¹å¼</code>â€‹ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<code>ä¸å€ŸåŠ©é»˜è®¤çš„åºåˆ—åŒ–å™¨ï¼Œè€Œæ˜¯æˆ‘ä»¬è‡ªå·±æ¥æ§åˆ¶åºåˆ—åŒ–çš„åŠ¨ä½œ</code>â€‹ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬åª<strong>é‡‡ç”¨Stringçš„åºåˆ—åŒ–å™¨</strong>ï¼Œè¿™æ ·ï¼Œåœ¨å­˜å‚¨valueæ—¶ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åœ¨å†…å­˜ä¸­å°±ä¸ç”¨å¤šå­˜å‚¨æ•°æ®ï¼Œä»è€ŒèŠ‚çº¦æˆ‘ä»¬çš„å†…å­˜ç©ºé—´</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/net-img-2942345-20230829102329214-631754004-20231006090927-73zp0qe.png" alt="image">â€‹</p><p>è¿™ç§ç”¨æ³•æ¯”è¾ƒæ™®éï¼Œå› æ­¤SpringDataRediså°±æä¾›äº†RedisTemplateçš„å­ç±»ï¼šStringRedisTemplateï¼Œå®ƒçš„keyå’Œvalueçš„åºåˆ—åŒ–æ–¹å¼é»˜è®¤å°±æ˜¯Stringæ–¹å¼ã€‚</p><p>â€</p><p><strong>æ‰‹åŠ¨åºåˆ—åŒ–å®ç°ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> RedisTemplate&lt;String , Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span> <span class="keyword">throws</span> UnknownHostException &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºRedisTemplate å¯¹è±¡</span></span><br><span class="line">    RedisTemplate&lt;String , Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è¿æ¥å·¥å‚</span></span><br><span class="line">    redisTemplate.setConnectionFactory(redisConnectionFactory);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®åºåˆ—åŒ–å·¥å…·</span></span><br><span class="line">    <span class="type">GenericJackson2JsonRedisSerializer</span> <span class="variable">jsonRedisSerializer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericJackson2JsonRedisSerializer</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// key å’Œ hashKey é‡‡ç”¨Stringåºåˆ—åŒ–</span></span><br><span class="line">    redisTemplate.setKeySerializer(jsonRedisSerializer);</span><br><span class="line">    redisTemplate.setHashKeySerializer(jsonRedisSerializer);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// value å’Œ hashValue é‡‡ç”¨JSONåºåˆ—åŒ–</span></span><br><span class="line">    redisTemplate.setValueSerializer(jsonRedisSerializer);</span><br><span class="line">    redisTemplate.setHashValueSerializer(jsonRedisSerializer);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> redisTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬å†æ¥çœ‹ä¸€çœ‹å­˜å‚¨çš„æ•°æ®ï¼Œå°ä¼™ä¼´ä»¬å°±ä¼šå‘ç°é‚£ä¸ªclassæ•°æ®å·²ç»ä¸åœ¨äº†ï¼ŒèŠ‚çº¦äº†æˆ‘ä»¬çš„ç©ºé—´~</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¾å‡¤å¹´&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">22</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>â€</p><p><strong>æµ‹è¯•ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedisApplicationTests</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// JSON å·¥å…·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testStringTemplate</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">        <span class="comment">// å‡†å¤‡æ•°æ®</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¾å‡¤å¹´&quot;</span> , <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰‹åŠ¨åºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> mapper.writeValueAsString(user);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å†™å…¥ä¸€æ¡æ•°æ®åˆ°redis</span></span><br><span class="line">        stringRedisTemplate.opsForValue().set(<span class="string">&quot;user:200&quot;</span> , json);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¯»å–æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;user:200&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> mapper.readValue(result, User.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;user1 = &quot;</span> + user1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åå°æ€»ç»“ï¼š</p><p>RedisTemplateçš„ä¸¤ç§åºåˆ—åŒ–å®è·µæ–¹æ¡ˆï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>æ–¹æ¡ˆä¸€ï¼š</p><ul class="lvl-2"><li class="lvl-4">è‡ªå®šä¹‰RedisTemplate</li><li class="lvl-4">ä¿®æ”¹RedisTemplateçš„åºåˆ—åŒ–å™¨ä¸ºGenericJackson2JsonRedisSerializer</li></ul></li><li class="lvl-2"><p>æ–¹æ¡ˆäºŒï¼š</p><ul class="lvl-2"><li class="lvl-4">ä½¿ç”¨StringRedisTemplate</li><li class="lvl-4">å†™å…¥Redisæ—¶ï¼Œæ‰‹åŠ¨æŠŠå¯¹è±¡åºåˆ—åŒ–ä¸ºJSON</li><li class="lvl-4">è¯»å–Redisæ—¶ï¼Œæ‰‹åŠ¨æŠŠè¯»å–åˆ°çš„JSONååºåˆ—åŒ–ä¸ºå¯¹è±¡</li></ul></li></ul><h2 id="4-4-Hashç»“æ„æ“ä½œ">4.4 Hashç»“æ„æ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedisStringTests</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testHash</span><span class="params">()</span> &#123;</span><br><span class="line">        stringRedisTemplate.opsForHash().put(<span class="string">&quot;user:400&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;è™å“¥&quot;</span>);</span><br><span class="line">        stringRedisTemplate.opsForHash().put(<span class="string">&quot;user:400&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;21&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Map&lt;Object, Object&gt; entries = stringRedisTemplate.opsForHash().entries(<span class="string">&quot;user:400&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;entries = &quot;</span> + entries);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaåç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RedisåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤©ç©ºä¹‹åŸ</title>
      <link href="/posts/29f0725f.html"/>
      <url>/posts/29f0725f.html</url>
      
        <content type="html"><![CDATA[<p>é¢˜è®°-æˆ‘ä»¬éƒ½æ˜¯æ˜­é˜³ï¼Œç”Ÿå‘½ä¸­å´æ²¡æœ‰ç±³å½©ã€ä¹ç‘¶ã€ç®€è–‡ã€‚</p><p>å…¶å®é¢˜è®°é‡Œæ²¡æ‰“ï¼Œæ€•ç ´åæ°›å›´ï¼Œæˆ‘è¿˜æƒ³æ‰“ä¸Šç”šè‡³æ²¡æœ‰ç½—æœ¬ã€CCç”šè‡³å°äº”ç­‰äººã€‚å°±åƒä½œè€…å¾®åšé‡Œè¯´çš„ï¼Œä½ ä»¬æœ‰éšå«éšåˆ°é™ªä½ å–é…’çš„äººä¹ˆï¼Œè‡³å°‘æˆ‘æ²¡æœ‰ã€‚ä½œè€…ä»¥ç¬¬ä¸€äººç§°çš„å†™ä½œæ‰‹æ³•ï¼Œå¾ˆå®¹æ˜“è®©æˆ‘ä»¬å¸¦å…¥åˆ°æ˜­é˜³çš„æƒ…æ„Ÿä¸­å»ï¼Œå°±åƒæˆ‘é¢˜è®°è¯´çš„ï¼Œæˆ‘ä»¬éƒ½æ˜¯æ˜­é˜³ï¼Œç”Ÿå‘½ä¸­å´æ²¡æœ‰ç±³å½©ã€ä¹ç‘¶ã€ç®€è–‡è¿™ç§è§†æˆ‘ä»¬ä¸ºç”Ÿå‘½çš„å¥³äººã€‚å¯äººç”Ÿæ˜¯ä¸€é“å•é€‰é¢˜ï¼Œæœ€åæ˜­é˜³é€‰æ‹©äº†ç±³å½©ï¼Œè¾œè´Ÿäº†ä¹ç‘¶å’Œç®€è–‡ã€‚æˆ‘æ²¡æœ‰ï¼Œä½ æœ‰ï¼Œå´è¾œè´Ÿäº†ï¼Œè¿™å¤§æ¦‚å°±æ˜¯æˆ‘ä»¬æœ€æ„éš¾å¹³çš„åœ°æ–¹ã€‚</p><p>ä¸€ä¹ç‘¶ã€‚</p><p>ä¹ç‘¶æ˜¯è¿™éƒ¨å°è¯´æœ€ä½å¼€é«˜èµ°çš„ä¸€ä¸ªè§’è‰²ï¼Œä¹Ÿæ˜¯æœ€æ‚²æƒ…çš„è§’è‰²ã€‚(ä¹‹æ‰€ä»¥ä¸å«å¥¹è‚–ç‘¶ï¼Œæ˜¯å› ä¸ºä¹ç‘¶æ‰æ˜¯å’Œæ˜­é˜³é¬¼æ··ä¸¤å¹´çš„å°é€æ˜ï¼Œæ‰æ˜¯æŠŠæ˜­é˜³å½“æˆå…¨éƒ¨ä¸–ç•Œçš„ä¸€ä¸ªå°éº»çƒ¦ã€‚æ”¹åæˆ‘è§‰å¾—æ›´å¤šçš„æ„æ€æ˜¯è¦å’Œè¿‡å»é‚£ä¸ªå‚»å‚»çˆ±ç€æ˜­é˜³çš„ä¹ç‘¶å‘Šåˆ«çš„)ã€‚ä¹ç‘¶ä¹Ÿæ˜¯æˆ‘æœ€å–œæ¬¢çš„è§’è‰²ã€‚æˆ‘å¤šå¸Œæœ›ç¬¬ä¸€ç« ä¹ç‘¶ç”Ÿä¸‹å­©å­æ”¾å¼ƒå½“å¤§è…•çš„æ¢¦ï¼Œæ˜­é˜³ä¸ºäº†å­©å­å’Œå¥¹åœ¨ä¸€èµ·ï¼Œæ•…äº‹ç»“æŸã€‚é‚£æ—¶å€™ç±³å½©æ²¡æœ‰å’Œæ˜­é˜³çº ç¼ åœ¨ä¸€èµ·ï¼Œä»¥åå’Œå°æµ·é¾Ÿåœ¨ä¸€èµ·ï¼Œæ¥æ‰‹æ¯äº²ç±³å›½ç”Ÿæ„ï¼Œå¹³æ·¡çš„è¿‡ä¸€è¾ˆå­ï¼Œä¹Ÿä¸é”™ã€‚è–‡è–‡ç®€å¯èƒ½å°±æ‚²å‰§äº›ï¼Œä¸è¿‡è®²äº†é‚£ä¹ˆå¤šæ•…äº‹ï¼Œæœ€åç»“å±€æ—¶è–‡è–‡ç®€ä¸ä¹Ÿä¸€æ ·è¿œèµ°ç±³å›½äº†ä¹ˆã€‚ä»ç¬¬ä¸€3ç« å¼€å§‹è–‡è–‡ç®€å°±å·²ç»å—ä¼¤äº†ï¼Œè¿™ä¸ªæ²¡åŠæ³•ï¼Œé‚£ä¸ªçƒˆç«ä¸€æ ·çš„å¥³å­ä¸è‚¯æ”¾è¿‡è‡ªå·±ã€‚å¥½äº†æ‰¯è¿œäº†ï¼Œå›æ¥è¯´ä¹ç‘¶ã€‚æˆ‘ä¹‹æ‰€ä»¥è¯´ä¹ç‘¶æ˜¯æœ€æ‚²æƒ…çš„ï¼Œä¸ä»…ä»…æ˜¯å¥¹ä»æ¥æ²¡å¾—åˆ°æ˜­é˜³çš„çˆ±ï¼Œè¿˜è¢«æ˜­é˜³å–å¤šäº†ç¡äº†(å¯èƒ½ä¸€è¾¹ç¡ä¸€è¾¹è¿˜å–Šç€ç®€è–‡)ï¼Œè¿˜ä¸­å¥–äº†ï¼Œè¿˜æ‰“èƒäº†ã€‚è€Œæ˜¯ä½œè€…å¯èƒ½ä»ä¸€å¼€å§‹æ²¡æƒ³å†™è¿™ä¹ˆä¸€ä¸ªè§’è‰²ï¼Œå¼€ç¯‡ä¹ç‘¶æ˜¯ä»¥ä¸€ä¸ªæ··å§çš„ç‚®å‹çš„å½¢è±¡å‡ºç°çš„ï¼Œè¯»å®Œå…¨ç¯‡å›å¤´å†çœ‹æ˜­é˜³å¼€ç¯‡å¯¹å¥¹æœ‰å¤šæ±¡è”‘ï¼Œæˆ‘å°±è§‰å¾—æœ‰å¤šå‰²è£‚ï¼Œç”Ÿå‘½ä¸­é‚£ä¹ˆé‡è¦çš„çº¢é¢œçŸ¥å·±å±…ç„¶ä»¥ç‚®å‹å½¢è±¡å‡ºç°ã€‚å…¶å®å¼€ç¯‡è¿™é‡Œå‡ºç°å‡ ä¸ªé€»è¾‘BUGï¼Œå¼€ç¯‡æ˜­é˜³å¯¹ä¹ç‘¶çš„æ„Ÿè§‰æ˜¯ç‚®å‹ï¼Œæ˜¯å› ä¸ºé•¿çš„å¥½çœ‹ç¡çš„ï¼Œä¸€å£ä¸€ä¸ªä»¥ååˆ«è”ç³»äº†ã€‚åæ¥å‘¢ï¼ŒæŠŠä¹ç‘¶å½“å¦¹å¦¹ï¼ŒæŠ›å¼ƒè®¢å©šå¯¹è±¡ï¼Œä¼¤çˆ¶æ¯çš„å¿ƒä¹Ÿè¦å›æ¥å¸®å¥¹ï¼Œè¿˜ä¸ºå¥¹å€Ÿäº†100Wã€‚è¯•é—®å¤§å®¶ä½ ä»¬ä¸ºäº†ç‚®å‹èƒ½åšåˆ°è¿™åœ°æ­¥ä¹ˆã€‚æ˜­é˜³å¯¹ä¹ç‘¶çš„æ„Ÿæƒ…åº”è¯¥æ˜¯å¼€ç¯‡ä¹‹å‰ä¸¤å¹´é¬¼æ··å…»æˆçš„ï¼Œè€Œä¸æ˜¯ä»¥æ‰“èƒä¸ºèµ·ç‚¹ã€‚è¿˜æœ‰è¯´æ–¹åœ†æ˜¯è¿™åº§åŸå¸‚å”¯ä¸€çš„æœ‹å‹ã€‚é‚£ç½—æœ¬å’ŒCCå°±ä¸ä¹æ„äº†ï¼Œæ˜­é˜³ï¼Œä½ å¿˜äº†æ¡¥æ´å­å”±æ­Œçš„ç½—æœ¬äº†ä¹ˆã€‚ä½ å¿˜äº†æ— æ•°æ¬¡ç…§é¡¾å–å¤šçš„ä½ çš„CCäº†ä¹ˆã€‚å¥½äº†åˆæ‰¯è¿œäº†ï¼Œç»§ç»­è¯´ä¹ç‘¶ã€‚ä¹ç‘¶å¯èƒ½æ˜¯å…¨ç¯‡æ´»çš„æœ€æ˜ç™½çš„ä¸€ä¸ªäººäº†ï¼Œåªæœ‰å¥¹æ˜¯ç”Ÿæ´»ä¸­çš„é«˜æ‰‹ï¼Œæ˜Ÿé€”å¥¹å¾ˆå¦è¡ï¼Œå°±ç®—ä¹‹åå«ç»™äº†æ›¹å…¬å­ä¹Ÿæ²¡è¿‡çš„ä¸å¥½ï¼Œå¥¹ä¹‹æ‰€ä»¥åœ¨æ„Ÿæƒ…ä¸­æ²¡åšå¥½é«˜æ‰‹ï¼Œåªæ˜¯å¥¹è‡ªå·±ä¸€ç›´ä¸æ„¿æ„èµ°å‡ºæ¥è€Œå·²ï¼Œæ¢å¥è¯è¯´æ˜¯å¯¹æ˜­é˜³çˆ±çš„æ·±æ²‰ã€‚ä¹ç‘¶è¿™ä¸ªè§’è‰²ä¸°æ»¡å®åœ¨ä¸€æ¬¡æ¬¡åŠ æˆä¸­ä½“ç°çš„ï¼Œæ¯”å¦‚è¢«æ˜­é˜³æ€‚æ¿å·çƒŸã€è§†ç½—æœ¬ä¸ºå“¥å“¥ï¼Œçˆ±ä¸Šæ˜­é˜³ç­‰ç­‰ã€‚ä¸ç®¡å¦‚ä½•ï¼Œä½œè€…è¿˜æ˜¯å¡‘é€ å‡ºè¿™ä¹ˆä¸€ä¸ªè®©æˆ‘ä»¬åˆçˆ±åˆå¿ƒç–¼çš„å¤æ€ªç²¾çµçš„ä¹ç‘¶ï¼Œè§†æ˜­é˜³ä¸ºå…¨éƒ¨ä¸–ç•Œçš„ä¹ç‘¶ã€‚æˆ‘çŒœä¹ç‘¶ä¸è®©æ˜­é˜³å»å¥¹çš„å©šç¤¼ç°åœºå¯èƒ½æ˜¯æ€•å¥¹å¿ä¸ä½å†²ä¸‹å»æ±‚å©šæ˜­é˜³å§ã€‚è¿˜æœ‰æ‹çš„é‚£ä¸ªç”µå½±ï¼Œæ€€é‡Œç”·ä¸»çš„å­©å­æ­»äº†ï¼Œæœ€åæ´»åœ¨ç”·ä¸»å¿ƒé‡Œï¼Œæ‹æ‘„å®Œä¹ç‘¶é‚£åœºå¤§å“­ï¼Œæˆ‘æƒ³ä¹ç‘¶æ˜¯æ„¿æ„è¿™ä¸æ˜¯ç”µå½±è€Œæ˜¯ç”Ÿæ´»å§ã€‚ä½œè€…æ€»è¯´ç±³å½©ä¸èƒ½è¢«è¾œè´Ÿæ˜¯å¯æ€œçš„å­©å­ï¼Œæ¯äº²æŠ›å¼ƒï¼Œçˆ¶äº²å»ä¸–ã€‚å¯ä¹ç‘¶å‘¢ï¼Œçˆ¶äº²æŠ›å¼ƒï¼Œæ¯äº²åæ–‡æè¿‡ä¹Ÿæˆå®¶äº†ï¼Œæ²¡äººç–¼æ²¡äººçˆ±ï¼Œåªæœ‰ä¹ç‘¶ä¸€ä¸ªäººå­¤è‹¦ä¼¶ä»ƒçš„ç”Ÿæ´»ï¼Œè¿˜è¢«åªæƒ³ç€çº¢çš„å‰ç”·å‹æŠ›å¼ƒï¼Œè°åˆä¸æ˜¯ä¸èƒ½è¾œè´Ÿçš„å°å¯æ€œå‘¢ï¼Ÿåªè®¸å¥¹æˆ¿å®¢å¤§å°å§å¯æ€œä¹ˆï¼Œä¸€ééçš„æï¼Œåˆæœ‰è°æƒ³åˆ°æˆ‘ä»¬ä¸€ç›´ä¿æŒå¾®ç¬‘çš„ä¹ç‘¶æœ‰å¤šè‹¦ã€‚</p><p>å¦‚æœç•™ä¸‹å­©å­ï¼Œå¦‚æœæ”¾å¼ƒå¤§è…•çš„æ¢¦ï¼Œå¦‚æœç›¸ä¿¡æ˜­é˜³èƒ½å…»å¾—èµ·å¥¹ä»¬çš„å­©å­ï¼Œå¦‚æœæ—©ä¸€äº›è¡¨è¾¾å¿ƒæ„ï¼Œæœ‰å¤ªå¤šçš„å¦‚æœã€‚é‚£æ ·ä¹ç‘¶å°±ä¼šæ˜¯æœ€å¹¸ç¦çš„äººã€‚ä¹Ÿä¸ç¡ç€çš„æ—¶å€™å‡è£…æ­»äº†å‡ å›äº†ã€‚æ„éš¾å¹³ã€‚</p><p>äºŒã€ç®€è–‡</p><p>è–‡è–‡ç®€æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å¥³äººï¼Œæ˜¯ç«ä¸€æ ·çš„å¥³äººã€‚æ˜¯æœ‰ç€å¼ºçƒˆç²¾ç¥æ´ç™–çš„å¥³äººã€‚å¥¹è¯´å¥¹çš„äººç”Ÿä¸å¯èƒ½å®Œç¾äº†ï¼Œå¥¹å°±å‘å¥¹çš„è½¦ä¸€æ ·å¸¦ç€ä¼¤ç—•ï¼Œæé†’è‡ªå·±ï¼Œæƒ©ç½šè‡ªå·±ã€‚è¿™é‡Œå…ˆè¯´å¥¹ä¸ºä»€ä¹ˆå’Œæ˜­é˜³åˆ†æ‰‹ã€‚å…¶å®å…¨ç¯‡ä½œè€…ç»™äº†å¾ˆå¤šæš—ç¤ºï¼Œæ–¹åœ†å‡ºè½¨æ—¶å€™æ‰æ‰‹ï¼Œè–‡è–‡ç®€æ— åŠ¨äºè¡·ï¼Œå¹¶ä¸”è¯´å¥¹æ‰‹ä¸Šä¹Ÿæœ‰ä¼¤ç—•ã€‚å¥¹å’Œæ˜­é˜³è¯´è¿‡æˆ‘ä»æ²¡æƒ³è¿‡è¦èƒŒå›ä½ ï¼Œè¿˜æœ‰ä¸€æ®µè–‡è–‡ç®€åšæ¢¦æ—¶å€™è¿˜å–Šå¥¹ç²¾ç¥æ²¡æœ‰èƒŒå›(å¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€å§)ï¼Œæœ‰ä¸€æ®µè–‡è–‡ç®€å’Œå‘æ™¨äº‰åµï¼Œçªç„¶è¯´è¦æˆ‘æŠŠäº‹æƒ…éƒ½è¯´å‡ºæ¥ä¹ˆï¼Œå‘æ™¨ç«‹é©¬æ€‚äº†ï¼Œè¿˜æœ‰ä¸€æ®µæ˜­é˜³å·çœ‹å‘æ™¨ç®€è–‡çš„çŸ­ä¿¡æ˜¯è¿™æ ·çš„(â€œå‘æ™¨ï¼Œä½ å¾ˆæ¶å¿ƒï¼Œä½ çŸ¥é“å—ï¼Ÿå°±å†²ä½ å¯¹æˆ‘å’Œæ˜­é˜³åšçš„ä¸€åˆ‡ï¼Œä½ å°±æ¶å¿ƒï¼â€¦æˆ‘å·²ç»æ˜¯è¿™ä¸ªæ ·å­äº†ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯è±ä¸å‡ºå»çš„ï¼Œä½ æœ€å¥½ä»æˆ‘çš„è§†çº¿é‡Œæ»šçš„è¶Šè¿œè¶Šå¥½ã€‚â€)æœ€åé“¶è¡Œç»ç†è¯´æ–¹åœ†è¯´è¿‡å‘æ™¨å¯¹ä¸èµ·è–‡è–‡ç®€å’Œæ˜­é˜³ã€‚è¿˜æœ‰ä¸€æ®µè–‡è–‡ç®€è¯´æ˜­é˜³æœç„¶å’Œåˆ«çš„å¥³çš„é¬¼æ··ï¼Œè¿˜è¯´å¥¹åœ¨ç¾å›½å¤šä¹ˆå¤šä¹ˆè¾›è‹¦ã€‚è¿˜æœ‰å‘æ™¨å‡ºå›½ä¸€æ®µæ—¶é—´ã€‚é‚£ä¹ˆç­”æ¡ˆå¾ˆæ˜æ˜¾ï¼Œå‘æ™¨å‡ºå›½é™ªè–‡è–‡ç®€å»äº†ï¼Œé€ è°£æ˜­é˜³å‡ºè½¨ï¼ŒçŒé†‰ä¹Ÿå¥½ä¸‹Yä¹Ÿå¥½æ€ä¹ˆä¹Ÿå¥½ï¼Œç¡äº†è–‡è–‡ç®€ä¸€æ¬¡(æˆ‘è§‰å¾—å‘æ™¨å¯èƒ½å°±ç¡é‚£ä¹ˆä¸€æ¬¡ï¼Œä¹‹åè–‡è–‡ç®€åŒæ„å’Œå‘æ™¨äº¤å¾€ä¹Ÿæ˜¯è–‡è–‡ç®€äº²çœ¼çœ‹è§æ˜­é˜³è¯´ç±³å½©æ˜¯è‡ªå·±å¥³æœ‹å‹ä¹‹åï¼ŒåŒæ˜­é˜³ä¸€æ ·ä¸æƒ³è¡¨ç°å¤ªä¸å ªè€Œåšå‡ºçš„ä¸¾åŠ¨ï¼Œå¥¹å¿ƒé‡Œç›´åˆ°ç»“å±€ä¹Ÿä¸€ç›´çˆ±ç€æ˜­é˜³ï¼Œè¿™æ ·ä¸€ä¸ªå¼ºçƒˆç²¾ç¥æ´ç™–çš„å¥³äººæ€ä¹ˆä¼šå’Œå‘æ™¨åŒå±…ã€‚å‘æ™¨æœºå…³ç®—å°½ä¹Ÿæ²¡èƒ½å¾—åˆ°ç®€è–‡ï¼Œæœ€åæ‰å’Œç®€è–‡åˆ†æ‰‹æ‰¾é‚£ä¸ªè°)ã€‚é†’æ¥çš„è–‡è–‡ç®€è§‰å¾—è‡ªå·±å¯¹ä¸èµ·æ˜­é˜³(æˆ–è€…è‡ªå·±ç²¾ç¥ä¸­å®Œç¾çš„çˆ±æƒ…)å‰²è…•è‡ªæ€ï¼Œè™½ç„¶æ•‘è¿‡æ¥äº†ä½†æ˜¯å¥¹ä¸è‚¯åŸè°…è‡ªå·±å’Œæ˜­é˜³åˆ†æ‰‹äº†ã€‚è¿™ä¹Ÿæ˜¯æ•…äº‹çš„å¼€ç¯‡ã€‚å…¶å®è–‡è–‡ç®€æˆ‘è§‰å¾—æ˜¯é™¤äº†ä¹ç‘¶ç¬¬äºŒè‹¦æƒ…çš„ã€‚é‚£ä¹ˆå®Œç¾åˆšçƒˆçš„ä¸€ä¸ªå¥³å­ï¼Œå´é‡åˆ°å‘æ™¨è¿™æ ·çš„å°äººã€‚é”™è¿‡äº†ä¸æ˜­é˜³çš„å®Œç¾çˆ±æƒ…ã€‚å¥¹ç©¿ç€ä¸€ä»¶ç™½è‰²Tæ¤ï¼ŒæƒŠè‰³äº†æˆ‘ä¸€æ•´ä¸ªå¤å¤©ã€‚è¿™æ˜¯æ˜­é˜³å¯¹å¥¹æœ€åçš„å›å¿†ï¼Œå´ç»ˆç©¶æ˜¯é”™è¿‡äº†ã€‚æˆ‘çœ‹å®Œå°è¯´é€›äº†é€›ä½œè€…å¾®åšè¿˜æœ‰çŸ¥ä¹å…³äºè¿™æœ¬å°è¯´çš„è¯„ä»·ï¼Œä¸å°‘äººè¯´ç®€è–‡èƒ½ä¸æ˜­é˜³ä¸€èµ·æ­»ï¼Œæ·‹æ±½æ²¹å’Œè·³æŠ¤åŸæ²³é‚£ä¸¤æ®µã€‚å…¶å®æˆ‘æƒ³è¯´ä¹ç‘¶å’Œç±³å½©ä¹Ÿä¸€å®šåšå¾—åˆ°ã€‚å¥¹ä»¬å¯¹æ˜­é˜³çš„çˆ±å®Œå…¨ä¸é€Šè‰²ä¸è–‡è–‡ç®€ï¼Œä¹ç‘¶ç”µå½±é‡Œçš„åŸå¢“ï¼Œè«å­çŸ³è¯´æ¼äº†è¯´ç±³å½©ä¸é¡¾è‡ªå·±çš„æ€§å‘½ï¼Œä¹Ÿæ— æ€¨æ— æ‚”(æˆ‘è§‰å¾—è¿™æ®µåº”è¯¥æ˜¯ç±³å½©ç”Ÿå®å®éš¾äº§ï¼Œä¸é¡¾è‡ªå·±æ€§å‘½ä¹Ÿæƒ³ç»™æ˜­é˜³ä¸€ä¸ªå­©å­)ã€‚ä½†æ˜¯è¿™ç§é•œå¤´ä¸€å®šè¦ç»™ç®€è–‡ã€‚å¥¹æ˜¯é‚£ä¹ˆåˆšçƒˆï¼Œå¥¹ä¸è‚¯åŸè°…è‡ªå·±çš„è¿‡é”™ï¼Œæ´»ç€æ¯ä¸€å¤©éƒ½æ˜¯å¯¹è‡ªå·±çš„æŠ˜ç£¨ï¼Œé‚£ä¹ˆæ­»äº†ï¼Œæˆ–è€…ä¸ºäº†æ˜­é˜³æ­»ã€é™ªç€æ˜­é˜³æ­»ï¼Œå¯¹å¥¹æ¥è¯´éƒ½æ˜¯ä¸€ç§å®Œç¾çš„ç»“å±€ï¼Œåªæ˜¯ä½œè€…ä¹Ÿå¿ƒç–¼è¿™ä¸ªå¼ºé¢œæ¬¢ç¬‘çš„å¥³å­ï¼Œæœ€åä¹Ÿç»™äº†å¥¹ä¸€ä¸ªè¿˜ç®—ç¾å¥½çš„ç»“å±€ã€‚</p><p>å¦‚æœæ²¡æœ‰çˆ¶æ¯åå¯¹ï¼Œå¦‚æœæ²¡æœ‰å‘æ™¨è¿™ä¸ªå°äººï¼Œå¦‚æœè–‡è–‡ç®€èƒ½åŸè°…è‡ªå·±å’Œæ˜­é˜³å¥½å¥½æ²Ÿé€šï¼Œå¦‚æœæ–¹åœ†å©šç¤¼æ˜­é˜³æ²¡è¯´ç±³å½©æ˜¯è‡ªå·±å¥³å‹ã€‚æœ‰å¤ªå¤šçš„å¦‚æœï¼Œé‚£æ ·è–‡è–‡ç®€ä¹Ÿä¼šæ˜¯æœ€å¹¸ç¦çš„å¥³äººã€‚ä¹Ÿä¸ç”¨æœ€åè¿œèµ°ç±³å›½äº†ã€‚æ„éš¾å¹³ã€‚</p><p>ä¸‰ã€ç±³å½©</p><p>æˆ¿å®¢å¤§å°å§åšä¸ºå¤©å‘½å¥³ä¸»è§’åº”è¯¥æ˜¯æœ€å¹¸ç¦çš„ä¸€ä¸ªäº†ï¼Œè¿™ä¸ªä¸ç”¨æ„éš¾å¹³äº†ã€‚ä»æœ€åˆæ‰“æ‰“é—¹é—¹ï¼Œåˆ°çˆ±ä¸Šæ˜­é˜³ï¼Œå†åˆ°å„ç§çŸ›ç›¾ï¼Œå†åˆ°è½é­„å›å¾å·ç»“å©š(è¯è¯´è¿™æ®µçœŸçš„ä¸ºäº†æƒ¨è€Œæƒ¨å•Šï¼Œæœ‰é‚£ä¹ˆç©·ä¹ˆï¼ŒæŠ•èµ„é‚£èŠ±åº—å¤šé’±å‘¢ã€‚çªç„¶å°±å‡ ä¸‡éƒ½æ²¡æœ‰äº†ï¼Œä½œè€…ä¹ŸçœŸæ˜¯çš„ã€‚)å†åˆ°å©šç¤¼ä¸­æ˜­é˜³è·‘äº†å»çœ‹å‰å¥³å‹ï¼Œç›´åˆ°æœ€åæœ‰äº†å­©å­ã€‚æŒºå¥½çš„ï¼Œä¸€è·¯é£é£é›¨é›¨ï¼Œç»“å±€æ˜¯ç¾å¥½çš„å°±å¥½ã€‚è¯´ä¸ªæœ‰æ„æ€çš„äº‹ï¼Œæˆ‘çœ‹åˆ°ç±³å½©ç¬¬ä¸€æ¬¡å’Œæ˜­é˜³åœ¨ä¸€èµ·çš„æ—¶å€™æˆ‘å‘ç°è¿›åº¦æ‰20%ï¼Œæˆ‘å°±è§‰å¾—äº‹æƒ…æ²¡é‚£ä¹ˆç®€å•ã€‚äººç”Ÿçœ‹å°è¯´10å¤šå¹´ç¬¬ä¸€æ¬¡ç›´æ¥å»çœ‹äº†ç»“å±€ï¼Œæˆ‘å½“æ—¶æƒ³ç»“å±€æ˜­é˜³å’Œç±³å½©åœ¨ä¸€èµ·æˆ‘å°±ç»§ç»­çœ‹ï¼Œä¸åœ¨ä¸€èµ·æˆ‘å°±ä¸çœ‹äº†ã€‚è¿˜å¥½ç»“å±€æ˜¯å¥½çš„ï¼Œæˆ‘æ‰ç»§ç»­çœ‹ã€‚å¯è§ä½œè€…è¿™å°è¯´æœ‰å¤šè™ã€‚æœ‰å¾ˆå¤šäººè¯´ç±³å½©ä¸çˆ±æ˜­é˜³ï¼Œå¥¹ä¸çˆ±æ˜­é˜³ä¼šé¡¶ç€æ‰€æœ‰äººåå¯¹å’Œæ˜­é˜³åœ¨ä¸€èµ·ä¹ˆï¼Œä¼šä¸ºäº†å¥¹åƒé‚£ä¹ˆå¤šé†‹ä¹ˆï¼Œä¼šå’Œæ˜­é˜³å›å¾å·åšä¸€ä¸ªå°åŠ©ç†ä¹ˆã€‚å¹³å¹³æ·¡æ·¡æ˜¯æ˜­é˜³çš„æ¢¦æƒ³ä¸æ˜¯ç±³å½©çš„ã€‚å¤§å°å§è§’è‰²ä¹‹æ‰€ä»¥è®©äººå–œæ¬¢ï¼Œæ˜¯å¥¹å®Œç¾çš„å‡ºåœºï¼Œå®Œç¾çš„å½¢è±¡ï¼Œä½œè€…æŠŠå¥¹æå†™çš„çœŸå°±åƒä¸é—®ä¿—ä¸–çš„ä»™å­ã€‚å¥¹æ²¡æœ‰ç”·å¥³æ„Ÿæƒ…ç»ç†ï¼Œæ²¡å–œæ¬¢è¿‡é™¤äº†æ˜­é˜³ä»¥å¤–çš„åˆ«äººï¼Œæ‰€ä»¥å¯¹æ„Ÿæƒ…çš„è¡¨è¾¾ä¸Šæ˜¾å¾—å¾ˆç”Ÿç–ï¼Œå¾ˆå¤šæ—¶å€™æ²¡æœ‰ä¹ç‘¶çš„æ— å¾®ä¸è‡³ã€‚ä½†è¿™ä¹Ÿæ˜¯è®©æˆ‘ä»¬ç€è¿·çš„åœ°æ–¹ï¼Œä¸€ä¸ªä¸ç†å°˜ä¸–çš„ä»™å­çªç„¶ä¸ºäº†ä½ ä¸‹å‡¡ç¬¨æ‰‹ç¬¨è„šçš„é€‚åº”ä½ çš„ä¸€åˆ‡ï¼Œæƒ³æƒ³å°±å¾ˆæ¢¦å¹»ã€‚æ‰€ä»¥å¤§å°å§ä¸èƒ½è¾œè´Ÿï¼Œå¤§å°å§ä¼—ä¸‡æ‰€å½’å’Œæ˜­é˜³åœ¨ä¸€èµ·äº†ã€‚(å¤§å°å§å‘å°±æƒ¹äººå¿ƒç–¼ã€‚ä¹ç‘¶å’Œè–‡è–‡ç®€å°±æ˜¯æ´»è¯¥ï¼Œæˆ‘åˆé…¸äº†ä¸å¥½æ„æ€)ã€‚</p><p>å››å¹´å‰ä½ æ˜¯æˆ‘çš„æˆ¿å®¢ï¼Œå››å¹´åä½ æ˜¯æˆ‘çš„å¦»å­ã€‚ç¥æ¸£é˜³å’Œæˆ¿å®¢å¤§å°å§å¹¸ç¦å§ã€‚</p><p>å››ï¼Œæ–¹åœ†å’Œé¢œå¦å¤«å¦‡</p><p>æ–¹åœ†åšä¸ºæœ¬ä¹¦æœ€é«˜å¼€ä½èµ°çš„è§’è‰²ï¼Œæˆ‘è§‰å¾—æœ€åæ´—ç™½ä¹Ÿæ²¡ä»€ä¹ˆä½œç”¨ã€‚ç®€è–‡å’Œæ˜­é˜³åˆ†æ‰‹æ–¹åœ†æ˜¯ç½ªé­ç¥¸é¦–ä¹‹ä¸€ï¼Œå·æ‹æ˜­é˜³ç»™å‘æ™¨ï¼Œè®©å‘æ™¨æŒç»­ä¸æ–­çš„ç»™ç®€è–‡çœ‹ç…§ç‰‡ã€‚è¿˜åè¿‡å¤´æ¥æœ‰æ¨¡æœ‰æ ·çš„è¯´æ˜­é˜³è¿‡çš„ä¸å¥½ä¸ä¸Šè¿›ã€‚æˆ‘å‘¸ï¼Œæ¶å¿ƒã€‚æ˜­é˜³åšä¸ºç”·ä¸»ï¼Œå¦‚æœæ²¡å’Œç®€è–‡åˆ†æ‰‹ï¼Œä»¥ä¹¦é‡Œæ˜­é˜³çš„è¶…èƒ½åŠ›ï¼Œä½ æ–¹åœ†æ˜¯ä¸ªå±å•Šã€‚è‡³äºæœ€åçš„èƒŒå›ç±³å½©ï¼Œæˆ‘è§‰å¾—æ›´åƒæ˜¯å°ä¸‘çš„é—¹å‰§ã€‚å¦å¤–åœ¨é¢œå¦å’Œæ–¹åœ†ç¦»å©šä¹‹åæœ‰å‡ æ¬¡å’Œæ˜­é˜³æ¬²è¨€åˆæ­¢çš„å¯¹è¯ä¸­ï¼Œåº”è¯¥æ˜¯å¥¹ä¹ŸçŸ¥é“æ–¹åœ†çš„æ‰€ä½œæ‰€ä¸ºã€‚è¿˜æ‹¿æ˜­é˜³å½“å¼Ÿå¼Ÿï¼Œæ‹¿ç®€è–‡å½“é—ºèœœã€‚æˆ‘ä¹Ÿåªèƒ½æ˜¯å‘µå‘µäº†ã€‚å¥½äº†å°±è¿™æ ·å§ï¼Œé…è§’è€Œå·²ä¸æ„¿æ„å¤šè¯´ï¼Œå°±åƒå‘æ™¨æˆ‘æ ¹æœ¬ä¸å†™ä»–ï¼Œä»–ä¸é…ã€‚</p><p>äº”ã€ç½—æœ¬å’ŒCCä»¥åŠå¥³æ•™å¸ˆ</p><p>è¿™å°±æ˜¯ä¸€åœºé”™è¯¯çš„å…¸èŒƒï¼Œç½—æœ¬é€‰æ‹©å’Œå‰ä»»ç»“æœé”™è¿‡äº†ã€‚å¥³æ•™å¸ˆé€‰æ‹©å’Œå‰ä»»ï¼Œæœ€åä¹Ÿå›å°å±±æ‘äº†ã€‚æ‰€ä»¥è¿™é‡Œå‘Šè¯‰æˆ‘ä»¬ï¼Œä¸èƒ½å’Œå‰ä»»å’Œå¥½ï¼Œè¦å‘å‰çœ‹ã€‚æœ€åç½—æœ¬å’Œå¥³æ­Œæ‰‹ï¼ŒCCé—ªå©šäº†ï¼Œå¥³æ•™å¸ˆé™ªèµ°äº†ä¸€ä¸ªä¹‹åæ‰¾ä¸ªäºŒå©šçš„æ•™å¸ˆã€‚æ— å…³çˆ±æƒ…ï¼Œå´ä¹Ÿæ˜¯ä¸é”™çš„ç»“å±€ï¼Œä¸æ˜¯ä¹ˆã€‚å°±åƒæ˜¯æ¿çˆ¹ä¹Ÿæ˜¯æœ‰æ•…äº‹çš„äººï¼Œæœ€åé€‰æ‹©äº†æ˜­é˜³å¦ˆå¦ˆï¼Œè¿‡çš„ä¸ä¹Ÿä¸€æ ·æŒºå¥½ä¹ˆã€‚çˆ±æƒ…æ˜¯çˆ±æƒ…ï¼Œç”Ÿæ´»æ˜¯ç”Ÿæ´»ã€‚</p><p>å…­ã€æ˜­é˜³</p><p>å…¶å®æˆ‘ä»¬å°±æ˜¯ä¸€ä¸ªåˆä¸€ä¸ªçš„æ˜­é˜³ï¼Œè™½ç„¶æ²¡æœ‰ä»–æœ‰è¶…èƒ½åŠ›ï¼Œè®©é‚£ä¹ˆå¤šå¥³æ€§çˆ±ä¸Šä»–ï¼Œè®©é’±æ¥çš„é‚£ä¹ˆå®¹æ˜“ã€‚å¯æ˜¯æˆ‘ä»¬ä¹Ÿæ˜¯è‹¦æµ·ä¸­æ²‰æµ®çš„äººã€‚ä¸è¯´äº†ï¼Œè¯»è¿‡æ‰€æœ‰é¸¡æ±¤ä¹Ÿä¸ä¸€å®šè¿‡å¥½ä¸€ç”Ÿã€‚å¦‚äººé¥®æ°´ï¼Œå†·æš–è‡ªçŸ¥ã€‚è¯´å°è¯´é‡Œäººç‰©è¡Œï¼ŒåŠå¤§å®¶æˆ‘å¼ ä¸å¼€å˜´ è¯´ç‚¹æ‹œå¹´è¯å§ï¼Œç¥å¤§å®¶éƒ½èƒ½è¿‡çš„å¹¸ç¦ã€‚</p><p>æœ€åï¼Œé™„ä¸Šä¸€é¦–è¾›å¼ƒç–¾çš„è¯ï¼Œè‡ªå·±ç†è§£ã€‚</p><p>ä¸‘å¥´å„¿Â·ä¹¦åšå±±é“ä¸­å£ [å®‹]è¾›å¼ƒç–¾</p><p>å°‘å¹´ä¸è¯†æ„æ»‹å‘³ï¼Œçˆ±ä¸Šå±‚æ¥¼ã€‚çˆ±ä¸Šå±‚æ¥¼ï¼Œä¸ºèµ‹æ–° è¯å¼ºè¯´æ„ã€‚</p><p>è€Œä»Šè¯†å°½æ„æ»‹å‘³ï¼Œæ¬²è¯´è¿˜ä¼‘ã€‚æ¬²è¯´è¿˜ä¼‘ï¼Œå´é“å¤© å‡‰å¥½ä¸ªç§‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆ‘åœ¨äººé—´å‡‘æ•°çš„æ—¥å­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WebæœŸæœ«å¤§ä½œä¸š</title>
      <link href="/posts/5596f2.html"/>
      <url>/posts/5596f2.html</url>
      
        <content type="html"><![CDATA[<h2 id="é¦–é¡µå±•ç¤º">é¦–é¡µå±•ç¤º</h2><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118115054-wkmufes.png" alt="image">â€‹â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118115153-xbmfrtr.png" alt="image">â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118115313-k8u9gdp.png" alt="image">â€‹â€‹â€‹â€‹</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118115219-j69g751.png" alt="image">â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118115233-ryw65qz.png" alt="image">â€‹<img src="https://cdn.jsdelivr.net/gh/NorthPoet/images/images/image-20231118115249-vvr26cq.png" alt="image">â€‹â€‹â€‹</p><p>â€</p><h2 id="çµæ„Ÿæ¥æº">çµæ„Ÿæ¥æº</h2><blockquote><p>QQéŸ³ä¹ ï¼Œ Listen1</p></blockquote><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“åº”å¼Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®éªŒä¹ å›¾çš„åˆ›å»ºä¸éå†</title>
      <link href="/posts/8712b9be.html"/>
      <url>/posts/8712b9be.html</url>
      
        <content type="html"><![CDATA[<p><strong>å®éªŒæ—¶é—´ï¼š</strong> ç¬¬11å‘¨</p><p><strong>å®éªŒç›®çš„ï¼š</strong> æŒæ¡å›¾çš„é‚»æ¥çŸ©é˜µã€é‚»æ¥è¡¨ä¸¤ç§å­˜å‚¨ç»“æ„ï¼Œèƒ½å¤Ÿå®ç°åœ¨ä»»æ„ä¸€ç§å­˜å‚¨ç»“æ„ä¸Šçš„åˆ›å»ºå’Œéå†ä¸¤ç§åŸºæœ¬æ“ä½œ</p><p><strong>å®éªŒè¦æ±‚ï¼š</strong></p><p>1ã€è®¤çœŸé˜…è¯»å’ŒæŒæ¡æ•™æä¸Šå’Œæœ¬å®éªŒç›¸å…³å†…å®¹å’Œç®—æ³•ï¼ˆè§P161~170ï¼‰ã€‚</p><p>2ã€ä¸Šæœºå°†å›¾çš„ä»»æ„ä¸€ç§å­˜å‚¨è¡¨ç¤ºçš„åˆ›å»ºå’Œéå†ï¼ˆDFSå’ŒBFSè‡³å°‘å®ç°ä¸€ç§ï¼‰ç®—æ³•å®ç°ã€‚</p><p>3ã€å®ç°ä¸‹é¢å®éªŒå†…å®¹è¦æ±‚çš„åŠŸèƒ½ï¼Œå¹¶èƒ½å¤Ÿè¿›è¡Œç®€å•çš„è¾“å…¥è¾“å‡ºéªŒè¯ã€‚</p><p><strong>å®éªŒå†…å®¹ï¼š</strong></p><p>1ã€ å›¾çš„åˆ›å»ºéƒ¨åˆ†</p><p>ç¼–ç¨‹å®ç°å›¾çš„ä»»æ„ä¸€ç§å­˜å‚¨è¡¨ç¤ºçš„åˆ›å»ºç®—æ³•ï¼Œè¦æ±‚èƒ½å¤Ÿè¿›è¡Œç®€å•çš„è¾“å…¥è¾“å‡ºéªŒè¯ã€‚</p><p>2ã€ å›¾çš„éå†æ“ä½œéƒ¨åˆ†</p><p>ç¼–ç¨‹å®ç°å›¾çš„éå†æ“ä½œï¼Œè‡³å°‘å®ç°å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ä¸¤ç§éå†ç®—æ³•ä¸­çš„ä¸€ç§ï¼Œè¦æ±‚èƒ½å¤Ÿè¿›è¡Œç®€å•çš„è¾“å…¥è¾“å‡ºéªŒè¯ã€‚</p><h2 id="å›¾çš„åˆ›å»ºä¸éå†ï¼ˆä½¿ç”¨é‚»æ¥çŸ©é˜µï¼‰">å›¾çš„åˆ›å»ºä¸éå†ï¼ˆä½¿ç”¨é‚»æ¥çŸ©é˜µï¼‰</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_VERTICES 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Representation of Graph using Adjacency Matrix</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> V; <span class="comment">// Number of vertices</span></span><br><span class="line">    <span class="type">int</span> **matrix; <span class="comment">// Adjacency matrix</span></span><br><span class="line">&#125; GraphAdjMatrix;</span><br><span class="line"></span><br><span class="line">GraphAdjMatrix* <span class="title function_">createGraphAdjMatrix</span><span class="params">(<span class="type">int</span> vertices)</span> &#123;</span><br><span class="line">    GraphAdjMatrix* graph = (GraphAdjMatrix*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GraphAdjMatrix));</span><br><span class="line">    graph-&gt;V = vertices;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Allocate memory for adjacency matrix</span></span><br><span class="line">    graph-&gt;matrix = (<span class="type">int</span>**)<span class="built_in">malloc</span>(vertices * <span class="keyword">sizeof</span>(<span class="type">int</span>*));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vertices; ++i) &#123;</span><br><span class="line">        graph-&gt;matrix[i] = (<span class="type">int</span>*)<span class="built_in">calloc</span>(vertices, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> graph;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">addEdgeAdjMatrix</span><span class="params">(GraphAdjMatrix* graph, <span class="type">int</span> src, <span class="type">int</span> dest)</span> &#123;</span><br><span class="line">    <span class="comment">// Assuming it&#x27;s an undirected graph, assigning 1 for both directions</span></span><br><span class="line">    graph-&gt;matrix[src][dest] = <span class="number">1</span>;</span><br><span class="line">    graph-&gt;matrix[dest][src] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printGraphAdjMatrix</span><span class="params">(GraphAdjMatrix* graph)</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Adjacency Matrix:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; graph-&gt;V; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; graph-&gt;V; ++j) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, graph-&gt;matrix[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">freeGraphAdjMatrix</span><span class="params">(GraphAdjMatrix* graph)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; graph-&gt;V; ++i) &#123;</span><br><span class="line">        <span class="built_in">free</span>(graph-&gt;matrix[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(graph-&gt;matrix);</span><br><span class="line">    <span class="built_in">free</span>(graph);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">4</span>; <span class="comment">// Number of vertices</span></span><br><span class="line">    GraphAdjMatrix* g = createGraphAdjMatrix(V);</span><br><span class="line"></span><br><span class="line">    addEdgeAdjMatrix(g, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    addEdgeAdjMatrix(g, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">    addEdgeAdjMatrix(g, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    addEdgeAdjMatrix(g, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    printGraphAdjMatrix(g);</span><br><span class="line"></span><br><span class="line">    freeGraphAdjMatrix(g);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å›¾çš„åˆ›å»ºä¸éå†ï¼ˆä½¿ç”¨é‚»æ¥è¡¨ï¼‰">å›¾çš„åˆ›å»ºä¸éå†ï¼ˆä½¿ç”¨é‚»æ¥è¡¨ï¼‰</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Node to store adjacent vertices in Adjacency List</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> dest;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Adjacency List representation of Graph</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> V; <span class="comment">// Number of vertices</span></span><br><span class="line">    Node** <span class="built_in">array</span>; <span class="comment">// Array of adjacency lists</span></span><br><span class="line">&#125; GraphAdjList;</span><br><span class="line"></span><br><span class="line">Node* <span class="title function_">createNode</span><span class="params">(<span class="type">int</span> dest)</span> &#123;</span><br><span class="line">    Node* newNode = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    newNode-&gt;dest = dest;</span><br><span class="line">    newNode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">GraphAdjList* <span class="title function_">createGraphAdjList</span><span class="params">(<span class="type">int</span> vertices)</span> &#123;</span><br><span class="line">    GraphAdjList* graph = (GraphAdjList*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GraphAdjList));</span><br><span class="line">    graph-&gt;V = vertices;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create an array of adjacency lists</span></span><br><span class="line">    graph-&gt;<span class="built_in">array</span> = (Node**)<span class="built_in">malloc</span>(vertices * <span class="keyword">sizeof</span>(Node*));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vertices; ++i) &#123;</span><br><span class="line">        graph-&gt;<span class="built_in">array</span>[i] = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> graph;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">addEdgeAdjList</span><span class="params">(GraphAdjList* graph, <span class="type">int</span> src, <span class="type">int</span> dest)</span> &#123;</span><br><span class="line">    <span class="comment">// Add edge from src to dest</span></span><br><span class="line">    Node* newNode = createNode(dest);</span><br><span class="line">    newNode-&gt;next = graph-&gt;<span class="built_in">array</span>[src];</span><br><span class="line">    graph-&gt;<span class="built_in">array</span>[src] = newNode;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// For undirected graph, uncomment the lines below</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    newNode = createNode(src);</span></span><br><span class="line"><span class="comment">    newNode-&gt;next = graph-&gt;array[dest];</span></span><br><span class="line"><span class="comment">    graph-&gt;array[dest] = newNode;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printGraphAdjList</span><span class="params">(GraphAdjList* graph)</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Adjacency List:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; graph-&gt;V; ++i) &#123;</span><br><span class="line">        Node* temp = graph-&gt;<span class="built_in">array</span>[i];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Adjacency list of vertex %d: &quot;</span>, i);</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d -&gt; &quot;</span>, temp-&gt;dest);</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;NULL\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">freeGraphAdjList</span><span class="params">(GraphAdjList* graph)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; graph-&gt;V; ++i) &#123;</span><br><span class="line">        Node* current = graph-&gt;<span class="built_in">array</span>[i];</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            Node* next = current-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(current);</span><br><span class="line">            current = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(graph-&gt;<span class="built_in">array</span>);</span><br><span class="line">    <span class="built_in">free</span>(graph);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">4</span>; <span class="comment">// Number of vertices</span></span><br><span class="line">    GraphAdjList* g = createGraphAdjList(V);</span><br><span class="line"></span><br><span class="line">    addEdgeAdjList(g, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    addEdgeAdjList(g, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">    addEdgeAdjList(g, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    addEdgeAdjList(g, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    printGraphAdjList(g);</span><br><span class="line"></span><br><span class="line">    freeGraphAdjList(g);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ä½œä¸š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„ç»¼åˆå®éªŒ</title>
      <link href="/posts/b42f7f50.html"/>
      <url>/posts/b42f7f50.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä½¿ç”¨Cè¯­è¨€è¿›è¡Œå®ç° ï¼Œ ç¨‹åºå®éªŒæŠ¥å‘Šå¾…å®Œæˆï¼</p></blockquote><h1>1.  <strong>(å…¶å®ƒ)</strong> è¯·åŒå­¦ä»¬å®Œæˆç»¼åˆè®¾è®¡æ€§å®éªŒå†…å®¹ï¼Œé¢˜ç›®å¯ä»¥ä»ä»¥ä¸‹é€‰æ‹©ã€‚ï¼ˆäºŒé€‰ä¸€ï¼‰</h1><p>è¦æ±‚ï¼šå°†ä»¥ä¸Šé¢˜ç›®å®Œæˆå¹¶å¡«å†™ç»¼åˆè®¾è®¡æ€§å®éªŒæŠ¥å‘Šï¼ŒæŠ¥å‘Šæœ€åé™„åŠ ä¸Šæºä»£ç ã€‚å®Œæˆåå°†æŠ¥å‘ŠæŒ‰ç…§æ­£ç¡®çš„å‘½åæ ¼å¼ä¸Šä¼ </p><h2 id="ç¬¬ä¸€é¢˜">ç¬¬ä¸€é¢˜</h2><p>â€</p><blockquote><p>è¾“å…¥nä¸ªå­—æ¯åŠå…¶æƒå€¼ï¼Œå¯¹å…¶è¿›è¡Œå“ˆå¤«æ›¼ç¼–ç ã€‚</p></blockquote><p>â€</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_NODES 50</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“ç‚¹ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> letter; <span class="comment">// å­—æ¯</span></span><br><span class="line">    <span class="type">int</span> freq;    <span class="comment">// é¢‘ç‡</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">left</span>, *<span class="title">right</span>;</span> <span class="comment">// å·¦å³å­èŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å“ˆå¤«æ›¼æ ‘çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HuffmanTree</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">root</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">struct</span> Node* <span class="title function_">newNode</span><span class="params">(<span class="type">char</span> letter, <span class="type">int</span> freq)</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">node</span> =</span> (<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">    node-&gt;letter = letter;</span><br><span class="line">    node-&gt;freq = freq;</span><br><span class="line">    node-&gt;left = node-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line"><span class="keyword">struct</span> HuffmanTree* <span class="title function_">buildHuffmanTree</span><span class="params">(<span class="type">char</span> letters[], <span class="type">int</span> freqs[], <span class="type">int</span> size)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºåˆå§‹èŠ‚ç‚¹åˆ—è¡¨</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">nodes</span>[<span class="title">MAX_NODES</span>];</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">        nodes[i] = newNode(letters[i], freqs[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„å»ºå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">    <span class="keyword">while</span> (size &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> min1 = <span class="number">0</span>, min2 = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰¾å‡ºé¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nodes[i]-&gt;freq &lt; nodes[min1]-&gt;freq) &#123;</span><br><span class="line">                min2 = min1;</span><br><span class="line">                min1 = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nodes[i]-&gt;freq &lt; nodes[min2]-&gt;freq) &#123;</span><br><span class="line">                min2 = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–°èŠ‚ç‚¹ä½œä¸ºçˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">mergedNode</span> =</span> newNode(<span class="string">&#x27;$&#x27;</span>, nodes[min1]-&gt;freq + nodes[min2]-&gt;freq);</span><br><span class="line">        mergedNode-&gt;left = nodes[min1];</span><br><span class="line">        mergedNode-&gt;right = nodes[min2];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å·²ç»å¤„ç†è¿‡çš„èŠ‚ç‚¹ç§»è‡³åˆ—è¡¨æœ«å°¾</span></span><br><span class="line">        nodes[min1] = mergedNode;</span><br><span class="line">        nodes[min2] = nodes[size - <span class="number">1</span>];</span><br><span class="line">        size--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºå“ˆå¤«æ›¼æ ‘å¹¶è¿”å›</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HuffmanTree</span>* <span class="title">tree</span> =</span> (<span class="keyword">struct</span> HuffmanTree*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> HuffmanTree));</span><br><span class="line">    tree-&gt;root = nodes[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å°å“ˆå¤«æ›¼ç¼–ç </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printCodes</span><span class="params">(<span class="keyword">struct</span> Node* root, <span class="type">int</span> arr[], <span class="type">int</span> top)</span> &#123;</span><br><span class="line">    <span class="comment">// è¾¾åˆ°å¶å­èŠ‚ç‚¹åæ‰“å°ç¼–ç </span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;left) &#123;</span><br><span class="line">        arr[top] = <span class="number">0</span>;</span><br><span class="line">        printCodes(root-&gt;left, arr, top + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;right) &#123;</span><br><span class="line">        arr[top] = <span class="number">1</span>;</span><br><span class="line">        printCodes(root-&gt;right, arr, top + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!(root-&gt;left) &amp;&amp; !(root-&gt;right)) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c: &quot;</span>, root-&gt;letter);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; top; ++i) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥å­—ç¬¦çš„ä¸ªæ•°: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> letters[MAX_NODES];</span><br><span class="line">    <span class="type">int</span> freqs[MAX_NODES];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥å­—ç¬¦å’Œé¢‘ç‡:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot; %c %d&quot;</span>, &amp;letters[i], &amp;freqs[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HuffmanTree</span>* <span class="title">tree</span> =</span> buildHuffmanTree(letters, freqs, n);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> codes[MAX_NODES], top = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Huffman Codes:\n&quot;</span>);</span><br><span class="line">    printCodes(tree-&gt;root, codes, top);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€</p><p>è¿è¡Œç»“æœæ¼”ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/north_img/img/image-20231120233318-r9z7o78.png" alt="image">â€‹</p><h2 id="ç¬¬äºŒé¢˜">ç¬¬äºŒé¢˜</h2><p>â€</p><blockquote><p>ç”¨è¿é€šç½‘ä¸­çš„é¡¶ç‚¹è¡¨ç¤ºåŸå¸‚ï¼Œè¾¹ä¸Šçš„æƒå€¼è¡¨ç¤ºåœ¨è¿™ä¸¤ä¸ªä¸¤ä¸ªåŸå¸‚å»ºç«‹é€šä¿¡æ‰€èŠ±è´¹çš„ä»£ä»·ã€‚æ±‚è¦è¿é€šæ‰€æœ‰çš„åŸå¸‚æ‰€èŠ±è´¹çš„æœ€å°ä»£ä»·ï¼Œè¦æ±‚æ„é€ æœ€å°ç”Ÿæˆæ ‘ã€‚</p></blockquote><p>â€</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_VERTICES 20</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> graph[MAX_VERTICES][MAX_VERTICES];</span><br><span class="line"><span class="type">int</span> numVertices;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">minKey</span><span class="params">(<span class="type">int</span> key[], <span class="type">bool</span> mstSet[])</span> &#123;</span><br><span class="line">    <span class="type">int</span> min = INT_MAX, min_index;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> v = <span class="number">0</span>; v &lt; numVertices; v++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mstSet[v] == <span class="literal">false</span> &amp;&amp; key[v] &lt; min) &#123;</span><br><span class="line">            min = key[v];</span><br><span class="line">            min_index = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> min_index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printMST</span><span class="params">(<span class="type">int</span> parent[])</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Edge \tWeight\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; numVertices; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d - %d \t%d \n&quot;</span>, parent[i], i, graph[i][parent[i]]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">primMST</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> parent[MAX_VERTICES];</span><br><span class="line">    <span class="type">int</span> key[MAX_VERTICES];</span><br><span class="line">    <span class="type">bool</span> mstSet[MAX_VERTICES];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numVertices; i++) &#123;</span><br><span class="line">        key[i] = INT_MAX;</span><br><span class="line">        mstSet[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    key[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    parent[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> count = <span class="number">0</span>; count &lt; numVertices - <span class="number">1</span>; count++) &#123;</span><br><span class="line">        <span class="type">int</span> u = minKey(key, mstSet);</span><br><span class="line">        mstSet[u] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> v = <span class="number">0</span>; v &lt; numVertices; v++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (graph[u][v] &amp;&amp; mstSet[v] == <span class="literal">false</span> &amp;&amp; graph[u][v] &lt; key[v]) &#123;</span><br><span class="line">                parent[v] = u;</span><br><span class="line">                key[v] = graph[u][v];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printMST(parent);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥åŸå¸‚çš„ä¸ªæ•°: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;numVertices);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥åŸå¸‚çš„æˆæœ¬çŸ©é˜µ:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numVertices; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; numVertices; j++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;graph[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;æœ€å°ç”Ÿæˆçš„æ ‘ä¸º:\n&quot;</span>);</span><br><span class="line">    primMST();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœæ¼”ç¤º</p><p><img src="https://cdn.jsdelivr.net/gh/NorthPoet/north_img/img/image-20231120234753-vyoc9cw.png" alt="image">â€‹</p><p>â€</p><p>â€</p><p>â€</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ä½œä¸š </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
